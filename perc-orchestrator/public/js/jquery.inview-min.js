(function(c){var l={},b,m,e=document,j=window,i=e.documentElement,k=c.expando,a;c.event.special.inview={add:function(d){l[d.guid+"-"+this[k]]={data:d,$element:c(this)};if(!a&&!c.isEmptyObject(l)){a=setInterval(g,250)}},remove:function(d){try{delete l[d.guid+"-"+this[k]]}catch(n){}if(c.isEmptyObject(l)){clearInterval(a);a=null}}};function h(){var o,d,n={height:j.innerHeight,width:j.innerWidth};if(!n.height){o=e.compatMode;if(o||!c.support.boxModel){d=o==="CSS1Compat"?i:e.body;n={height:d.clientHeight,width:d.clientWidth}}}return n}function f(){return{top:j.pageYOffset||i.scrollTop||e.body.scrollTop,left:j.pageXOffset||i.scrollLeft||e.body.scrollLeft}}function g(){var p=c(),o,n=0;c.each(l,function(z,y){var w=y.data.selector,x=y.$element;p=p.add(w?x.find(w):x)});o=p.length;if(o){b=b||h();m=m||f();for(;n<o;n++){if(!c.contains(i,p[n])){continue}var u=c(p[n]),v={height:u.height(),width:u.width()},d=u.offset(),q=u.data("inview"),s,r,t;if(!m||!b){return}if(d.top+v.height>m.top&&d.top<m.top+b.height&&d.left+v.width>m.left&&d.left<m.left+b.width){s=(m.left>d.left?"right":(m.left+b.width)<(d.left+v.width)?"left":"both");r=(m.top>d.top?"bottom":(m.top+b.height)<(d.top+v.height)?"top":"both");t=s+"-"+r;if(!q||q!==t){u.data("inview",t).trigger("inview",[true,s,r])}}else{if(q){u.data("inview",false).trigger("inview",[false])}}}}}c(j).bind("scroll resize scrollstop",function(){b=m=null});if(!i.addEventListener&&i.attachEvent){i.attachEvent("onfocusin",function(){m=null})}})(jQuery);