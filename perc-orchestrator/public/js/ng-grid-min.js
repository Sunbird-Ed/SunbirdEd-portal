(function(m,g){var E=6;var t=4;var y="asc";var d="desc";var s="_ng_field_";var r="_ng_depth_";var c="_ng_hidden_";var n="_ng_column_";var e=/CUSTOM_FILTERS/g;var p=/COL_FIELD/g;var q=/DISPLAY_CELL_TEMPLATE/g;var k=/EDITABLE_CELL_TEMPLATE/g;var C=/CELL_EDITABLE_CONDITION/g;var w=/<.+>/;m.ngGrid={};m.ngGrid.i18n={};var B=angular.module("ngGrid.services",[]);var b=angular.module("ngGrid.directives",[]);var v=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var u=function(V,O,T,H){if(V.selectionProvider.selectedItems===undefined){return true}var L=T.which||T.keyCode,J,N=false,R=false,Q=V.selectionProvider.lastClickedRow===undefined?1:V.selectionProvider.lastClickedRow.rowIndex,W=V.columns.filter(function(ab){return ab.visible}),P=V.columns.filter(function(ab){return ab.pinned});if(V.col){J=W.indexOf(V.col)}if(L!==37&&L!==38&&L!==39&&L!==40&&(H.config.noTabInterference||L!==9)&&L!==13){return true}if(V.enableCellSelection){if(L===9){T.preventDefault()}var Y=V.showSelectionCheckbox?V.col.index===1:V.col.index===0;var Z=V.$index===1||V.$index===0;var aa=V.$index===(V.renderedColumns.length-1)||V.$index===(V.renderedColumns.length-2);var X=W.indexOf(V.col)===(W.length-1);var I=P.indexOf(V.col)===(P.length-1);if(L===37||L===9&&T.shiftKey){var K=0;if(!Y){J-=1}if(Z){if(Y&&L===9&&T.shiftKey){K=H.$canvas.width();J=W.length-1;R=true}else{K=H.$viewport.scrollLeft()-V.col.width}}else{if(P.length>0){K=H.$viewport.scrollLeft()-W[J].width}}H.$viewport.scrollLeft(K)}else{if(L===39||L===9&&!T.shiftKey){if(aa){if(X&&L===9&&!T.shiftKey){H.$viewport.scrollLeft(0);J=V.showSelectionCheckbox?1:0;N=true}else{H.$viewport.scrollLeft(H.$viewport.scrollLeft()+V.col.width)}}else{if(I){H.$viewport.scrollLeft(0)}}if(!X){J+=1}}}}var U;if(V.configGroups.length>0){U=H.rowFactory.parsedData.filter(function(ab){return !ab.isAggRow})}else{U=H.filteredRows}var M=0;if(Q!==0&&(L===38||L===13&&T.shiftKey||L===9&&T.shiftKey&&R)){M=-1}else{if(Q!==U.length-1&&(L===40||L===13&&!T.shiftKey||L===9&&N)){M=1}}if(M){var S=U[Q+M];if(S.beforeSelectionChange(S,T)){S.continueSelection(T);V.$emit("ngGridEventDigestGridParent");if(V.selectionProvider.lastClickedRow.renderedRowIndex>=V.renderedRows.length-E-2){H.$viewport.scrollTop(H.$viewport.scrollTop()+V.rowHeight)}else{if(V.selectionProvider.lastClickedRow.renderedRowIndex<=E+2){H.$viewport.scrollTop(H.$viewport.scrollTop()-V.rowHeight)}}}}if(V.enableCellSelection){setTimeout(function(){V.domAccessProvider.focusCellElement(V,V.renderedColumns.indexOf(W[J]))},3)}return false};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(I){var H=this.length>>>0;var J=Number(arguments[1])||0;J=(J<0)?Math.ceil(J):Math.floor(J);if(J<0){J+=H}for(;J<H;J++){if(J in this&&this[J]===I){return J}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(I){var M=Object(this);var H=M.length>>>0;if(typeof I!=="function"){throw new TypeError()}var L=[];var K=arguments[1];for(var J=0;J<H;J++){if(J in M){var N=M[J];if(I.call(K,N,J,M)){L.push(N)}}}return L}}v.filter("checkmark",function(){return function(H){return H?"\u2714":"\u2718"}});v.filter("ngColumns",function(){return function(H){return H.filter(function(I){return !I.isAggCol})}});angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(L,K){var H={};var J={};var I=function(){var M=g("<div></div>");M.appendTo("body");M.height(100).width(100).css("position","absolute").css("overflow","scroll");M.append('<div style="height: 400px; width: 400px;"></div>');H.ScrollH=(M.height()-M[0].clientHeight);H.ScrollW=(M.width()-M[0].clientWidth);M.empty();M.attr("style","");M.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>');H.LetterW=M.children().first().width();M.remove()};H.eventStorage={};H.AssignGridContainers=function(M,P,O){O.$root=g(P);O.$topPanel=O.$root.find(".ngTopPanel");O.$groupPanel=O.$root.find(".ngGroupPanel");O.$headerContainer=O.$topPanel.find(".ngHeaderContainer");M.$headerContainer=O.$headerContainer;O.$headerScroller=O.$topPanel.find(".ngHeaderScroller");O.$headers=O.$headerScroller.children();O.$viewport=O.$root.find(".ngViewport");O.$canvas=O.$viewport.find(".ngCanvas");O.$footerPanel=O.$root.find(".ngFooterPanel");var N=M.$watch(function(){return O.$viewport.scrollLeft()},function(Q){return O.$headerContainer.scrollLeft(Q)});M.$on("$destroy",function(){g(O.$root.parent()).off("resize.nggrid");O.$root=null;O.$topPanel=null;O.$headerContainer=null;O.$headers=null;O.$canvas=null;O.$footerPanel=null;N()});H.UpdateGridLayout(M,O)};H.getRealWidth=function(P){var N=0;var M={visibility:"hidden",display:"block"};var O=P.parents().andSelf().not(":visible");g.swap(O[0],M,function(){N=P.outerWidth()});return N};H.UpdateGridLayout=function(M,N){var O=N.$viewport.scrollTop();N.elementDims.rootMaxW=N.$root.width();if(N.$root.is(":hidden")){N.elementDims.rootMaxW=H.getRealWidth(N.$root)}N.elementDims.rootMaxH=N.$root.height();N.refreshDomSizes();M.adjustScrollTop(O,true)};H.numberOfGrids=0;H.setStyleText=function(O,N){var P=O.styleSheet,M=O.gridId,Q=K.document;if(!P){P=Q.getElementById(M)}if(!P){P=Q.createElement("style");P.type="text/css";P.id=M;(Q.head||Q.getElementsByTagName("head")[0]).appendChild(P)}if(P.styleSheet&&!P.sheet){P.styleSheet.cssText=N}else{P.innerHTML=N}O.styleSheet=P;O.styleText=N};H.BuildStyles=function(W,N,U){var M=N.config.rowHeight,Q=N.gridId,T,V=W.columns,P=0;var R=W.totalRowWidth();T="."+Q+" .ngCanvas { width: "+R+"px; }."+Q+" .ngRow { width: "+R+"px; }."+Q+" .ngCanvas { width: "+R+"px; }."+Q+" .ngHeaderScroller { width: "+(R+H.ScrollH)+"px}";for(var S=0;S<V.length;S++){var O=V[S];if(O.visible!==false){T+="."+Q+" .col"+S+" { width: "+O.width+"px; left: "+P+"px; height: "+M+"px }."+Q+" .colt"+S+" { width: "+O.width+"px; }";P+=O.width}}H.setStyleText(N,T);W.adjustScrollLeft(N.$viewport.scrollLeft());if(U){H.digest(W)}};H.setColLeft=function(M,Q,O){if(O.styleText){var P=J[M.index];if(!P){P=J[M.index]=new RegExp(".col"+M.index+" { width: [0-9]+px; left: [0-9]+px")}var N=O.styleText.replace(P,".col"+M.index+" { width: "+M.width+"px; left: "+Q+"px");H.setStyleText(O,N)}};H.setColLeft.immediate=1;H.RebuildGrid=function(M,N){H.UpdateGridLayout(M,N);if(N.config.maintainColumnRatios==null||N.config.maintainColumnRatios){N.configureColumnWidths()}M.adjustScrollLeft(N.$viewport.scrollLeft());H.BuildStyles(M,N,true)};H.digest=function(M){if(!M.$root.$$phase){M.$digest()}};H.ScrollH=17;H.ScrollW=17;H.LetterW=10;I();return H}]);angular.module("ngGrid.services").factory("$sortService",["$parse",function(H){var I={};I.colSortFnCache={};I.isCustomSort=false;I.guessSortFn=function(J){var K=typeof(J);switch(K){case"number":return I.sortNumber;case"boolean":return I.sortBool;case"string":return J.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?I.sortNumberStr:I.sortAlpha;default:if(Object.prototype.toString.call(J)==="[object Date]"){return I.sortDate}else{return I.basicSort}}};I.basicSort=function(K,J){if(K===J){return 0}if(K<J){return -1}return 1};I.sortNumber=function(K,J){return K-J};I.sortNumberStr=function(L,J){var O,N,M=false,K=false;O=parseFloat(L.replace(/[^0-9.-]/g,""));if(isNaN(O)){M=true}N=parseFloat(J.replace(/[^0-9.-]/g,""));if(isNaN(N)){K=true}if(M&&K){return 0}if(M){return 1}if(K){return -1}return O-N};I.sortAlpha=function(L,J){var M=L.toLowerCase(),K=J.toLowerCase();return M===K?0:(M<K?-1:1)};I.sortDate=function(K,J){var M=K.getTime(),L=J.getTime();return M===L?0:(M<L?-1:1)};I.sortBool=function(K,J){if(K&&J){return 0}if(!K&&!J){return 0}else{return K?1:-1}};I.sortData=function(L,N){if(!N||!L){return}var K=L.fields.length,J=L.fields,M,O,P=N.slice(0);N.sort(function(W,V){var R=0,T=0,S,U;while(R===0&&T<K){M=L.columns[T];O=L.directions[T];U=I.getSortFn(M,P);var Q=H(J[T])(W);var X=H(J[T])(V);if(I.isCustomSort){S=U(Q,X);R=O===y?S:0-S}else{if((!Q&&Q!==0)||(!X&&X!==0)){if(!X&&!Q){R=0}else{if(!Q){R=1}else{if(!X){R=-1}}}}else{S=U(Q,X);R=O===y?S:0-S}}T++}return R})};I.Sort=function(J,K){if(I.isSorting){return}I.isSorting=true;I.sortData(J,K);I.isSorting=false};I.getSortFn=function(J,M){var L,K;if(I.colSortFnCache[J.field]){L=I.colSortFnCache[J.field]}else{if(J.sortingAlgorithm!==undefined){L=J.sortingAlgorithm;I.colSortFnCache[J.field]=J.sortingAlgorithm;I.isCustomSort=true}else{K=M[0];if(!K){return L}L=I.guessSortFn(H(J.field)(K));if(L){I.colSortFnCache[J.field]=L}else{L=I.sortAlpha}}}return L};return I}]);angular.module("ngGrid.services").factory("$utilityService",["$parse",function(I){var J=/function (.{1,})\(/;var H={visualLength:function(N){var M=document.getElementById("testDataLength");if(!M){M=document.createElement("SPAN");M.id="testDataLength";M.style.visibility="hidden";document.body.appendChild(M)}var K=g(N);g(M).css({font:K.css("font"),"font-size":K.css("font-size"),"font-family":K.css("font-family")});M.innerHTML=K.text();var L=M.offsetWidth;document.body.removeChild(M);return L},forIn:function(L,K){for(var M in L){if(L.hasOwnProperty(M)){K(L[M],M)}}},evalProperty:function(K,L){return I("entity."+L)({entity:K})},endsWith:function(L,K){if(!L||!K||typeof L!=="string"){return false}return L.indexOf(K,L.length-K.length)!==-1},isNullOrUndefined:function(K){if(K===undefined||K===null){return true}return false},getElementsByClassName:function(L){if(document.getElementsByClassName){return document.getElementsByClassName(L)}else{var K=[];var P=new RegExp("\\b"+L+"\\b");var O=document.getElementsByTagName("*");for(var N=0;N<O.length;N++){var M=O[N].className;if(P.test(M)){K.push(O[N])}}return K}},newId:(function(){var K=new Date().getTime();return function(){return K+=1}})(),seti18n:function(K,N){var M=m.ngGrid.i18n[N];for(var L in M){K.i18n[L]=M[L]}},getInstanceType:function(M){var L=(J).exec(M.constructor.toString());if(L&&L.length>1){var K=L[1].replace(/^\s+|\s+$/g,"");return K}else{return""}}};return H}]);var G=function(K,I,J,H){this.rowIndex=0;this.offsetTop=this.rowIndex*J;this.entity=K;this.label=K.gLabel;this.field=K.gField;this.depth=K.gDepth;this.parent=K.parent;this.children=K.children;this.aggChildren=K.aggChildren;this.aggIndex=K.aggIndex;this.collapsed=H;this.groupInitState=H;this.rowFactory=I;this.rowHeight=J;this.isAggRow=true;this.offsetLeft=K.gDepth*25;this.aggLabelFilter=K.aggLabelFilter};G.prototype.toggleExpand=function(){this.collapsed=this.collapsed?false:true;if(this.orig){this.orig.collapsed=this.collapsed}this.notifyChildren()};G.prototype.setExpand=function(H){this.collapsed=H;this.notifyChildren()};G.prototype.notifyChildren=function(){var J=Math.max(this.rowFactory.aggCache.length,this.children.length);for(var I=0;I<J;I++){if(this.aggChildren[I]){this.aggChildren[I].entity[c]=this.collapsed;if(this.collapsed){this.aggChildren[I].setExpand(this.collapsed)}}if(this.children[I]){this.children[I][c]=this.collapsed}if(I>this.aggIndex&&this.rowFactory.aggCache[I]){var H=this.rowFactory.aggCache[I];var K=(30*this.children.length);H.offsetTop=this.collapsed?H.offsetTop-K:H.offsetTop+K}}this.rowFactory.renderedChange()};G.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"};G.prototype.totalChildren=function(){if(this.aggChildren.length>0){var H=0;var I=function(J){if(J.aggChildren.length>0){angular.forEach(J.aggChildren,function(K){I(K)})}else{H+=J.children.length}};I(this);return H}else{return this.children.length}};G.prototype.copy=function(){var H=new G(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);H.orig=this;return H};var F=function(J,Q,H,M,K,N){var R=this,O=J.colDef,L=500,P=0,I=null;R.colDef=J.colDef;R.width=O.width;R.groupIndex=0;R.isGroupedBy=false;R.minWidth=!O.minWidth?50:O.minWidth;R.maxWidth=!O.maxWidth?9000:O.maxWidth;R.enableCellEdit=O.enableCellEdit!==undefined?O.enableCellEdit:(J.enableCellEdit||J.enableCellEditOnFocus);R.cellEditableCondition=O.cellEditableCondition||J.cellEditableCondition||"true";R.headerRowHeight=J.headerRowHeight;R.displayName=(O.displayName===undefined)?O.field:O.displayName;R.index=J.index;R.isAggCol=J.isAggCol;R.cellClass=O.cellClass;R.sortPriority=undefined;R.cellFilter=O.cellFilter?O.cellFilter:"";R.field=O.field;R.aggLabelFilter=O.aggLabelFilter||O.cellFilter;R.visible=N.isNullOrUndefined(O.visible)||O.visible;R.sortable=false;R.resizable=false;R.pinnable=false;R.pinned=(J.enablePinning&&O.pinned);R.originalIndex=J.originalIndex==null?R.index:J.originalIndex;R.groupable=N.isNullOrUndefined(O.groupable)||O.groupable;if(J.enableSort){R.sortable=N.isNullOrUndefined(O.sortable)||O.sortable}if(J.enableResize){R.resizable=N.isNullOrUndefined(O.resizable)||O.resizable}if(J.enablePinning){R.pinnable=N.isNullOrUndefined(O.pinnable)||O.pinnable}R.sortDirection=undefined;R.sortingAlgorithm=O.sortFn;R.headerClass=O.headerClass;R.cursor=R.sortable?"pointer":"default";R.headerCellTemplate=O.headerCellTemplate||K.get("headerCellTemplate.html");R.cellTemplate=O.cellTemplate||K.get("cellTemplate.html").replace(e,R.cellFilter?"|"+R.cellFilter:"");if(R.enableCellEdit){R.cellEditTemplate=O.cellEditTemplate||K.get("cellEditTemplate.html");R.editableCellTemplate=O.editableCellTemplate||K.get("editableCellTemplate.html")}if(O.cellTemplate&&!w.test(O.cellTemplate)){R.cellTemplate=K.get(O.cellTemplate)||g.ajax({type:"GET",url:O.cellTemplate,async:false}).responseText}if(R.enableCellEdit&&O.editableCellTemplate&&!w.test(O.editableCellTemplate)){R.editableCellTemplate=K.get(O.editableCellTemplate)||g.ajax({type:"GET",url:O.editableCellTemplate,async:false}).responseText}if(O.headerCellTemplate&&!w.test(O.headerCellTemplate)){R.headerCellTemplate=K.get(O.headerCellTemplate)||g.ajax({type:"GET",url:O.headerCellTemplate,async:false}).responseText}R.colIndex=function(){var S=R.pinned?"pinned ":"";S+="col"+R.index+" colt"+R.index;if(R.cellClass){S+=" "+R.cellClass}return S};R.groupedByClass=function(){return R.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"};R.toggleVisible=function(){R.visible=!R.visible};R.showSortButtonUp=function(){return R.sortable?R.sortDirection===d:R.sortable};R.showSortButtonDown=function(){return R.sortable?R.sortDirection===y:R.sortable};R.noSortVisible=function(){return !R.sortDirection};R.sort=function(S){if(!R.sortable){return true}var T=R.sortDirection===y?d:y;R.sortDirection=T;J.sortCallback(R,S);return false};R.gripClick=function(){P++;if(P===1){I=setTimeout(function(){P=0},L)}else{clearTimeout(I);J.resizeOnDataCallback(R);P=0}};R.gripOnMouseDown=function(S){Q.isColumnResizing=true;if(S.ctrlKey&&!R.pinned){R.toggleVisible();M.BuildStyles(Q,H);return true}S.target.parentElement.style.cursor="col-resize";R.startMousePosition=S.clientX;R.origWidth=R.width;g(document).mousemove(R.onMouseMove);g(document).mouseup(R.gripOnMouseUp);return false};R.onMouseMove=function(T){var U=T.clientX-R.startMousePosition;var S=U+R.origWidth;R.width=(S<R.minWidth?R.minWidth:(S>R.maxWidth?R.maxWidth:S));Q.hasUserChangedGridColumnWidths=true;M.BuildStyles(Q,H);return false};R.gripOnMouseUp=function(S){g(document).off("mousemove",R.onMouseMove);g(document).off("mouseup",R.gripOnMouseUp);S.target.parentElement.style.cursor="default";M.digest(Q);Q.isColumnResizing=false;return false};R.copy=function(){var S=new F(J,Q,H,M,K,N);S.isClone=true;S.orig=R;return S};R.setVars=function(S){R.orig=S;R.width=S.width;R.groupIndex=S.groupIndex;R.isGroupedBy=S.isGroupedBy;R.displayName=S.displayName;R.index=S.index;R.isAggCol=S.isAggCol;R.cellClass=S.cellClass;R.cellFilter=S.cellFilter;R.field=S.field;R.aggLabelFilter=S.aggLabelFilter;R.visible=S.visible;R.sortable=S.sortable;R.resizable=S.resizable;R.pinnable=S.pinnable;R.pinned=S.pinned;R.originalIndex=S.originalIndex;R.sortDirection=S.sortDirection;R.sortingAlgorithm=S.sortingAlgorithm;R.headerClass=S.headerClass;R.headerCellTemplate=S.headerCellTemplate;R.cellTemplate=S.cellTemplate;R.cellEditTemplate=S.cellEditTemplate}};var h=function(H){this.outerHeight=null;this.outerWidth=null;g.extend(this,H)};var a=function(H){this.previousColumn=null;this.grid=H};a.prototype.changeUserSelect=function(I,H){I.css({"-webkit-touch-callout":H,"-webkit-user-select":H,"-khtml-user-select":H,"-moz-user-select":H==="none"?"-moz-none":H,"-ms-user-select":H,"user-select":H})};a.prototype.focusCellElement=function(H,I){if(H.selectionProvider.lastClickedRow){var L=I!==undefined?I:this.previousColumn;var M=H.selectionProvider.lastClickedRow.clone?H.selectionProvider.lastClickedRow.clone.elm:H.selectionProvider.lastClickedRow.elm;if(L!==undefined&&M){var K=angular.element(M[0].children).filter(function(){return this.nodeType!==8});var J=Math.max(Math.min(H.renderedColumns.length-1,L),0);if(this.grid.config.showSelectionCheckbox&&angular.element(K[J]).scope()&&angular.element(K[J]).scope().col.index===0){J=1}if(K[J]){K[J].children[1].children[0].focus()}this.previousColumn=L}}};a.prototype.selectionHandlers=function(I,M){var J=false;var H=this;function K(N){if(N.keyCode===16){H.changeUserSelect(M,"none",N);return true}else{if(!J){J=true;var O=u(I,M,N,H.grid);J=false;return O}}return true}M.bind("keydown",K);function L(N){if(N.keyCode===16){H.changeUserSelect(M,"text",N)}return true}M.bind("keyup",L);M.on("$destroy",function(){M.off("keydown",K);M.off("keyup",L)})};var x=function(L,J,I,K){var H=this;H.colToMove=undefined;H.groupToMove=undefined;H.assignEvents=function(){if(L.config.jqueryUIDraggable&&!L.config.enablePinning){L.$groupPanel.droppable({addClasses:false,drop:function(M){H.onGroupDrop(M)}});L.$groupPanel.on("$destroy",function(){L.$groupPanel=null})}else{L.$groupPanel.on("mousedown",H.onGroupMouseDown).on("dragover",H.dragOver).on("drop",H.onGroupDrop);L.$topPanel.on("mousedown",".ngHeaderScroller",H.onHeaderMouseDown).on("dragover",".ngHeaderScroller",H.dragOver);L.$groupPanel.on("$destroy",function(){if(L.$groupPanel==null){return}L.$groupPanel.off("mousedown");L.$groupPanel=null});if(L.config.enableColumnReordering){L.$topPanel.on("drop",".ngHeaderScroller",H.onHeaderDrop)}L.$topPanel.on("$destroy",function(){if(L.$topPanel==null){return}L.$topPanel.off("mousedown");if(L.config.enableColumnReordering){L.$topPanel.off("drop")}L.$topPanel=null})}J.$on("$destroy",J.$watch("renderedColumns",function(){K(H.setDraggables)}))};H.dragStart=function(M){M.dataTransfer.setData("text","")};H.dragOver=function(M){M.preventDefault()};H.setDraggables=function(){if(!L.config.jqueryUIDraggable){var M=L.$root.find(".ngHeaderSortColumn");angular.forEach(M,function(O){if(O.className&&O.className.indexOf("ngHeaderSortColumn")!==-1){O.setAttribute("draggable","true");if(O.addEventListener){O.addEventListener("dragstart",H.dragStart);angular.element(O).on("$destroy",function(){angular.element(O).off("dragstart",H.dragStart);O.removeEventListener("dragstart",H.dragStart)})}}});if(navigator.userAgent.indexOf("MSIE")!==-1){var N=L.$root.find(".ngHeaderSortColumn");N.bind("selectstart",function(){this.dragDrop();return false});angular.element(N).on("$destroy",function(){N.off("selectstart")})}}else{if(L.$root){L.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:false,start:function(O){H.onHeaderMouseDown(O)}}).droppable({drop:function(O){H.onHeaderDrop(O)}})}}};H.onGroupMouseDown=function(O){var M=g(O.target);if(M[0].className!=="ngRemoveGroup"){var N=angular.element(M).scope();if(N){if(!L.config.jqueryUIDraggable){M.attr("draggable","true");if(this.addEventListener){this.addEventListener("dragstart",H.dragStart);angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",H.dragStart)})}if(navigator.userAgent.indexOf("MSIE")!==-1){M.bind("selectstart",function(){this.dragDrop();return false});M.on("$destroy",function(){M.off("selectstart")})}}H.groupToMove={header:M,groupName:N.group,index:N.$index}}}else{H.groupToMove=undefined}};H.onGroupDrop=function(M){M.stopPropagation();var N;var O;if(H.groupToMove){N=g(M.target).closest(".ngGroupElement");if(N.context.className==="ngGroupPanel"){J.configGroups.splice(H.groupToMove.index,1);J.configGroups.push(H.groupToMove.groupName)}else{O=angular.element(N).scope();if(O){if(H.groupToMove.index!==O.$index){J.configGroups.splice(H.groupToMove.index,1);J.configGroups.splice(O.$index,0,H.groupToMove.groupName)}}}H.groupToMove=undefined;L.fixGroupIndexes()}else{if(H.colToMove){if(J.configGroups.indexOf(H.colToMove.col)===-1){N=g(M.target).closest(".ngGroupElement");if(N.context.className==="ngGroupPanel"||N.context.className==="ngGroupPanelDescription ng-binding"){J.groupBy(H.colToMove.col)}else{O=angular.element(N).scope();if(O){J.removeGroup(O.$index)}}}H.colToMove=undefined}}if(!J.$$phase){J.$apply()}};H.onHeaderMouseDown=function(O){var N=g(O.target).closest(".ngHeaderSortColumn");var M=angular.element(N).scope();if(M){H.colToMove={header:N,col:M.col}}};H.onHeaderDrop=function(O){if(!H.colToMove||H.colToMove.col.pinned){return}var N=g(O.target).closest(".ngHeaderSortColumn");var M=angular.element(N).scope();if(M){if(H.colToMove.col===M.col||M.col.pinned){return}J.columns.splice(H.colToMove.col.index,1);J.columns.splice(M.col.index,0,H.colToMove.col);L.fixColumnIndexes();H.colToMove=undefined;I.digest(J)}};H.assignGridEventHandlers=function(){if(L.config.tabIndex===-1){L.$viewport.attr("tabIndex",I.numberOfGrids);I.numberOfGrids++}else{L.$viewport.attr("tabIndex",L.config.tabIndex)}var M;var N=function(){clearTimeout(M);M=setTimeout(function(){I.RebuildGrid(J,L)},100)};g(m).on("resize.nggrid",N);var O;var P=function(){clearTimeout(O);O=setTimeout(function(){I.RebuildGrid(J,L)},100)};g(L.$root.parent()).on("resize.nggrid",P);J.$on("$destroy",function(){g(m).off("resize.nggrid",N)})};H.assignGridEventHandlers();H.assignEvents()};var j=function(H,I){H.maxRows=function(){var J=Math.max(H.totalServerItems,I.data.length);return J};H.$on("$destroy",H.$watch("totalServerItems",function(K,J){H.currentMaxPages=H.maxPages()}));H.multiSelect=(I.config.enableRowSelection&&I.config.multiSelect);H.selectedItemCount=I.selectedItemCount;H.maxPages=function(){if(H.maxRows()===0){return 1}return Math.ceil(H.maxRows()/H.pagingOptions.pageSize)};H.pageForward=function(){var J=H.pagingOptions.currentPage;if(H.totalServerItems>0){H.pagingOptions.currentPage=Math.min(J+1,H.maxPages())}else{H.pagingOptions.currentPage++}};H.pageBackward=function(){var J=H.pagingOptions.currentPage;H.pagingOptions.currentPage=Math.max(J-1,1)};H.pageToFirst=function(){H.pagingOptions.currentPage=1};H.pageToLast=function(){var J=H.maxPages();H.pagingOptions.currentPage=J};H.cantPageForward=function(){var K=H.pagingOptions.currentPage;var J=H.maxPages();if(H.totalServerItems>0){return K>=J}else{return I.data.length<1}};H.cantPageToLast=function(){if(H.totalServerItems>0){return H.cantPageForward()}else{return true}};H.cantPageBackward=function(){var J=H.pagingOptions.currentPage;return J<=1}};var i=function(R,T,K,P,N,I,Q,H,J,O,M){var L={aggregateTemplate:undefined,afterSelectionChange:function(){},beforeSelectionChange:function(){return true},checkboxCellTemplate:undefined,checkboxHeaderTemplate:undefined,columnDefs:undefined,data:[],dataUpdated:function(){},enableCellEdit:false,enableCellEditOnFocus:false,enableCellSelection:false,enableColumnResize:false,enableColumnReordering:false,enableColumnHeavyVirt:false,enablePaging:false,enablePinning:false,enableRowSelection:true,enableSorting:true,enableHighlighting:false,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:false},footerRowHeight:70,footerTemplate:undefined,forceSyncScrolling:true,groups:[],groupsCollapsedByDefault:true,headerRowHeight:30,headerRowTemplate:undefined,jqueryUIDraggable:false,jqueryUITheme:false,keepLastSelected:true,maintainColumnRatios:undefined,menuTemplate:undefined,multiSelect:true,pagingOptions:{pageSizes:[250,500,1000],pageSize:250,currentPage:1},pinSelectionCheckbox:false,plugins:[],primaryKey:undefined,rowHeight:30,rowTemplate:undefined,selectedItems:[],selectWithCheckboxOnly:false,showColumnMenu:false,showFilter:false,showFooter:false,showGroupPanel:false,showSelectionCheckbox:false,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:false,i18n:"en",virtualizationThreshold:50,noTabInterference:false},S=this;S.maxCanvasHt=0;S.config=g.extend(L,m.ngGrid.config,T);S.config.showSelectionCheckbox=(S.config.showSelectionCheckbox&&S.config.enableColumnHeavyVirt===false);S.config.enablePinning=(S.config.enablePinning&&S.config.enableColumnHeavyVirt===false);S.config.selectWithCheckboxOnly=(S.config.selectWithCheckboxOnly&&S.config.showSelectionCheckbox!==false);S.config.pinSelectionCheckbox=S.config.enablePinning;if(typeof T.columnDefs==="string"){S.config.columnDefs=R.$eval(T.columnDefs)}S.rowCache=[];S.rowMap=[];S.gridId="ng"+Q.newId();S.$root=null;S.$groupPanel=null;S.$topPanel=null;S.$headerContainer=null;S.$headerScroller=null;S.$headers=null;S.$viewport=null;S.$canvas=null;S.rootDim=S.config.gridDim;S.data=[];S.lateBindColumns=false;S.filteredRows=[];S.initTemplates=function(){var V=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"];var U=[];angular.forEach(V,function(W){U.push(S.getTemplate(W))});return M.all(U)};S.getTemplate=function(W){var V=S.config[W];var U=S.gridId+W+".html";var Y=M.defer();if(V&&!w.test(V)){O.get(V,{cache:I}).success(function(Z){I.put(U,Z);Y.resolve()}).error(function(Z){Y.reject("Could not load template: "+V)})}else{if(V){I.put(U,V);Y.resolve()}else{var X=W+".html";I.put(U,I.get(X));Y.resolve()}}return Y.promise};if(typeof S.config.data==="object"){S.data=S.config.data}S.calcMaxCanvasHeight=function(){var U;if(S.config.groups.length>0){U=S.rowFactory.parsedData.filter(function(V){return !V[c]}).length*S.config.rowHeight}else{U=S.filteredRows.length*S.config.rowHeight}return U};S.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0};S.setRenderedRows=function(V){R.renderedRows.length=V.length;for(var U=0;U<V.length;U++){if(!R.renderedRows[U]||(V[U].isAggRow||R.renderedRows[U].isAggRow)){R.renderedRows[U]=V[U].copy();R.renderedRows[U].collapsed=V[U].collapsed;if(!V[U].isAggRow){R.renderedRows[U].setVars(V[U])}}else{R.renderedRows[U].setVars(V[U])}R.renderedRows[U].rowIndex=V[U].rowIndex;R.renderedRows[U].offsetTop=V[U].offsetTop;R.renderedRows[U].selected=V[U].selected;V[U].renderedRowIndex=U}S.refreshDomSizes();R.$emit("ngGridEventRows",V)};S.minRowsToRender=function(){var U=R.viewportDimHeight()||1;return Math.floor(U/S.config.rowHeight)};S.refreshDomSizes=function(){var U=new h();U.outerWidth=S.elementDims.rootMaxW;U.outerHeight=S.elementDims.rootMaxH;S.rootDim=U;S.maxCanvasHt=S.calcMaxCanvasHeight()};S.buildColumnDefsFromData=function(){S.config.columnDefs=[];var U=S.data[0];if(!U){S.lateBoundColumns=true;return}Q.forIn(U,function(W,V){if(S.config.excludeProperties.indexOf(V)===-1){S.config.columnDefs.push({field:V})}})};S.buildColumns=function(){var X=S.config.columnDefs,W=[];if(!X){S.buildColumnDefsFromData();X=S.config.columnDefs}if(S.config.showSelectionCheckbox){W.push(new F({colDef:{field:"\u2714",width:S.elementDims.rowSelectedCellW,sortable:false,resizable:false,groupable:false,headerCellTemplate:I.get(R.gridId+"checkboxHeaderTemplate.html"),cellTemplate:I.get(R.gridId+"checkboxCellTemplate.html"),pinned:S.config.pinSelectionCheckbox},index:0,headerRowHeight:S.config.headerRowHeight,sortCallback:S.sortData,resizeOnDataCallback:S.resizeOnData,enableResize:S.config.enableColumnResize,enableSort:S.config.enableSorting,enablePinning:S.config.enablePinning},R,S,P,I,Q))}if(X.length>0){var V=S.config.showSelectionCheckbox?1:0;var U=R.configGroups.length;R.configGroups.length=0;angular.forEach(X,function(ab,Y){Y+=V;var Z=new F({colDef:ab,index:Y+U,originalIndex:Y,headerRowHeight:S.config.headerRowHeight,sortCallback:S.sortData,resizeOnDataCallback:S.resizeOnData,enableResize:S.config.enableColumnResize,enableSort:S.config.enableSorting,enablePinning:S.config.enablePinning,enableCellEdit:S.config.enableCellEdit||S.config.enableCellEditOnFocus,cellEditableCondition:S.config.cellEditableCondition},R,S,P,I,Q);var aa=S.config.groups.indexOf(ab.field);if(aa!==-1){Z.isGroupedBy=true;R.configGroups.splice(aa,0,Z);Z.groupIndex=R.configGroups.length}W.push(Z)});R.columns=W;if(S.config.groups.length>0){S.rowFactory.getGrouping(S.config.groups)}}};S.configureColumnWidths=function(){var Z=[],ac=[],aa=0,Y=0;var ab={};angular.forEach(R.columns,function(ag,ae){if(!Q.isNullOrUndefined(ag.originalIndex)){var af=ag.originalIndex;if(S.config.showSelectionCheckbox){if(ag.originalIndex===0&&ag.visible){Y+=25}af--}ab[af]=ae}});angular.forEach(S.config.columnDefs,function(ah,ag){var aj=R.columns[ab[ag]];ah.index=ag;var ai=false,af;if(Q.isNullOrUndefined(ah.width)){ah.width="*"}else{ai=isNaN(ah.width)?Q.endsWith(ah.width,"%"):false;af=ai?ah.width:parseInt(ah.width,10)}if(isNaN(af)&&!R.hasUserChangedGridColumnWidths){af=ah.width;if(af==="auto"){aj.width=aj.minWidth;Y+=aj.width;var ae=aj;R.$on("$destroy",R.$on("ngGridEventData",function(){S.resizeOnData(ae)}));return}else{if(af.indexOf("*")!==-1){if(aj.visible!==false){aa+=af.length}Z.push(ah);return}else{if(ai){ac.push(ah);return}else{throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}}}}else{if(aj.visible!==false){Y+=aj.width=parseInt(aj.width,10)}}});if(ac.length>0){S.config.maintainColumnRatios=S.config.maintainColumnRatios!==false;var X=0;var ad=0;angular.forEach(ac,function(af){var ag=R.columns[ab[af.index]];var ae=parseFloat(af.width)/100;X+=ae;if(!ag.visible){ad+=ae}});var V=X-ad;angular.forEach(ac,function(ag){var ah=R.columns[ab[ag.index]];var af=parseFloat(ag.width)/100;if(ad>0){af=af/V}else{af=af/X}var ae=S.rootDim.outerWidth*X;ah.width=ae*af;Y+=ah.width})}if(Z.length>0){S.config.maintainColumnRatios=S.config.maintainColumnRatios!==false;var U=S.rootDim.outerWidth-Y;if(S.maxCanvasHt>R.viewportDimHeight()){U-=P.ScrollW}var W=Math.floor(U/aa);angular.forEach(Z,function(af,ae){var ai=R.columns[ab[af.index]];ai.width=W*af.width.length;if(ai.visible!==false){Y+=ai.width}var ag=(ae===(Z.length-1));if(ag&&Y<S.rootDim.outerWidth){var ah=S.rootDim.outerWidth-Y;if(S.maxCanvasHt>R.viewportDimHeight()){ah-=P.ScrollW}ai.width+=ah}})}};S.init=function(){return S.initTemplates().then(function(){R.selectionProvider=new l(S,R,J);R.domAccessProvider=new a(S);S.rowFactory=new D(S,R,P,I,Q);S.searchProvider=new f(R,S,N);S.styleProvider=new o(R,S);R.$on("$destroy",R.$watch("configGroups",function(U){var V=[];angular.forEach(U,function(W){V.push(W.field||W)});S.config.groups=V;S.rowFactory.filteredRowsChanged();R.$emit("ngGridEventGroups",U)},true));R.$on("$destroy",R.$watch("columns",function(U){if(!R.isColumnResizing){P.RebuildGrid(R,S)}R.$emit("ngGridEventColumns",U)},true));R.$on("$destroy",R.$watch(function(){return T.i18n},function(U){Q.seti18n(R,U)}));S.maxCanvasHt=S.calcMaxCanvasHeight();if(S.config.sortInfo.fields&&S.config.sortInfo.fields.length>0){R.$on("$destroy",R.$watch(function(){return S.config.sortInfo},function(U){if(!K.isSorting){S.sortColumnsInit();R.$emit("ngGridEventSorted",S.config.sortInfo)}},true))}})};S.resizeOnData=function(V){var W=V.minWidth;var U=Q.getElementsByClassName("col"+V.index);angular.forEach(U,function(ab,Y){var Z;if(Y===0){var aa=g(ab).find(".ngHeaderText");Z=Q.visualLength(aa)+10}else{var X=g(ab).find(".ngCellText");Z=Q.visualLength(X)+10}if(Z>W){W=Z}});V.width=V.longest=Math.min(V.maxWidth,W+7);P.BuildStyles(R,S,true)};S.lastSortedColumns=[];S.sortData=function(W,U){if(U&&U.shiftKey&&S.config.sortInfo){var Y=S.config.sortInfo.columns.indexOf(W);if(Y===-1){if(S.config.sortInfo.columns.length===1){S.config.sortInfo.columns[0].sortPriority=1}S.config.sortInfo.columns.push(W);W.sortPriority=S.config.sortInfo.columns.length;S.config.sortInfo.fields.push(W.field);S.config.sortInfo.directions.push(W.sortDirection);S.lastSortedColumns.push(W)}else{S.config.sortInfo.directions[Y]=W.sortDirection}}else{if(!S.config.useExternalSorting||(S.config.useExternalSorting&&S.config.sortInfo)){var X=g.isArray(W);S.config.sortInfo.columns.length=0;S.config.sortInfo.fields.length=0;S.config.sortInfo.directions.length=0;var V=function(Z){S.config.sortInfo.columns.push(Z);S.config.sortInfo.fields.push(Z.field);S.config.sortInfo.directions.push(Z.sortDirection);S.lastSortedColumns.push(Z)};if(X){angular.forEach(W,function(aa,Z){aa.sortPriority=Z+1;V(aa)})}else{S.clearSortingData(W);W.sortPriority=undefined;V(W)}S.sortActual();S.searchProvider.evalFilter();R.$emit("ngGridEventSorted",S.config.sortInfo)}}};S.sortColumnsInit=function(){if(S.config.sortInfo.columns){S.config.sortInfo.columns.length=0}else{S.config.sortInfo.columns=[]}var U=[];angular.forEach(R.columns,function(W){var V=S.config.sortInfo.fields.indexOf(W.field);if(V!==-1){W.sortDirection=S.config.sortInfo.directions[V]||"asc";U[V]=W}});if(U.length===1){S.sortData(U[0])}else{S.sortData(U)}};S.sortActual=function(){if(!S.config.useExternalSorting){var U=S.data.slice(0);angular.forEach(U,function(X,W){var Y=S.rowMap[W];if(Y!==undefined){var V=S.rowCache[Y];if(V!==undefined){X.preSortSelected=V.selected;X.preSortIndex=W}}});K.Sort(S.config.sortInfo,U);angular.forEach(U,function(W,V){S.rowCache[V].entity=W;S.rowCache[V].selected=W.preSortSelected;S.rowMap[W.preSortIndex]=V;delete W.preSortSelected;delete W.preSortIndex})}};S.clearSortingData=function(U){if(!U){angular.forEach(S.lastSortedColumns,function(V){V.sortDirection="";V.sortPriority=null});S.lastSortedColumns=[]}else{angular.forEach(S.lastSortedColumns,function(V){if(U.index!==V.index){V.sortDirection="";V.sortPriority=null}});S.lastSortedColumns[0]=U;S.lastSortedColumns.length=1}};S.fixColumnIndexes=function(){for(var U=0;U<R.columns.length;U++){R.columns[U].index=U}};S.fixGroupIndexes=function(){angular.forEach(R.configGroups,function(V,U){V.groupIndex=U+1})};R.elementsNeedMeasuring=true;R.columns=[];R.renderedRows=[];R.renderedColumns=[];R.headerRow=null;R.rowHeight=S.config.rowHeight;R.jqueryUITheme=S.config.jqueryUITheme;R.showSelectionCheckbox=S.config.showSelectionCheckbox;R.enableCellSelection=S.config.enableCellSelection;R.enableCellEditOnFocus=S.config.enableCellEditOnFocus;R.footer=null;R.selectedItems=S.config.selectedItems;R.multiSelect=S.config.multiSelect;R.showFooter=S.config.showFooter;R.footerRowHeight=R.showFooter?S.config.footerRowHeight:0;R.showColumnMenu=S.config.showColumnMenu;R.forceSyncScrolling=S.config.forceSyncScrolling;R.showMenu=false;R.configGroups=[];R.gridId=S.gridId;R.enablePaging=S.config.enablePaging;R.pagingOptions=S.config.pagingOptions;R.i18n={};Q.seti18n(R,S.config.i18n);R.adjustScrollLeft=function(Z){var af=0,V=0,ac=R.columns.length,aa=[],W=!S.config.enableColumnHeavyVirt;var U=0;var Y=function(ag){if(W){aa.push(ag)}else{if(!R.renderedColumns[U]){R.renderedColumns[U]=ag.copy()}else{R.renderedColumns[U].setVars(ag)}}U++};for(var ab=0;ab<ac;ab++){var X=R.columns[ab];if(X.visible!==false){var ae=X.width+af;if(X.pinned){Y(X);var ad=ab>0?(Z+V):Z;P.setColLeft(X,ad,S);V+=X.width}else{if(ae>=Z){if(af<=Z+S.rootDim.outerWidth){Y(X)}}}af+=X.width}}if(W){R.renderedColumns=aa}};S.prevScrollTop=0;S.prevScrollIndex=0;R.adjustScrollTop=function(X,W){if(S.prevScrollTop===X&&!W){return}if(X>0&&S.$viewport[0].scrollHeight-X<=S.$viewport.outerHeight()){R.$emit("ngGridEventScroll")}var Y=Math.floor(X/S.config.rowHeight);var V;if(S.filteredRows.length>S.config.virtualizationThreshold){if(S.prevScrollTop<X&&Y<S.prevScrollIndex+t){return}if(S.prevScrollTop>X&&Y>S.prevScrollIndex-t){return}V=new A(Math.max(0,Y-E),Y+S.minRowsToRender()+E)}else{var U=R.configGroups.length>0?S.rowFactory.parsedData.length:S.filteredRows.length;V=new A(0,Math.max(U,S.minRowsToRender()+E))}S.prevScrollTop=X;S.rowFactory.UpdateViewableRange(V);S.prevScrollIndex=Y};R.toggleShowMenu=function(){R.showMenu=!R.showMenu};R.toggleSelectAll=function(V,U){R.selectionProvider.toggleSelectAll(V,false,U)};R.totalFilteredItemsLength=function(){return S.filteredRows.length};R.showGroupPanel=function(){return S.config.showGroupPanel};R.topPanelHeight=function(){return S.config.showGroupPanel===true?S.config.headerRowHeight+32:S.config.headerRowHeight};R.viewportDimHeight=function(){return Math.max(0,S.rootDim.outerHeight-R.topPanelHeight()-R.footerRowHeight-2)};R.groupBy=function(U){if(S.data.length<1||!U.groupable||!U.field){return}if(!U.sortDirection){U.sort({shiftKey:R.configGroups.length>0?true:false})}var V=R.configGroups.indexOf(U);if(V===-1){U.isGroupedBy=true;R.configGroups.push(U);U.groupIndex=R.configGroups.length}else{R.removeGroup(V)}S.$viewport.scrollTop(0);P.digest(R)};R.removeGroup=function(V){var U=R.columns.filter(function(W){return W.groupIndex===(V+1)})[0];U.isGroupedBy=false;U.groupIndex=0;if(R.columns[V].isAggCol){R.columns.splice(V,1);R.configGroups.splice(V,1);S.fixGroupIndexes()}if(R.configGroups.length===0){S.fixColumnIndexes();P.digest(R)}R.adjustScrollLeft(0)};R.togglePin=function(U){var W=U.index;var X=0;for(var V=0;V<R.columns.length;V++){if(!R.columns[V].pinned){break}X++}if(U.pinned){X=Math.max(U.originalIndex,X-1)}U.pinned=!U.pinned;R.columns.splice(W,1);R.columns.splice(X,0,U);S.fixColumnIndexes();P.BuildStyles(R,S,true);S.$viewport.scrollLeft(S.$viewport.scrollLeft()-U.width)};R.totalRowWidth=function(){var U=0,W=R.columns;for(var V=0;V<W.length;V++){if(W[V].visible!==false){U+=W[V].width}}return U};R.headerScrollerDim=function(){var V=R.viewportDimHeight(),W=S.maxCanvasHt,X=(W>V),U=new h();U.autoFitHeight=true;U.outerWidth=R.totalRowWidth();if(X){U.outerWidth+=S.elementDims.scrollW}else{if((W-V)<=S.elementDims.scrollH){U.outerWidth+=S.elementDims.scrollW}}return U}};var A=function(I,H){this.topRow=I;this.bottomRow=H};var z=function(H,I,J,L,K){this.entity=H;this.config=I;this.selectionProvider=J;this.rowIndex=L;this.utils=K;this.selected=J.getSelection(H);this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default";this.beforeSelectionChange=I.beforeSelectionChangeCallback;this.afterSelectionChange=I.afterSelectionChangeCallback;this.offsetTop=this.rowIndex*I.rowHeight;this.rowDisplayIndex=0};z.prototype.setSelection=function(H){this.selectionProvider.setSelection(this,H);this.selectionProvider.lastClickedRow=this};z.prototype.continueSelection=function(H){this.selectionProvider.ChangeSelection(this,H)};z.prototype.ensureEntity=function(H){if(this.entity!==H){this.entity=H;this.selected=this.selectionProvider.getSelection(this.entity)}};z.prototype.toggleSelected=function(I){if(!this.config.enableRowSelection&&!this.config.enableCellSelection){return true}var H=I.target||I;if(H.type==="checkbox"&&H.parentElement.className!=="ngSelectionCell ng-scope"){return true}if(this.config.selectWithCheckboxOnly&&H.type!=="checkbox"){this.selectionProvider.lastClickedRow=this;return true}if(this.beforeSelectionChange(this,I)){this.continueSelection(I)}return false};z.prototype.alternatingRowClass=function(){var I=(this.rowIndex%2)===0;var H={ngRow:true,selected:this.selected,even:I,odd:!I,"ui-state-default":this.config.jqueryUITheme&&I,"ui-state-active":this.config.jqueryUITheme&&!I};return H};z.prototype.getProperty=function(H){return this.utils.evalProperty(this.entity,H)};z.prototype.copy=function(){this.clone=new z(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils);this.clone.isClone=true;this.clone.elm=this.elm;this.clone.orig=this;return this.clone};z.prototype.setVars=function(H){H.clone=this;this.entity=H.entity;this.selected=H.selected;this.orig=H};var D=function(L,K,J,H,M){var I=this;I.aggCache={};I.parentCache=[];I.dataChanged=true;I.parsedData=[];I.rowConfig={};I.selectionProvider=K.selectionProvider;I.rowHeight=30;I.numberOfAggregates=0;I.groupedData=undefined;I.rowHeight=L.config.rowHeight;I.rowConfig={enableRowSelection:L.config.enableRowSelection,rowClasses:L.config.rowClasses,selectedItems:K.selectedItems,selectWithCheckboxOnly:L.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:L.config.beforeSelectionChange,afterSelectionChangeCallback:L.config.afterSelectionChange,jqueryUITheme:L.config.jqueryUITheme,enableCellSelection:L.config.enableCellSelection,rowHeight:L.config.rowHeight};I.renderedRange=new A(0,L.minRowsToRender()+E);I.buildEntityRow=function(N,O){return new z(N,I.rowConfig,I.selectionProvider,O,M)};I.buildAggregateRow=function(P,O){var N=I.aggCache[P.aggIndex];if(!N){N=new G(P,I,I.rowConfig.rowHeight,L.config.groupsCollapsedByDefault);I.aggCache[P.aggIndex]=N}N.rowIndex=O;N.offsetTop=O*I.rowConfig.rowHeight;return N};I.UpdateViewableRange=function(N){I.renderedRange=N;I.renderedChange()};I.filteredRowsChanged=function(){if(L.lateBoundColumns&&L.filteredRows.length>0){L.config.columnDefs=undefined;L.buildColumns();L.lateBoundColumns=false;K.$evalAsync(function(){K.adjustScrollLeft(0)})}I.dataChanged=true;if(L.config.groups.length>0){I.getGrouping(L.config.groups)}I.UpdateViewableRange(I.renderedRange)};I.renderedChange=function(){if(!I.groupedData||L.config.groups.length<1){I.renderedChangeNoGroups();L.refreshDomSizes();return}I.wasGrouped=true;I.parentCache=[];var N=0;var O=I.parsedData.filter(function(R){if(R.isAggRow){if(R.parent&&R.parent.collapsed){return false}return true}if(!R[c]){R.rowIndex=N++}return !R[c]});I.totalRows=O.length;var Q=[];for(var P=I.renderedRange.topRow;P<I.renderedRange.bottomRow;P++){if(O[P]){O[P].offsetTop=P*L.config.rowHeight;Q.push(O[P])}}L.setRenderedRows(Q)};I.renderedChangeNoGroups=function(){var O=[];for(var N=I.renderedRange.topRow;N<I.renderedRange.bottomRow;N++){if(L.filteredRows[N]){L.filteredRows[N].rowIndex=N;L.filteredRows[N].offsetTop=N*L.config.rowHeight;O.push(L.filteredRows[N])}}L.setRenderedRows(O)};I.fixRowCache=function(){var O=L.data.length;var P=O-L.rowCache.length;if(P<0){L.rowCache.length=L.rowMap.length=O}else{for(var N=L.rowCache.length;N<O;N++){L.rowCache[N]=L.rowFactory.buildEntityRow(L.data[N],N)}}};I.parseGroupData=function(P){if(P.values){for(var O=0;O<P.values.length;O++){I.parentCache[I.parentCache.length-1].children.push(P.values[O]);I.parsedData.push(P.values[O])}}else{for(var Q in P){if(Q===s||Q===r||Q===n){continue}else{if(P.hasOwnProperty(Q)){var N=I.buildAggregateRow({gField:P[s],gLabel:Q,gDepth:P[r],isAggRow:true,_ng_hidden_:false,children:[],aggChildren:[],aggIndex:I.numberOfAggregates,aggLabelFilter:P[n].aggLabelFilter},0);I.numberOfAggregates++;N.parent=I.parentCache[N.depth-1];if(N.parent){N.parent.collapsed=false;N.parent.aggChildren.push(N)}I.parsedData.push(N);I.parentCache[N.depth]=N;I.parseGroupData(P[Q])}}}}};I.getGrouping=function(S){I.aggCache=[];I.numberOfAggregates=0;I.groupedData={};var Z=L.filteredRows,P=S.length,W=K.columns;function O(ab,aa){return ab.filter(function(ac){return ac.field===aa})}for(var X=0;X<Z.length;X++){var T=Z[X].entity;if(!T){return}Z[X][c]=L.config.groupsCollapsedByDefault;var N=I.groupedData;for(var V=0;V<S.length;V++){var Y=S[V];var R=O(W,Y)[0];var Q=M.evalProperty(T,Y);Q=Q?Q.toString():"null";if(!N[Q]){N[Q]={}}if(!N[s]){N[s]=Y}if(!N[r]){N[r]=V}if(!N[n]){N[n]=R}N=N[Q]}if(!N.values){N.values=[]}N.values.push(Z[X])}if(W.length>0){for(var U=0;U<S.length;U++){if(!W[U].isAggCol&&U<=P){W.splice(0,0,new F({colDef:{field:"",width:25,sortable:false,resizable:false,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:L.config.pinSelectionCheckbox},enablePinning:L.config.enablePinning,isAggCol:true,headerRowHeight:L.config.headerRowHeight},K,L,J,H,M))}}}L.fixColumnIndexes();K.adjustScrollLeft(0);I.parsedData.length=0;I.parseGroupData(I.groupedData);I.fixRowCache()};if(L.config.groups.length>0&&L.filteredRows.length>0){I.getGrouping(L.config.groups)}};var f=function(Q,H,P){var S=this,K=[];S.extFilter=H.config.filterOptions.useExternalFilter;Q.showFilter=H.config.showFilter;Q.filterText="";S.fieldMap={};var O=function(U){var T={};for(var V in U){if(U.hasOwnProperty(V)){T[V.toLowerCase()]=U[V]}}return T};var M=function(V,ab,W){var ad;for(var U in ab){if(ab.hasOwnProperty(U)){var Z=W[U.toLowerCase()];if(!Z){continue}var T=ab[U];if(typeof T==="object"&&!(T instanceof Date)){var aa=O(Z);ad=M(V,T,aa);if(ad){return true}}else{var X=null,ac=null;if(Z&&Z.cellFilter){ac=Z.cellFilter.split(":");X=P(ac[0])}if(T!==null&&T!==undefined){if(typeof X==="function"){var Y=X(T,ac[1].slice(1,-1)).toString();ad=V.regex.test(Y)}else{ad=V.regex.test(T.toString())}if(ad){return true}}}}}return false};var L=function(aa,X){var U;var V=S.fieldMap[aa.columnDisplay];if(!V){return false}var Z=V.cellFilter.split(":");var W=V.cellFilter?P(Z[0]):null;var Y=X[aa.column]||X[V.field.split(".")[0]];if(Y===null||Y===undefined){return false}if(typeof W==="function"){var T=W(typeof Y==="object"?I(Y,V.field):Y,Z[1]).toString();U=aa.regex.test(T)}else{U=aa.regex.test(typeof Y==="object"?I(Y,V.field).toString():Y.toString())}if(U){return true}return false};var N=function(W){for(var V=0,U=K.length;V<U;V++){var X=K[V];var T;if(!X.column){T=M(X,W,S.fieldMap)}else{T=L(X,W)}if(!T){return false}}return true};S.evalFilter=function(){if(K.length===0){H.filteredRows=H.rowCache}else{H.filteredRows=H.rowCache.filter(function(U){return N(U.entity)})}for(var T=0;T<H.filteredRows.length;T++){H.filteredRows[T].rowIndex=T}H.rowFactory.filteredRowsChanged()};var I=function(Y,U){if(typeof Y!=="object"||typeof U!=="string"){return Y}var V=U.split(".");var X=Y;if(V.length>1){for(var W=1,T=V.length;W<T;W++){X=X[V[W]];if(!X){return Y}}return X}return Y};var J=function(V,T){try{return new RegExp(V,T)}catch(U){return new RegExp(V.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}};var R=function(T){K=[];var Y;if(!(Y=g.trim(T))){return}var V=Y.split(";");for(var X=0;X<V.length;X++){var W=V[X].split(":");if(W.length>1){var U=g.trim(W[0]);var aa=g.trim(W[1]);if(U&&aa){K.push({column:U,columnDisplay:U.replace(/\s+/g,"").toLowerCase(),regex:J(aa,"i")})}}else{var Z=g.trim(W[0]);if(Z){K.push({column:"",regex:J(Z,"i")})}}}};if(!S.extFilter){Q.$on("$destroy",Q.$watch("columns",function(Y){for(var X=0;X<Y.length;X++){var V=Y[X];if(V.field){if(V.field.match(/\./g)){var W=V.field.split(".");var U=S.fieldMap;for(var T=0;T<W.length-1;T++){U[W[T]]=U[W[T]]||{};U=U[W[T]]}U[W[W.length-1]]=V}else{S.fieldMap[V.field.toLowerCase()]=V}}if(V.displayName){S.fieldMap[V.displayName.toLowerCase().replace(/\s+/g,"")]=V}}}))}Q.$on("$destroy",Q.$watch(function(){return H.config.filterOptions.filterText},function(T){Q.filterText=T}));Q.$on("$destroy",Q.$watch("filterText",function(T){if(!S.extFilter){Q.$emit("ngGridEventFilter",T);R(T);S.evalFilter()}}))};var l=function(J,I,K){var H=this;H.multi=J.config.multiSelect;H.selectedItems=J.config.selectedItems;H.selectedIndex=J.config.selectedIndex;H.lastClickedRow=undefined;H.ignoreSelectedItemChanges=false;H.pKeyParser=K(J.config.primaryKey);H.ChangeSelection=function(T,U){var V=U.which||U.keyCode;var O=(V===40||V===38);if(U&&U.shiftKey&&!U.keyCode&&H.multi&&J.config.enableRowSelection){if(H.lastClickedRow){var L;if(I.configGroups.length>0){L=J.rowFactory.parsedData.filter(function(X){return !X.isAggRow})}else{L=J.filteredRows}var Q=T.rowIndex;var M=H.lastClickedRowIndex;if(Q===M){return false}if(Q<M){Q=Q^M;M=Q^M;Q=Q^M;Q--}else{M++}var W=[];for(;M<=Q;M++){W.push(L[M])}if(W[W.length-1].beforeSelectionChange(W,U)){for(var N=0;N<W.length;N++){var S=W[N];var R=S.selected;S.selected=!R;if(S.clone){S.clone.selected=S.selected}var P=H.selectedItems.indexOf(S.entity);if(P===-1){H.selectedItems.push(S.entity)}else{H.selectedItems.splice(P,1)}}W[W.length-1].afterSelectionChange(W,U)}H.lastClickedRow=T;H.lastClickedRowIndex=T.rowIndex;return true}}else{if(!H.multi){if(H.lastClickedRow===T){H.setSelection(H.lastClickedRow,J.config.keepLastSelected?true:!T.selected)}else{if(H.lastClickedRow){H.setSelection(H.lastClickedRow,false)}H.setSelection(T,!T.selected)}}else{if(!U.keyCode||O&&!J.config.selectWithCheckboxOnly){H.setSelection(T,!T.selected)}}}H.lastClickedRow=T;H.lastClickedRowIndex=T.rowIndex;return true};H.getSelection=function(L){return H.getSelectionIndex(L)!==-1};H.getSelectionIndex=function(L){var M=-1;if(J.config.primaryKey){var N=H.pKeyParser(L);angular.forEach(H.selectedItems,function(P,O){if(N===H.pKeyParser(P)){M=O}})}else{M=H.selectedItems.indexOf(L)}return M};H.setSelection=function(N,L){if(J.config.enableRowSelection){if(!L){var M=H.getSelectionIndex(N.entity);if(M!==-1){H.selectedItems.splice(M,1)}}else{if(H.getSelectionIndex(N.entity)===-1){if(!H.multi&&H.selectedItems.length>0){H.toggleSelectAll(false,true)}H.selectedItems.push(N.entity)}}N.selected=L;if(N.orig){N.orig.selected=L}if(N.clone){N.clone.selected=L}N.afterSelectionChange(N)}};H.toggleSelectAll=function(L,Q,N){var O=N?J.filteredRows:J.rowCache;if(Q||J.config.beforeSelectionChange(O,L)){var P=H.selectedItems.length;if(P>0){H.selectedItems.length=0}for(var M=0;M<O.length;M++){O[M].selected=L;if(O[M].clone){O[M].clone.selected=L}if(L){H.selectedItems.push(O[M].entity)}}if(!Q){J.config.afterSelectionChange(O,L)}}}};var o=function(H,I){H.headerCellStyle=function(J){return{height:J.headerRowHeight+"px"}};H.rowStyle=function(K){var J={top:K.offsetTop+"px",height:H.rowHeight+"px"};if(K.isAggRow){J.left=K.offsetLeft}return J};H.canvasStyle=function(){return{height:I.maxCanvasHt+"px"}};H.headerScrollerStyle=function(){return{height:I.config.headerRowHeight+"px"}};H.topPanelStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.topPanelHeight()+"px"}};H.headerStyle=function(){return{width:I.rootDim.outerWidth+"px",height:I.config.headerRowHeight+"px"}};H.groupPanelStyle=function(){return{width:I.rootDim.outerWidth+"px",height:"32px"}};H.viewportStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.viewportDimHeight()+"px"}};H.footerStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.footerRowHeight+"px"}}};b.directive("ngCellHasFocus",["$domUtilityService",function(H){var I=function(J,K){J.isFocused=true;H.digest(J);J.$broadcast("ngGridEventStartCellEdit");J.$emit("ngGridEventStartCellEdit");J.$on("$destroy",J.$on("ngGridEventEndCellEdit",function(){J.isFocused=false;H.digest(J)}))};return function(P,N){var K=false;var O=false;P.editCell=function(){if(!P.enableCellEditOnFocus){setTimeout(function(){I(P,N)},0)}};function J(S){if(P.enableCellEditOnFocus){O=true}else{N.focus()}return true}function Q(S){if(P.enableCellEditOnFocus){S.preventDefault();O=false;I(P,N)}}N.bind("mousedown",J);N.bind("click",Q);function R(S){K=true;if(P.enableCellEditOnFocus&&!O){I(P,N)}return true}N.bind("focus",R);function L(){K=false;return true}N.bind("blur",L);function M(S){if(!P.enableCellEditOnFocus){if(K&&S.keyCode!==37&&S.keyCode!==38&&S.keyCode!==39&&S.keyCode!==40&&S.keyCode!==9&&!S.shiftKey&&S.keyCode!==13){I(P,N)}if(K&&S.shiftKey&&(S.keyCode>=65&&S.keyCode<=90)){I(P,N)}if(S.keyCode===27){N.focus()}}return true}N.bind("keydown",M);N.on("$destroy",function(){N.off("mousedown",J);N.off("click",Q);N.off("focus",R);N.off("blur",L);N.off("keydown",M)})}}]);b.directive("ngCellText",function(){return function(J,K){function I(L){L.preventDefault()}K.bind("mouseover",I);function H(L){L.preventDefault()}K.bind("mouseleave",H);K.on("$destroy",function(){K.off("mouseover",I);K.off("mouseleave",H)})}});b.directive("ngCell",["$compile","$domUtilityService",function(J,I){var H={scope:false,compile:function(){return{pre:function(L,O){var M;var N=L.col.cellTemplate.replace(p,"row.entity."+L.col.field);if(L.col.enableCellEdit){M=L.col.cellEditTemplate;M=M.replace(C,L.col.cellEditableCondition);M=M.replace(q,N);M=M.replace(k,L.col.editableCellTemplate.replace(p,"row.entity."+L.col.field))}else{M=N}var K=g(M);O.append(K);J(K)(L);if(L.enableCellSelection&&K[0].className.indexOf("ngSelectionCell")===-1){K[0].setAttribute("tabindex",0);K.addClass("ngCellElement")}},post:function(K,L){if(K.enableCellSelection){K.domAccessProvider.selectionHandlers(K,L)}K.$on("$destroy",K.$on("ngGridEventDigestCell",function(){I.digest(K)}))}}}};return H}]);b.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1000,terminal:true,restrict:"A",compile:function(J,H,I){return function(O,N,K){var M;var L;O.$on("$destroy",O.$watch(K.ngEditCellIf,function(P){if(M){M.remove();M=undefined}if(L){L.$destroy();L=undefined}if(P){L=O.$new();I(L,function(Q){M=Q;N.after(Q)})}}))}}}}]);b.directive("ngGridFooter",["$compile","$templateCache",function(J,H){var I={scope:false,compile:function(){return{pre:function(K,L){if(L.children().length===0){L.append(J(H.get(K.gridId+"footerTemplate.html"))(K))}}}}};return I}]);b.directive("ngGridMenu",["$compile","$templateCache",function(J,H){var I={scope:false,compile:function(){return{pre:function(K,L){if(L.children().length===0){L.append(J(H.get(K.gridId+"menuTemplate.html"))(K))}}}}};return I}]);b.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(M,O,I,J,Q,R,H,K,P,N){var L={scope:true,compile:function(){return{pre:function(T,Y,W){var S=g(Y);var U=T.$eval(W.ngGrid);U.gridDim=new h({outerHeight:g(S).height(),outerWidth:g(S).width()});var V=new i(T,U,J,Q,O,I,R,H,K,P,N);T.$on("$destroy",function X(){U.gridDim=null;U.selectRow=null;U.selectItem=null;U.selectAll=null;U.selectVisible=null;U.groupBy=null;U.sortBy=null;U.gridId=null;U.ngGrid=null;U.$gridScope=null;U.$gridServices=null;T.domAccessProvider.grid=null;angular.element(V.styleSheet).remove();V.styleSheet=null});return V.init().then(function(){if(typeof U.columnDefs==="string"){T.$on("$destroy",T.$parent.$watch(U.columnDefs,function(aa){if(!aa){V.refreshDomSizes();V.buildColumns();return}V.lateBoundColumns=false;T.columns=[];V.config.columnDefs=aa;V.buildColumns();V.eventProvider.assignEvents();Q.RebuildGrid(T,V)},true))}else{V.buildColumns()}if(typeof U.totalServerItems==="string"){T.$on("$destroy",T.$parent.$watch(U.totalServerItems,function(ab,aa){if(!angular.isDefined(ab)){T.totalServerItems=0}else{T.totalServerItems=ab}}))}else{T.totalServerItems=0}if(typeof U.data==="string"){var Z=function(aa){V.data=g.extend([],aa);V.rowFactory.fixRowCache();angular.forEach(V.data,function(ad,ab){var ac=V.rowMap[ab]||ab;if(V.rowCache[ac]){V.rowCache[ac].ensureEntity(ad)}V.rowMap[ac]=ab});V.searchProvider.evalFilter();V.configureColumnWidths();V.refreshDomSizes();if(V.config.sortInfo.fields.length>0){V.sortColumnsInit();T.$emit("ngGridEventSorted",V.config.sortInfo)}T.$emit("ngGridEventData",V.gridId)};T.$on("$destroy",T.$parent.$watch(U.data,Z));T.$on("$destroy",T.$parent.$watch(U.data+".length",function(){Z(T.$eval(U.data));T.adjustScrollTop(V.$viewport.scrollTop(),true)}))}V.footerController=new j(T,V);Y.addClass("ngGrid").addClass(V.gridId.toString());if(!U.enableHighlighting){Y.addClass("unselectable")}if(U.jqueryUITheme){Y.addClass("ui-widget")}Y.append(M(I.get("gridTemplate.html"))(T));Q.AssignGridContainers(T,Y,V);V.eventProvider=new x(V,T,Q,H);U.selectRow=function(ab,aa){if(V.rowCache[ab]){if(V.rowCache[ab].clone){V.rowCache[ab].clone.setSelection(aa?true:false)}V.rowCache[ab].setSelection(aa?true:false)}};U.selectItem=function(aa,ab){U.selectRow(V.rowMap[aa],ab)};U.selectAll=function(aa){T.toggleSelectAll(aa)};U.selectVisible=function(aa){T.toggleSelectAll(aa,true)};U.groupBy=function(ab){if(ab){T.groupBy(T.columns.filter(function(ac){return ac.field===ab})[0])}else{var aa=g.extend(true,[],T.configGroups);angular.forEach(aa,T.groupBy)}};U.sortBy=function(ab){var aa=T.columns.filter(function(ac){return ac.field===ab})[0];if(aa){aa.sort()}};U.gridId=V.gridId;U.ngGrid=V;U.$gridScope=T;U.$gridServices={SortService:J,DomUtilityService:Q,UtilityService:R};T.$on("$destroy",T.$on("ngGridEventDigestGrid",function(){Q.digest(T.$parent)}));T.$on("$destroy",T.$on("ngGridEventDigestGridParent",function(){Q.digest(T.$parent)}));T.$evalAsync(function(){T.adjustScrollLeft(0)});angular.forEach(U.plugins,function(ab){if(typeof ab==="function"){ab=new ab()}var aa=T.$new();ab.init(aa,V,U.$gridServices);U.plugins[R.getInstanceType(ab)]=ab;T.$on("$destroy",function(){aa.$destroy()})});if(typeof U.init==="function"){U.init(V,T)}return null})}}}};return L}]);b.directive("ngHeaderCell",["$compile",function(H){var I={scope:false,compile:function(){return{pre:function(J,K){K.append(H(J.col.headerCellTemplate)(J))}}}};return I}]);b.directive("ngHeaderRow",["$compile","$templateCache",function(I,H){var J={scope:false,compile:function(){return{pre:function(K,L){if(L.children().length===0){L.append(I(H.get(K.gridId+"headerRowTemplate.html"))(K))}}}}};return J}]);b.directive("ngInput",[function(){return{require:"ngModel",link:function(P,M,N,L){var J;var I=P.$watch("ngModel",function(){J=L.$modelValue;I()});function K(Q){switch(Q.keyCode){case 37:case 38:case 39:case 40:Q.stopPropagation();break;case 27:if(!P.$$phase){P.$apply(function(){L.$setViewValue(J);M.blur()})}break;case 13:if(P.enableCellEditOnFocus&&P.totalFilteredItemsLength()-1>P.row.rowIndex&&P.row.rowIndex>0||P.col.enableCellEdit){M.blur()}break}return true}M.bind("keydown",K);function O(Q){Q.stopPropagation()}M.bind("click",O);function H(Q){Q.stopPropagation()}M.bind("mousedown",H);M.on("$destroy",function(){M.off("keydown",K);M.off("click",O);M.off("mousedown",H)});P.$on("$destroy",P.$on("ngGridEventStartCellEdit",function(){M.focus();M.select()}));angular.element(M).bind("blur",function(){P.$emit("ngGridEventEndCellEdit")})}}}]);b.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(K,I,H){var J={scope:false,compile:function(){return{pre:function(L,N){L.row.elm=N;if(L.row.clone){L.row.clone.elm=N}if(L.row.isAggRow){var M=H.get(L.gridId+"aggregateTemplate.html");if(L.row.aggLabelFilter){M=M.replace(e,"| "+L.row.aggLabelFilter)}else{M=M.replace(e,"")}N.append(K(M)(L))}else{N.append(K(H.get(L.gridId+"rowTemplate.html"))(L))}L.$on("$destroy",L.$on("ngGridEventDigestRow",function(){I.digest(L)}))}}}};return J}]);b.directive("ngViewport",[function(){return function(O,K){var L;var H;var P=0;var J=function(){if(!O.$root.$$phase){O.$digest()}};var I;function M(Q){var S=Q.target.scrollLeft,R=Q.target.scrollTop;if(O.$headerContainer){O.$headerContainer.scrollLeft(S)}O.adjustScrollLeft(S);O.adjustScrollTop(R);if(O.forceSyncScrolling){J()}else{clearTimeout(I);I=setTimeout(J,150)}H=S;P=R;L=false;return true}K.bind("scroll",M);function N(){L=true;if(K.focus){K.focus()}return true}K.bind("mousewheel DOMMouseScroll",N);K.on("$destroy",function(){K.off("scroll",M);K.off("mousewheel DOMMouseScroll",N)});if(!O.enableCellSelection){O.domAccessProvider.selectionHandlers(O,K)}}}]);m.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"};m.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"};m.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"};m.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};m.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون\u200cها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب\u200cشده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"};m.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"};m.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"};m.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};m.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"};m.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"};angular.module("ngGrid").run(["$templateCache",function(H){H.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>\r\n    <div class="{{row.aggClass()}}"></div>\r\n</div>\r\n');H.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t</div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t</div>\r\n</div>\r\n');H.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>');H.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>');H.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>');H.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />');H.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n');H.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div ng-grid-footer></div>\r\n');H.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n');H.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>');H.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterOptions.filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n');H.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-cell></div>\r\n</div>')}])}(window,jQuery));