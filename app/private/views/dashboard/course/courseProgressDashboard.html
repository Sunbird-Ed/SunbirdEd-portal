<div ng-controller="courseDashboardCtrl as courseDashboard" ng-init="courseDashboard.loadData()">
	<div ng-include="'views/dashboard/course/courseDashboardFilters.html'"></div>
	<div class="table-data-holder" ng-hide="courseDashboard.showLoader" ng-if="!courseDashboard.showError">
	  	<div class="ui raised segment">
	    	<div class="eight wide column right floated">
	      		<h3>Stats for last {{courseDashboard.filterQueryTextMsg}} </h3>
	    	</div>
	    	<table class="ui very basic courseDashBoardTable table">
		      	<thead>
		        	<tr>
		          		<th class="table-headerDashboard">
		            		<a href="Javascript:void(0);" ng-click="courseDashboard.orderByField='progress'; courseDashboard.reverseSort = !courseDashboard.reverseSort">Status
								<span ng-show="courseDashboard.orderByField == 'progress'">
			        				<span ng-show="!courseDashboard.reverseSort">^</span>
			        				<span ng-show="courseDashboard.reverseSort">v</span>
								</span>
							</a>
		          		</th>
				        <th>
				            <a href="Javascript:void(0);" ng-click="courseDashboard.orderByField='user'; courseDashboard.reverseSort = !courseDashboard.reverseSort">User Name
			        			<span ng-show="courseDashboard.orderByField == 'user'">
			        				<span ng-show="!courseDashboard.reverseSort">^</span>
			        				<span ng-show="courseDashboard.reverseSort">v</span>
			        			</span>
					  		</a>
				        </th>
				        <th>
				        	<a href="Javascript:void(0);" ng-click="courseDashboard.orderByField='batchEndsOn'; courseDashboard.reverseSort = !courseDashboard.reverseSort">batch end on
					          	<span ng-show="courseDashboard.orderByField == 'batchEndsOn'">
					          		<span ng-show="!courseDashboard.reverseSort">^</span>
					          		<span ng-show="courseDashboard.reverseSort">v</span>
					          	</span>
							</a>
				        </th>
		          		<th>
		            		<a href="Javascript:void(0);" ng-click="courseDashboard.orderByField='org'; courseDashboard.reverseSort = !courseDashboard.reverseSort">ORG
				          		<span ng-show="courseDashboard.orderByField == 'org'">
				          			<span ng-show="!courseDashboard.reverseSort">^</span>
				          			<span ng-show="courseDashboard.reverseSort">v</span>
				          		</span>
							</a>
		          		</th>
		         		<th>
		            		<a href="Javascript:void(0);" ng-click="courseDashboard.orderByField='enrolledOn'; courseDashboard.reverseSort = !courseDashboard.reverseSort">Enrolled on
		          				<span ng-show="courseDashboard.orderByField == 'enrolledOn'">
		          					<span ng-show="!courseDashboard.reverseSort">^</span>
		          					<span ng-show="courseDashboard.reverseSort">v</span>
		          				</span>
					  		</a>
		          		</th>
		        	</tr>
		      	</thead>
		     	<tbody>
		        	<tr ng-repeat="student in courseDashboard.courseProgressArray|orderBy:courseDashboard.orderByField:courseDashboard.reverseSort | filter:courseDashboard.searchUser">
				        <!-- If course progress is 100%-->
				        <td ng-if="student.progress === 100">Done</td>
				        <td class="ui green header text-font" ng-if="(student.progress !== 100 && student.progress > 90)">{{student.progress}}%</td>
				        <td class="ui orange header text-font" ng-if="(student.progress !== 100 && student.progress > 30)">{{student.progress}}%</td>
				        <td class="ui red header text-font" ng-if="(student.progress !== 100 && student.progress < 30)">{{student.progress}}%</td>
				        <td>{{student.userName}}
				           <!--<br>Last login: {{student.lastAccessTime | date:'shortTime'}}-->
				        </td>
				        <td>{{student.batchEndsOn | date:'MMM d, y'}}</td>
				        <td>{{student.org}}</td>
				        <td>{{student.enrolledOn | date:'MMM d, y'}}</td>
		        	</tr>
		        	<tr ng-show="courseDashboard.courseProgressArray.length == 0">
		         		<td id="noRecordsFound">No data found</td>
		        	</tr>
		      	</tbody>
	    	</table>
		</div>
		<div class="ui grid" ng-hide="courseDashboard.courseProgressArray.length == 0">
	    	<div class="twelve wide column right floated">
		      	<p class="text-align-right">Download this view as:
		        	<a href="Javascript:void(0);" class="item text-decoration-underline">CSV</a>
		        	<a href="Javascript:void(0);" class="item text-decoration-underline">PDF</a>
		        	<a href="Javascript:void(0);" class="item text-decoration-underline">DOC</a>
		      	</p>
	    	</div>
		</div>
	</div>
	<!-- Show loader-->
	<div class="tweleve wide column" ng-if="courseDashboard.showLoader">
  		<app-loader></app-loader>
	</div>
	<div class="ui negative message" ng-if="courseDashboard.showError && !courseDashboard.showLoader">
  		<div class="header">Error while fetching data..</div>
  		<p>{{courseDashboard.errorMsg}}</p>
	</div>
</div>