!function(e) {
    var t = window.webpackHotUpdate;
    window.webpackHotUpdate = function(e, n) {
        !function(e, t) {
            if (w[e] && b[e]) {
                for (var n in b[e] = !1,
                t)
                    Object.prototype.hasOwnProperty.call(t, n) && (p[n] = t[n]);
                0 == --m && 0 === v && _()
            }
        }(e, n),
        t && t(e, n)
    }
    ;
    var n, r = !0, i = "853e5b545f8b0b282f29", o = 1e4, a = {}, s = [], c = [];
    function l(e) {
        var t = E[e];
        if (!t)
            return T;
        var r = function(r) {
            return t.hot.active ? (E[r] ? -1 === E[r].parents.indexOf(e) && E[r].parents.push(e) : (s = [e],
            n = r),
            -1 === t.children.indexOf(r) && t.children.push(r)) : (console.warn("[HMR] unexpected require(" + r + ") from disposed module " + e),
            s = []),
            T(r)
        }
          , i = function(e) {
            return {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return T[e]
                },
                set: function(t) {
                    T[e] = t
                }
            }
        };
        for (var o in T)
            Object.prototype.hasOwnProperty.call(T, o) && "e" !== o && "t" !== o && Object.defineProperty(r, o, i(o));
        return r.e = function(e) {
            return "ready" === d && f("prepare"),
            v++,
            T.e(e).then(t, function(e) {
                throw t(),
                e
            });
            function t() {
                v--,
                "prepare" === d && (y[e] || C(e),
                0 === v && 0 === m && _())
            }
        }
        ,
        r.t = function(e, t) {
            return 1 & t && (e = r(e)),
            T.t(e, -2 & t)
        }
        ,
        r
    }
    var u = []
      , d = "idle";
    function f(e) {
        d = e;
        for (var t = 0; t < u.length; t++)
            u[t].call(null, e)
    }
    var h, p, g, m = 0, v = 0, y = {}, b = {}, w = {};
    function x(e) {
        return +e + "" === e ? +e : e
    }
    function S(e) {
        if ("idle" !== d)
            throw new Error("check() is only allowed in idle status");
        return r = e,
        f("check"),
        (t = o,
        t = t || 1e4,
        new Promise(function(e, n) {
            if ("undefined" == typeof XMLHttpRequest)
                return n(new Error("No browser support"));
            try {
                var r = new XMLHttpRequest
                  , o = T.p + "" + i + ".hot-update.json";
                r.open("GET", o, !0),
                r.timeout = t,
                r.send(null)
            } catch (e) {
                return n(e)
            }
            r.onreadystatechange = function() {
                if (4 === r.readyState)
                    if (0 === r.status)
                        n(new Error("Manifest request to " + o + " timed out."));
                    else if (404 === r.status)
                        e();
                    else if (200 !== r.status && 304 !== r.status)
                        n(new Error("Manifest request to " + o + " failed."));
                    else {
                        try {
                            var t = JSON.parse(r.responseText)
                        } catch (e) {
                            return void n(e)
                        }
                        e(t)
                    }
            }
        }
        )).then(function(e) {
            if (!e)
                return f("idle"),
                null;
            b = {},
            y = {},
            w = e.c,
            g = e.h,
            f("prepare");
            var t = new Promise(function(e, t) {
                h = {
                    resolve: e,
                    reject: t
                }
            }
            );
            return p = {},
            C(0),
            "prepare" === d && 0 === v && 0 === m && _(),
            t
        });
        var t
    }
    function C(e) {
        w[e] ? (b[e] = !0,
        m++,
        function(e) {
            var t = document.getElementsByTagName("head")[0]
              , n = document.createElement("script");
            n.charset = "utf-8",
            n.src = T.p + "" + e + "." + i + ".hot-update.js",
            t.appendChild(n)
        }(e)) : y[e] = !0
    }
    function _() {
        f("ready");
        var e = h;
        if (h = null,
        e)
            if (r)
                Promise.resolve().then(function() {
                    return k(r)
                }).then(function(t) {
                    e.resolve(t)
                }, function(t) {
                    e.reject(t)
                });
            else {
                var t = [];
                for (var n in p)
                    Object.prototype.hasOwnProperty.call(p, n) && t.push(x(n));
                e.resolve(t)
            }
    }
    function k(t) {
        if ("ready" !== d)
            throw new Error("apply() is only allowed in ready status");
        var n, r, o, c, l;
        function u(e) {
            for (var t = [e], n = {}, r = t.slice().map(function(e) {
                return {
                    chain: [e],
                    id: e
                }
            }); r.length > 0; ) {
                var i = r.pop()
                  , o = i.id
                  , a = i.chain;
                if ((c = E[o]) && !c.hot._selfAccepted) {
                    if (c.hot._selfDeclined)
                        return {
                            type: "self-declined",
                            chain: a,
                            moduleId: o
                        };
                    if (c.hot._main)
                        return {
                            type: "unaccepted",
                            chain: a,
                            moduleId: o
                        };
                    for (var s = 0; s < c.parents.length; s++) {
                        var l = c.parents[s]
                          , u = E[l];
                        if (u) {
                            if (u.hot._declinedDependencies[o])
                                return {
                                    type: "declined",
                                    chain: a.concat([l]),
                                    moduleId: o,
                                    parentId: l
                                };
                            -1 === t.indexOf(l) && (u.hot._acceptedDependencies[o] ? (n[l] || (n[l] = []),
                            h(n[l], [o])) : (delete n[l],
                            t.push(l),
                            r.push({
                                chain: a.concat([l]),
                                id: l
                            })))
                        }
                    }
                }
            }
            return {
                type: "accepted",
                moduleId: e,
                outdatedModules: t,
                outdatedDependencies: n
            }
        }
        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                -1 === e.indexOf(r) && e.push(r)
            }
        }
        t = t || {};
        var m = {}
          , v = []
          , y = {}
          , b = function() {
            console.warn("[HMR] unexpected require(" + C.moduleId + ") to disposed module")
        };
        for (var S in p)
            if (Object.prototype.hasOwnProperty.call(p, S)) {
                var C;
                l = x(S);
                var _ = !1
                  , k = !1
                  , P = !1
                  , A = "";
                switch ((C = p[S] ? u(l) : {
                    type: "disposed",
                    moduleId: S
                }).chain && (A = "\nUpdate propagation: " + C.chain.join(" -> ")),
                C.type) {
                case "self-declined":
                    t.onDeclined && t.onDeclined(C),
                    t.ignoreDeclined || (_ = new Error("Aborted because of self decline: " + C.moduleId + A));
                    break;
                case "declined":
                    t.onDeclined && t.onDeclined(C),
                    t.ignoreDeclined || (_ = new Error("Aborted because of declined dependency: " + C.moduleId + " in " + C.parentId + A));
                    break;
                case "unaccepted":
                    t.onUnaccepted && t.onUnaccepted(C),
                    t.ignoreUnaccepted || (_ = new Error("Aborted because " + l + " is not accepted" + A));
                    break;
                case "accepted":
                    t.onAccepted && t.onAccepted(C),
                    k = !0;
                    break;
                case "disposed":
                    t.onDisposed && t.onDisposed(C),
                    P = !0;
                    break;
                default:
                    throw new Error("Unexception type " + C.type)
                }
                if (_)
                    return f("abort"),
                    Promise.reject(_);
                if (k)
                    for (l in y[l] = p[l],
                    h(v, C.outdatedModules),
                    C.outdatedDependencies)
                        Object.prototype.hasOwnProperty.call(C.outdatedDependencies, l) && (m[l] || (m[l] = []),
                        h(m[l], C.outdatedDependencies[l]));
                P && (h(v, [C.moduleId]),
                y[l] = b)
            }
        var O, $ = [];
        for (r = 0; r < v.length; r++)
            l = v[r],
            E[l] && E[l].hot._selfAccepted && $.push({
                module: l,
                errorHandler: E[l].hot._selfAccepted
            });
        f("dispose"),
        Object.keys(w).forEach(function(e) {
            !1 === w[e] && function(e) {
                delete installedChunks[e]
            }(e)
        });
        for (var j, D, R = v.slice(); R.length > 0; )
            if (l = R.pop(),
            c = E[l]) {
                var M = {}
                  , I = c.hot._disposeHandlers;
                for (o = 0; o < I.length; o++)
                    (n = I[o])(M);
                for (a[l] = M,
                c.hot.active = !1,
                delete E[l],
                delete m[l],
                o = 0; o < c.children.length; o++) {
                    var L = E[c.children[o]];
                    L && (O = L.parents.indexOf(l)) >= 0 && L.parents.splice(O, 1)
                }
            }
        for (l in m)
            if (Object.prototype.hasOwnProperty.call(m, l) && (c = E[l]))
                for (D = m[l],
                o = 0; o < D.length; o++)
                    j = D[o],
                    (O = c.children.indexOf(j)) >= 0 && c.children.splice(O, 1);
        for (l in f("apply"),
        i = g,
        y)
            Object.prototype.hasOwnProperty.call(y, l) && (e[l] = y[l]);
        var F = null;
        for (l in m)
            if (Object.prototype.hasOwnProperty.call(m, l) && (c = E[l])) {
                D = m[l];
                var N = [];
                for (r = 0; r < D.length; r++)
                    if (j = D[r],
                    n = c.hot._acceptedDependencies[j]) {
                        if (-1 !== N.indexOf(n))
                            continue;
                        N.push(n)
                    }
                for (r = 0; r < N.length; r++) {
                    n = N[r];
                    try {
                        n(D)
                    } catch (e) {
                        t.onErrored && t.onErrored({
                            type: "accept-errored",
                            moduleId: l,
                            dependencyId: D[r],
                            error: e
                        }),
                        t.ignoreErrored || F || (F = e)
                    }
                }
            }
        for (r = 0; r < $.length; r++) {
            var B = $[r];
            l = B.module,
            s = [l];
            try {
                T(l)
            } catch (e) {
                if ("function" == typeof B.errorHandler)
                    try {
                        B.errorHandler(e)
                    } catch (n) {
                        t.onErrored && t.onErrored({
                            type: "self-accept-error-handler-errored",
                            moduleId: l,
                            error: n,
                            originalError: e
                        }),
                        t.ignoreErrored || F || (F = n),
                        F || (F = e)
                    }
                else
                    t.onErrored && t.onErrored({
                        type: "self-accept-errored",
                        moduleId: l,
                        error: e
                    }),
                    t.ignoreErrored || F || (F = e)
            }
        }
        return F ? (f("fail"),
        Promise.reject(F)) : (f("idle"),
        new Promise(function(e) {
            e(v)
        }
        ))
    }
    var E = {};
    function T(t) {
        if (E[t])
            return E[t].exports;
        var r = E[t] = {
            i: t,
            l: !1,
            exports: {},
            hot: function(e) {
                var t = {
                    _acceptedDependencies: {},
                    _declinedDependencies: {},
                    _selfAccepted: !1,
                    _selfDeclined: !1,
                    _disposeHandlers: [],
                    _main: n !== e,
                    active: !0,
                    accept: function(e, n) {
                        if (void 0 === e)
                            t._selfAccepted = !0;
                        else if ("function" == typeof e)
                            t._selfAccepted = e;
                        else if ("object" == typeof e)
                            for (var r = 0; r < e.length; r++)
                                t._acceptedDependencies[e[r]] = n || function() {}
                                ;
                        else
                            t._acceptedDependencies[e] = n || function() {}
                    },
                    decline: function(e) {
                        if (void 0 === e)
                            t._selfDeclined = !0;
                        else if ("object" == typeof e)
                            for (var n = 0; n < e.length; n++)
                                t._declinedDependencies[e[n]] = !0;
                        else
                            t._declinedDependencies[e] = !0
                    },
                    dispose: function(e) {
                        t._disposeHandlers.push(e)
                    },
                    addDisposeHandler: function(e) {
                        t._disposeHandlers.push(e)
                    },
                    removeDisposeHandler: function(e) {
                        var n = t._disposeHandlers.indexOf(e);
                        n >= 0 && t._disposeHandlers.splice(n, 1)
                    },
                    check: S,
                    apply: k,
                    status: function(e) {
                        if (!e)
                            return d;
                        u.push(e)
                    },
                    addStatusHandler: function(e) {
                        u.push(e)
                    },
                    removeStatusHandler: function(e) {
                        var t = u.indexOf(e);
                        t >= 0 && u.splice(t, 1)
                    },
                    data: a[e]
                };
                return n = void 0,
                t
            }(t),
            parents: (c = s,
            s = [],
            c),
            children: []
        };
        return e[t].call(r.exports, r, r.exports, l(t)),
        r.l = !0,
        r.exports
    }
    T.m = e,
    T.c = E,
    T.d = function(e, t, n) {
        T.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: n
        })
    }
    ,
    T.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    T.t = function(e, t) {
        if (1 & t && (e = T(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var n = Object.create(null);
        if (T.r(n),
        Object.defineProperty(n, "default", {
            enumerable: !0,
            value: e
        }),
        2 & t && "string" != typeof e)
            for (var r in e)
                T.d(n, r, function(t) {
                    return e[t]
                }
                .bind(null, r));
        return n
    }
    ,
    T.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return T.d(t, "a", t),
        t
    }
    ,
    T.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    T.p = "",
    T.h = function() {
        return i
    }
    ,
    l(39)(T.s = 39)
}([function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0,
        eval)("this")
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.$ = n(42)
    }
    ).call(this, n(0))
}
, function(e, t) {
    var n, r, i = e.exports = {};
    function o() {
        throw new Error("setTimeout has not been defined")
    }
    function a() {
        throw new Error("clearTimeout has not been defined")
    }
    function s(e) {
        if (n === setTimeout)
            return setTimeout(e, 0);
        if ((n === o || !n) && setTimeout)
            return n = setTimeout,
            setTimeout(e, 0);
        try {
            return n(e, 0)
        } catch (t) {
            try {
                return n.call(null, e, 0)
            } catch (t) {
                return n.call(this, e, 0)
            }
        }
    }
    !function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : o
        } catch (e) {
            n = o
        }
        try {
            r = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (e) {
            r = a
        }
    }();
    var c, l = [], u = !1, d = -1;
    function f() {
        u && c && (u = !1,
        c.length ? l = c.concat(l) : d = -1,
        l.length && h())
    }
    function h() {
        if (!u) {
            var e = s(f);
            u = !0;
            for (var t = l.length; t; ) {
                for (c = l,
                l = []; ++d < t; )
                    c && c[d].run();
                d = -1,
                t = l.length
            }
            c = null,
            u = !1,
            function(e) {
                if (r === clearTimeout)
                    return clearTimeout(e);
                if ((r === a || !r) && clearTimeout)
                    return r = clearTimeout,
                    clearTimeout(e);
                try {
                    r(e)
                } catch (t) {
                    try {
                        return r.call(null, e)
                    } catch (t) {
                        return r.call(this, e)
                    }
                }
            }(e)
        }
    }
    function p(e, t) {
        this.fun = e,
        this.array = t
    }
    function g() {}
    i.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
        l.push(new p(e,t)),
        1 !== l.length || u || s(h)
    }
    ,
    p.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    i.title = "browser",
    i.browser = !0,
    i.env = {},
    i.argv = [],
    i.version = "",
    i.versions = {},
    i.on = g,
    i.addListener = g,
    i.once = g,
    i.off = g,
    i.removeListener = g,
    i.removeAllListeners = g,
    i.emit = g,
    i.prependListener = g,
    i.prependOnceListener = g,
    i.listeners = function(e) {
        return []
    }
    ,
    i.binding = function(e) {
        throw new Error("process.binding is not supported")
    }
    ,
    i.cwd = function() {
        return "/"
    }
    ,
    i.chdir = function(e) {
        throw new Error("process.chdir is not supported")
    }
    ,
    i.umask = function() {
        return 0
    }
}
, function(e, t) {
    "function" == typeof Object.create ? e.exports = function(e, t) {
        e.super_ = t,
        e.prototype = Object.create(t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    }
    : e.exports = function(e, t) {
        e.super_ = t;
        var n = function() {};
        n.prototype = t.prototype,
        e.prototype = new n,
        e.prototype.constructor = e
    }
}
, function(e, t) {
    (function(t) {
        e.exports = t
    }
    ).call(this, {})
}
, function(e, t, n) {
    "use strict";
    function r(e, t, n) {
        var r = n ? " !== " : " === "
          , i = n ? " || " : " && "
          , o = n ? "!" : ""
          , a = n ? "" : "!";
        switch (e) {
        case "null":
            return t + r + "null";
        case "array":
            return o + "Array.isArray(" + t + ")";
        case "object":
            return "(" + o + t + i + "typeof " + t + r + '"object"' + i + a + "Array.isArray(" + t + "))";
        case "integer":
            return "(typeof " + t + r + '"number"' + i + a + "(" + t + " % 1)" + i + t + r + t + ")";
        default:
            return "typeof " + t + r + '"' + e + '"'
        }
    }
    e.exports = {
        copy: function(e, t) {
            for (var n in t = t || {},
            e)
                t[n] = e[n];
            return t
        },
        checkDataType: r,
        checkDataTypes: function(e, t) {
            switch (e.length) {
            case 1:
                return r(e[0], t, !0);
            default:
                var n = ""
                  , i = o(e);
                for (var a in i.array && i.object && (n = i.null ? "(" : "(!" + t + " || ",
                n += "typeof " + t + ' !== "object")',
                delete i.null,
                delete i.array,
                delete i.object),
                i.number && delete i.integer,
                i)
                    n += (n ? " && " : "") + r(a, t, !0);
                return n
            }
        },
        coerceToTypes: function(e, t) {
            if (Array.isArray(t)) {
                for (var n = [], r = 0; r < t.length; r++) {
                    var o = t[r];
                    i[o] ? n[n.length] = o : "array" === e && "array" === o && (n[n.length] = o)
                }
                if (n.length)
                    return n
            } else {
                if (i[t])
                    return [t];
                if ("array" === e && "array" === t)
                    return ["array"]
            }
        },
        toHash: o,
        getProperty: c,
        escapeQuotes: l,
        equal: n(14),
        ucs2length: n(63),
        varOccurences: function(e, t) {
            t += "[^0-9]";
            var n = e.match(new RegExp(t,"g"));
            return n ? n.length : 0
        },
        varReplace: function(e, t, n) {
            return t += "([^0-9])",
            n = n.replace(/\$/g, "$$$$"),
            e.replace(new RegExp(t,"g"), n + "$1")
        },
        cleanUpCode: function(e) {
            return e.replace(u, "").replace(d, "").replace(f, "if (!($1))")
        },
        finalCleanUpCode: function(e, t) {
            var n = e.match(h);
            return n && 2 == n.length && (e = t ? e.replace(g, "").replace(y, b) : e.replace(p, "").replace(m, v)),
            (n = e.match(w)) && 3 === n.length ? e.replace(x, "") : e
        },
        schemaHasRules: function(e, t) {
            if ("boolean" == typeof e)
                return !e;
            for (var n in e)
                if (t[n])
                    return !0
        },
        schemaHasRulesExcept: function(e, t, n) {
            if ("boolean" == typeof e)
                return !e && "not" != n;
            for (var r in e)
                if (r != n && t[r])
                    return !0
        },
        toQuotedString: S,
        getPathExpr: function(e, t, n, r) {
            return k(e, n ? "'/' + " + t + (r ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : r ? "'[' + " + t + " + ']'" : "'[\\'' + " + t + " + '\\']'")
        },
        getPath: function(e, t, n) {
            return k(e, S(n ? "/" + E(t) : c(t)))
        },
        getData: function(e, t, n) {
            var r, i, o, a;
            if ("" === e)
                return "rootData";
            if ("/" == e[0]) {
                if (!C.test(e))
                    throw new Error("Invalid JSON-pointer: " + e);
                i = e,
                o = "rootData"
            } else {
                if (!(a = e.match(_)))
                    throw new Error("Invalid JSON-pointer: " + e);
                if (r = +a[1],
                "#" == (i = a[2])) {
                    if (r >= t)
                        throw new Error("Cannot access property/index " + r + " levels up, current level is " + t);
                    return n[t - r]
                }
                if (r > t)
                    throw new Error("Cannot access data " + r + " levels up, current level is " + t);
                if (o = "data" + (t - r || ""),
                !i)
                    return o
            }
            for (var s = o, l = i.split("/"), u = 0; u < l.length; u++) {
                var d = l[u];
                d && (s += " && " + (o += c(T(d))))
            }
            return s
        },
        unescapeFragment: function(e) {
            return T(decodeURIComponent(e))
        },
        unescapeJsonPointer: T,
        escapeFragment: function(e) {
            return encodeURIComponent(E(e))
        },
        escapeJsonPointer: E
    };
    var i = o(["string", "number", "integer", "boolean", "null"]);
    function o(e) {
        for (var t = {}, n = 0; n < e.length; n++)
            t[e[n]] = !0;
        return t
    }
    var a = /^[a-z$_][a-z$_0-9]*$/i
      , s = /'|\\/g;
    function c(e) {
        return "number" == typeof e ? "[" + e + "]" : a.test(e) ? "." + e : "['" + l(e) + "']"
    }
    function l(e) {
        return e.replace(s, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t")
    }
    var u = /else\s*{\s*}/g
      , d = /if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g
      , f = /if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g
      , h = /[^v.]errors/g
      , p = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g
      , g = /var errors = 0;|var vErrors = null;/g
      , m = "return errors === 0;"
      , v = "validate.errors = null; return true;"
      , y = /if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/
      , b = "return data;"
      , w = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g
      , x = /if \(rootData === undefined\) rootData = data;/;
    function S(e) {
        return "'" + l(e) + "'"
    }
    var C = /^\/(?:[^~]|~0|~1)*$/
      , _ = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
    function k(e, t) {
        return '""' == e ? t : (e + " + " + t).replace(/' \+ '/g, "")
    }
    function E(e) {
        return e.replace(/~/g, "~0").replace(/\//g, "~1")
    }
    function T(e) {
        return e.replace(/~1/g, "/").replace(/~0/g, "~")
    }
}
, function(e, t, n) {
    "use strict";
    (function(e) {
        /*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
        var r = n(95)
          , i = n(96)
          , o = n(27);
        function a() {
            return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }
        function s(e, t) {
            if (a() < t)
                throw new RangeError("Invalid typed array length");
            return c.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = c.prototype : (null === e && (e = new c(t)),
            e.length = t),
            e
        }
        function c(e, t, n) {
            if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c))
                return new c(e,t,n);
            if ("number" == typeof e) {
                if ("string" == typeof t)
                    throw new Error("If encoding is specified then the first argument must be a string");
                return d(this, e)
            }
            return l(this, e, t, n)
        }
        function l(e, t, n, r) {
            if ("number" == typeof t)
                throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function(e, t, n, r) {
                if (t.byteLength,
                n < 0 || t.byteLength < n)
                    throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < n + (r || 0))
                    throw new RangeError("'length' is out of bounds");
                return t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ? new Uint8Array(t,n) : new Uint8Array(t,n,r),
                c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = f(e, t),
                e
            }(e, t, n, r) : "string" == typeof t ? function(e, t, n) {
                if ("string" == typeof n && "" !== n || (n = "utf8"),
                !c.isEncoding(n))
                    throw new TypeError('"encoding" must be a valid string encoding');
                var r = 0 | p(t, n)
                  , i = (e = s(e, r)).write(t, n);
                return i !== r && (e = e.slice(0, i)),
                e
            }(e, t, n) : function(e, t) {
                if (c.isBuffer(t)) {
                    var n = 0 | h(t.length);
                    return 0 === (e = s(e, n)).length ? e : (t.copy(e, 0, 0, n),
                    e)
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length"in t)
                        return "number" != typeof t.length || (r = t.length) != r ? s(e, 0) : f(e, t);
                    if ("Buffer" === t.type && o(t.data))
                        return f(e, t.data)
                }
                var r;
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }
        function u(e) {
            if ("number" != typeof e)
                throw new TypeError('"size" argument must be a number');
            if (e < 0)
                throw new RangeError('"size" argument must not be negative')
        }
        function d(e, t) {
            if (u(t),
            e = s(e, t < 0 ? 0 : 0 | h(t)),
            !c.TYPED_ARRAY_SUPPORT)
                for (var n = 0; n < t; ++n)
                    e[n] = 0;
            return e
        }
        function f(e, t) {
            var n = t.length < 0 ? 0 : 0 | h(t.length);
            e = s(e, n);
            for (var r = 0; r < n; r += 1)
                e[r] = 255 & t[r];
            return e
        }
        function h(e) {
            if (e >= a())
                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
            return 0 | e
        }
        function p(e, t) {
            if (c.isBuffer(e))
                return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer))
                return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var n = e.length;
            if (0 === n)
                return 0;
            for (var r = !1; ; )
                switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return n;
                case "utf8":
                case "utf-8":
                case void 0:
                    return B(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * n;
                case "hex":
                    return n >>> 1;
                case "base64":
                    return U(e).length;
                default:
                    if (r)
                        return B(e).length;
                    t = ("" + t).toLowerCase(),
                    r = !0
                }
        }
        function g(e, t, n) {
            var r = e[t];
            e[t] = e[n],
            e[n] = r
        }
        function m(e, t, n, r, i) {
            if (0 === e.length)
                return -1;
            if ("string" == typeof n ? (r = n,
            n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648),
            n = +n,
            isNaN(n) && (n = i ? 0 : e.length - 1),
            n < 0 && (n = e.length + n),
            n >= e.length) {
                if (i)
                    return -1;
                n = e.length - 1
            } else if (n < 0) {
                if (!i)
                    return -1;
                n = 0
            }
            if ("string" == typeof t && (t = c.from(t, r)),
            c.isBuffer(t))
                return 0 === t.length ? -1 : v(e, t, n, r, i);
            if ("number" == typeof t)
                return t &= 255,
                c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : v(e, [t], n, r, i);
            throw new TypeError("val must be string, number or Buffer")
        }
        function v(e, t, n, r, i) {
            var o, a = 1, s = e.length, c = t.length;
            if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) {
                if (e.length < 2 || t.length < 2)
                    return -1;
                a = 2,
                s /= 2,
                c /= 2,
                n /= 2
            }
            function l(e, t) {
                return 1 === a ? e[t] : e.readUInt16BE(t * a)
            }
            if (i) {
                var u = -1;
                for (o = n; o < s; o++)
                    if (l(e, o) === l(t, -1 === u ? 0 : o - u)) {
                        if (-1 === u && (u = o),
                        o - u + 1 === c)
                            return u * a
                    } else
                        -1 !== u && (o -= o - u),
                        u = -1
            } else
                for (n + c > s && (n = s - c),
                o = n; o >= 0; o--) {
                    for (var d = !0, f = 0; f < c; f++)
                        if (l(e, o + f) !== l(t, f)) {
                            d = !1;
                            break
                        }
                    if (d)
                        return o
                }
            return -1
        }
        function y(e, t, n, r) {
            n = Number(n) || 0;
            var i = e.length - n;
            r ? (r = Number(r)) > i && (r = i) : r = i;
            var o = t.length;
            if (o % 2 != 0)
                throw new TypeError("Invalid hex string");
            r > o / 2 && (r = o / 2);
            for (var a = 0; a < r; ++a) {
                var s = parseInt(t.substr(2 * a, 2), 16);
                if (isNaN(s))
                    return a;
                e[n + a] = s
            }
            return a
        }
        function b(e, t, n, r) {
            return q(B(t, e.length - n), e, n, r)
        }
        function w(e, t, n, r) {
            return q(function(e) {
                for (var t = [], n = 0; n < e.length; ++n)
                    t.push(255 & e.charCodeAt(n));
                return t
            }(t), e, n, r)
        }
        function x(e, t, n, r) {
            return w(e, t, n, r)
        }
        function S(e, t, n, r) {
            return q(U(t), e, n, r)
        }
        function C(e, t, n, r) {
            return q(function(e, t) {
                for (var n, r, i, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)
                    r = (n = e.charCodeAt(a)) >> 8,
                    i = n % 256,
                    o.push(i),
                    o.push(r);
                return o
            }(t, e.length - n), e, n, r)
        }
        function _(e, t, n) {
            return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(t, n))
        }
        function k(e, t, n) {
            n = Math.min(e.length, n);
            for (var r = [], i = t; i < n; ) {
                var o, a, s, c, l = e[i], u = null, d = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1;
                if (i + d <= n)
                    switch (d) {
                    case 1:
                        l < 128 && (u = l);
                        break;
                    case 2:
                        128 == (192 & (o = e[i + 1])) && (c = (31 & l) << 6 | 63 & o) > 127 && (u = c);
                        break;
                    case 3:
                        o = e[i + 1],
                        a = e[i + 2],
                        128 == (192 & o) && 128 == (192 & a) && (c = (15 & l) << 12 | (63 & o) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (u = c);
                        break;
                    case 4:
                        o = e[i + 1],
                        a = e[i + 2],
                        s = e[i + 3],
                        128 == (192 & o) && 128 == (192 & a) && 128 == (192 & s) && (c = (15 & l) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (u = c)
                    }
                null === u ? (u = 65533,
                d = 1) : u > 65535 && (u -= 65536,
                r.push(u >>> 10 & 1023 | 55296),
                u = 56320 | 1023 & u),
                r.push(u),
                i += d
            }
            return function(e) {
                var t = e.length;
                if (t <= E)
                    return String.fromCharCode.apply(String, e);
                for (var n = "", r = 0; r < t; )
                    n += String.fromCharCode.apply(String, e.slice(r, r += E));
                return n
            }(r)
        }
        t.Buffer = c,
        t.SlowBuffer = function(e) {
            return +e != e && (e = 0),
            c.alloc(+e)
        }
        ,
        t.INSPECT_MAX_BYTES = 50,
        c.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                },
                42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (e) {
                return !1
            }
        }(),
        t.kMaxLength = a(),
        c.poolSize = 8192,
        c._augment = function(e) {
            return e.__proto__ = c.prototype,
            e
        }
        ,
        c.from = function(e, t, n) {
            return l(null, e, t, n)
        }
        ,
        c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype,
        c.__proto__ = Uint8Array,
        "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
            value: null,
            configurable: !0
        })),
        c.alloc = function(e, t, n) {
            return function(e, t, n, r) {
                return u(t),
                t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof r ? s(e, t).fill(n, r) : s(e, t).fill(n) : s(e, t)
            }(null, e, t, n)
        }
        ,
        c.allocUnsafe = function(e) {
            return d(null, e)
        }
        ,
        c.allocUnsafeSlow = function(e) {
            return d(null, e)
        }
        ,
        c.isBuffer = function(e) {
            return !(null == e || !e._isBuffer)
        }
        ,
        c.compare = function(e, t) {
            if (!c.isBuffer(e) || !c.isBuffer(t))
                throw new TypeError("Arguments must be Buffers");
            if (e === t)
                return 0;
            for (var n = e.length, r = t.length, i = 0, o = Math.min(n, r); i < o; ++i)
                if (e[i] !== t[i]) {
                    n = e[i],
                    r = t[i];
                    break
                }
            return n < r ? -1 : r < n ? 1 : 0
        }
        ,
        c.isEncoding = function(e) {
            switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return !0;
            default:
                return !1
            }
        }
        ,
        c.concat = function(e, t) {
            if (!o(e))
                throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length)
                return c.alloc(0);
            var n;
            if (void 0 === t)
                for (t = 0,
                n = 0; n < e.length; ++n)
                    t += e[n].length;
            var r = c.allocUnsafe(t)
              , i = 0;
            for (n = 0; n < e.length; ++n) {
                var a = e[n];
                if (!c.isBuffer(a))
                    throw new TypeError('"list" argument must be an Array of Buffers');
                a.copy(r, i),
                i += a.length
            }
            return r
        }
        ,
        c.byteLength = p,
        c.prototype._isBuffer = !0,
        c.prototype.swap16 = function() {
            var e = this.length;
            if (e % 2 != 0)
                throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2)
                g(this, t, t + 1);
            return this
        }
        ,
        c.prototype.swap32 = function() {
            var e = this.length;
            if (e % 4 != 0)
                throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4)
                g(this, t, t + 3),
                g(this, t + 1, t + 2);
            return this
        }
        ,
        c.prototype.swap64 = function() {
            var e = this.length;
            if (e % 8 != 0)
                throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8)
                g(this, t, t + 7),
                g(this, t + 1, t + 6),
                g(this, t + 2, t + 5),
                g(this, t + 3, t + 4);
            return this
        }
        ,
        c.prototype.toString = function() {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? k(this, 0, e) : function(e, t, n) {
                var r = !1;
                if ((void 0 === t || t < 0) && (t = 0),
                t > this.length)
                    return "";
                if ((void 0 === n || n > this.length) && (n = this.length),
                n <= 0)
                    return "";
                if ((n >>>= 0) <= (t >>>= 0))
                    return "";
                for (e || (e = "utf8"); ; )
                    switch (e) {
                    case "hex":
                        return A(this, t, n);
                    case "utf8":
                    case "utf-8":
                        return k(this, t, n);
                    case "ascii":
                        return T(this, t, n);
                    case "latin1":
                    case "binary":
                        return P(this, t, n);
                    case "base64":
                        return _(this, t, n);
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return O(this, t, n);
                    default:
                        if (r)
                            throw new TypeError("Unknown encoding: " + e);
                        e = (e + "").toLowerCase(),
                        r = !0
                    }
            }
            .apply(this, arguments)
        }
        ,
        c.prototype.equals = function(e) {
            if (!c.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === c.compare(this, e)
        }
        ,
        c.prototype.inspect = function() {
            var e = ""
              , n = t.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "),
            this.length > n && (e += " ... ")),
            "<Buffer " + e + ">"
        }
        ,
        c.prototype.compare = function(e, t, n, r, i) {
            if (!c.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0),
            void 0 === n && (n = e ? e.length : 0),
            void 0 === r && (r = 0),
            void 0 === i && (i = this.length),
            t < 0 || n > e.length || r < 0 || i > this.length)
                throw new RangeError("out of range index");
            if (r >= i && t >= n)
                return 0;
            if (r >= i)
                return -1;
            if (t >= n)
                return 1;
            if (t >>>= 0,
            n >>>= 0,
            r >>>= 0,
            i >>>= 0,
            this === e)
                return 0;
            for (var o = i - r, a = n - t, s = Math.min(o, a), l = this.slice(r, i), u = e.slice(t, n), d = 0; d < s; ++d)
                if (l[d] !== u[d]) {
                    o = l[d],
                    a = u[d];
                    break
                }
            return o < a ? -1 : a < o ? 1 : 0
        }
        ,
        c.prototype.includes = function(e, t, n) {
            return -1 !== this.indexOf(e, t, n)
        }
        ,
        c.prototype.indexOf = function(e, t, n) {
            return m(this, e, t, n, !0)
        }
        ,
        c.prototype.lastIndexOf = function(e, t, n) {
            return m(this, e, t, n, !1)
        }
        ,
        c.prototype.write = function(e, t, n, r) {
            if (void 0 === t)
                r = "utf8",
                n = this.length,
                t = 0;
            else if (void 0 === n && "string" == typeof t)
                r = t,
                n = this.length,
                t = 0;
            else {
                if (!isFinite(t))
                    throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0,
                isFinite(n) ? (n |= 0,
                void 0 === r && (r = "utf8")) : (r = n,
                n = void 0)
            }
            var i = this.length - t;
            if ((void 0 === n || n > i) && (n = i),
            e.length > 0 && (n < 0 || t < 0) || t > this.length)
                throw new RangeError("Attempt to write outside buffer bounds");
            r || (r = "utf8");
            for (var o = !1; ; )
                switch (r) {
                case "hex":
                    return y(this, e, t, n);
                case "utf8":
                case "utf-8":
                    return b(this, e, t, n);
                case "ascii":
                    return w(this, e, t, n);
                case "latin1":
                case "binary":
                    return x(this, e, t, n);
                case "base64":
                    return S(this, e, t, n);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return C(this, e, t, n);
                default:
                    if (o)
                        throw new TypeError("Unknown encoding: " + r);
                    r = ("" + r).toLowerCase(),
                    o = !0
                }
        }
        ,
        c.prototype.toJSON = function() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        }
        ;
        var E = 4096;
        function T(e, t, n) {
            var r = "";
            n = Math.min(e.length, n);
            for (var i = t; i < n; ++i)
                r += String.fromCharCode(127 & e[i]);
            return r
        }
        function P(e, t, n) {
            var r = "";
            n = Math.min(e.length, n);
            for (var i = t; i < n; ++i)
                r += String.fromCharCode(e[i]);
            return r
        }
        function A(e, t, n) {
            var r = e.length;
            (!t || t < 0) && (t = 0),
            (!n || n < 0 || n > r) && (n = r);
            for (var i = "", o = t; o < n; ++o)
                i += N(e[o]);
            return i
        }
        function O(e, t, n) {
            for (var r = e.slice(t, n), i = "", o = 0; o < r.length; o += 2)
                i += String.fromCharCode(r[o] + 256 * r[o + 1]);
            return i
        }
        function $(e, t, n) {
            if (e % 1 != 0 || e < 0)
                throw new RangeError("offset is not uint");
            if (e + t > n)
                throw new RangeError("Trying to access beyond buffer length")
        }
        function j(e, t, n, r, i, o) {
            if (!c.isBuffer(e))
                throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > i || t < o)
                throw new RangeError('"value" argument is out of bounds');
            if (n + r > e.length)
                throw new RangeError("Index out of range")
        }
        function D(e, t, n, r) {
            t < 0 && (t = 65535 + t + 1);
            for (var i = 0, o = Math.min(e.length - n, 2); i < o; ++i)
                e[n + i] = (t & 255 << 8 * (r ? i : 1 - i)) >>> 8 * (r ? i : 1 - i)
        }
        function R(e, t, n, r) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var i = 0, o = Math.min(e.length - n, 4); i < o; ++i)
                e[n + i] = t >>> 8 * (r ? i : 3 - i) & 255
        }
        function M(e, t, n, r, i, o) {
            if (n + r > e.length)
                throw new RangeError("Index out of range");
            if (n < 0)
                throw new RangeError("Index out of range")
        }
        function I(e, t, n, r, o) {
            return o || M(e, 0, n, 4),
            i.write(e, t, n, r, 23, 4),
            n + 4
        }
        function L(e, t, n, r, o) {
            return o || M(e, 0, n, 8),
            i.write(e, t, n, r, 52, 8),
            n + 8
        }
        c.prototype.slice = function(e, t) {
            var n, r = this.length;
            if (e = ~~e,
            t = void 0 === t ? r : ~~t,
            e < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r),
            t < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r),
            t < e && (t = e),
            c.TYPED_ARRAY_SUPPORT)
                (n = this.subarray(e, t)).__proto__ = c.prototype;
            else {
                var i = t - e;
                n = new c(i,void 0);
                for (var o = 0; o < i; ++o)
                    n[o] = this[o + e]
            }
            return n
        }
        ,
        c.prototype.readUIntLE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || $(e, t, this.length);
            for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                r += this[e + o] * i;
            return r
        }
        ,
        c.prototype.readUIntBE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || $(e, t, this.length);
            for (var r = this[e + --t], i = 1; t > 0 && (i *= 256); )
                r += this[e + --t] * i;
            return r
        }
        ,
        c.prototype.readUInt8 = function(e, t) {
            return t || $(e, 1, this.length),
            this[e]
        }
        ,
        c.prototype.readUInt16LE = function(e, t) {
            return t || $(e, 2, this.length),
            this[e] | this[e + 1] << 8
        }
        ,
        c.prototype.readUInt16BE = function(e, t) {
            return t || $(e, 2, this.length),
            this[e] << 8 | this[e + 1]
        }
        ,
        c.prototype.readUInt32LE = function(e, t) {
            return t || $(e, 4, this.length),
            (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }
        ,
        c.prototype.readUInt32BE = function(e, t) {
            return t || $(e, 4, this.length),
            16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }
        ,
        c.prototype.readIntLE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || $(e, t, this.length);
            for (var r = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                r += this[e + o] * i;
            return r >= (i *= 128) && (r -= Math.pow(2, 8 * t)),
            r
        }
        ,
        c.prototype.readIntBE = function(e, t, n) {
            e |= 0,
            t |= 0,
            n || $(e, t, this.length);
            for (var r = t, i = 1, o = this[e + --r]; r > 0 && (i *= 256); )
                o += this[e + --r] * i;
            return o >= (i *= 128) && (o -= Math.pow(2, 8 * t)),
            o
        }
        ,
        c.prototype.readInt8 = function(e, t) {
            return t || $(e, 1, this.length),
            128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }
        ,
        c.prototype.readInt16LE = function(e, t) {
            t || $(e, 2, this.length);
            var n = this[e] | this[e + 1] << 8;
            return 32768 & n ? 4294901760 | n : n
        }
        ,
        c.prototype.readInt16BE = function(e, t) {
            t || $(e, 2, this.length);
            var n = this[e + 1] | this[e] << 8;
            return 32768 & n ? 4294901760 | n : n
        }
        ,
        c.prototype.readInt32LE = function(e, t) {
            return t || $(e, 4, this.length),
            this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }
        ,
        c.prototype.readInt32BE = function(e, t) {
            return t || $(e, 4, this.length),
            this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }
        ,
        c.prototype.readFloatLE = function(e, t) {
            return t || $(e, 4, this.length),
            i.read(this, e, !0, 23, 4)
        }
        ,
        c.prototype.readFloatBE = function(e, t) {
            return t || $(e, 4, this.length),
            i.read(this, e, !1, 23, 4)
        }
        ,
        c.prototype.readDoubleLE = function(e, t) {
            return t || $(e, 8, this.length),
            i.read(this, e, !0, 52, 8)
        }
        ,
        c.prototype.readDoubleBE = function(e, t) {
            return t || $(e, 8, this.length),
            i.read(this, e, !1, 52, 8)
        }
        ,
        c.prototype.writeUIntLE = function(e, t, n, r) {
            e = +e,
            t |= 0,
            n |= 0,
            r || j(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var i = 1
              , o = 0;
            for (this[t] = 255 & e; ++o < n && (i *= 256); )
                this[t + o] = e / i & 255;
            return t + n
        }
        ,
        c.prototype.writeUIntBE = function(e, t, n, r) {
            e = +e,
            t |= 0,
            n |= 0,
            r || j(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var i = n - 1
              , o = 1;
            for (this[t + i] = 255 & e; --i >= 0 && (o *= 256); )
                this[t + i] = e / o & 255;
            return t + n
        }
        ,
        c.prototype.writeUInt8 = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 1, 255, 0),
            c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            this[t] = 255 & e,
            t + 1
        }
        ,
        c.prototype.writeUInt16LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 2, 65535, 0),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : D(this, e, t, !0),
            t + 2
        }
        ,
        c.prototype.writeUInt16BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 2, 65535, 0),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : D(this, e, t, !1),
            t + 2
        }
        ,
        c.prototype.writeUInt32LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 4, 4294967295, 0),
            c.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24,
            this[t + 2] = e >>> 16,
            this[t + 1] = e >>> 8,
            this[t] = 255 & e) : R(this, e, t, !0),
            t + 4
        }
        ,
        c.prototype.writeUInt32BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 4, 4294967295, 0),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : R(this, e, t, !1),
            t + 4
        }
        ,
        c.prototype.writeIntLE = function(e, t, n, r) {
            if (e = +e,
            t |= 0,
            !r) {
                var i = Math.pow(2, 8 * n - 1);
                j(this, e, t, n, i - 1, -i)
            }
            var o = 0
              , a = 1
              , s = 0;
            for (this[t] = 255 & e; ++o < n && (a *= 256); )
                e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1),
                this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }
        ,
        c.prototype.writeIntBE = function(e, t, n, r) {
            if (e = +e,
            t |= 0,
            !r) {
                var i = Math.pow(2, 8 * n - 1);
                j(this, e, t, n, i - 1, -i)
            }
            var o = n - 1
              , a = 1
              , s = 0;
            for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
                e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1),
                this[t + o] = (e / a >> 0) - s & 255;
            return t + n
        }
        ,
        c.prototype.writeInt8 = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 1, 127, -128),
            c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            e < 0 && (e = 255 + e + 1),
            this[t] = 255 & e,
            t + 1
        }
        ,
        c.prototype.writeInt16LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 2, 32767, -32768),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : D(this, e, t, !0),
            t + 2
        }
        ,
        c.prototype.writeInt16BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 2, 32767, -32768),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : D(this, e, t, !1),
            t + 2
        }
        ,
        c.prototype.writeInt32LE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 4, 2147483647, -2147483648),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8,
            this[t + 2] = e >>> 16,
            this[t + 3] = e >>> 24) : R(this, e, t, !0),
            t + 4
        }
        ,
        c.prototype.writeInt32BE = function(e, t, n) {
            return e = +e,
            t |= 0,
            n || j(this, e, t, 4, 2147483647, -2147483648),
            e < 0 && (e = 4294967295 + e + 1),
            c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : R(this, e, t, !1),
            t + 4
        }
        ,
        c.prototype.writeFloatLE = function(e, t, n) {
            return I(this, e, t, !0, n)
        }
        ,
        c.prototype.writeFloatBE = function(e, t, n) {
            return I(this, e, t, !1, n)
        }
        ,
        c.prototype.writeDoubleLE = function(e, t, n) {
            return L(this, e, t, !0, n)
        }
        ,
        c.prototype.writeDoubleBE = function(e, t, n) {
            return L(this, e, t, !1, n)
        }
        ,
        c.prototype.copy = function(e, t, n, r) {
            if (n || (n = 0),
            r || 0 === r || (r = this.length),
            t >= e.length && (t = e.length),
            t || (t = 0),
            r > 0 && r < n && (r = n),
            r === n)
                return 0;
            if (0 === e.length || 0 === this.length)
                return 0;
            if (t < 0)
                throw new RangeError("targetStart out of bounds");
            if (n < 0 || n >= this.length)
                throw new RangeError("sourceStart out of bounds");
            if (r < 0)
                throw new RangeError("sourceEnd out of bounds");
            r > this.length && (r = this.length),
            e.length - t < r - n && (r = e.length - t + n);
            var i, o = r - n;
            if (this === e && n < t && t < r)
                for (i = o - 1; i >= 0; --i)
                    e[i + t] = this[i + n];
            else if (o < 1e3 || !c.TYPED_ARRAY_SUPPORT)
                for (i = 0; i < o; ++i)
                    e[i + t] = this[i + n];
            else
                Uint8Array.prototype.set.call(e, this.subarray(n, n + o), t);
            return o
        }
        ,
        c.prototype.fill = function(e, t, n, r) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (r = t,
                t = 0,
                n = this.length) : "string" == typeof n && (r = n,
                n = this.length),
                1 === e.length) {
                    var i = e.charCodeAt(0);
                    i < 256 && (e = i)
                }
                if (void 0 !== r && "string" != typeof r)
                    throw new TypeError("encoding must be a string");
                if ("string" == typeof r && !c.isEncoding(r))
                    throw new TypeError("Unknown encoding: " + r)
            } else
                "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < n)
                throw new RangeError("Out of range index");
            if (n <= t)
                return this;
            var o;
            if (t >>>= 0,
            n = void 0 === n ? this.length : n >>> 0,
            e || (e = 0),
            "number" == typeof e)
                for (o = t; o < n; ++o)
                    this[o] = e;
            else {
                var a = c.isBuffer(e) ? e : B(new c(e,r).toString())
                  , s = a.length;
                for (o = 0; o < n - t; ++o)
                    this[o + t] = a[o % s]
            }
            return this
        }
        ;
        var F = /[^+\/0-9A-Za-z-_]/g;
        function N(e) {
            return e < 16 ? "0" + e.toString(16) : e.toString(16)
        }
        function B(e, t) {
            var n;
            t = t || 1 / 0;
            for (var r = e.length, i = null, o = [], a = 0; a < r; ++a) {
                if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                    if (!i) {
                        if (n > 56319) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        if (a + 1 === r) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        i = n;
                        continue
                    }
                    if (n < 56320) {
                        (t -= 3) > -1 && o.push(239, 191, 189),
                        i = n;
                        continue
                    }
                    n = 65536 + (i - 55296 << 10 | n - 56320)
                } else
                    i && (t -= 3) > -1 && o.push(239, 191, 189);
                if (i = null,
                n < 128) {
                    if ((t -= 1) < 0)
                        break;
                    o.push(n)
                } else if (n < 2048) {
                    if ((t -= 2) < 0)
                        break;
                    o.push(n >> 6 | 192, 63 & n | 128)
                } else if (n < 65536) {
                    if ((t -= 3) < 0)
                        break;
                    o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                } else {
                    if (!(n < 1114112))
                        throw new Error("Invalid code point");
                    if ((t -= 4) < 0)
                        break;
                    o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                }
            }
            return o
        }
        function U(e) {
            return r.toByteArray(function(e) {
                if ((e = function(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                }(e).replace(F, "")).length < 2)
                    return "";
                for (; e.length % 4 != 0; )
                    e += "=";
                return e
            }(e))
        }
        function q(e, t, n, r) {
            for (var i = 0; i < r && !(i + n >= t.length || i >= e.length); ++i)
                t[i + n] = e[i];
            return i
        }
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    "use strict";
    var r = n(10)
      , i = Object.keys || function(e) {
        var t = [];
        for (var n in e)
            t.push(n);
        return t
    }
    ;
    e.exports = d;
    var o = n(8);
    o.inherits = n(3);
    var a = n(32)
      , s = n(36);
    o.inherits(d, a);
    for (var c = i(s.prototype), l = 0; l < c.length; l++) {
        var u = c[l];
        d.prototype[u] || (d.prototype[u] = s.prototype[u])
    }
    function d(e) {
        if (!(this instanceof d))
            return new d(e);
        a.call(this, e),
        s.call(this, e),
        e && !1 === e.readable && (this.readable = !1),
        e && !1 === e.writable && (this.writable = !1),
        this.allowHalfOpen = !0,
        e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1),
        this.once("end", f)
    }
    function f() {
        this.allowHalfOpen || this._writableState.ended || r.nextTick(h, this)
    }
    function h(e) {
        e.end()
    }
    Object.defineProperty(d.prototype, "writableHighWaterMark", {
        enumerable: !1,
        get: function() {
            return this._writableState.highWaterMark
        }
    }),
    Object.defineProperty(d.prototype, "destroyed", {
        get: function() {
            return void 0 !== this._readableState && void 0 !== this._writableState && this._readableState.destroyed && this._writableState.destroyed
        },
        set: function(e) {
            void 0 !== this._readableState && void 0 !== this._writableState && (this._readableState.destroyed = e,
            this._writableState.destroyed = e)
        }
    }),
    d.prototype._destroy = function(e, t) {
        this.push(null),
        this.end(),
        r.nextTick(t, e)
    }
}
, function(e, t, n) {
    (function(e) {
        function n(e) {
            return Object.prototype.toString.call(e)
        }
        t.isArray = function(e) {
            return Array.isArray ? Array.isArray(e) : "[object Array]" === n(e)
        }
        ,
        t.isBoolean = function(e) {
            return "boolean" == typeof e
        }
        ,
        t.isNull = function(e) {
            return null === e
        }
        ,
        t.isNullOrUndefined = function(e) {
            return null == e
        }
        ,
        t.isNumber = function(e) {
            return "number" == typeof e
        }
        ,
        t.isString = function(e) {
            return "string" == typeof e
        }
        ,
        t.isSymbol = function(e) {
            return "symbol" == typeof e
        }
        ,
        t.isUndefined = function(e) {
            return void 0 === e
        }
        ,
        t.isRegExp = function(e) {
            return "[object RegExp]" === n(e)
        }
        ,
        t.isObject = function(e) {
            return "object" == typeof e && null !== e
        }
        ,
        t.isDate = function(e) {
            return "[object Date]" === n(e)
        }
        ,
        t.isError = function(e) {
            return "[object Error]" === n(e) || e instanceof Error
        }
        ,
        t.isFunction = function(e) {
            return "function" == typeof e
        }
        ,
        t.isPrimitive = function(e) {
            return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || void 0 === e
        }
        ,
        t.isBuffer = e.isBuffer
    }
    ).call(this, n(6).Buffer)
}
, function(e, t, n) {
    "use strict";
    var r = n(58)
      , i = n(59);
    function o() {
        this.protocol = null,
        this.slashes = null,
        this.auth = null,
        this.host = null,
        this.port = null,
        this.hostname = null,
        this.hash = null,
        this.search = null,
        this.query = null,
        this.pathname = null,
        this.path = null,
        this.href = null
    }
    t.parse = b,
    t.resolve = function(e, t) {
        return b(e, !1, !0).resolve(t)
    }
    ,
    t.resolveObject = function(e, t) {
        return e ? b(e, !1, !0).resolveObject(t) : t
    }
    ,
    t.format = function(e) {
        return i.isString(e) && (e = b(e)),
        e instanceof o ? e.format() : o.prototype.format.call(e)
    }
    ,
    t.Url = o;
    var a = /^([a-z0-9.+-]+:)/i
      , s = /:[0-9]*$/
      , c = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/
      , l = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"])
      , u = ["'"].concat(l)
      , d = ["%", "/", "?", ";", "#"].concat(u)
      , f = ["/", "?", "#"]
      , h = /^[+a-z0-9A-Z_-]{0,63}$/
      , p = /^([+a-z0-9A-Z_-]{0,63})(.*)$/
      , g = {
        javascript: !0,
        "javascript:": !0
    }
      , m = {
        javascript: !0,
        "javascript:": !0
    }
      , v = {
        http: !0,
        https: !0,
        ftp: !0,
        gopher: !0,
        file: !0,
        "http:": !0,
        "https:": !0,
        "ftp:": !0,
        "gopher:": !0,
        "file:": !0
    }
      , y = n(60);
    function b(e, t, n) {
        if (e && i.isObject(e) && e instanceof o)
            return e;
        var r = new o;
        return r.parse(e, t, n),
        r
    }
    o.prototype.parse = function(e, t, n) {
        if (!i.isString(e))
            throw new TypeError("Parameter 'url' must be a string, not " + typeof e);
        var o = e.indexOf("?")
          , s = -1 !== o && o < e.indexOf("#") ? "?" : "#"
          , l = e.split(s);
        l[0] = l[0].replace(/\\/g, "/");
        var b = e = l.join(s);
        if (b = b.trim(),
        !n && 1 === e.split("#").length) {
            var w = c.exec(b);
            if (w)
                return this.path = b,
                this.href = b,
                this.pathname = w[1],
                w[2] ? (this.search = w[2],
                this.query = t ? y.parse(this.search.substr(1)) : this.search.substr(1)) : t && (this.search = "",
                this.query = {}),
                this
        }
        var x = a.exec(b);
        if (x) {
            var S = (x = x[0]).toLowerCase();
            this.protocol = S,
            b = b.substr(x.length)
        }
        if (n || x || b.match(/^\/\/[^@\/]+@[^@\/]+/)) {
            var C = "//" === b.substr(0, 2);
            !C || x && m[x] || (b = b.substr(2),
            this.slashes = !0)
        }
        if (!m[x] && (C || x && !v[x])) {
            for (var _, k, E = -1, T = 0; T < f.length; T++)
                -1 !== (P = b.indexOf(f[T])) && (-1 === E || P < E) && (E = P);
            for (-1 !== (k = -1 === E ? b.lastIndexOf("@") : b.lastIndexOf("@", E)) && (_ = b.slice(0, k),
            b = b.slice(k + 1),
            this.auth = decodeURIComponent(_)),
            E = -1,
            T = 0; T < d.length; T++) {
                var P;
                -1 !== (P = b.indexOf(d[T])) && (-1 === E || P < E) && (E = P)
            }
            -1 === E && (E = b.length),
            this.host = b.slice(0, E),
            b = b.slice(E),
            this.parseHost(),
            this.hostname = this.hostname || "";
            var A = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
            if (!A)
                for (var O = this.hostname.split(/\./), $ = (T = 0,
                O.length); T < $; T++) {
                    var j = O[T];
                    if (j && !j.match(h)) {
                        for (var D = "", R = 0, M = j.length; R < M; R++)
                            j.charCodeAt(R) > 127 ? D += "x" : D += j[R];
                        if (!D.match(h)) {
                            var I = O.slice(0, T)
                              , L = O.slice(T + 1)
                              , F = j.match(p);
                            F && (I.push(F[1]),
                            L.unshift(F[2])),
                            L.length && (b = "/" + L.join(".") + b),
                            this.hostname = I.join(".");
                            break
                        }
                    }
                }
            this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
            A || (this.hostname = r.toASCII(this.hostname));
            var N = this.port ? ":" + this.port : ""
              , B = this.hostname || "";
            this.host = B + N,
            this.href += this.host,
            A && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
            "/" !== b[0] && (b = "/" + b))
        }
        if (!g[S])
            for (T = 0,
            $ = u.length; T < $; T++) {
                var U = u[T];
                if (-1 !== b.indexOf(U)) {
                    var q = encodeURIComponent(U);
                    q === U && (q = escape(U)),
                    b = b.split(U).join(q)
                }
            }
        var V = b.indexOf("#");
        -1 !== V && (this.hash = b.substr(V),
        b = b.slice(0, V));
        var z = b.indexOf("?");
        if (-1 !== z ? (this.search = b.substr(z),
        this.query = b.substr(z + 1),
        t && (this.query = y.parse(this.query)),
        b = b.slice(0, z)) : t && (this.search = "",
        this.query = {}),
        b && (this.pathname = b),
        v[S] && this.hostname && !this.pathname && (this.pathname = "/"),
        this.pathname || this.search) {
            N = this.pathname || "";
            var H = this.search || "";
            this.path = N + H
        }
        return this.href = this.format(),
        this
    }
    ,
    o.prototype.format = function() {
        var e = this.auth || "";
        e && (e = (e = encodeURIComponent(e)).replace(/%3A/i, ":"),
        e += "@");
        var t = this.protocol || ""
          , n = this.pathname || ""
          , r = this.hash || ""
          , o = !1
          , a = "";
        this.host ? o = e + this.host : this.hostname && (o = e + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
        this.port && (o += ":" + this.port)),
        this.query && i.isObject(this.query) && Object.keys(this.query).length && (a = y.stringify(this.query));
        var s = this.search || a && "?" + a || "";
        return t && ":" !== t.substr(-1) && (t += ":"),
        this.slashes || (!t || v[t]) && !1 !== o ? (o = "//" + (o || ""),
        n && "/" !== n.charAt(0) && (n = "/" + n)) : o || (o = ""),
        r && "#" !== r.charAt(0) && (r = "#" + r),
        s && "?" !== s.charAt(0) && (s = "?" + s),
        t + o + (n = n.replace(/[?#]/g, function(e) {
            return encodeURIComponent(e)
        })) + (s = s.replace("#", "%23")) + r
    }
    ,
    o.prototype.resolve = function(e) {
        return this.resolveObject(b(e, !1, !0)).format()
    }
    ,
    o.prototype.resolveObject = function(e) {
        if (i.isString(e)) {
            var t = new o;
            t.parse(e, !1, !0),
            e = t
        }
        for (var n = new o, r = Object.keys(this), a = 0; a < r.length; a++) {
            var s = r[a];
            n[s] = this[s]
        }
        if (n.hash = e.hash,
        "" === e.href)
            return n.href = n.format(),
            n;
        if (e.slashes && !e.protocol) {
            for (var c = Object.keys(e), l = 0; l < c.length; l++) {
                var u = c[l];
                "protocol" !== u && (n[u] = e[u])
            }
            return v[n.protocol] && n.hostname && !n.pathname && (n.path = n.pathname = "/"),
            n.href = n.format(),
            n
        }
        if (e.protocol && e.protocol !== n.protocol) {
            if (!v[e.protocol]) {
                for (var d = Object.keys(e), f = 0; f < d.length; f++) {
                    var h = d[f];
                    n[h] = e[h]
                }
                return n.href = n.format(),
                n
            }
            if (n.protocol = e.protocol,
            e.host || m[e.protocol])
                n.pathname = e.pathname;
            else {
                for (var p = (e.pathname || "").split("/"); p.length && !(e.host = p.shift()); )
                    ;
                e.host || (e.host = ""),
                e.hostname || (e.hostname = ""),
                "" !== p[0] && p.unshift(""),
                p.length < 2 && p.unshift(""),
                n.pathname = p.join("/")
            }
            if (n.search = e.search,
            n.query = e.query,
            n.host = e.host || "",
            n.auth = e.auth,
            n.hostname = e.hostname || e.host,
            n.port = e.port,
            n.pathname || n.search) {
                var g = n.pathname || ""
                  , y = n.search || "";
                n.path = g + y
            }
            return n.slashes = n.slashes || e.slashes,
            n.href = n.format(),
            n
        }
        var b = n.pathname && "/" === n.pathname.charAt(0)
          , w = e.host || e.pathname && "/" === e.pathname.charAt(0)
          , x = w || b || n.host && e.pathname
          , S = x
          , C = n.pathname && n.pathname.split("/") || []
          , _ = (p = e.pathname && e.pathname.split("/") || [],
        n.protocol && !v[n.protocol]);
        if (_ && (n.hostname = "",
        n.port = null,
        n.host && ("" === C[0] ? C[0] = n.host : C.unshift(n.host)),
        n.host = "",
        e.protocol && (e.hostname = null,
        e.port = null,
        e.host && ("" === p[0] ? p[0] = e.host : p.unshift(e.host)),
        e.host = null),
        x = x && ("" === p[0] || "" === C[0])),
        w)
            n.host = e.host || "" === e.host ? e.host : n.host,
            n.hostname = e.hostname || "" === e.hostname ? e.hostname : n.hostname,
            n.search = e.search,
            n.query = e.query,
            C = p;
        else if (p.length)
            C || (C = []),
            C.pop(),
            C = C.concat(p),
            n.search = e.search,
            n.query = e.query;
        else if (!i.isNullOrUndefined(e.search))
            return _ && (n.hostname = n.host = C.shift(),
            (A = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = A.shift(),
            n.host = n.hostname = A.shift())),
            n.search = e.search,
            n.query = e.query,
            i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
            n.href = n.format(),
            n;
        if (!C.length)
            return n.pathname = null,
            n.search ? n.path = "/" + n.search : n.path = null,
            n.href = n.format(),
            n;
        for (var k = C.slice(-1)[0], E = (n.host || e.host || C.length > 1) && ("." === k || ".." === k) || "" === k, T = 0, P = C.length; P >= 0; P--)
            "." === (k = C[P]) ? C.splice(P, 1) : ".." === k ? (C.splice(P, 1),
            T++) : T && (C.splice(P, 1),
            T--);
        if (!x && !S)
            for (; T--; T)
                C.unshift("..");
        !x || "" === C[0] || C[0] && "/" === C[0].charAt(0) || C.unshift(""),
        E && "/" !== C.join("/").substr(-1) && C.push("");
        var A, O = "" === C[0] || C[0] && "/" === C[0].charAt(0);
        return _ && (n.hostname = n.host = O ? "" : C.length ? C.shift() : "",
        (A = !!(n.host && n.host.indexOf("@") > 0) && n.host.split("@")) && (n.auth = A.shift(),
        n.host = n.hostname = A.shift())),
        (x = x || n.host && C.length) && !O && C.unshift(""),
        C.length ? n.pathname = C.join("/") : (n.pathname = null,
        n.path = null),
        i.isNull(n.pathname) && i.isNull(n.search) || (n.path = (n.pathname ? n.pathname : "") + (n.search ? n.search : "")),
        n.auth = e.auth || n.auth,
        n.slashes = n.slashes || e.slashes,
        n.href = n.format(),
        n
    }
    ,
    o.prototype.parseHost = function() {
        var e = this.host
          , t = s.exec(e);
        t && (":" !== (t = t[0]) && (this.port = t.substr(1)),
        e = e.substr(0, e.length - t.length)),
        e && (this.hostname = e)
    }
}
, function(e, t, n) {
    "use strict";
    (function(t) {
        !t.version || 0 === t.version.indexOf("v0.") || 0 === t.version.indexOf("v1.") && 0 !== t.version.indexOf("v1.8.") ? e.exports = {
            nextTick: function(e, n, r, i) {
                if ("function" != typeof e)
                    throw new TypeError('"callback" argument must be a function');
                var o, a, s = arguments.length;
                switch (s) {
                case 0:
                case 1:
                    return t.nextTick(e);
                case 2:
                    return t.nextTick(function() {
                        e.call(null, n)
                    });
                case 3:
                    return t.nextTick(function() {
                        e.call(null, n, r)
                    });
                case 4:
                    return t.nextTick(function() {
                        e.call(null, n, r, i)
                    });
                default:
                    for (o = new Array(s - 1),
                    a = 0; a < o.length; )
                        o[a++] = arguments[a];
                    return t.nextTick(function() {
                        e.apply(null, o)
                    })
                }
            }
        } : e.exports = t
    }
    ).call(this, n(2))
}
, function(e, t, n) {
    var r = n(6)
      , i = r.Buffer;
    function o(e, t) {
        for (var n in e)
            t[n] = e[n]
    }
    function a(e, t, n) {
        return i(e, t, n)
    }
    i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e.exports = r : (o(r, t),
    t.Buffer = a),
    o(i, a),
    a.from = function(e, t, n) {
        if ("number" == typeof e)
            throw new TypeError("Argument must not be a number");
        return i(e, t, n)
    }
    ,
    a.alloc = function(e, t, n) {
        if ("number" != typeof e)
            throw new TypeError("Argument must be a number");
        var r = i(e);
        return void 0 !== t ? "string" == typeof n ? r.fill(t, n) : r.fill(t) : r.fill(0),
        r
    }
    ,
    a.allocUnsafe = function(e) {
        if ("number" != typeof e)
            throw new TypeError("Argument must be a number");
        return i(e)
    }
    ,
    a.allocUnsafeSlow = function(e) {
        if ("number" != typeof e)
            throw new TypeError("Argument must be a number");
        return r.SlowBuffer(e)
    }
}
, function(e, t) {
    e.exports = function(e) {
        return e.webpackPolyfill || (e.deprecate = function() {}
        ,
        e.paths = [],
        e.children || (e.children = []),
        Object.defineProperty(e, "loaded", {
            enumerable: !0,
            get: function() {
                return e.l
            }
        }),
        Object.defineProperty(e, "id", {
            enumerable: !0,
            get: function() {
                return e.i
            }
        }),
        e.webpackPolyfill = 1),
        e
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(9)
      , i = n(14)
      , o = n(5)
      , a = n(19)
      , s = n(64);
    function c(e, t, n) {
        var r = this._refs[n];
        if ("string" == typeof r) {
            if (!this._refs[r])
                return c.call(this, e, t, r);
            r = this._refs[r]
        }
        if ((r = r || this._schemas[n])instanceof a)
            return h(r.schema, this._opts.inlineRefs) ? r.schema : r.validate || this._compile(r);
        var i, o, s, u = l.call(this, t, n);
        return u && (i = u.schema,
        t = u.root,
        s = u.baseId),
        i instanceof a ? o = i.validate || e.call(this, i.schema, t, void 0, s) : void 0 !== i && (o = h(i, this._opts.inlineRefs) ? i : e.call(this, i, t, void 0, s)),
        o
    }
    function l(e, t) {
        var n = r.parse(t, !1, !0)
          , i = g(n)
          , o = p(this._getId(e.schema));
        if (i !== o) {
            var s = v(i)
              , c = this._refs[s];
            if ("string" == typeof c)
                return function(e, t, n) {
                    var r = l.call(this, e, t);
                    if (r) {
                        var i = r.schema
                          , o = r.baseId;
                        e = r.root;
                        var a = this._getId(i);
                        return a && (o = y(o, a)),
                        d.call(this, n, o, i, e)
                    }
                }
                .call(this, e, c, n);
            if (c instanceof a)
                c.validate || this._compile(c),
                e = c;
            else {
                if (!((c = this._schemas[s])instanceof a))
                    return;
                if (c.validate || this._compile(c),
                s == v(t))
                    return {
                        schema: c,
                        root: e,
                        baseId: o
                    };
                e = c
            }
            if (!e.schema)
                return;
            o = p(this._getId(e.schema))
        }
        return d.call(this, n, o, e.schema, e)
    }
    e.exports = c,
    c.normalizeId = v,
    c.fullPath = p,
    c.url = y,
    c.ids = function(e) {
        var t = v(this._getId(e))
          , n = {
            "": t
        }
          , a = {
            "": p(t, !1)
        }
          , c = {}
          , l = this;
        return s(e, {
            allKeys: !0
        }, function(e, t, s, u, d, f, h) {
            if ("" !== t) {
                var p = l._getId(e)
                  , g = n[u]
                  , m = a[u] + "/" + d;
                if (void 0 !== h && (m += "/" + ("number" == typeof h ? h : o.escapeFragment(h))),
                "string" == typeof p) {
                    p = g = v(g ? r.resolve(g, p) : p);
                    var y = l._refs[p];
                    if ("string" == typeof y && (y = l._refs[y]),
                    y && y.schema) {
                        if (!i(e, y.schema))
                            throw new Error('id "' + p + '" resolves to more than one schema')
                    } else if (p != v(m))
                        if ("#" == p[0]) {
                            if (c[p] && !i(e, c[p]))
                                throw new Error('id "' + p + '" resolves to more than one schema');
                            c[p] = e
                        } else
                            l._refs[p] = m
                }
                n[t] = g,
                a[t] = m
            }
        }),
        c
    }
    ,
    c.inlineRef = h,
    c.schema = l;
    var u = o.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
    function d(e, t, n, r) {
        if (e.hash = e.hash || "",
        "#/" == e.hash.slice(0, 2)) {
            for (var i = e.hash.split("/"), a = 1; a < i.length; a++) {
                var s = i[a];
                if (s) {
                    if (void 0 === (n = n[s = o.unescapeFragment(s)]))
                        break;
                    var c;
                    if (!u[s] && ((c = this._getId(n)) && (t = y(t, c)),
                    n.$ref)) {
                        var d = y(t, n.$ref)
                          , f = l.call(this, r, d);
                        f && (n = f.schema,
                        r = f.root,
                        t = f.baseId)
                    }
                }
            }
            return void 0 !== n && n !== r.schema ? {
                schema: n,
                root: r,
                baseId: t
            } : void 0
        }
    }
    var f = o.toHash(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum"]);
    function h(e, t) {
        return !1 !== t && (void 0 === t || !0 === t ? function e(t) {
            var n;
            if (Array.isArray(t)) {
                for (var r = 0; r < t.length; r++)
                    if ("object" == typeof (n = t[r]) && !e(n))
                        return !1
            } else
                for (var i in t) {
                    if ("$ref" == i)
                        return !1;
                    if ("object" == typeof (n = t[i]) && !e(n))
                        return !1
                }
            return !0
        }(e) : t ? function e(t) {
            var n, r = 0;
            if (Array.isArray(t)) {
                for (var i = 0; i < t.length; i++)
                    if ("object" == typeof (n = t[i]) && (r += e(n)),
                    r == 1 / 0)
                        return 1 / 0
            } else
                for (var o in t) {
                    if ("$ref" == o)
                        return 1 / 0;
                    if (f[o])
                        r++;
                    else if ("object" == typeof (n = t[o]) && (r += e(n) + 1),
                    r == 1 / 0)
                        return 1 / 0
                }
            return r
        }(e) <= t : void 0)
    }
    function p(e, t) {
        return !1 !== t && (e = v(e)),
        g(r.parse(e, !1, !0))
    }
    function g(e) {
        var t = e.protocol || "//" == e.href.slice(0, 2) ? "//" : "";
        return (e.protocol || "") + t + (e.host || "") + (e.path || "") + "#"
    }
    var m = /#\/?$/;
    function v(e) {
        return e ? e.replace(m, "") : ""
    }
    function y(e, t) {
        return t = v(t),
        r.resolve(e, t)
    }
}
, function(e, t, n) {
    "use strict";
    var r = Array.isArray
      , i = Object.keys
      , o = Object.prototype.hasOwnProperty;
    e.exports = function e(t, n) {
        if (t === n)
            return !0;
        var a, s, c, l = r(t), u = r(n);
        if (l && u) {
            if ((s = t.length) != n.length)
                return !1;
            for (a = 0; a < s; a++)
                if (!e(t[a], n[a]))
                    return !1;
            return !0
        }
        if (l != u)
            return !1;
        var d = t instanceof Date
          , f = n instanceof Date;
        if (d != f)
            return !1;
        if (d && f)
            return t.getTime() == n.getTime();
        var h = t instanceof RegExp
          , p = n instanceof RegExp;
        if (h != p)
            return !1;
        if (h && p)
            return t.toString() == n.toString();
        if (t instanceof Object && n instanceof Object) {
            var g = i(t);
            if ((s = g.length) !== i(n).length)
                return !1;
            for (a = 0; a < s; a++)
                if (!o.call(n, g[a]))
                    return !1;
            for (a = 0; a < s; a++)
                if (!e(t[c = g[a]], n[c]))
                    return !1;
            return !0
        }
        return !1
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(13);
    function i(e, t, n) {
        this.message = n || i.message(e, t),
        this.missingRef = r.url(e, t),
        this.missingSchema = r.normalizeId(r.fullPath(this.missingRef))
    }
    function o(e) {
        return e.prototype = Object.create(Error.prototype),
        e.prototype.constructor = e,
        e
    }
    e.exports = {
        Validation: o(function(e) {
            this.message = "validation failed",
            this.errors = e,
            this.ajv = this.validation = !0
        }),
        MissingRef: o(i)
    },
    i.message = function(e, t) {
        return "can't resolve reference " + t + " from id " + e
    }
}
, function(e, t, n) {
    (function(e) {
        /**
 * @license AngularJS v1.5.9
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
        !function(t) {
            "use strict";
            function n(e, t) {
                return t = t || Error,
                function() {
                    var n, r, i = arguments, o = i[0], a = "[" + (e ? e + ":" : "") + o + "] ";
                    for (a += i[1].replace(/\{\d+\}/g, function(e) {
                        var t = +e.slice(1, -1) + 2;
                        return t < i.length ? Ue(i[t]) : e
                    }),
                    a += "\nhttp://errors.angularjs.org/1.5.9/" + (e ? e + "/" : "") + o,
                    r = 2,
                    n = "?"; r < i.length; r++,
                    n = "&")
                        a += n + "p" + (r - 2) + "=" + encodeURIComponent(Ue(i[r]));
                    return new t(a)
                }
            }
            var r = /^\/(.+)\/([a-z]*)$/
              , i = "validity"
              , o = Object.prototype.hasOwnProperty
              , a = function(e) {
                return B(e) ? e.toLowerCase() : e
            }
              , s = function(e) {
                return B(e) ? e.toUpperCase() : e
            };
            "i" !== "I".toLowerCase() && (a = function(e) {
                return B(e) ? e.replace(/[A-Z]/g, function(e) {
                    return String.fromCharCode(32 | e.charCodeAt(0))
                }) : e
            }
            ,
            s = function(e) {
                return B(e) ? e.replace(/[a-z]/g, function(e) {
                    return String.fromCharCode(-33 & e.charCodeAt(0))
                }) : e
            }
            );
            var c, l, u, d, f = [].slice, h = [].splice, p = [].push, g = Object.prototype.toString, m = Object.getPrototypeOf, v = n("ng"), y = t.angular || (t.angular = {}), b = 0;
            function w(e) {
                if (null == e || W(e))
                    return !1;
                if (V(e) || B(e) || l && e instanceof l)
                    return !0;
                var t = "length"in Object(e) && e.length;
                return U(t) && (t >= 0 && (t - 1 in e || e instanceof Array) || "function" == typeof e.item)
            }
            function x(e, t, n) {
                var r, i;
                if (e)
                    if (z(e))
                        for (r in e)
                            "prototype" === r || "length" === r || "name" === r || e.hasOwnProperty && !e.hasOwnProperty(r) || t.call(n, e[r], r, e);
                    else if (V(e) || w(e)) {
                        var a = "object" != typeof e;
                        for (r = 0,
                        i = e.length; r < i; r++)
                            (a || r in e) && t.call(n, e[r], r, e)
                    } else if (e.forEach && e.forEach !== x)
                        e.forEach(t, n, e);
                    else if (N(e))
                        for (r in e)
                            t.call(n, e[r], r, e);
                    else if ("function" == typeof e.hasOwnProperty)
                        for (r in e)
                            e.hasOwnProperty(r) && t.call(n, e[r], r, e);
                    else
                        for (r in e)
                            o.call(e, r) && t.call(n, e[r], r, e);
                return e
            }
            function S(e, t, n) {
                for (var r = Object.keys(e).sort(), i = 0; i < r.length; i++)
                    t.call(n, e[r[i]], r[i]);
                return r
            }
            function C(e) {
                return function(t, n) {
                    e(n, t)
                }
            }
            function _() {
                return ++b
            }
            function k(e, t) {
                t ? e.$$hashKey = t : delete e.$$hashKey
            }
            function E(e, t, n) {
                for (var r = e.$$hashKey, i = 0, o = t.length; i < o; ++i) {
                    var a = t[i];
                    if (F(a) || z(a))
                        for (var s = Object.keys(a), c = 0, l = s.length; c < l; c++) {
                            var u = s[c]
                              , d = a[u];
                            n && F(d) ? q(d) ? e[u] = new Date(d.valueOf()) : H(d) ? e[u] = new RegExp(d) : d.nodeName ? e[u] = d.cloneNode(!0) : Z(d) ? e[u] = d.clone() : (F(e[u]) || (e[u] = V(d) ? [] : {}),
                            E(e[u], [d], !0)) : e[u] = d
                        }
                }
                return k(e, r),
                e
            }
            function T(e) {
                return E(e, f.call(arguments, 1), !1)
            }
            function P(e) {
                return E(e, f.call(arguments, 1), !0)
            }
            function A(e) {
                return parseInt(e, 10)
            }
            c = t.document.documentMode;
            var O = Number.isNaN || function(e) {
                return e != e
            }
            ;
            function $(e, t) {
                return T(Object.create(e), t)
            }
            function j() {}
            function D(e) {
                return e
            }
            function R(e) {
                return function() {
                    return e
                }
            }
            function M(e) {
                return z(e.toString) && e.toString !== g
            }
            function I(e) {
                return void 0 === e
            }
            function L(e) {
                return void 0 !== e
            }
            function F(e) {
                return null !== e && "object" == typeof e
            }
            function N(e) {
                return null !== e && "object" == typeof e && !m(e)
            }
            function B(e) {
                return "string" == typeof e
            }
            function U(e) {
                return "number" == typeof e
            }
            function q(e) {
                return "[object Date]" === g.call(e)
            }
            j.$inject = [],
            D.$inject = [];
            var V = Array.isArray;
            function z(e) {
                return "function" == typeof e
            }
            function H(e) {
                return "[object RegExp]" === g.call(e)
            }
            function W(e) {
                return e && e.window === e
            }
            function G(e) {
                return e && e.$evalAsync && e.$watch
            }
            function X(e) {
                return "boolean" == typeof e
            }
            function Y(e) {
                return e && z(e.then)
            }
            var K = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/
              , Q = function(e) {
                return B(e) ? e.trim() : e
            }
              , J = function(e) {
                return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
            };
            function Z(e) {
                return !(!e || !(e.nodeName || e.prop && e.attr && e.find))
            }
            function ee(e) {
                return a(e.nodeName || e[0] && e[0].nodeName)
            }
            function te(e, t) {
                var n = e.indexOf(t);
                return n >= 0 && e.splice(n, 1),
                n
            }
            function ne(e, t) {
                var n, r, i = [], a = [];
                if (t) {
                    if ((r = t) && U(r.length) && K.test(g.call(r)) || (n = t,
                    "[object ArrayBuffer]" === g.call(n)))
                        throw v("cpta", "Can't copy! TypedArray destination cannot be mutated.");
                    if (e === t)
                        throw v("cpi", "Can't copy! Source and destination are identical.");
                    return V(t) ? t.length = 0 : x(t, function(e, n) {
                        "$$hashKey" !== n && delete t[n]
                    }),
                    i.push(e),
                    a.push(t),
                    s(e, t)
                }
                return c(e);
                function s(e, t) {
                    var n, r = t.$$hashKey;
                    if (V(e))
                        for (var i = 0, a = e.length; i < a; i++)
                            t.push(c(e[i]));
                    else if (N(e))
                        for (n in e)
                            t[n] = c(e[n]);
                    else if (e && "function" == typeof e.hasOwnProperty)
                        for (n in e)
                            e.hasOwnProperty(n) && (t[n] = c(e[n]));
                    else
                        for (n in e)
                            o.call(e, n) && (t[n] = c(e[n]));
                    return k(t, r),
                    t
                }
                function c(e) {
                    if (!F(e))
                        return e;
                    var t = i.indexOf(e);
                    if (-1 !== t)
                        return a[t];
                    if (W(e) || G(e))
                        throw v("cpws", "Can't copy! Making copies of Window or Scope instances is not supported.");
                    var n = !1
                      , r = function(e) {
                        switch (g.call(e)) {
                        case "[object Int8Array]":
                        case "[object Int16Array]":
                        case "[object Int32Array]":
                        case "[object Float32Array]":
                        case "[object Float64Array]":
                        case "[object Uint8Array]":
                        case "[object Uint8ClampedArray]":
                        case "[object Uint16Array]":
                        case "[object Uint32Array]":
                            return new e.constructor(c(e.buffer),e.byteOffset,e.length);
                        case "[object ArrayBuffer]":
                            if (!e.slice) {
                                var t = new ArrayBuffer(e.byteLength);
                                return new Uint8Array(t).set(new Uint8Array(e)),
                                t
                            }
                            return e.slice(0);
                        case "[object Boolean]":
                        case "[object Number]":
                        case "[object String]":
                        case "[object Date]":
                            return new e.constructor(e.valueOf());
                        case "[object RegExp]":
                            var n = new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);
                            return n.lastIndex = e.lastIndex,
                            n;
                        case "[object Blob]":
                            return new e.constructor([e],{
                                type: e.type
                            })
                        }
                        if (z(e.cloneNode))
                            return e.cloneNode(!0)
                    }(e);
                    return void 0 === r && (r = V(e) ? [] : Object.create(m(e)),
                    n = !0),
                    i.push(e),
                    a.push(r),
                    n ? s(e, r) : r
                }
            }
            function re(e, t) {
                if (e === t)
                    return !0;
                if (null === e || null === t)
                    return !1;
                if (e != e && t != t)
                    return !0;
                var n, r, i, o = typeof e;
                if (o === typeof t && "object" === o) {
                    if (!V(e)) {
                        if (q(e))
                            return !!q(t) && re(e.getTime(), t.getTime());
                        if (H(e))
                            return !!H(t) && e.toString() === t.toString();
                        if (G(e) || G(t) || W(e) || W(t) || V(t) || q(t) || H(t))
                            return !1;
                        for (r in i = Re(),
                        e)
                            if ("$" !== r.charAt(0) && !z(e[r])) {
                                if (!re(e[r], t[r]))
                                    return !1;
                                i[r] = !0
                            }
                        for (r in t)
                            if (!(r in i) && "$" !== r.charAt(0) && L(t[r]) && !z(t[r]))
                                return !1;
                        return !0
                    }
                    if (!V(t))
                        return !1;
                    if ((n = e.length) === t.length) {
                        for (r = 0; r < n; r++)
                            if (!re(e[r], t[r]))
                                return !1;
                        return !0
                    }
                }
                return !1
            }
            var ie = function() {
                if (!L(ie.rules)) {
                    var e = t.document.querySelector("[ng-csp]") || t.document.querySelector("[data-ng-csp]");
                    if (e) {
                        var n = e.getAttribute("ng-csp") || e.getAttribute("data-ng-csp");
                        ie.rules = {
                            noUnsafeEval: !n || -1 !== n.indexOf("no-unsafe-eval"),
                            noInlineStyle: !n || -1 !== n.indexOf("no-inline-style")
                        }
                    } else
                        ie.rules = {
                            noUnsafeEval: function() {
                                try {
                                    return new Function(""),
                                    !1
                                } catch (e) {
                                    return !0
                                }
                            }(),
                            noInlineStyle: !1
                        }
                }
                return ie.rules
            }
              , oe = function() {
                if (L(oe.name_))
                    return oe.name_;
                var e, n, r, i, o = xe.length;
                for (n = 0; n < o; ++n)
                    if (r = xe[n],
                    e = t.document.querySelector("[" + r.replace(":", "\\:") + "jq]")) {
                        i = e.getAttribute(r + "jq");
                        break
                    }
                return oe.name_ = i
            };
            function ae(e, t, n) {
                return e.concat(f.call(t, n))
            }
            function se(e, t) {
                return f.call(e, t || 0)
            }
            function ce(e, t) {
                var n = arguments.length > 2 ? se(arguments, 2) : [];
                return !z(t) || t instanceof RegExp ? t : n.length ? function() {
                    return arguments.length ? t.apply(e, ae(n, arguments, 0)) : t.apply(e, n)
                }
                : function() {
                    return arguments.length ? t.apply(e, arguments) : t.call(e)
                }
            }
            function le(e, n) {
                var r = n;
                return "string" == typeof e && "$" === e.charAt(0) && "$" === e.charAt(1) ? r = void 0 : W(n) ? r = "$WINDOW" : n && t.document === n ? r = "$DOCUMENT" : G(n) && (r = "$SCOPE"),
                r
            }
            function ue(e, t) {
                if (!I(e))
                    return U(t) || (t = t ? 2 : null),
                    JSON.stringify(e, le, t)
            }
            function de(e) {
                return B(e) ? JSON.parse(e) : e
            }
            var fe = /:/g;
            function he(e, t) {
                e = e.replace(fe, "");
                var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
                return O(n) ? t : n
            }
            function pe(e, t, n) {
                n = n ? -1 : 1;
                var r = e.getTimezoneOffset();
                return function(e, t) {
                    return (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t),
                    e
                }(e, n * (he(t, r) - r))
            }
            function ge(e) {
                e = l(e).clone();
                try {
                    e.empty()
                } catch (e) {}
                var t = l("<div>").append(e).html();
                try {
                    return e[0].nodeType === Ie ? a(t) : t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(e, t) {
                        return "<" + a(t)
                    })
                } catch (e) {
                    return a(t)
                }
            }
            function me(e) {
                try {
                    return decodeURIComponent(e)
                } catch (e) {}
            }
            function ve(e) {
                var t = {};
                return x((e || "").split("&"), function(e) {
                    var n, r, i;
                    e && (r = e = e.replace(/\+/g, "%20"),
                    -1 !== (n = e.indexOf("=")) && (r = e.substring(0, n),
                    i = e.substring(n + 1)),
                    L(r = me(r)) && (i = !L(i) || me(i),
                    o.call(t, r) ? V(t[r]) ? t[r].push(i) : t[r] = [t[r], i] : t[r] = i))
                }),
                t
            }
            function ye(e) {
                var t = [];
                return x(e, function(e, n) {
                    V(e) ? x(e, function(e) {
                        t.push(we(n, !0) + (!0 === e ? "" : "=" + we(e, !0)))
                    }) : t.push(we(n, !0) + (!0 === e ? "" : "=" + we(e, !0)))
                }),
                t.length ? t.join("&") : ""
            }
            function be(e) {
                return we(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
            }
            function we(e, t) {
                return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+")
            }
            var xe = ["ng-", "data-ng-", "ng:", "x-ng-"]
              , Se = function(e) {
                if (!e.currentScript)
                    return !0;
                var t = e.currentScript.getAttribute("src")
                  , n = e.createElement("a");
                n.href = t;
                var r = n.protocol;
                if (e.location.protocol === r)
                    return !0;
                switch (r) {
                case "http:":
                case "https:":
                case "ftp:":
                case "blob:":
                case "file:":
                case "data:":
                    return !0;
                default:
                    return !1
                }
            }(t.document);
            function Ce(e, n, r) {
                F(r) || (r = {}),
                r = T({
                    strictDi: !1
                }, r);
                var i = function() {
                    if ((e = l(e)).injector()) {
                        var i = e[0] === t.document ? "document" : ge(e);
                        throw v("btstrpd", "App already bootstrapped with this element '{0}'", i.replace(/</, "&lt;").replace(/>/, "&gt;"))
                    }
                    (n = n || []).unshift(["$provide", function(t) {
                        t.value("$rootElement", e)
                    }
                    ]),
                    r.debugInfoEnabled && n.push(["$compileProvider", function(e) {
                        e.debugInfoEnabled(!0)
                    }
                    ]),
                    n.unshift("ng");
                    var o = qt(n, r.strictDi);
                    return o.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function(e, t, n, r) {
                        e.$apply(function() {
                            t.data("$injector", r),
                            n(t)(e)
                        })
                    }
                    ]),
                    o
                }
                  , o = /^NG_ENABLE_DEBUG_INFO!/
                  , a = /^NG_DEFER_BOOTSTRAP!/;
                if (t && o.test(t.name) && (r.debugInfoEnabled = !0,
                t.name = t.name.replace(o, "")),
                t && !a.test(t.name))
                    return i();
                t.name = t.name.replace(a, ""),
                y.resumeBootstrap = function(e) {
                    return x(e, function(e) {
                        n.push(e)
                    }),
                    i()
                }
                ,
                z(y.resumeDeferredBootstrap) && y.resumeDeferredBootstrap()
            }
            function _e() {
                t.name = "NG_ENABLE_DEBUG_INFO!" + t.name,
                t.location.reload()
            }
            function ke(e) {
                var t = y.element(e).injector();
                if (!t)
                    throw v("test", "no injector found for element argument to getTestability");
                return t.get("$$testability")
            }
            var Ee = /[A-Z]/g;
            function Te(e, t) {
                return t = t || "_",
                e.replace(Ee, function(e, n) {
                    return (n ? t : "") + e.toLowerCase()
                })
            }
            var Pe = !1;
            function Ae(e, t, n) {
                if (!e)
                    throw v("areq", "Argument '{0}' is {1}", t || "?", n || "required");
                return e
            }
            function Oe(e, t, n) {
                return n && V(e) && (e = e[e.length - 1]),
                Ae(z(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)),
                e
            }
            function $e(e, t) {
                if ("hasOwnProperty" === e)
                    throw v("badname", "hasOwnProperty is not a valid {0} name", t)
            }
            function je(e, t, n) {
                if (!t)
                    return e;
                for (var r, i = t.split("."), o = e, a = i.length, s = 0; s < a; s++)
                    r = i[s],
                    e && (e = (o = e)[r]);
                return !n && z(e) ? ce(o, e) : e
            }
            function De(e) {
                for (var t, n = e[0], r = e[e.length - 1], i = 1; n !== r && (n = n.nextSibling); i++)
                    (t || e[i] !== n) && (t || (t = l(f.call(e, 0, i))),
                    t.push(n));
                return t || e
            }
            function Re() {
                return Object.create(null)
            }
            var Me = 1
              , Ie = 3
              , Le = 8
              , Fe = 9
              , Ne = 11;
            function Be(e, t) {
                if (V(e)) {
                    t = t || [];
                    for (var n = 0, r = e.length; n < r; n++)
                        t[n] = e[n]
                } else if (F(e))
                    for (var i in t = t || {},
                    e)
                        "$" === i.charAt(0) && "$" === i.charAt(1) || (t[i] = e[i]);
                return t || e
            }
            function Ue(e) {
                return "function" == typeof e ? e.toString().replace(/ \{[\s\S]*$/, "") : I(e) ? "undefined" : "string" != typeof e ? function(e) {
                    var t = [];
                    return JSON.stringify(e, function(e, n) {
                        if (F(n = le(e, n))) {
                            if (t.indexOf(n) >= 0)
                                return "...";
                            t.push(n)
                        }
                        return n
                    })
                }(e) : e
            }
            var qe = {
                full: "1.5.9",
                major: 1,
                minor: 5,
                dot: 9,
                codeName: "timeturning-lockdown"
            };
            ct.expando = "ng339";
            var Ve = ct.cache = {}
              , ze = 1
              , He = function(e, t, n) {
                e.addEventListener(t, n, !1)
            }
              , We = function(e, t, n) {
                e.removeEventListener(t, n, !1)
            };
            ct._data = function(e) {
                return this.cache[e[this.expando]] || {}
            }
            ;
            var Ge = /([:\-_]+(.))/g
              , Xe = /^moz([A-Z])/
              , Ye = {
                mouseleave: "mouseout",
                mouseenter: "mouseover"
            }
              , Ke = n("jqLite");
            function Qe(e) {
                return e.replace(Ge, function(e, t, n, r) {
                    return r ? n.toUpperCase() : n
                }).replace(Xe, "Moz$1")
            }
            var Je = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/
              , Ze = /<|&#?\w+;/
              , et = /<([\w:-]+)/
              , tt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi
              , nt = {
                option: [1, '<select multiple="multiple">', "</select>"],
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };
            function rt(e) {
                return !Ze.test(e)
            }
            function it(e) {
                var t = e.nodeType;
                return t === Me || !t || t === Fe
            }
            function ot(e, t) {
                var n, r, i, o, a = t.createDocumentFragment(), s = [];
                if (rt(e))
                    s.push(t.createTextNode(e));
                else {
                    for (n = a.appendChild(t.createElement("div")),
                    r = (et.exec(e) || ["", ""])[1].toLowerCase(),
                    i = nt[r] || nt._default,
                    n.innerHTML = i[1] + e.replace(tt, "<$1></$2>") + i[2],
                    o = i[0]; o--; )
                        n = n.lastChild;
                    s = ae(s, n.childNodes),
                    (n = a.firstChild).textContent = ""
                }
                return a.textContent = "",
                a.innerHTML = "",
                x(s, function(e) {
                    a.appendChild(e)
                }),
                a
            }
            function at(e, t) {
                var n = e.parentNode;
                n && n.replaceChild(t, e),
                t.appendChild(e)
            }
            nt.optgroup = nt.option,
            nt.tbody = nt.tfoot = nt.colgroup = nt.caption = nt.thead,
            nt.th = nt.td;
            var st = t.Node.prototype.contains || function(e) {
                return !!(16 & this.compareDocumentPosition(e))
            }
            ;
            function ct(e) {
                if (e instanceof ct)
                    return e;
                var n, r, i, o;
                if (B(e) && (e = Q(e),
                n = !0),
                !(this instanceof ct)) {
                    if (n && "<" !== e.charAt(0))
                        throw Ke("nosel", "Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
                    return new ct(e)
                }
                yt(this, n ? (r = e,
                i = i || t.document,
                (o = Je.exec(r)) ? [i.createElement(o[1])] : (o = ot(r, i)) ? o.childNodes : []) : e)
            }
            function lt(e) {
                return e.cloneNode(!0)
            }
            function ut(e, t) {
                if (t || ft(e),
                e.querySelectorAll)
                    for (var n = e.querySelectorAll("*"), r = 0, i = n.length; r < i; r++)
                        ft(n[r])
            }
            function dt(e, t, n, r) {
                if (L(r))
                    throw Ke("offargs", "jqLite#off() does not support the `selector` argument");
                var i = ht(e)
                  , o = i && i.events
                  , a = i && i.handle;
                if (a)
                    if (t) {
                        var s = function(t) {
                            var r = o[t];
                            L(n) && te(r || [], n),
                            L(n) && r && r.length > 0 || (We(e, t, a),
                            delete o[t])
                        };
                        x(t.split(" "), function(e) {
                            s(e),
                            Ye[e] && s(Ye[e])
                        })
                    } else
                        for (t in o)
                            "$destroy" !== t && We(e, t, a),
                            delete o[t]
            }
            function ft(e, t) {
                var n = e.ng339
                  , r = n && Ve[n];
                if (r) {
                    if (t)
                        return void delete r.data[t];
                    r.handle && (r.events.$destroy && r.handle({}, "$destroy"),
                    dt(e)),
                    delete Ve[n],
                    e.ng339 = void 0
                }
            }
            function ht(e, t) {
                var n = e.ng339
                  , r = n && Ve[n];
                return t && !r && (e.ng339 = n = ++ze,
                r = Ve[n] = {
                    events: {},
                    data: {},
                    handle: void 0
                }),
                r
            }
            function pt(e, t, n) {
                if (it(e)) {
                    var r = L(n)
                      , i = !r && t && !F(t)
                      , o = !t
                      , a = ht(e, !i)
                      , s = a && a.data;
                    if (r)
                        s[t] = n;
                    else {
                        if (o)
                            return s;
                        if (i)
                            return s && s[t];
                        T(s, t)
                    }
                }
            }
            function gt(e, t) {
                return !!e.getAttribute && (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") > -1
            }
            function mt(e, t) {
                t && e.setAttribute && x(t.split(" "), function(t) {
                    e.setAttribute("class", Q((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + Q(t) + " ", " ")))
                })
            }
            function vt(e, t) {
                if (t && e.setAttribute) {
                    var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
                    x(t.split(" "), function(e) {
                        e = Q(e),
                        -1 === n.indexOf(" " + e + " ") && (n += e + " ")
                    }),
                    e.setAttribute("class", Q(n))
                }
            }
            function yt(e, t) {
                if (t)
                    if (t.nodeType)
                        e[e.length++] = t;
                    else {
                        var n = t.length;
                        if ("number" == typeof n && t.window !== t) {
                            if (n)
                                for (var r = 0; r < n; r++)
                                    e[e.length++] = t[r]
                        } else
                            e[e.length++] = t
                    }
            }
            function bt(e, t) {
                return wt(e, "$" + (t || "ngController") + "Controller")
            }
            function wt(e, t, n) {
                e.nodeType === Fe && (e = e.documentElement);
                for (var r = V(t) ? t : [t]; e; ) {
                    for (var i = 0, o = r.length; i < o; i++)
                        if (L(n = l.data(e, r[i])))
                            return n;
                    e = e.parentNode || e.nodeType === Ne && e.host
                }
            }
            function xt(e) {
                for (ut(e, !0); e.firstChild; )
                    e.removeChild(e.firstChild)
            }
            function St(e, t) {
                t || ut(e);
                var n = e.parentNode;
                n && n.removeChild(e)
            }
            var Ct = ct.prototype = {
                ready: function(e) {
                    var n = !1;
                    function r() {
                        n || (n = !0,
                        e())
                    }
                    "complete" === t.document.readyState ? t.setTimeout(r) : (this.on("DOMContentLoaded", r),
                    ct(t).on("load", r))
                },
                toString: function() {
                    var e = [];
                    return x(this, function(t) {
                        e.push("" + t)
                    }),
                    "[" + e.join(", ") + "]"
                },
                eq: function(e) {
                    return l(e >= 0 ? this[e] : this[this.length + e])
                },
                length: 0,
                push: p,
                sort: [].sort,
                splice: [].splice
            }
              , _t = {};
            x("multiple,selected,checked,disabled,readOnly,required,open".split(","), function(e) {
                _t[a(e)] = e
            });
            var kt = {};
            x("input,select,option,textarea,button,form,details".split(","), function(e) {
                kt[e] = !0
            });
            var Et = {
                ngMinlength: "minlength",
                ngMaxlength: "maxlength",
                ngMin: "min",
                ngMax: "max",
                ngPattern: "pattern"
            };
            function Tt(e, t) {
                var n = _t[t.toLowerCase()];
                return n && kt[ee(e)] && n
            }
            function Pt(e, t, n) {
                n.call(e, t)
            }
            function At(e, t, n) {
                var r = t.relatedTarget;
                r && (r === e || st.call(e, r)) || n.call(e, t)
            }
            function Ot() {
                this.$get = function() {
                    return T(ct, {
                        hasClass: function(e, t) {
                            return e.attr && (e = e[0]),
                            gt(e, t)
                        },
                        addClass: function(e, t) {
                            return e.attr && (e = e[0]),
                            vt(e, t)
                        },
                        removeClass: function(e, t) {
                            return e.attr && (e = e[0]),
                            mt(e, t)
                        }
                    })
                }
            }
            function $t(e, t) {
                var n = e && e.$$hashKey;
                if (n)
                    return "function" == typeof n && (n = e.$$hashKey()),
                    n;
                var r = typeof e;
                return "function" === r || "object" === r && null !== e ? e.$$hashKey = r + ":" + (t || _)() : r + ":" + e
            }
            function jt(e, t) {
                if (t) {
                    var n = 0;
                    this.nextUid = function() {
                        return ++n
                    }
                }
                x(e, this.put, this)
            }
            x({
                data: pt,
                removeData: ft,
                hasData: function(e) {
                    for (var t in Ve[e.ng339])
                        return !0;
                    return !1
                },
                cleanData: function(e) {
                    for (var t = 0, n = e.length; t < n; t++)
                        ft(e[t])
                }
            }, function(e, t) {
                ct[t] = e
            }),
            x({
                data: pt,
                inheritedData: wt,
                scope: function(e) {
                    return l.data(e, "$scope") || wt(e.parentNode || e, ["$isolateScope", "$scope"])
                },
                isolateScope: function(e) {
                    return l.data(e, "$isolateScope") || l.data(e, "$isolateScopeNoTemplate")
                },
                controller: bt,
                injector: function(e) {
                    return wt(e, "$injector")
                },
                removeAttr: function(e, t) {
                    e.removeAttribute(t)
                },
                hasClass: gt,
                css: function(e, t, n) {
                    if (t = Qe(t),
                    !L(n))
                        return e.style[t];
                    e.style[t] = n
                },
                attr: function(e, t, n) {
                    var r = e.nodeType;
                    if (r !== Ie && 2 !== r && r !== Le) {
                        var i = a(t);
                        if (_t[i]) {
                            if (!L(n))
                                return e[t] || (e.attributes.getNamedItem(t) || j).specified ? i : void 0;
                            n ? (e[t] = !0,
                            e.setAttribute(t, i)) : (e[t] = !1,
                            e.removeAttribute(i))
                        } else if (L(n))
                            e.setAttribute(t, n);
                        else if (e.getAttribute) {
                            var o = e.getAttribute(t, 2);
                            return null === o ? void 0 : o
                        }
                    }
                },
                prop: function(e, t, n) {
                    if (!L(n))
                        return e[t];
                    e[t] = n
                },
                text: function() {
                    return e.$dv = "",
                    e;
                    function e(e, t) {
                        if (I(t)) {
                            var n = e.nodeType;
                            return n === Me || n === Ie ? e.textContent : ""
                        }
                        e.textContent = t
                    }
                }(),
                val: function(e, t) {
                    if (I(t)) {
                        if (e.multiple && "select" === ee(e)) {
                            var n = [];
                            return x(e.options, function(e) {
                                e.selected && n.push(e.value || e.text)
                            }),
                            0 === n.length ? null : n
                        }
                        return e.value
                    }
                    e.value = t
                },
                html: function(e, t) {
                    if (I(t))
                        return e.innerHTML;
                    ut(e, !0),
                    e.innerHTML = t
                },
                empty: xt
            }, function(e, t) {
                ct.prototype[t] = function(t, n) {
                    var r, i, o = this.length;
                    if (e !== xt && I(2 === e.length && e !== gt && e !== bt ? t : n)) {
                        if (F(t)) {
                            for (r = 0; r < o; r++)
                                if (e === pt)
                                    e(this[r], t);
                                else
                                    for (i in t)
                                        e(this[r], i, t[i]);
                            return this
                        }
                        for (var a = e.$dv, s = I(a) ? Math.min(o, 1) : o, c = 0; c < s; c++) {
                            var l = e(this[c], t, n);
                            a = a ? a + l : l
                        }
                        return a
                    }
                    for (r = 0; r < o; r++)
                        e(this[r], t, n);
                    return this
                }
            }),
            x({
                removeData: ft,
                on: function(e, t, n, r) {
                    if (L(r))
                        throw Ke("onargs", "jqLite#on() does not support the `selector` or `eventData` parameters");
                    if (it(e)) {
                        var i = ht(e, !0)
                          , o = i.events
                          , a = i.handle;
                        a || (a = i.handle = function(e, t) {
                            var n = function(n, r) {
                                n.isDefaultPrevented = function() {
                                    return n.defaultPrevented
                                }
                                ;
                                var i = t[r || n.type]
                                  , o = i ? i.length : 0;
                                if (o) {
                                    if (I(n.immediatePropagationStopped)) {
                                        var a = n.stopImmediatePropagation;
                                        n.stopImmediatePropagation = function() {
                                            n.immediatePropagationStopped = !0,
                                            n.stopPropagation && n.stopPropagation(),
                                            a && a.call(n)
                                        }
                                    }
                                    n.isImmediatePropagationStopped = function() {
                                        return !0 === n.immediatePropagationStopped
                                    }
                                    ;
                                    var s = i.specialHandlerWrapper || Pt;
                                    o > 1 && (i = Be(i));
                                    for (var c = 0; c < o; c++)
                                        n.isImmediatePropagationStopped() || s(e, n, i[c])
                                }
                            };
                            return n.elem = e,
                            n
                        }(e, o));
                        for (var s = t.indexOf(" ") >= 0 ? t.split(" ") : [t], c = s.length, l = function(t, r, i) {
                            var s = o[t];
                            s || ((s = o[t] = []).specialHandlerWrapper = r,
                            "$destroy" === t || i || He(e, t, a)),
                            s.push(n)
                        }; c--; )
                            t = s[c],
                            Ye[t] ? (l(Ye[t], At),
                            l(t, void 0, !0)) : l(t)
                    }
                },
                off: dt,
                one: function(e, t, n) {
                    (e = l(e)).on(t, function r() {
                        e.off(t, n),
                        e.off(t, r)
                    }),
                    e.on(t, n)
                },
                replaceWith: function(e, t) {
                    var n, r = e.parentNode;
                    ut(e),
                    x(new ct(t), function(t) {
                        n ? r.insertBefore(t, n.nextSibling) : r.replaceChild(t, e),
                        n = t
                    })
                },
                children: function(e) {
                    var t = [];
                    return x(e.childNodes, function(e) {
                        e.nodeType === Me && t.push(e)
                    }),
                    t
                },
                contents: function(e) {
                    return e.contentDocument || e.childNodes || []
                },
                append: function(e, t) {
                    var n = e.nodeType;
                    if (n === Me || n === Ne)
                        for (var r = 0, i = (t = new ct(t)).length; r < i; r++) {
                            var o = t[r];
                            e.appendChild(o)
                        }
                },
                prepend: function(e, t) {
                    if (e.nodeType === Me) {
                        var n = e.firstChild;
                        x(new ct(t), function(t) {
                            e.insertBefore(t, n)
                        })
                    }
                },
                wrap: function(e, t) {
                    at(e, l(t).eq(0).clone()[0])
                },
                remove: St,
                detach: function(e) {
                    St(e, !0)
                },
                after: function(e, t) {
                    for (var n = e, r = e.parentNode, i = 0, o = (t = new ct(t)).length; i < o; i++) {
                        var a = t[i];
                        r.insertBefore(a, n.nextSibling),
                        n = a
                    }
                },
                addClass: vt,
                removeClass: mt,
                toggleClass: function(e, t, n) {
                    t && x(t.split(" "), function(t) {
                        var r = n;
                        I(r) && (r = !gt(e, t)),
                        (r ? vt : mt)(e, t)
                    })
                },
                parent: function(e) {
                    var t = e.parentNode;
                    return t && t.nodeType !== Ne ? t : null
                },
                next: function(e) {
                    return e.nextElementSibling
                },
                find: function(e, t) {
                    return e.getElementsByTagName ? e.getElementsByTagName(t) : []
                },
                clone: lt,
                triggerHandler: function(e, t, n) {
                    var r, i, o, a = t.type || t, s = ht(e), c = s && s.events, l = c && c[a];
                    l && (r = {
                        preventDefault: function() {
                            this.defaultPrevented = !0
                        },
                        isDefaultPrevented: function() {
                            return !0 === this.defaultPrevented
                        },
                        stopImmediatePropagation: function() {
                            this.immediatePropagationStopped = !0
                        },
                        isImmediatePropagationStopped: function() {
                            return !0 === this.immediatePropagationStopped
                        },
                        stopPropagation: j,
                        type: a,
                        target: e
                    },
                    t.type && (r = T(r, t)),
                    i = Be(l),
                    o = n ? [r].concat(n) : [r],
                    x(i, function(t) {
                        r.isImmediatePropagationStopped() || t.apply(e, o)
                    }))
                }
            }, function(e, t) {
                ct.prototype[t] = function(t, n, r) {
                    for (var i, o = 0, a = this.length; o < a; o++)
                        I(i) ? L(i = e(this[o], t, n, r)) && (i = l(i)) : yt(i, e(this[o], t, n, r));
                    return L(i) ? i : this
                }
                ,
                ct.prototype.bind = ct.prototype.on,
                ct.prototype.unbind = ct.prototype.off
            }),
            jt.prototype = {
                put: function(e, t) {
                    this[$t(e, this.nextUid)] = t
                },
                get: function(e) {
                    return this[$t(e, this.nextUid)]
                },
                remove: function(e) {
                    var t = this[e = $t(e, this.nextUid)];
                    return delete this[e],
                    t
                }
            };
            var Dt = [function() {
                this.$get = [function() {
                    return jt
                }
                ]
            }
            ]
              , Rt = /^([^\(]+?)=>/
              , Mt = /^[^\(]*\(\s*([^\)]*)\)/m
              , It = /,/
              , Lt = /^\s*(_?)(\S+?)\1\s*$/
              , Ft = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm
              , Nt = n("$injector");
            function Bt(e) {
                return Function.prototype.toString.call(e) + " "
            }
            function Ut(e) {
                var t = Bt(e).replace(Ft, "");
                return t.match(Rt) || t.match(Mt)
            }
            function qt(e, t) {
                t = !0 === t;
                var n = {}
                  , r = "Provider"
                  , i = []
                  , o = new jt([],!0)
                  , a = {
                    $provide: {
                        provider: p(g),
                        factory: p(m),
                        service: p(function(e, t) {
                            return m(e, ["$injector", function(e) {
                                return e.instantiate(t)
                            }
                            ])
                        }),
                        value: p(function(e, t) {
                            return m(e, R(t), !1)
                        }),
                        constant: p(function(e, t) {
                            $e(e, "constant"),
                            a[e] = t,
                            l[e] = t
                        }),
                        decorator: function(e, t) {
                            var n = s.get(e + r)
                              , i = n.$get;
                            n.$get = function() {
                                var e = f.invoke(i, n);
                                return f.invoke(t, null, {
                                    $delegate: e
                                })
                            }
                        }
                    }
                }
                  , s = a.$injector = v(a, function(e, t) {
                    throw y.isString(t) && i.push(t),
                    Nt("unpr", "Unknown provider: {0}", i.join(" <- "))
                })
                  , l = {}
                  , u = v(l, function(e, t) {
                    var n = s.get(e + r, t);
                    return f.invoke(n.$get, n, void 0, e)
                })
                  , f = u;
                a["$injector" + r] = {
                    $get: R(u)
                };
                var h = function e(t) {
                    Ae(I(t) || V(t), "modulesToLoad", "not an array");
                    var n, r = [];
                    return x(t, function(t) {
                        if (!o.get(t)) {
                            o.put(t, !0);
                            try {
                                B(t) ? (n = d(t),
                                r = r.concat(e(n.requires)).concat(n._runBlocks),
                                i(n._invokeQueue),
                                i(n._configBlocks)) : z(t) ? r.push(s.invoke(t)) : V(t) ? r.push(s.invoke(t)) : Oe(t, "module")
                            } catch (e) {
                                throw V(t) && (t = t[t.length - 1]),
                                e.message && e.stack && -1 === e.stack.indexOf(e.message) && (e = e.message + "\n" + e.stack),
                                Nt("modulerr", "Failed to instantiate module {0} due to:\n{1}", t, e.stack || e.message || e)
                            }
                        }
                        function i(e) {
                            var t, n;
                            for (t = 0,
                            n = e.length; t < n; t++) {
                                var r = e[t]
                                  , i = s.get(r[0]);
                                i[r[1]].apply(i, r[2])
                            }
                        }
                    }),
                    r
                }(e);
                return (f = u.get("$injector")).strictDi = t,
                x(h, function(e) {
                    e && f.invoke(e)
                }),
                f;
                function p(e) {
                    return function(t, n) {
                        if (!F(t))
                            return e(t, n);
                        x(t, C(e))
                    }
                }
                function g(e, t) {
                    if ($e(e, "service"),
                    (z(t) || V(t)) && (t = s.instantiate(t)),
                    !t.$get)
                        throw Nt("pget", "Provider '{0}' must define $get factory method.", e);
                    return a[e + r] = t
                }
                function m(e, t, n) {
                    return g(e, {
                        $get: !1 !== n ? function(e, t) {
                            return function() {
                                var n = f.invoke(t, this);
                                if (I(n))
                                    throw Nt("undef", "Provider '{0}' must return a value from $get factory method.", e);
                                return n
                            }
                        }(e, t) : t
                    })
                }
                function v(e, o) {
                    function s(t, r) {
                        if (e.hasOwnProperty(t)) {
                            if (e[t] === n)
                                throw Nt("cdep", "Circular dependency found: {0}", t + " <- " + i.join(" <- "));
                            return e[t]
                        }
                        try {
                            return i.unshift(t),
                            e[t] = n,
                            e[t] = o(t, r),
                            e[t]
                        } catch (r) {
                            throw e[t] === n && delete e[t],
                            r
                        } finally {
                            i.shift()
                        }
                    }
                    function l(e, n, r) {
                        for (var i = [], o = qt.$$annotate(e, t, r), a = 0, c = o.length; a < c; a++) {
                            var l = o[a];
                            if ("string" != typeof l)
                                throw Nt("itkn", "Incorrect injection token! Expected service name as string, got {0}", l);
                            i.push(n && n.hasOwnProperty(l) ? n[l] : s(l, r))
                        }
                        return i
                    }
                    return {
                        invoke: function(e, t, n, r) {
                            "string" == typeof n && (r = n,
                            n = null);
                            var i, o = l(e, n, r);
                            return V(e) && (e = e[e.length - 1]),
                            i = e,
                            c <= 11 || "function" != typeof i || !/^(?:class\b|constructor\()/.test(Bt(i)) ? e.apply(t, o) : (o.unshift(null),
                            new (Function.prototype.bind.apply(e, o)))
                        },
                        instantiate: function(e, t, n) {
                            var r = V(e) ? e[e.length - 1] : e
                              , i = l(e, t, n);
                            return i.unshift(null),
                            new (Function.prototype.bind.apply(r, i))
                        },
                        get: s,
                        annotate: qt.$$annotate,
                        has: function(t) {
                            return a.hasOwnProperty(t + r) || e.hasOwnProperty(t)
                        }
                    }
                }
            }
            function Vt() {
                var e = !0;
                this.disableAutoScrolling = function() {
                    e = !1
                }
                ,
                this.$get = ["$window", "$location", "$rootScope", function(n, r, i) {
                    var o = n.document;
                    function a(e) {
                        if (e) {
                            e.scrollIntoView();
                            var t = function() {
                                var e = s.yOffset;
                                if (z(e))
                                    e = e();
                                else if (Z(e)) {
                                    var t = e[0];
                                    e = "fixed" !== n.getComputedStyle(t).position ? 0 : t.getBoundingClientRect().bottom
                                } else
                                    U(e) || (e = 0);
                                return e
                            }();
                            if (t) {
                                var r = e.getBoundingClientRect().top;
                                n.scrollBy(0, r - t)
                            }
                        } else
                            n.scrollTo(0, 0)
                    }
                    function s(e) {
                        var t, n, i;
                        (e = B(e) ? e : r.hash()) ? (t = o.getElementById(e)) ? a(t) : (n = o.getElementsByName(e),
                        i = null,
                        Array.prototype.some.call(n, function(e) {
                            if ("a" === ee(e))
                                return i = e,
                                !0
                        }),
                        (t = i) ? a(t) : "top" === e && a(null)) : a(null)
                    }
                    return e && i.$watch(function() {
                        return r.hash()
                    }, function(e, n) {
                        var r, o;
                        e === n && "" === e || (r = function() {
                            i.$evalAsync(s)
                        }
                        ,
                        "complete" === (o = o || t).document.readyState ? o.setTimeout(r) : l(o).on("load", r))
                    }),
                    s
                }
                ]
            }
            qt.$$annotate = function(e, t, n) {
                var r, i;
                if ("function" == typeof e) {
                    if (!(r = e.$inject)) {
                        if (r = [],
                        e.length) {
                            if (t)
                                throw B(n) && n || (n = e.name || function(e) {
                                    var t = Ut(e);
                                    return t ? "function(" + (t[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
                                }(e)),
                                Nt("strictdi", "{0} is not using explicit annotation and cannot be invoked in strict mode", n);
                            x(Ut(e)[1].split(It), function(e) {
                                e.replace(Lt, function(e, t, n) {
                                    r.push(n)
                                })
                            })
                        }
                        e.$inject = r
                    }
                } else
                    V(e) ? (Oe(e[i = e.length - 1], "fn"),
                    r = e.slice(0, i)) : Oe(e, "fn", !0);
                return r
            }
            ;
            var zt = n("$animate")
              , Ht = 1;
            function Wt(e, t) {
                return e || t ? e ? t ? (V(e) && (e = e.join(" ")),
                V(t) && (t = t.join(" ")),
                e + " " + t) : e : t : ""
            }
            function Gt(e) {
                return F(e) ? e : {}
            }
            var Xt = function() {
                this.$get = j
            }
              , Yt = function() {
                var e = new jt
                  , t = [];
                this.$get = ["$$AnimateRunner", "$rootScope", function(n, r) {
                    return {
                        enabled: j,
                        on: j,
                        off: j,
                        pin: j,
                        push: function(a, s, c, l) {
                            l && l(),
                            (c = c || {}).from && a.css(c.from),
                            c.to && a.css(c.to),
                            (c.addClass || c.removeClass) && function(n, a, s) {
                                var c = e.get(n) || {}
                                  , l = i(c, a, !0)
                                  , u = i(c, s, !1);
                                (l || u) && (e.put(n, c),
                                t.push(n),
                                1 === t.length && r.$$postDigest(o))
                            }(a, c.addClass, c.removeClass);
                            var u = new n;
                            return u.complete(),
                            u
                        }
                    };
                    function i(e, t, n) {
                        var r = !1;
                        return t && x(t = B(t) ? t.split(" ") : V(t) ? t : [], function(t) {
                            t && (r = !0,
                            e[t] = n)
                        }),
                        r
                    }
                    function o() {
                        x(t, function(t) {
                            var n = e.get(t);
                            if (n) {
                                var r = function(e) {
                                    B(e) && (e = e.split(" "));
                                    var t = Re();
                                    return x(e, function(e) {
                                        e.length && (t[e] = !0)
                                    }),
                                    t
                                }(t.attr("class"))
                                  , i = ""
                                  , o = "";
                                x(n, function(e, t) {
                                    e !== !!r[t] && (e ? i += (i.length ? " " : "") + t : o += (o.length ? " " : "") + t)
                                }),
                                x(t, function(e) {
                                    i && vt(e, i),
                                    o && mt(e, o)
                                }),
                                e.remove(t)
                            }
                        }),
                        t.length = 0
                    }
                }
                ]
            }
              , Kt = ["$provide", function(e) {
                var t = this;
                this.$$registeredAnimations = Object.create(null),
                this.register = function(n, r) {
                    if (n && "." !== n.charAt(0))
                        throw zt("notcsel", "Expecting class selector starting with '.' got '{0}'.", n);
                    var i = n + "-animation";
                    t.$$registeredAnimations[n.substr(1)] = i,
                    e.factory(i, r)
                }
                ,
                this.classNameFilter = function(e) {
                    if (1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null,
                    this.$$classNameFilter && new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString())))
                        throw zt("nongcls", '$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.', "ng-animate");
                    return this.$$classNameFilter
                }
                ,
                this.$get = ["$$animateQueue", function(e) {
                    function t(e, t, n) {
                        if (n) {
                            var r = function(e) {
                                for (var t = 0; t < e.length; t++) {
                                    var n = e[t];
                                    if (n.nodeType === Ht)
                                        return n
                                }
                            }(n);
                            !r || r.parentNode || r.previousElementSibling || (n = null)
                        }
                        n ? n.after(e) : t.prepend(e)
                    }
                    return {
                        on: e.on,
                        off: e.off,
                        pin: e.pin,
                        enabled: e.enabled,
                        cancel: function(e) {
                            e.end && e.end()
                        },
                        enter: function(n, r, i, o) {
                            return r = r && l(r),
                            i = i && l(i),
                            t(n, r = r || i.parent(), i),
                            e.push(n, "enter", Gt(o))
                        },
                        move: function(n, r, i, o) {
                            return r = r && l(r),
                            i = i && l(i),
                            t(n, r = r || i.parent(), i),
                            e.push(n, "move", Gt(o))
                        },
                        leave: function(t, n) {
                            return e.push(t, "leave", Gt(n), function() {
                                t.remove()
                            })
                        },
                        addClass: function(t, n, r) {
                            return (r = Gt(r)).addClass = Wt(r.addclass, n),
                            e.push(t, "addClass", r)
                        },
                        removeClass: function(t, n, r) {
                            return (r = Gt(r)).removeClass = Wt(r.removeClass, n),
                            e.push(t, "removeClass", r)
                        },
                        setClass: function(t, n, r, i) {
                            return (i = Gt(i)).addClass = Wt(i.addClass, n),
                            i.removeClass = Wt(i.removeClass, r),
                            e.push(t, "setClass", i)
                        },
                        animate: function(t, n, r, i, o) {
                            return (o = Gt(o)).from = o.from ? T(o.from, n) : n,
                            o.to = o.to ? T(o.to, r) : r,
                            i = i || "ng-inline-animate",
                            o.tempClasses = Wt(o.tempClasses, i),
                            e.push(t, "animate", o)
                        }
                    }
                }
                ]
            }
            ]
              , Qt = function() {
                this.$get = ["$$rAF", function(e) {
                    var t = [];
                    function n(n) {
                        t.push(n),
                        t.length > 1 || e(function() {
                            for (var e = 0; e < t.length; e++)
                                t[e]();
                            t = []
                        })
                    }
                    return function() {
                        var e = !1;
                        return n(function() {
                            e = !0
                        }),
                        function(t) {
                            e ? t() : n(t)
                        }
                    }
                }
                ]
            }
              , Jt = function() {
                this.$get = ["$q", "$sniffer", "$$animateAsyncRun", "$document", "$timeout", function(e, t, n, r, i) {
                    function o(e) {
                        this.setHost(e);
                        var t = n();
                        this._doneCallbacks = [],
                        this._tick = function(e) {
                            var n = r[0];
                            n && n.hidden ? function(e) {
                                i(e, 0, !1)
                            }(e) : t(e)
                        }
                        ,
                        this._state = 0
                    }
                    return o.chain = function(e, t) {
                        var n = 0;
                        !function r() {
                            n !== e.length ? e[n](function(e) {
                                !1 !== e ? (n++,
                                r()) : t(!1)
                            }) : t(!0)
                        }()
                    }
                    ,
                    o.all = function(e, t) {
                        var n = 0
                          , r = !0;
                        function i(i) {
                            r = r && i,
                            ++n === e.length && t(r)
                        }
                        x(e, function(e) {
                            e.done(i)
                        })
                    }
                    ,
                    o.prototype = {
                        setHost: function(e) {
                            this.host = e || {}
                        },
                        done: function(e) {
                            2 === this._state ? e() : this._doneCallbacks.push(e)
                        },
                        progress: j,
                        getPromise: function() {
                            if (!this.promise) {
                                var t = this;
                                this.promise = e(function(e, n) {
                                    t.done(function(t) {
                                        !1 === t ? n() : e()
                                    })
                                })
                            }
                            return this.promise
                        },
                        then: function(e, t) {
                            return this.getPromise().then(e, t)
                        },
                        catch: function(e) {
                            return this.getPromise().catch(e)
                        },
                        finally: function(e) {
                            return this.getPromise().finally(e)
                        },
                        pause: function() {
                            this.host.pause && this.host.pause()
                        },
                        resume: function() {
                            this.host.resume && this.host.resume()
                        },
                        end: function() {
                            this.host.end && this.host.end(),
                            this._resolve(!0)
                        },
                        cancel: function() {
                            this.host.cancel && this.host.cancel(),
                            this._resolve(!1)
                        },
                        complete: function(e) {
                            var t = this;
                            0 === t._state && (t._state = 1,
                            t._tick(function() {
                                t._resolve(e)
                            }))
                        },
                        _resolve: function(e) {
                            2 !== this._state && (x(this._doneCallbacks, function(t) {
                                t(e)
                            }),
                            this._doneCallbacks.length = 0,
                            this._state = 2)
                        }
                    },
                    o
                }
                ]
            }
              , Zt = function() {
                this.$get = ["$$rAF", "$q", "$$AnimateRunner", function(e, t, n) {
                    return function(t, r) {
                        var i = r || {};
                        i.$$prepared || (i = ne(i)),
                        i.cleanupStyles && (i.from = i.to = null),
                        i.from && (t.css(i.from),
                        i.from = null);
                        var o, a = new n;
                        return {
                            start: s,
                            end: s
                        };
                        function s() {
                            return e(function() {
                                i.addClass && (t.addClass(i.addClass),
                                i.addClass = null),
                                i.removeClass && (t.removeClass(i.removeClass),
                                i.removeClass = null),
                                i.to && (t.css(i.to),
                                i.to = null),
                                o || a.complete(),
                                o = !0
                            }),
                            a
                        }
                    }
                }
                ]
            };
            function en() {
                this.$get = ["$window", "$log", "$sniffer", "$document", function(e, t, n, r) {
                    return new function(e, t, n, r) {
                        var i = this
                          , o = e.location
                          , a = e.history
                          , s = e.setTimeout
                          , c = e.clearTimeout
                          , u = {};
                        i.isMock = !1;
                        var d = 0
                          , f = [];
                        function h(e) {
                            try {
                                e.apply(null, se(arguments, 1))
                            } finally {
                                if (0 == --d)
                                    for (; f.length; )
                                        try {
                                            f.pop()()
                                        } catch (e) {
                                            n.error(e)
                                        }
                            }
                        }
                        i.$$completeOutstandingRequest = h,
                        i.$$incOutstandingRequestCount = function() {
                            d++
                        }
                        ,
                        i.notifyWhenNoOutstandingRequests = function(e) {
                            0 === d ? e() : f.push(e)
                        }
                        ;
                        var p, g, m = o.href, v = t.find("base"), y = null, b = r.history ? function() {
                            try {
                                return a.state
                            } catch (e) {}
                        }
                        : j;
                        k(),
                        g = p,
                        i.url = function(t, n, s) {
                            if (I(s) && (s = null),
                            o !== e.location && (o = e.location),
                            a !== e.history && (a = e.history),
                            t) {
                                var c = g === s;
                                if (m === t && (!r.history || c))
                                    return i;
                                var l = m && Kn(m) === Kn(t);
                                return m = t,
                                g = s,
                                !r.history || l && c ? (l || (y = t),
                                n ? o.replace(t) : l ? o.hash = function(e) {
                                    var t = e.indexOf("#");
                                    return -1 === t ? "" : e.substr(t)
                                }(t) : o.href = t,
                                o.href !== t && (y = t)) : (a[n ? "replaceState" : "pushState"](s, "", t),
                                k(),
                                g = p),
                                y && (y = t),
                                i
                            }
                            return y || o.href.replace(/%27/g, "'")
                        }
                        ,
                        i.state = function() {
                            return p
                        }
                        ;
                        var w = []
                          , S = !1;
                        function C() {
                            y = null,
                            k(),
                            E()
                        }
                        var _ = null;
                        function k() {
                            re(p = I(p = b()) ? null : p, _) && (p = _),
                            _ = p
                        }
                        function E() {
                            m === i.url() && g === p || (m = i.url(),
                            g = p,
                            x(w, function(e) {
                                e(i.url(), p)
                            }))
                        }
                        i.onUrlChange = function(t) {
                            return S || (r.history && l(e).on("popstate", C),
                            l(e).on("hashchange", C),
                            S = !0),
                            w.push(t),
                            t
                        }
                        ,
                        i.$$applicationDestroyed = function() {
                            l(e).off("hashchange popstate", C)
                        }
                        ,
                        i.$$checkUrlChange = E,
                        i.baseHref = function() {
                            var e = v.attr("href");
                            return e ? e.replace(/^(https?:)?\/\/[^\/]*/, "") : ""
                        }
                        ,
                        i.defer = function(e, t) {
                            var n;
                            return d++,
                            n = s(function() {
                                delete u[n],
                                h(e)
                            }, t || 0),
                            u[n] = !0,
                            n
                        }
                        ,
                        i.defer.cancel = function(e) {
                            return !!u[e] && (delete u[e],
                            c(e),
                            h(j),
                            !0)
                        }
                    }
                    (e,r,t,n)
                }
                ]
            }
            function tn() {
                this.$get = function() {
                    var e = {};
                    function t(t, r) {
                        if (t in e)
                            throw n("$cacheFactory")("iid", "CacheId '{0}' is already taken!", t);
                        var i = 0
                          , o = T({}, r, {
                            id: t
                        })
                          , a = Re()
                          , s = r && r.capacity || Number.MAX_VALUE
                          , c = Re()
                          , l = null
                          , u = null;
                        return e[t] = {
                            put: function(e, t) {
                                if (!I(t))
                                    return s < Number.MAX_VALUE && d(c[e] || (c[e] = {
                                        key: e
                                    })),
                                    e in a || i++,
                                    a[e] = t,
                                    i > s && this.remove(u.key),
                                    t
                            },
                            get: function(e) {
                                if (s < Number.MAX_VALUE) {
                                    var t = c[e];
                                    if (!t)
                                        return;
                                    d(t)
                                }
                                return a[e]
                            },
                            remove: function(e) {
                                if (s < Number.MAX_VALUE) {
                                    var t = c[e];
                                    if (!t)
                                        return;
                                    t === l && (l = t.p),
                                    t === u && (u = t.n),
                                    f(t.n, t.p),
                                    delete c[e]
                                }
                                e in a && (delete a[e],
                                i--)
                            },
                            removeAll: function() {
                                a = Re(),
                                i = 0,
                                c = Re(),
                                l = u = null
                            },
                            destroy: function() {
                                a = null,
                                o = null,
                                c = null,
                                delete e[t]
                            },
                            info: function() {
                                return T({}, o, {
                                    size: i
                                })
                            }
                        };
                        function d(e) {
                            e !== l && (u ? u === e && (u = e.n) : u = e,
                            f(e.n, e.p),
                            f(e, l),
                            (l = e).n = null)
                        }
                        function f(e, t) {
                            e !== t && (e && (e.p = t),
                            t && (t.n = e))
                        }
                    }
                    return t.info = function() {
                        var t = {};
                        return x(e, function(e, n) {
                            t[n] = e.info()
                        }),
                        t
                    }
                    ,
                    t.get = function(t) {
                        return e[t]
                    }
                    ,
                    t
                }
            }
            function nn() {
                this.$get = ["$cacheFactory", function(e) {
                    return e("templates")
                }
                ]
            }
            var rn = n("$compile")
              , on = new function() {}
            ;
            function an(e, n) {
                var r = {}
                  , i = "Directive"
                  , s = /^\s*directive:\s*([\w\-]+)\s+(.*)$/
                  , u = /(([\w\-]+)(?::([^;]+))?;?)/
                  , d = function(e) {
                    var t, n = {}, r = "ngSrc,ngSrcset,src,srcset".split(",");
                    for (t = 0; t < r.length; t++)
                        n[r[t]] = !0;
                    return n
                }()
                  , f = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/
                  , h = /^(on[a-z]+|formaction)$/
                  , p = Re();
                function m(e, t, n) {
                    var r = /^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/
                      , i = Re();
                    return x(e, function(e, o) {
                        if (e in p)
                            i[o] = p[e];
                        else {
                            var a = e.match(r);
                            if (!a)
                                throw rn("iscp", "Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}", t, o, e, n ? "controller bindings definition" : "isolate scope definition");
                            i[o] = {
                                mode: a[1][0],
                                collection: "*" === a[2],
                                optional: "?" === a[3],
                                attrName: a[4] || o
                            },
                            a[4] && (p[e] = i[o])
                        }
                    }),
                    i
                }
                function v(e, t) {
                    var n = {
                        isolateScope: null,
                        bindToController: null
                    };
                    if (F(e.scope) && (!0 === e.bindToController ? (n.bindToController = m(e.scope, t, !0),
                    n.isolateScope = {}) : n.isolateScope = m(e.scope, t, !1)),
                    F(e.bindToController) && (n.bindToController = m(e.bindToController, t, !0)),
                    F(n.bindToController)) {
                        var r = e.controller
                          , i = e.controllerAs;
                        if (!r)
                            throw rn("noctrl", "Cannot bind to controller without directive '{0}'s controller.", t);
                        if (!pn(r, i))
                            throw rn("noident", "Cannot bind to controller without identifier for directive '{0}'.", t)
                    }
                    return n
                }
                this.directive = function t(n, o) {
                    return $e(n, "directive"),
                    B(n) ? (function(e) {
                        var t = e.charAt(0);
                        if (!t || t !== a(t))
                            throw rn("baddir", "Directive/Component name '{0}' is invalid. The first character must be a lowercase letter", e);
                        if (e !== e.trim())
                            throw rn("baddir", "Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces", e)
                    }(n),
                    Ae(o, "directiveFactory"),
                    r.hasOwnProperty(n) || (r[n] = [],
                    e.factory(n + i, ["$injector", "$exceptionHandler", function(e, t) {
                        var i = [];
                        return x(r[n], function(r, o) {
                            try {
                                var a = e.invoke(r);
                                z(a) ? a = {
                                    compile: R(a)
                                } : !a.compile && a.link && (a.compile = R(a.link)),
                                a.priority = a.priority || 0,
                                a.index = o,
                                a.name = a.name || n,
                                a.require = function(e) {
                                    var t = e.require || e.controller && e.name;
                                    return !V(t) && F(t) && x(t, function(e, n) {
                                        var r = e.match(f);
                                        e.substring(r[0].length) || (t[n] = r[0] + n)
                                    }),
                                    t
                                }(a),
                                a.restrict = a.restrict || "EA",
                                a.$$moduleName = r.$$moduleName,
                                i.push(a)
                            } catch (e) {
                                t(e)
                            }
                        }),
                        i
                    }
                    ])),
                    r[n].push(o)) : x(n, C(t)),
                    this
                }
                ,
                this.component = function(e, t) {
                    var n = t.controller || function() {}
                    ;
                    function r(e) {
                        function r(t) {
                            return z(t) || V(t) ? function(n, r) {
                                return e.invoke(t, this, {
                                    $element: n,
                                    $attrs: r
                                })
                            }
                            : t
                        }
                        var i = t.template || t.templateUrl ? t.template : ""
                          , o = {
                            controller: n,
                            controllerAs: pn(t.controller) || t.controllerAs || "$ctrl",
                            template: r(i),
                            templateUrl: r(t.templateUrl),
                            transclude: t.transclude,
                            scope: {},
                            bindToController: t.bindings || {},
                            restrict: "E",
                            require: t.require
                        };
                        return x(t, function(e, t) {
                            "$" === t.charAt(0) && (o[t] = e)
                        }),
                        o
                    }
                    return x(t, function(e, t) {
                        "$" === t.charAt(0) && (r[t] = e,
                        z(n) && (n[t] = e))
                    }),
                    r.$inject = ["$injector"],
                    this.directive(e, r)
                }
                ,
                this.aHrefSanitizationWhitelist = function(e) {
                    return L(e) ? (n.aHrefSanitizationWhitelist(e),
                    this) : n.aHrefSanitizationWhitelist()
                }
                ,
                this.imgSrcSanitizationWhitelist = function(e) {
                    return L(e) ? (n.imgSrcSanitizationWhitelist(e),
                    this) : n.imgSrcSanitizationWhitelist()
                }
                ;
                var y = !0;
                this.debugInfoEnabled = function(e) {
                    return L(e) ? (y = e,
                    this) : y
                }
                ;
                var b = 10;
                this.onChangesTtl = function(e) {
                    return arguments.length ? (b = e,
                    this) : b
                }
                ;
                var w = !0;
                this.commentDirectivesEnabled = function(e) {
                    return arguments.length ? (w = e,
                    this) : w
                }
                ;
                var S = !0;
                this.cssClassDirectivesEnabled = function(e) {
                    return arguments.length ? (S = e,
                    this) : S
                }
                ,
                this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$sce", "$animate", "$$sanitizeUri", function(e, n, p, m, C, _, k, E, P, A) {
                    var O, R = /^\w/, M = t.document.createElement("div"), N = w, U = S, q = b;
                    function H() {
                        try {
                            if (!--q)
                                throw O = void 0,
                                rn("infchng", "{0} $onChanges() iterations reached. Aborting!\n", b);
                            k.$apply(function() {
                                for (var e = [], t = 0, n = O.length; t < n; ++t)
                                    try {
                                        O[t]()
                                    } catch (t) {
                                        e.push(t)
                                    }
                                if (O = void 0,
                                e.length)
                                    throw e
                            })
                        } finally {
                            q++
                        }
                    }
                    function W(e, t) {
                        if (t) {
                            var n, r, i, o = Object.keys(t);
                            for (n = 0,
                            r = o.length; n < r; n++)
                                this[i = o[n]] = t[i]
                        } else
                            this.$attr = {};
                        this.$$element = e
                    }
                    function Y(e, t) {
                        try {
                            e.addClass(t)
                        } catch (e) {}
                    }
                    W.prototype = {
                        $normalize: ln,
                        $addClass: function(e) {
                            e && e.length > 0 && P.addClass(this.$$element, e)
                        },
                        $removeClass: function(e) {
                            e && e.length > 0 && P.removeClass(this.$$element, e)
                        },
                        $updateClass: function(e, t) {
                            var n = un(e, t);
                            n && n.length && P.addClass(this.$$element, n);
                            var r = un(t, e);
                            r && r.length && P.removeClass(this.$$element, r)
                        },
                        $set: function(e, t, n, r) {
                            var i, o = Tt(this.$$element[0], e), a = Et[e], s = e;
                            if (o ? (this.$$element.prop(e, t),
                            r = o) : a && (this[a] = t,
                            s = a),
                            this[e] = t,
                            r ? this.$attr[e] = r : (r = this.$attr[e]) || (this.$attr[e] = r = Te(e, "-")),
                            "a" === (i = ee(this.$$element)) && ("href" === e || "xlinkHref" === e) || "img" === i && "src" === e)
                                this[e] = t = A(t, "src" === e);
                            else if ("img" === i && "srcset" === e && L(t)) {
                                for (var c = "", l = Q(t), u = /\s/.test(l) ? /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/ : /(,)/, d = l.split(u), f = Math.floor(d.length / 2), h = 0; h < f; h++) {
                                    var g = 2 * h;
                                    c += A(Q(d[g]), !0),
                                    c += " " + Q(d[g + 1])
                                }
                                var m = Q(d[2 * h]).split(/\s/);
                                c += A(Q(m[0]), !0),
                                2 === m.length && (c += " " + Q(m[1])),
                                this[e] = t = c
                            }
                            !1 !== n && (null === t || I(t) ? this.$$element.removeAttr(r) : R.test(r) ? this.$$element.attr(r, t) : function(e, t, n) {
                                M.innerHTML = "<span " + t + ">";
                                var r = M.firstChild.attributes
                                  , i = r[0];
                                r.removeNamedItem(i.name),
                                i.value = n,
                                e.attributes.setNamedItem(i)
                            }(this.$$element[0], r, t));
                            var v = this.$$observers;
                            v && x(v[s], function(e) {
                                try {
                                    e(t)
                                } catch (e) {
                                    p(e)
                                }
                            })
                        },
                        $observe: function(e, t) {
                            var n = this
                              , r = n.$$observers || (n.$$observers = Re())
                              , i = r[e] || (r[e] = []);
                            return i.push(t),
                            k.$evalAsync(function() {
                                i.$$inter || !n.hasOwnProperty(e) || I(n[e]) || t(n[e])
                            }),
                            function() {
                                te(i, t)
                            }
                        }
                    };
                    var K = n.startSymbol()
                      , J = n.endSymbol()
                      , Z = "{{" === K && "}}" === J ? D : function(e) {
                        return e.replace(/\{\{/g, K).replace(/}}/g, J)
                    }
                      , ne = /^ngAttr[A-Z]/
                      , ie = /^(.+)Start$/;
                    return oe.$$addBindingInfo = y ? function(e, t) {
                        var n = e.data("$binding") || [];
                        V(t) ? n = n.concat(t) : n.push(t),
                        e.data("$binding", n)
                    }
                    : j,
                    oe.$$addBindingClass = y ? function(e) {
                        Y(e, "ng-binding")
                    }
                    : j,
                    oe.$$addScopeInfo = y ? function(e, t, n, r) {
                        var i = n ? r ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope";
                        e.data(i, t)
                    }
                    : j,
                    oe.$$addScopeClass = y ? function(e, t) {
                        Y(e, t ? "ng-isolate-scope" : "ng-scope")
                    }
                    : j,
                    oe.$$createComment = function(e, n) {
                        var r = "";
                        return y && (r = " " + (e || "") + ": ",
                        n && (r += n + " ")),
                        t.document.createComment(r)
                    }
                    ,
                    oe;
                    function oe(e, n, r, i, o) {
                        e instanceof l || (e = l(e));
                        for (var a = /\S+/, s = 0, c = e.length; s < c; s++) {
                            var u = e[s];
                            u.nodeType === Ie && u.nodeValue.match(a) && at(u, e[s] = t.document.createElement("span"))
                        }
                        var d = ae(e, n, e, r, i, o);
                        oe.$$addScopeClass(e);
                        var f = null;
                        return function(t, n, r) {
                            Ae(t, "scope"),
                            o && o.needsNewScope && (t = t.$parent.$new());
                            var i, a, s, c = (r = r || {}).parentBoundTranscludeFn, u = r.transcludeControllers, h = r.futureParentElement;
                            if (c && c.$$boundTransclude && (c = c.$$boundTransclude),
                            f || (a = (i = h) && i[0],
                            f = a && "foreignobject" !== ee(a) && g.call(a).match(/SVG/) ? "svg" : "html"),
                            s = "html" !== f ? l(_e(f, l("<div>").append(e).html())) : n ? Ct.clone.call(e) : e,
                            u)
                                for (var p in u)
                                    s.data("$" + p + "Controller", u[p].instance);
                            return oe.$$addScopeInfo(s, t),
                            n && n(s, t),
                            d && d(t, s, s, c),
                            s
                        }
                    }
                    function ae(e, t, n, r, i, o) {
                        for (var a, s, c, u, d, f, h, p = [], g = 0; g < e.length; g++)
                            a = new W,
                            (c = (s = ue(e[g], [], a, 0 === g ? r : void 0, i)).length ? pe(s, e[g], a, t, n, null, [], [], o) : null) && c.scope && oe.$$addScopeClass(a.$$element),
                            d = c && c.terminal || !(u = e[g].childNodes) || !u.length ? null : ae(u, c ? (c.transcludeOnThisElement || !c.templateOnThisElement) && c.transclude : t),
                            (c || d) && (p.push(g, c, d),
                            f = !0,
                            h = h || c),
                            o = null;
                        return f ? function(e, n, r, i) {
                            var o, a, s, c, u, d, f, g;
                            if (h) {
                                var m = n.length;
                                for (g = new Array(m),
                                u = 0; u < p.length; u += 3)
                                    g[f = p[u]] = n[f]
                            } else
                                g = n;
                            for (u = 0,
                            d = p.length; u < d; )
                                s = g[p[u++]],
                                o = p[u++],
                                a = p[u++],
                                o ? (o.scope ? (c = e.$new(),
                                oe.$$addScopeInfo(l(s), c)) : c = e,
                                o(a, c, s, r, o.transcludeOnThisElement ? le(e, o.transclude, i) : !o.templateOnThisElement && i ? i : !i && t ? le(e, t) : null)) : a && a(e, s.childNodes, void 0, i)
                        }
                        : null
                    }
                    function le(e, t, n) {
                        function r(r, i, o, a, s) {
                            return r || ((r = e.$new(!1, s)).$$transcluded = !0),
                            t(r, i, {
                                parentBoundTranscludeFn: n,
                                transcludeControllers: o,
                                futureParentElement: a
                            })
                        }
                        var i = r.$$slots = Re();
                        for (var o in t.$$slots)
                            t.$$slots[o] ? i[o] = le(e, t.$$slots[o], n) : i[o] = null;
                        return r
                    }
                    function ue(e, t, r, i, o) {
                        var a, l, d, f = e.nodeType, h = r.$attr;
                        switch (f) {
                        case Me:
                            ye(t, ln(l = ee(e)), "E", i, o);
                            for (var p, g, m, v, y, b, w = e.attributes, x = 0, S = w && w.length; x < S; x++) {
                                var C = !1
                                  , _ = !1;
                                g = (p = w[x]).name,
                                y = Q(p.value),
                                v = ln(g),
                                (b = ne.test(v)) && (g = g.replace(cn, "").substr(8).replace(/_(.)/g, function(e, t) {
                                    return t.toUpperCase()
                                }));
                                var k = v.match(ie);
                                k && be(k[1]) && (C = g,
                                _ = g.substr(0, g.length - 5) + "end",
                                g = g.substr(0, g.length - 6)),
                                h[m = ln(g.toLowerCase())] = g,
                                !b && r.hasOwnProperty(m) || (r[m] = y,
                                Tt(e, m) && (r[m] = !0)),
                                ke(e, t, y, m, b),
                                ye(t, m, "A", i, o, C, _)
                            }
                            if ("input" === l && "hidden" === e.getAttribute("type") && e.setAttribute("autocomplete", "off"),
                            !U)
                                break;
                            if (F(d = e.className) && (d = d.animVal),
                            B(d) && "" !== d)
                                for (; a = u.exec(d); )
                                    ye(t, m = ln(a[2]), "C", i, o) && (r[m] = Q(a[3])),
                                    d = d.substr(a.index + a[0].length);
                            break;
                        case Ie:
                            if (11 === c)
                                for (; e.parentNode && e.nextSibling && e.nextSibling.nodeType === Ie; )
                                    e.nodeValue = e.nodeValue + e.nextSibling.nodeValue,
                                    e.parentNode.removeChild(e.nextSibling);
                            !function(e, t) {
                                var r = n(t, !0);
                                r && e.push({
                                    priority: 0,
                                    compile: function(e) {
                                        var t = e.parent()
                                          , n = !!t.length;
                                        return n && oe.$$addBindingClass(t),
                                        function(e, t) {
                                            var i = t.parent();
                                            n || oe.$$addBindingClass(i),
                                            oe.$$addBindingInfo(i, r.expressions),
                                            e.$watch(r, function(e) {
                                                t[0].nodeValue = e
                                            })
                                        }
                                    }
                                })
                            }(t, e.nodeValue);
                            break;
                        case Le:
                            if (!N)
                                break;
                            !function(e, t, n, r, i) {
                                try {
                                    var o = s.exec(e.nodeValue);
                                    if (o) {
                                        var a = ln(o[1]);
                                        ye(t, a, "M", r, i) && (n[a] = Q(o[2]))
                                    }
                                } catch (e) {}
                            }(e, t, r, i, o)
                        }
                        return t.sort(Se),
                        t
                    }
                    function de(e, t, n) {
                        var r = []
                          , i = 0;
                        if (t && e.hasAttribute && e.hasAttribute(t))
                            do {
                                if (!e)
                                    throw rn("uterdir", "Unterminated attribute, found '{0}' but no matching '{1}' found.", t, n);
                                e.nodeType === Me && (e.hasAttribute(t) && i++,
                                e.hasAttribute(n) && i--),
                                r.push(e),
                                e = e.nextSibling
                            } while (i > 0);
                        else
                            r.push(e);
                        return l(r)
                    }
                    function fe(e, t, n) {
                        return function(r, i, o, a, s) {
                            return i = de(i[0], t, n),
                            e(r, i, o, a, s)
                        }
                    }
                    function he(e, t, n, r, i, o) {
                        var a;
                        return e ? oe(t, n, r, i, o) : function() {
                            return a || (a = oe(t, n, r, i, o),
                            t = n = o = null),
                            a.apply(this, arguments)
                        }
                    }
                    function pe(e, t, n, r, i, o, a, s, c) {
                        c = c || {};
                        for (var u, d, f, h, g, m = -Number.MAX_VALUE, v = c.newScopeDirective, y = c.controllerDirectives, b = c.newIsolateScopeDirective, w = c.templateDirective, S = c.nonTlbTranscludeDirective, C = !1, k = !1, E = c.hasElementTranscludeDirective, P = n.$$element = l(t), A = o, O = r, $ = !1, j = !1, D = 0, R = e.length; D < R; D++) {
                            var M = (u = e[D]).$$start
                              , L = u.$$end;
                            if (M && (P = de(t, M, L)),
                            f = void 0,
                            m > u.priority)
                                break;
                            if ((g = u.scope) && (u.templateUrl || (F(g) ? (Ce("new/isolated scope", b || v, u, P),
                            b = u) : Ce("new/isolated scope", b, u, P)),
                            v = v || u),
                            d = u.name,
                            !$ && (u.replace && (u.templateUrl || u.template) || u.transclude && !u.$$tlb)) {
                                for (var N, B = D + 1; N = e[B++]; )
                                    if (N.transclude && !N.$$tlb || N.replace && (N.templateUrl || N.template)) {
                                        j = !0;
                                        break
                                    }
                                $ = !0
                            }
                            if (!u.templateUrl && u.controller && (g = u.controller,
                            y = y || Re(),
                            Ce("'" + d + "' controller", y[d], u, P),
                            y[d] = u),
                            g = u.transclude)
                                if (C = !0,
                                u.$$tlb || (Ce("transclusion", S, u, P),
                                S = u),
                                "element" === g)
                                    E = !0,
                                    m = u.priority,
                                    f = P,
                                    P = n.$$element = l(oe.$$createComment(d, n[d])),
                                    t = P[0],
                                    Ee(i, se(f), t),
                                    f[0].$$parentNode = f[0].parentNode,
                                    O = he(j, f, r, m, A && A.name, {
                                        nonTlbTranscludeDirective: S
                                    });
                                else {
                                    var U = Re();
                                    if (f = l(lt(t)).contents(),
                                    F(g)) {
                                        f = [];
                                        var q = Re()
                                          , H = Re();
                                        for (var X in x(g, function(e, t) {
                                            var n = "?" === e.charAt(0);
                                            e = n ? e.substring(1) : e,
                                            q[e] = t,
                                            U[t] = null,
                                            H[t] = n
                                        }),
                                        x(P.contents(), function(e) {
                                            var t = q[ln(ee(e))];
                                            t ? (H[t] = !0,
                                            U[t] = U[t] || [],
                                            U[t].push(e)) : f.push(e)
                                        }),
                                        x(H, function(e, t) {
                                            if (!e)
                                                throw rn("reqslot", "Required transclusion slot `{0}` was not filled.", t)
                                        }),
                                        U)
                                            U[X] && (U[X] = he(j, U[X], r))
                                    }
                                    P.empty(),
                                    (O = he(j, f, r, void 0, void 0, {
                                        needsNewScope: u.$$isolateScope || u.$$newScope
                                    })).$$slots = U
                                }
                            if (u.template)
                                if (k = !0,
                                Ce("template", w, u, P),
                                w = u,
                                g = z(u.template) ? u.template(P, n) : u.template,
                                g = Z(g),
                                u.replace) {
                                    if (A = u,
                                    f = rt(g) ? [] : dn(_e(u.templateNamespace, Q(g))),
                                    t = f[0],
                                    1 !== f.length || t.nodeType !== Me)
                                        throw rn("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", d, "");
                                    Ee(i, P, t);
                                    var Y = {
                                        $attr: {}
                                    }
                                      , K = ue(t, [], Y)
                                      , J = e.splice(D + 1, e.length - (D + 1));
                                    (b || v) && ve(K, b, v),
                                    e = e.concat(K).concat(J),
                                    we(n, Y),
                                    R = e.length
                                } else
                                    P.html(g);
                            if (u.templateUrl)
                                k = !0,
                                Ce("template", w, u, P),
                                w = u,
                                u.replace && (A = u),
                                re = xe(e.splice(D, e.length - D), P, n, i, C && O, a, s, {
                                    controllerDirectives: y,
                                    newScopeDirective: v !== u && v,
                                    newIsolateScopeDirective: b,
                                    templateDirective: w,
                                    nonTlbTranscludeDirective: S
                                }),
                                R = e.length;
                            else if (u.compile)
                                try {
                                    h = u.compile(P, n, O);
                                    var te = u.$$originalDirective || u;
                                    z(h) ? ne(null, ce(te, h), M, L) : h && ne(ce(te, h.pre), ce(te, h.post), M, L)
                                } catch (e) {
                                    p(e, ge(P))
                                }
                            u.terminal && (re.terminal = !0,
                            m = Math.max(m, u.priority))
                        }
                        return re.scope = v && !0 === v.scope,
                        re.transcludeOnThisElement = C,
                        re.templateOnThisElement = k,
                        re.transclude = O,
                        c.hasElementTranscludeDirective = E,
                        re;
                        function ne(e, t, n, r) {
                            e && (n && (e = fe(e, n, r)),
                            e.require = u.require,
                            e.directiveName = d,
                            (b === u || u.$$isolateScope) && (e = Pe(e, {
                                isolateScope: !0
                            })),
                            a.push(e)),
                            t && (n && (t = fe(t, n, r)),
                            t.require = u.require,
                            t.directiveName = d,
                            (b === u || u.$$isolateScope) && (t = Pe(t, {
                                isolateScope: !0
                            })),
                            s.push(t))
                        }
                        function re(e, r, i, o, c) {
                            var u, d, f, h, g, m, S, C, k, P;
                            for (var A in t === i ? (k = n,
                            C = n.$$element) : k = new W(C = l(i),n),
                            g = r,
                            b ? h = r.$new(!0) : v && (g = r.$parent),
                            c && ((S = function(e, t, n, r) {
                                var i;
                                if (G(e) || (r = n,
                                n = t,
                                t = e,
                                e = void 0),
                                E && (i = m),
                                n || (n = E ? C.parent() : C),
                                !r)
                                    return c(e, t, i, n, R);
                                var o = c.$$slots[r];
                                if (o)
                                    return o(e, t, i, n, R);
                                if (I(o))
                                    throw rn("noslot", 'No parent directive that requires a transclusion with slot name "{0}". Element: {1}', r, ge(C))
                            }
                            ).$$boundTransclude = c,
                            S.isSlotFilled = function(e) {
                                return !!c.$$slots[e]
                            }
                            ),
                            y && (m = function(e, t, n, r, i, o, a) {
                                var s = Re();
                                for (var c in r) {
                                    var l = r[c]
                                      , u = {
                                        $scope: l === a || l.$$isolateScope ? i : o,
                                        $element: e,
                                        $attrs: t,
                                        $transclude: n
                                    }
                                      , d = l.controller;
                                    "@" === d && (d = t[l.name]);
                                    var f = _(d, u, !0, l.controllerAs);
                                    s[l.name] = f,
                                    e.data("$" + l.name + "Controller", f.instance)
                                }
                                return s
                            }(C, k, S, y, h, r, b)),
                            b && (oe.$$addScopeInfo(C, h, !0, !(w && (w === b || w === b.$$originalDirective))),
                            oe.$$addScopeClass(C, !0),
                            h.$$isolateBindings = b.$$isolateBindings,
                            (P = $e(r, k, h, h.$$isolateBindings, b)).removeWatches && h.$on("$destroy", P.removeWatches)),
                            m) {
                                var O = y[A]
                                  , $ = m[A]
                                  , j = O.$$bindings.bindToController;
                                $.identifier && j ? $.bindingInfo = $e(g, k, $.instance, j, O) : $.bindingInfo = {};
                                var D = $();
                                D !== $.instance && ($.instance = D,
                                C.data("$" + O.name + "Controller", D),
                                $.bindingInfo.removeWatches && $.bindingInfo.removeWatches(),
                                $.bindingInfo = $e(g, k, $.instance, j, O))
                            }
                            for (x(y, function(e, t) {
                                var n = e.require;
                                e.bindToController && !V(n) && F(n) && T(m[t].instance, me(t, n, C, m))
                            }),
                            x(m, function(e) {
                                var t = e.instance;
                                if (z(t.$onChanges))
                                    try {
                                        t.$onChanges(e.bindingInfo.initialChanges)
                                    } catch (e) {
                                        p(e)
                                    }
                                if (z(t.$onInit))
                                    try {
                                        t.$onInit()
                                    } catch (e) {
                                        p(e)
                                    }
                                z(t.$doCheck) && (g.$watch(function() {
                                    t.$doCheck()
                                }),
                                t.$doCheck()),
                                z(t.$onDestroy) && g.$on("$destroy", function() {
                                    t.$onDestroy()
                                })
                            }),
                            u = 0,
                            d = a.length; u < d; u++)
                                Oe(f = a[u], f.isolateScope ? h : r, C, k, f.require && me(f.directiveName, f.require, C, m), S);
                            var R = r;
                            for (b && (b.template || null === b.templateUrl) && (R = h),
                            e && e(R, i.childNodes, void 0, c),
                            u = s.length - 1; u >= 0; u--)
                                Oe(f = s[u], f.isolateScope ? h : r, C, k, f.require && me(f.directiveName, f.require, C, m), S);
                            x(m, function(e) {
                                var t = e.instance;
                                z(t.$postLink) && t.$postLink()
                            })
                        }
                    }
                    function me(e, t, n, r) {
                        var i;
                        if (B(t)) {
                            var o = t.match(f)
                              , a = t.substring(o[0].length)
                              , s = o[1] || o[3]
                              , c = "?" === o[2];
                            if ("^^" === s ? n = n.parent() : i = (i = r && r[a]) && i.instance,
                            !i) {
                                var l = "$" + a + "Controller";
                                i = s ? n.inheritedData(l) : n.data(l)
                            }
                            if (!i && !c)
                                throw rn("ctreq", "Controller '{0}', required by directive '{1}', can't be found!", a, e)
                        } else if (V(t)) {
                            i = [];
                            for (var u = 0, d = t.length; u < d; u++)
                                i[u] = me(e, t[u], n, r)
                        } else
                            F(t) && (i = {},
                            x(t, function(t, o) {
                                i[o] = me(e, t, n, r)
                            }));
                        return i || null
                    }
                    function ve(e, t, n) {
                        for (var r = 0, i = e.length; r < i; r++)
                            e[r] = $(e[r], {
                                $$isolateScope: t,
                                $$newScope: n
                            })
                    }
                    function ye(t, n, o, a, s, c, l) {
                        if (n === s)
                            return null;
                        var u = null;
                        if (r.hasOwnProperty(n))
                            for (var d, f = e.get(n + i), h = 0, g = f.length; h < g; h++)
                                try {
                                    if (d = f[h],
                                    (I(a) || a > d.priority) && -1 !== d.restrict.indexOf(o)) {
                                        if (c && (d = $(d, {
                                            $$start: c,
                                            $$end: l
                                        })),
                                        !d.$$bindings) {
                                            var m = d.$$bindings = v(d, d.name);
                                            F(m.isolateScope) && (d.$$isolateBindings = m.isolateScope)
                                        }
                                        t.push(d),
                                        u = d
                                    }
                                } catch (e) {
                                    p(e)
                                }
                        return u
                    }
                    function be(t) {
                        if (r.hasOwnProperty(t))
                            for (var n = e.get(t + i), o = 0, a = n.length; o < a; o++)
                                if (n[o].multiElement)
                                    return !0;
                        return !1
                    }
                    function we(e, t) {
                        var n = t.$attr
                          , r = e.$attr;
                        x(e, function(r, i) {
                            "$" !== i.charAt(0) && (t[i] && t[i] !== r && (r += ("style" === i ? ";" : " ") + t[i]),
                            e.$set(i, r, !0, n[i]))
                        }),
                        x(t, function(t, i) {
                            e.hasOwnProperty(i) || "$" === i.charAt(0) || (e[i] = t,
                            "class" !== i && "style" !== i && (r[i] = n[i]))
                        })
                    }
                    function xe(e, t, n, r, i, o, a, s) {
                        var c, u, d = [], f = t[0], h = e.shift(), p = $(h, {
                            templateUrl: null,
                            transclude: null,
                            replace: null,
                            $$originalDirective: h
                        }), g = z(h.templateUrl) ? h.templateUrl(t, n) : h.templateUrl, v = h.templateNamespace;
                        return t.empty(),
                        m(g).then(function(m) {
                            var y, b, w, S;
                            if (m = Z(m),
                            h.replace) {
                                if (w = rt(m) ? [] : dn(_e(v, Q(m))),
                                y = w[0],
                                1 !== w.length || y.nodeType !== Me)
                                    throw rn("tplrt", "Template for directive '{0}' must have exactly one root element. {1}", h.name, g);
                                b = {
                                    $attr: {}
                                },
                                Ee(r, t, y);
                                var C = ue(y, [], b);
                                F(h.scope) && ve(C, !0),
                                e = C.concat(e),
                                we(n, b)
                            } else
                                y = f,
                                t.html(m);
                            for (e.unshift(p),
                            c = pe(e, y, n, i, t, h, o, a, s),
                            x(r, function(e, n) {
                                e === y && (r[n] = t[0])
                            }),
                            u = ae(t[0].childNodes, i); d.length; ) {
                                var _ = d.shift()
                                  , k = d.shift()
                                  , E = d.shift()
                                  , T = d.shift()
                                  , P = t[0];
                                if (!_.$$destroyed) {
                                    if (k !== f) {
                                        var A = k.className;
                                        s.hasElementTranscludeDirective && h.replace || (P = lt(y)),
                                        Ee(E, l(k), P),
                                        Y(l(P), A)
                                    }
                                    S = c.transcludeOnThisElement ? le(_, c.transclude, T) : T,
                                    c(u, _, P, r, S)
                                }
                            }
                            d = null
                        }),
                        function(e, t, n, r, i) {
                            var o = i;
                            t.$$destroyed || (d ? d.push(t, n, r, o) : (c.transcludeOnThisElement && (o = le(t, c.transclude, i)),
                            c(u, t, n, r, o)))
                        }
                    }
                    function Se(e, t) {
                        var n = t.priority - e.priority;
                        return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index
                    }
                    function Ce(e, t, n, r) {
                        function i(e) {
                            return e ? " (module: " + e + ")" : ""
                        }
                        if (t)
                            throw rn("multidir", "Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}", t.name, i(t.$$moduleName), n.name, i(n.$$moduleName), e, ge(r))
                    }
                    function _e(e, n) {
                        switch (e = a(e || "html")) {
                        case "svg":
                        case "math":
                            var r = t.document.createElement("div");
                            return r.innerHTML = "<" + e + ">" + n + "</" + e + ">",
                            r.childNodes[0].childNodes;
                        default:
                            return n
                        }
                    }
                    function ke(e, t, r, i, o) {
                        var a = function(e, t) {
                            if ("srcdoc" === t)
                                return E.HTML;
                            var n = ee(e);
                            if ("src" === t || "ngSrc" === t) {
                                if (-1 === ["img", "video", "audio", "source", "track"].indexOf(n))
                                    return E.RESOURCE_URL
                            } else if ("xlinkHref" === t || "form" === n && "action" === t)
                                return E.RESOURCE_URL
                        }(e, i);
                        o = d[i] || o;
                        var s = n(r, !0, a, o);
                        if (s) {
                            if ("multiple" === i && "select" === ee(e))
                                throw rn("selmulti", "Binding to the 'multiple' attribute is not supported. Element: {0}", ge(e));
                            t.push({
                                priority: 100,
                                compile: function() {
                                    return {
                                        pre: function(e, t, c) {
                                            var l = c.$$observers || (c.$$observers = Re());
                                            if (h.test(i))
                                                throw rn("nodomevents", "Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");
                                            var u = c[i];
                                            u !== r && (s = u && n(u, !0, a, o),
                                            r = u),
                                            s && (c[i] = s(e),
                                            (l[i] || (l[i] = [])).$$inter = !0,
                                            (c.$$observers && c.$$observers[i].$$scope || e).$watch(s, function(e, t) {
                                                "class" === i && e !== t ? c.$updateClass(e, t) : c.$set(i, e)
                                            }))
                                        }
                                    }
                                }
                            })
                        }
                    }
                    function Ee(e, n, r) {
                        var i, o, a = n[0], s = n.length, c = a.parentNode;
                        if (e)
                            for (i = 0,
                            o = e.length; i < o; i++)
                                if (e[i] === a) {
                                    e[i++] = r;
                                    for (var u = i, d = u + s - 1, f = e.length; u < f; u++,
                                    d++)
                                        d < f ? e[u] = e[d] : delete e[u];
                                    e.length -= s - 1,
                                    e.context === a && (e.context = r);
                                    break
                                }
                        c && c.replaceChild(r, a);
                        var h = t.document.createDocumentFragment();
                        for (i = 0; i < s; i++)
                            h.appendChild(n[i]);
                        for (l.hasData(a) && (l.data(r, l.data(a)),
                        l(a).off("$destroy")),
                        l.cleanData(h.querySelectorAll("*")),
                        i = 1; i < s; i++)
                            delete n[i];
                        n[0] = r,
                        n.length = 1
                    }
                    function Pe(e, t) {
                        return T(function() {
                            return e.apply(null, arguments)
                        }, e, t)
                    }
                    function Oe(e, t, n, r, i, o) {
                        try {
                            e(t, n, r, i, o)
                        } catch (e) {
                            p(e, ge(n))
                        }
                    }
                    function $e(e, t, r, i, a) {
                        var s, c = [], l = {};
                        function u(t, n, i) {
                            z(r.$onChanges) && n !== i && (O || (e.$$postDigest(H),
                            O = []),
                            s || (s = {},
                            O.push(d)),
                            s[t] && (i = s[t].previousValue),
                            s[t] = new sn(i,n))
                        }
                        function d() {
                            r.$onChanges(s),
                            s = void 0
                        }
                        return x(i, function(i, s) {
                            var d, f, h, p, g, m = i.attrName, v = i.optional;
                            switch (i.mode) {
                            case "@":
                                v || o.call(t, m) || (r[s] = t[m] = void 0),
                                t.$observe(m, function(e) {
                                    if (B(e) || X(e)) {
                                        var t = r[s];
                                        u(s, e, t),
                                        r[s] = e
                                    }
                                }),
                                t.$$observers[m].$$scope = e,
                                B(d = t[m]) ? r[s] = n(d)(e) : X(d) && (r[s] = d),
                                l[s] = new sn(on,r[s]);
                                break;
                            case "=":
                                if (!o.call(t, m)) {
                                    if (v)
                                        break;
                                    t[m] = void 0
                                }
                                if (v && !t[m])
                                    break;
                                f = C(t[m]),
                                p = f.literal ? re : function(e, t) {
                                    return e === t || e != e && t != t
                                }
                                ,
                                h = f.assign || function() {
                                    throw d = r[s] = f(e),
                                    rn("nonassign", "Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!", t[m], m, a.name)
                                }
                                ,
                                d = r[s] = f(e);
                                var y = function(t) {
                                    return p(t, r[s]) || (p(t, d) ? h(e, t = r[s]) : r[s] = t),
                                    d = t
                                };
                                y.$stateful = !0,
                                g = i.collection ? e.$watchCollection(t[m], y) : e.$watch(C(t[m], y), null, f.literal),
                                c.push(g);
                                break;
                            case "<":
                                if (!o.call(t, m)) {
                                    if (v)
                                        break;
                                    t[m] = void 0
                                }
                                if (v && !t[m])
                                    break;
                                f = C(t[m]);
                                var b = r[s] = f(e);
                                l[s] = new sn(on,r[s]),
                                g = e.$watch(f, function(e, t) {
                                    if (t === e) {
                                        if (t === b)
                                            return;
                                        t = b
                                    }
                                    u(s, e, t),
                                    r[s] = e
                                }, f.literal),
                                c.push(g);
                                break;
                            case "&":
                                if ((f = t.hasOwnProperty(m) ? C(t[m]) : j) === j && v)
                                    break;
                                r[s] = function(t) {
                                    return f(e, t)
                                }
                            }
                        }),
                        {
                            initialChanges: l,
                            removeWatches: c.length && function() {
                                for (var e = 0, t = c.length; e < t; ++e)
                                    c[e]()
                            }
                        }
                    }
                }
                ]
            }
            function sn(e, t) {
                this.previousValue = e,
                this.currentValue = t
            }
            an.$inject = ["$provide", "$$sanitizeUriProvider"],
            sn.prototype.isFirstChange = function() {
                return this.previousValue === on
            }
            ;
            var cn = /^((?:x|data)[:\-_])/i;
            function ln(e) {
                return Qe(e.replace(cn, ""))
            }
            function un(e, t) {
                var n = ""
                  , r = e.split(/\s+/)
                  , i = t.split(/\s+/);
                e: for (var o = 0; o < r.length; o++) {
                    for (var a = r[o], s = 0; s < i.length; s++)
                        if (a === i[s])
                            continue e;
                    n += (n.length > 0 ? " " : "") + a
                }
                return n
            }
            function dn(e) {
                var t = (e = l(e)).length;
                if (t <= 1)
                    return e;
                for (; t--; )
                    e[t].nodeType === Le && h.call(e, t, 1);
                return e
            }
            var fn = n("$controller")
              , hn = /^(\S+)(\s+as\s+([\w$]+))?$/;
            function pn(e, t) {
                if (t && B(t))
                    return t;
                if (B(e)) {
                    var n = hn.exec(e);
                    if (n)
                        return n[3]
                }
            }
            function gn() {
                var e = {}
                  , t = !1;
                this.has = function(t) {
                    return e.hasOwnProperty(t)
                }
                ,
                this.register = function(t, n) {
                    $e(t, "controller"),
                    F(t) ? T(e, t) : e[t] = n
                }
                ,
                this.allowGlobals = function() {
                    t = !0
                }
                ,
                this.$get = ["$injector", "$window", function(r, i) {
                    return function(n, a, s, c) {
                        var l, u, d, f;
                        if (s = !0 === s,
                        c && B(c) && (f = c),
                        B(n)) {
                            if (!(u = n.match(hn)))
                                throw fn("ctrlfmt", "Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.", n);
                            d = u[1],
                            f = f || u[3],
                            Oe(n = e.hasOwnProperty(d) ? e[d] : je(a.$scope, d, !0) || (t ? je(i, d, !0) : void 0), d, !0)
                        }
                        if (s) {
                            var h = (V(n) ? n[n.length - 1] : n).prototype;
                            return l = Object.create(h || null),
                            f && o(a, f, l, d || n.name),
                            T(function() {
                                var e = r.invoke(n, l, a, d);
                                return e !== l && (F(e) || z(e)) && (l = e,
                                f && o(a, f, l, d || n.name)),
                                l
                            }, {
                                instance: l,
                                identifier: f
                            })
                        }
                        return l = r.instantiate(n, a, d),
                        f && o(a, f, l, d || n.name),
                        l
                    }
                    ;
                    function o(e, t, r, i) {
                        if (!e || !F(e.$scope))
                            throw n("$controller")("noscp", "Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.", i, t);
                        e.$scope[t] = r
                    }
                }
                ]
            }
            function mn() {
                this.$get = ["$window", function(e) {
                    return l(e.document)
                }
                ]
            }
            function vn() {
                this.$get = ["$log", function(e) {
                    return function(t, n) {
                        e.error.apply(e, arguments)
                    }
                }
                ]
            }
            var yn = function() {
                this.$get = ["$document", function(e) {
                    return function(t) {
                        return t ? !t.nodeType && t instanceof l && (t = t[0]) : t = e[0].body,
                        t.offsetWidth + 1
                    }
                }
                ]
            }
              , bn = "application/json"
              , wn = {
                "Content-Type": bn + ";charset=utf-8"
            }
              , xn = /^\[|^\{(?!\{)/
              , Sn = {
                "[": /]$/,
                "{": /}$/
            }
              , Cn = /^\)\]\}',?\n/
              , _n = n("$http")
              , kn = function(e) {
                return function() {
                    throw _n("legacy", "The method `{0}` on the promise returned from `$http` has been disabled.", e)
                }
            };
            function En(e) {
                return F(e) ? q(e) ? e.toISOString() : ue(e) : e
            }
            function Tn() {
                this.$get = function() {
                    return function(e) {
                        if (!e)
                            return "";
                        var t = [];
                        return S(e, function(e, n) {
                            null === e || I(e) || (V(e) ? x(e, function(e) {
                                t.push(we(n) + "=" + we(En(e)))
                            }) : t.push(we(n) + "=" + we(En(e))))
                        }),
                        t.join("&")
                    }
                }
            }
            function Pn() {
                this.$get = function() {
                    return function(e) {
                        if (!e)
                            return "";
                        var t = [];
                        return function e(n, r, i) {
                            null === n || I(n) || (V(n) ? x(n, function(t, n) {
                                e(t, r + "[" + (F(t) ? n : "") + "]")
                            }) : F(n) && !q(n) ? S(n, function(t, n) {
                                e(t, r + (i ? "" : "[") + n + (i ? "" : "]"))
                            }) : t.push(we(r) + "=" + we(En(n))))
                        }(e, "", !0),
                        t.join("&")
                    }
                }
            }
            function An(e, t) {
                if (B(e)) {
                    var n = e.replace(Cn, "").trim();
                    if (n) {
                        var r = t("Content-Type");
                        (r && 0 === r.indexOf(bn) || (o = (i = n).match(xn)) && Sn[o[0]].test(i)) && (e = de(n))
                    }
                }
                var i, o;
                return e
            }
            function On(e) {
                var t, n = Re();
                function r(e, t) {
                    e && (n[e] = n[e] ? n[e] + ", " + t : t)
                }
                return B(e) ? x(e.split("\n"), function(e) {
                    t = e.indexOf(":"),
                    r(a(Q(e.substr(0, t))), Q(e.substr(t + 1)))
                }) : F(e) && x(e, function(e, t) {
                    r(a(t), Q(e))
                }),
                n
            }
            function $n(e) {
                var t;
                return function(n) {
                    if (t || (t = On(e)),
                    n) {
                        var r = t[a(n)];
                        return void 0 === r && (r = null),
                        r
                    }
                    return t
                }
            }
            function jn(e, t, n, r) {
                return z(r) ? r(e, t, n) : (x(r, function(r) {
                    e = r(e, t, n)
                }),
                e)
            }
            function Dn(e) {
                return 200 <= e && e < 300
            }
            function Rn() {
                var e = this.defaults = {
                    transformResponse: [An],
                    transformRequest: [function(e) {
                        return !F(e) || (t = e,
                        "[object File]" === g.call(t)) || function(e) {
                            return "[object Blob]" === g.call(e)
                        }(e) || function(e) {
                            return "[object FormData]" === g.call(e)
                        }(e) ? e : ue(e);
                        var t
                    }
                    ],
                    headers: {
                        common: {
                            Accept: "application/json, text/plain, */*"
                        },
                        post: Be(wn),
                        put: Be(wn),
                        patch: Be(wn)
                    },
                    xsrfCookieName: "XSRF-TOKEN",
                    xsrfHeaderName: "X-XSRF-TOKEN",
                    paramSerializer: "$httpParamSerializer"
                }
                  , t = !1;
                this.useApplyAsync = function(e) {
                    return L(e) ? (t = !!e,
                    this) : t
                }
                ;
                var r = !0;
                this.useLegacyPromiseExtensions = function(e) {
                    return L(e) ? (r = !!e,
                    this) : r
                }
                ;
                var i = this.interceptors = [];
                this.$get = ["$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function(o, c, l, u, d, f) {
                    var h = l("$http");
                    e.paramSerializer = B(e.paramSerializer) ? f.get(e.paramSerializer) : e.paramSerializer;
                    var p = [];
                    function g(i) {
                        if (!F(i))
                            throw n("$http")("badreq", "Http request configuration must be an object.  Received: {0}", i);
                        if (!B(i.url))
                            throw n("$http")("badreq", "Http request configuration url must be a string.  Received: {0}", i.url);
                        var l = T({
                            method: "get",
                            transformRequest: e.transformRequest,
                            transformResponse: e.transformResponse,
                            paramSerializer: e.paramSerializer
                        }, i);
                        l.headers = function(t) {
                            var n, r, i, o = e.headers, s = T({}, t.headers);
                            o = T({}, o.common, o[a(t.method)]);
                            e: for (n in o) {
                                for (i in r = a(n),
                                s)
                                    if (a(i) === r)
                                        continue e;
                                s[n] = o[n]
                            }
                            return function(e, t) {
                                var n, r = {};
                                return x(e, function(e, i) {
                                    z(e) ? null != (n = e(t)) && (r[i] = n) : r[i] = e
                                }),
                                r
                            }(s, Be(t))
                        }(i),
                        l.method = s(l.method),
                        l.paramSerializer = B(l.paramSerializer) ? f.get(l.paramSerializer) : l.paramSerializer;
                        var m = []
                          , v = []
                          , y = d.when(l);
                        return x(p, function(e) {
                            (e.request || e.requestError) && m.unshift(e.request, e.requestError),
                            (e.response || e.responseError) && v.push(e.response, e.responseError)
                        }),
                        y = b(y = (y = b(y, m)).then(function(n) {
                            var r = n.headers
                              , i = jn(n.data, $n(r), void 0, n.transformRequest);
                            return I(i) && x(r, function(e, t) {
                                "content-type" === a(t) && delete r[t]
                            }),
                            I(n.withCredentials) && !I(e.withCredentials) && (n.withCredentials = e.withCredentials),
                            function(n, r) {
                                var i, a, s = d.defer(), l = s.promise, f = n.headers, p = function(e, t) {
                                    return t.length > 0 && (e += (-1 === e.indexOf("?") ? "?" : "&") + t),
                                    e
                                }(n.url, n.paramSerializer(n.params));
                                if (g.pendingRequests.push(n),
                                l.then(w, w),
                                !n.cache && !e.cache || !1 === n.cache || "GET" !== n.method && "JSONP" !== n.method || (i = F(n.cache) ? n.cache : F(e.cache) ? e.cache : h),
                                i && (L(a = i.get(p)) ? Y(a) ? a.then(b, b) : V(a) ? y(a[1], a[0], Be(a[2]), a[3]) : y(a, 200, {}, "OK") : i.put(p, l)),
                                I(a)) {
                                    var m = di(n.url) ? c()[n.xsrfCookieName || e.xsrfCookieName] : void 0;
                                    m && (f[n.xsrfHeaderName || e.xsrfHeaderName] = m),
                                    o(n.method, p, r, function(e, n, r, o) {
                                        function a() {
                                            y(n, e, r, o)
                                        }
                                        i && (Dn(e) ? i.put(p, [e, n, On(r), o]) : i.remove(p)),
                                        t ? u.$applyAsync(a) : (a(),
                                        u.$$phase || u.$apply())
                                    }, f, n.timeout, n.withCredentials, n.responseType, v(n.eventHandlers), v(n.uploadEventHandlers))
                                }
                                return l;
                                function v(e) {
                                    if (e) {
                                        var n = {};
                                        return x(e, function(e, r) {
                                            n[r] = function(n) {
                                                function r() {
                                                    e(n)
                                                }
                                                t ? u.$applyAsync(r) : u.$$phase ? r() : u.$apply(r)
                                            }
                                        }),
                                        n
                                    }
                                }
                                function y(e, t, r, i) {
                                    (Dn(t = t >= -1 ? t : 0) ? s.resolve : s.reject)({
                                        data: e,
                                        status: t,
                                        headers: $n(r),
                                        config: n,
                                        statusText: i
                                    })
                                }
                                function b(e) {
                                    y(e.data, e.status, Be(e.headers()), e.statusText)
                                }
                                function w() {
                                    var e = g.pendingRequests.indexOf(n);
                                    -1 !== e && g.pendingRequests.splice(e, 1)
                                }
                            }(n, i).then(w, w)
                        }), v),
                        r ? (y.success = function(e) {
                            return Oe(e, "fn"),
                            y.then(function(t) {
                                e(t.data, t.status, t.headers, l)
                            }),
                            y
                        }
                        ,
                        y.error = function(e) {
                            return Oe(e, "fn"),
                            y.then(null, function(t) {
                                e(t.data, t.status, t.headers, l)
                            }),
                            y
                        }
                        ) : (y.success = kn("success"),
                        y.error = kn("error")),
                        y;
                        function b(e, t) {
                            for (var n = 0, r = t.length; n < r; ) {
                                var i = t[n++]
                                  , o = t[n++];
                                e = e.then(i, o)
                            }
                            return t.length = 0,
                            e
                        }
                        function w(e) {
                            var t = T({}, e);
                            return t.data = jn(e.data, e.headers, e.status, l.transformResponse),
                            Dn(e.status) ? t : d.reject(t)
                        }
                    }
                    return x(i, function(e) {
                        p.unshift(B(e) ? f.get(e) : f.invoke(e))
                    }),
                    g.pendingRequests = [],
                    function(e) {
                        x(arguments, function(e) {
                            g[e] = function(t, n) {
                                return g(T({}, n || {}, {
                                    method: e,
                                    url: t
                                }))
                            }
                        })
                    }("get", "delete", "head", "jsonp"),
                    function(e) {
                        x(arguments, function(e) {
                            g[e] = function(t, n, r) {
                                return g(T({}, r || {}, {
                                    method: e,
                                    url: t,
                                    data: n
                                }))
                            }
                        })
                    }("post", "put", "patch"),
                    g.defaults = e,
                    g
                }
                ]
            }
            function Mn() {
                this.$get = function() {
                    return function() {
                        return new t.XMLHttpRequest
                    }
                }
            }
            function In() {
                this.$get = ["$browser", "$jsonpCallbacks", "$document", "$xhrFactory", function(e, t, n, r) {
                    return function(e, t, n, r, i) {
                        return function(o, s, c, l, u, d, f, h, p, g) {
                            if (e.$$incOutstandingRequestCount(),
                            s = s || e.url(),
                            "jsonp" === a(o))
                                var m = r.createCallback(s)
                                  , v = function(e, t, n) {
                                    e = e.replace("JSON_CALLBACK", t);
                                    var o = i.createElement("script")
                                      , a = null;
                                    return o.type = "text/javascript",
                                    o.src = e,
                                    o.async = !0,
                                    a = function(e) {
                                        We(o, "load", a),
                                        We(o, "error", a),
                                        i.body.removeChild(o),
                                        o = null;
                                        var s = -1
                                          , c = "unknown";
                                        e && ("load" !== e.type || r.wasCalled(t) || (e = {
                                            type: "error"
                                        }),
                                        c = e.type,
                                        s = "error" === e.type ? 404 : 200),
                                        n && n(s, c)
                                    }
                                    ,
                                    He(o, "load", a),
                                    He(o, "error", a),
                                    i.body.appendChild(o),
                                    a
                                }(s, m, function(e, t) {
                                    var n = 200 === e && r.getResponse(m);
                                    C(l, e, n, "", t),
                                    r.removeCallback(m)
                                });
                            else {
                                var y = t(o, s);
                                y.open(o, s, !0),
                                x(u, function(e, t) {
                                    L(e) && y.setRequestHeader(t, e)
                                }),
                                y.onload = function() {
                                    var e = y.statusText || ""
                                      , t = "response"in y ? y.response : y.responseText
                                      , n = 1223 === y.status ? 204 : y.status;
                                    0 === n && (n = t ? 200 : "file" === ui(s).protocol ? 404 : 0),
                                    C(l, n, t, y.getAllResponseHeaders(), e)
                                }
                                ;
                                var b = function() {
                                    C(l, -1, null, null, "")
                                };
                                if (y.onerror = b,
                                y.onabort = b,
                                y.ontimeout = b,
                                x(p, function(e, t) {
                                    y.addEventListener(t, e)
                                }),
                                x(g, function(e, t) {
                                    y.upload.addEventListener(t, e)
                                }),
                                f && (y.withCredentials = !0),
                                h)
                                    try {
                                        y.responseType = h
                                    } catch (e) {
                                        if ("json" !== h)
                                            throw e
                                    }
                                y.send(I(c) ? null : c)
                            }
                            if (d > 0)
                                var w = n(S, d);
                            else
                                Y(d) && d.then(S);
                            function S() {
                                v && v(),
                                y && y.abort()
                            }
                            function C(t, r, i, o, a) {
                                L(w) && n.cancel(w),
                                v = y = null,
                                t(r, i, o, a),
                                e.$$completeOutstandingRequest(j)
                            }
                        }
                    }(e, r, e.defer, t, n[0])
                }
                ]
            }
            var Ln = y.$interpolateMinErr = n("$interpolate");
            function Fn() {
                var e = "{{"
                  , t = "}}";
                this.startSymbol = function(t) {
                    return t ? (e = t,
                    this) : e
                }
                ,
                this.endSymbol = function(e) {
                    return e ? (t = e,
                    this) : t
                }
                ,
                this.$get = ["$parse", "$exceptionHandler", "$sce", function(n, r, i) {
                    var o = e.length
                      , a = t.length
                      , s = new RegExp(e.replace(/./g, l),"g")
                      , c = new RegExp(t.replace(/./g, l),"g");
                    function l(e) {
                        return "\\\\\\" + e
                    }
                    function u(n) {
                        return n.replace(s, e).replace(c, t)
                    }
                    function d(e, t, n, r) {
                        var i = e.$watch(function(e) {
                            return i(),
                            r(e)
                        }, t, n);
                        return i
                    }
                    function f(s, c, l, f) {
                        var h;
                        if (!s.length || -1 === s.indexOf(e))
                            return c || ((h = R(u(s))).exp = s,
                            h.expressions = [],
                            h.$$watchDelegate = d),
                            h;
                        f = !!f;
                        for (var p, g, m, v = 0, y = [], b = [], w = s.length, x = [], S = []; v < w; ) {
                            if (-1 === (p = s.indexOf(e, v)) || -1 === (g = s.indexOf(t, p + o))) {
                                v !== w && x.push(u(s.substring(v)));
                                break
                            }
                            v !== p && x.push(u(s.substring(v, p))),
                            m = s.substring(p + o, g),
                            y.push(m),
                            b.push(n(m, k)),
                            v = g + a,
                            S.push(x.length),
                            x.push("")
                        }
                        if (l && x.length > 1 && Ln.throwNoconcat(s),
                        !c || y.length) {
                            var C = function(e) {
                                for (var t = 0, n = y.length; t < n; t++) {
                                    if (f && I(e[t]))
                                        return;
                                    x[S[t]] = e[t]
                                }
                                return x.join("")
                            }
                              , _ = function(e) {
                                return l ? i.getTrusted(l, e) : i.valueOf(e)
                            };
                            return T(function(e) {
                                var t = 0
                                  , n = y.length
                                  , i = new Array(n);
                                try {
                                    for (; t < n; t++)
                                        i[t] = b[t](e);
                                    return C(i)
                                } catch (e) {
                                    r(Ln.interr(s, e))
                                }
                            }, {
                                exp: s,
                                expressions: y,
                                $$watchDelegate: function(e, t) {
                                    var n;
                                    return e.$watchGroup(b, function(r, i) {
                                        var o = C(r);
                                        z(t) && t.call(this, o, r !== i ? n : o, e),
                                        n = o
                                    })
                                }
                            })
                        }
                        function k(e) {
                            try {
                                return e = _(e),
                                f && !L(e) ? e : function(e) {
                                    if (null == e)
                                        return "";
                                    switch (typeof e) {
                                    case "string":
                                        break;
                                    case "number":
                                        e = "" + e;
                                        break;
                                    default:
                                        e = ue(e)
                                    }
                                    return e
                                }(e)
                            } catch (e) {
                                r(Ln.interr(s, e))
                            }
                        }
                    }
                    return f.startSymbol = function() {
                        return e
                    }
                    ,
                    f.endSymbol = function() {
                        return t
                    }
                    ,
                    f
                }
                ]
            }
            function Nn() {
                this.$get = ["$rootScope", "$window", "$q", "$$q", "$browser", function(e, t, n, r, i) {
                    var o = {};
                    function a(a, s, c, l) {
                        var u = arguments.length > 4
                          , d = u ? se(arguments, 4) : []
                          , f = t.setInterval
                          , h = t.clearInterval
                          , p = 0
                          , g = L(l) && !l
                          , m = (g ? r : n).defer()
                          , v = m.promise;
                        return c = L(c) ? c : 0,
                        v.$$intervalId = f(function() {
                            g ? i.defer(y) : e.$evalAsync(y),
                            m.notify(p++),
                            c > 0 && p >= c && (m.resolve(p),
                            h(v.$$intervalId),
                            delete o[v.$$intervalId]),
                            g || e.$apply()
                        }, s),
                        o[v.$$intervalId] = m,
                        v;
                        function y() {
                            u ? a.apply(null, d) : a(p)
                        }
                    }
                    return a.cancel = function(e) {
                        return !!(e && e.$$intervalId in o) && (o[e.$$intervalId].reject("canceled"),
                        t.clearInterval(e.$$intervalId),
                        delete o[e.$$intervalId],
                        !0)
                    }
                    ,
                    a
                }
                ]
            }
            Ln.throwNoconcat = function(e) {
                throw Ln("noconcat", "Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce", e)
            }
            ,
            Ln.interr = function(e, t) {
                return Ln("interr", "Can't interpolate: {0}\n{1}", e, t.toString())
            }
            ;
            var Bn = function() {
                this.$get = ["$window", function(e) {
                    var t = e.angular.callbacks
                      , n = {};
                    return {
                        createCallback: function(e) {
                            var r = "_" + (t.$$counter++).toString(36)
                              , i = "angular.callbacks." + r
                              , o = function(e) {
                                var t = function(e) {
                                    t.data = e,
                                    t.called = !0
                                };
                                return t.id = e,
                                t
                            }(r);
                            return n[i] = t[r] = o,
                            i
                        },
                        wasCalled: function(e) {
                            return n[e].called
                        },
                        getResponse: function(e) {
                            return n[e].data
                        },
                        removeCallback: function(e) {
                            var r = n[e];
                            delete t[r.id],
                            delete n[e]
                        }
                    }
                }
                ]
            }
              , Un = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/
              , qn = {
                http: 80,
                https: 443,
                ftp: 21
            }
              , Vn = n("$location");
            function zn(e) {
                for (var t = e.split("/"), n = t.length; n--; )
                    t[n] = be(t[n]);
                return t.join("/")
            }
            function Hn(e, t) {
                var n = ui(e);
                t.$$protocol = n.protocol,
                t.$$host = n.hostname,
                t.$$port = A(n.port) || qn[n.protocol] || null
            }
            var Wn = /^\s*[\\/]{2,}/;
            function Gn(e, t) {
                if (Wn.test(e))
                    throw Vn("badpath", 'Invalid url "{0}".', e);
                var n = "/" !== e.charAt(0);
                n && (e = "/" + e);
                var r = ui(e);
                t.$$path = decodeURIComponent(n && "/" === r.pathname.charAt(0) ? r.pathname.substring(1) : r.pathname),
                t.$$search = ve(r.search),
                t.$$hash = decodeURIComponent(r.hash),
                t.$$path && "/" !== t.$$path.charAt(0) && (t.$$path = "/" + t.$$path)
            }
            function Xn(e, t) {
                return 0 === e.lastIndexOf(t, 0)
            }
            function Yn(e, t) {
                if (Xn(t, e))
                    return t.substr(e.length)
            }
            function Kn(e) {
                var t = e.indexOf("#");
                return -1 === t ? e : e.substr(0, t)
            }
            function Qn(e) {
                return e.replace(/(#.+)|#$/, "$1")
            }
            function Jn(e, t, n) {
                this.$$html5 = !0,
                n = n || "",
                Hn(e, this),
                this.$$parse = function(e) {
                    var n = Yn(t, e);
                    if (!B(n))
                        throw Vn("ipthprfx", 'Invalid url "{0}", missing path prefix "{1}".', e, t);
                    Gn(n, this),
                    this.$$path || (this.$$path = "/"),
                    this.$$compose()
                }
                ,
                this.$$compose = function() {
                    var e = ye(this.$$search)
                      , n = this.$$hash ? "#" + be(this.$$hash) : "";
                    this.$$url = zn(this.$$path) + (e ? "?" + e : "") + n,
                    this.$$absUrl = t + this.$$url.substr(1)
                }
                ,
                this.$$parseLinkUrl = function(r, i) {
                    return i && "#" === i[0] ? (this.hash(i.slice(1)),
                    !0) : (L(o = Yn(e, r)) ? (a = o,
                    s = n && L(o = Yn(n, o)) ? t + (Yn("/", o) || o) : e + a) : L(o = Yn(t, r)) ? s = t + o : t === r + "/" && (s = t),
                    s && this.$$parse(s),
                    !!s);
                    var o, a, s
                }
            }
            function Zn(e, t, n) {
                Hn(e, this),
                this.$$parse = function(r) {
                    var i, o = Yn(e, r) || Yn(t, r);
                    I(o) || "#" !== o.charAt(0) ? this.$$html5 ? i = o : (i = "",
                    I(o) && (e = r,
                    this.replace())) : I(i = Yn(n, o)) && (i = o),
                    Gn(i, this),
                    this.$$path = function(e, t, n) {
                        var r, i = /^\/[A-Z]:(\/.*)/;
                        return Xn(t, n) && (t = t.replace(n, "")),
                        i.exec(t) ? e : (r = i.exec(e)) ? r[1] : e
                    }(this.$$path, i, e),
                    this.$$compose()
                }
                ,
                this.$$compose = function() {
                    var t = ye(this.$$search)
                      , r = this.$$hash ? "#" + be(this.$$hash) : "";
                    this.$$url = zn(this.$$path) + (t ? "?" + t : "") + r,
                    this.$$absUrl = e + (this.$$url ? n + this.$$url : "")
                }
                ,
                this.$$parseLinkUrl = function(t, n) {
                    return Kn(e) === Kn(t) && (this.$$parse(t),
                    !0)
                }
            }
            function er(e, t, n) {
                this.$$html5 = !0,
                Zn.apply(this, arguments),
                this.$$parseLinkUrl = function(r, i) {
                    return i && "#" === i[0] ? (this.hash(i.slice(1)),
                    !0) : (e === Kn(r) ? o = r : (a = Yn(t, r)) ? o = e + n + a : t === r + "/" && (o = t),
                    o && this.$$parse(o),
                    !!o);
                    var o, a
                }
                ,
                this.$$compose = function() {
                    var t = ye(this.$$search)
                      , r = this.$$hash ? "#" + be(this.$$hash) : "";
                    this.$$url = zn(this.$$path) + (t ? "?" + t : "") + r,
                    this.$$absUrl = e + n + this.$$url
                }
            }
            var tr = {
                $$absUrl: "",
                $$html5: !1,
                $$replace: !1,
                absUrl: nr("$$absUrl"),
                url: function(e) {
                    if (I(e))
                        return this.$$url;
                    var t = Un.exec(e);
                    return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])),
                    (t[2] || t[1] || "" === e) && this.search(t[3] || ""),
                    this.hash(t[5] || ""),
                    this
                },
                protocol: nr("$$protocol"),
                host: nr("$$host"),
                port: nr("$$port"),
                path: rr("$$path", function(e) {
                    return "/" === (e = null !== e ? e.toString() : "").charAt(0) ? e : "/" + e
                }),
                search: function(e, t) {
                    switch (arguments.length) {
                    case 0:
                        return this.$$search;
                    case 1:
                        if (B(e) || U(e))
                            e = e.toString(),
                            this.$$search = ve(e);
                        else {
                            if (!F(e))
                                throw Vn("isrcharg", "The first argument of the `$location#search()` call must be a string or an object.");
                            x(e = ne(e, {}), function(t, n) {
                                null == t && delete e[n]
                            }),
                            this.$$search = e
                        }
                        break;
                    default:
                        I(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t
                    }
                    return this.$$compose(),
                    this
                },
                hash: rr("$$hash", function(e) {
                    return null !== e ? e.toString() : ""
                }),
                replace: function() {
                    return this.$$replace = !0,
                    this
                }
            };
            function nr(e) {
                return function() {
                    return this[e]
                }
            }
            function rr(e, t) {
                return function(n) {
                    return I(n) ? this[e] : (this[e] = t(n),
                    this.$$compose(),
                    this)
                }
            }
            function ir() {
                var e = ""
                  , t = {
                    enabled: !1,
                    requireBase: !0,
                    rewriteLinks: !0
                };
                this.hashPrefix = function(t) {
                    return L(t) ? (e = t,
                    this) : e
                }
                ,
                this.html5Mode = function(e) {
                    return X(e) ? (t.enabled = e,
                    this) : F(e) ? (X(e.enabled) && (t.enabled = e.enabled),
                    X(e.requireBase) && (t.requireBase = e.requireBase),
                    X(e.rewriteLinks) && (t.rewriteLinks = e.rewriteLinks),
                    this) : t
                }
                ,
                this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function(n, r, i, o, a) {
                    var s, c, u, d, f = r.baseHref(), h = r.url();
                    if (t.enabled) {
                        if (!f && t.requireBase)
                            throw Vn("nobase", "$location in HTML5 mode requires a <base> tag to be present!");
                        u = (d = h).substring(0, d.indexOf("/", d.indexOf("//") + 2)) + (f || "/"),
                        c = i.history ? Jn : er
                    } else
                        u = Kn(h),
                        c = Zn;
                    var p = function(e) {
                        return e.substr(0, Kn(e).lastIndexOf("/") + 1)
                    }(u);
                    (s = new c(u,p,"#" + e)).$$parseLinkUrl(h, h),
                    s.$$state = r.state();
                    var g = /^\s*(javascript|mailto):/i;
                    function m(e, t, n) {
                        var i = s.url()
                          , o = s.$$state;
                        try {
                            r.url(e, t, n),
                            s.$$state = r.state()
                        } catch (e) {
                            throw s.url(i),
                            s.$$state = o,
                            e
                        }
                    }
                    o.on("click", function(e) {
                        if (t.rewriteLinks && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 !== e.which && 2 !== e.button) {
                            for (var i = l(e.target); "a" !== ee(i[0]); )
                                if (i[0] === o[0] || !(i = i.parent())[0])
                                    return;
                            var c = i.prop("href")
                              , u = i.attr("href") || i.attr("xlink:href");
                            F(c) && "[object SVGAnimatedString]" === c.toString() && (c = ui(c.animVal).href),
                            g.test(c) || !c || i.attr("target") || e.isDefaultPrevented() || s.$$parseLinkUrl(c, u) && (e.preventDefault(),
                            s.absUrl() !== r.url() && (n.$apply(),
                            a.angular["ff-684208-preventDefault"] = !0))
                        }
                    }),
                    Qn(s.absUrl()) !== Qn(h) && r.url(s.absUrl(), !0);
                    var v = !0;
                    return r.onUrlChange(function(e, t) {
                        I(Yn(p, e)) ? a.location.href = e : (n.$evalAsync(function() {
                            var r, i = s.absUrl(), o = s.$$state;
                            e = Qn(e),
                            s.$$parse(e),
                            s.$$state = t,
                            r = n.$broadcast("$locationChangeStart", e, i, t, o).defaultPrevented,
                            s.absUrl() === e && (r ? (s.$$parse(i),
                            s.$$state = o,
                            m(i, !1, o)) : (v = !1,
                            y(i, o)))
                        }),
                        n.$$phase || n.$digest())
                    }),
                    n.$watch(function() {
                        var e = Qn(r.url())
                          , t = Qn(s.absUrl())
                          , o = r.state()
                          , a = s.$$replace
                          , c = e !== t || s.$$html5 && i.history && o !== s.$$state;
                        (v || c) && (v = !1,
                        n.$evalAsync(function() {
                            var t = s.absUrl()
                              , r = n.$broadcast("$locationChangeStart", t, e, s.$$state, o).defaultPrevented;
                            s.absUrl() === t && (r ? (s.$$parse(e),
                            s.$$state = o) : (c && m(t, a, o === s.$$state ? null : s.$$state),
                            y(e, o)))
                        })),
                        s.$$replace = !1
                    }),
                    s;
                    function y(e, t) {
                        n.$broadcast("$locationChangeSuccess", s.absUrl(), e, s.$$state, t)
                    }
                }
                ]
            }
            function or() {
                var e = !0
                  , t = this;
                this.debugEnabled = function(t) {
                    return L(t) ? (e = t,
                    this) : e
                }
                ,
                this.$get = ["$window", function(n) {
                    return {
                        log: i("log"),
                        info: i("info"),
                        warn: i("warn"),
                        error: i("error"),
                        debug: (r = i("debug"),
                        function() {
                            e && r.apply(t, arguments)
                        }
                        )
                    };
                    var r;
                    function i(e) {
                        var t = n.console || {}
                          , r = t[e] || t.log || j
                          , i = !1;
                        try {
                            i = !!r.apply
                        } catch (e) {}
                        return i ? function() {
                            var e = [];
                            return x(arguments, function(t) {
                                e.push(function(e) {
                                    return e instanceof Error && (e.stack ? e = e.message && -1 === e.stack.indexOf(e.message) ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)),
                                    e
                                }(t))
                            }),
                            r.apply(t, e)
                        }
                        : function(e, t) {
                            r(e, null == t ? "" : t)
                        }
                    }
                }
                ]
            }
            x([er, Zn, Jn], function(e) {
                e.prototype = Object.create(tr),
                e.prototype.state = function(t) {
                    if (!arguments.length)
                        return this.$$state;
                    if (e !== Jn || !this.$$html5)
                        throw Vn("nostate", "History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
                    return this.$$state = I(t) ? null : t,
                    this
                }
            });
            var ar = n("$parse")
              , sr = [].constructor
              , cr = (!1).constructor
              , lr = Function.constructor
              , ur = (0).constructor
              , dr = {}.constructor
              , fr = "".constructor
              , hr = sr.prototype
              , pr = cr.prototype
              , gr = lr.prototype
              , mr = ur.prototype
              , vr = dr.prototype
              , yr = fr.prototype
              , br = gr.call
              , wr = gr.apply
              , xr = gr.bind
              , Sr = vr.valueOf;
            function Cr(e, t) {
                if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e)
                    throw ar("isecfld", "Attempting to access a disallowed field in Angular expressions! Expression: {0}", t);
                return e
            }
            function _r(e) {
                return e + ""
            }
            function kr(e, t) {
                if (e) {
                    if (e.constructor === e)
                        throw ar("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                    if (e.window === e)
                        throw ar("isecwindow", "Referencing the Window in Angular expressions is disallowed! Expression: {0}", t);
                    if (e.children && (e.nodeName || e.prop && e.attr && e.find))
                        throw ar("isecdom", "Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}", t);
                    if (e === Object)
                        throw ar("isecobj", "Referencing Object in Angular expressions is disallowed! Expression: {0}", t)
                }
                return e
            }
            function Er(e, t) {
                if (e) {
                    if (e.constructor === e)
                        throw ar("isecfn", "Referencing Function in Angular expressions is disallowed! Expression: {0}", t);
                    if (e === br || e === wr || e === xr)
                        throw ar("isecff", "Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}", t)
                }
            }
            function Tr(e, t) {
                if (e && (e === sr || e === cr || e === lr || e === ur || e === dr || e === fr || e === hr || e === pr || e === gr || e === mr || e === vr || e === yr))
                    throw ar("isecaf", "Assigning to a constructor or its prototype is disallowed! Expression: {0}", t)
            }
            var Pr = Re();
            x("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(e) {
                Pr[e] = !0
            });
            var Ar = {
                n: "\n",
                f: "\f",
                r: "\r",
                t: "\t",
                v: "\v",
                "'": "'",
                '"': '"'
            }
              , Or = function(e) {
                this.options = e
            };
            Or.prototype = {
                constructor: Or,
                lex: function(e) {
                    for (this.text = e,
                    this.index = 0,
                    this.tokens = []; this.index < this.text.length; ) {
                        var t = this.text.charAt(this.index);
                        if ('"' === t || "'" === t)
                            this.readString(t);
                        else if (this.isNumber(t) || "." === t && this.isNumber(this.peek()))
                            this.readNumber();
                        else if (this.isIdentifierStart(this.peekMultichar()))
                            this.readIdent();
                        else if (this.is(t, "(){}[].,;:?"))
                            this.tokens.push({
                                index: this.index,
                                text: t
                            }),
                            this.index++;
                        else if (this.isWhitespace(t))
                            this.index++;
                        else {
                            var n = t + this.peek()
                              , r = n + this.peek(2)
                              , i = Pr[t]
                              , o = Pr[n]
                              , a = Pr[r];
                            if (i || o || a) {
                                var s = a ? r : o ? n : t;
                                this.tokens.push({
                                    index: this.index,
                                    text: s,
                                    operator: !0
                                }),
                                this.index += s.length
                            } else
                                this.throwError("Unexpected next character ", this.index, this.index + 1)
                        }
                    }
                    return this.tokens
                },
                is: function(e, t) {
                    return -1 !== t.indexOf(e)
                },
                peek: function(e) {
                    var t = e || 1;
                    return this.index + t < this.text.length && this.text.charAt(this.index + t)
                },
                isNumber: function(e) {
                    return "0" <= e && e <= "9" && "string" == typeof e
                },
                isWhitespace: function(e) {
                    return " " === e || "\r" === e || "\t" === e || "\n" === e || "\v" === e || "" === e
                },
                isIdentifierStart: function(e) {
                    return this.options.isIdentifierStart ? this.options.isIdentifierStart(e, this.codePointAt(e)) : this.isValidIdentifierStart(e)
                },
                isValidIdentifierStart: function(e) {
                    return "a" <= e && e <= "z" || "A" <= e && e <= "Z" || "_" === e || "$" === e
                },
                isIdentifierContinue: function(e) {
                    return this.options.isIdentifierContinue ? this.options.isIdentifierContinue(e, this.codePointAt(e)) : this.isValidIdentifierContinue(e)
                },
                isValidIdentifierContinue: function(e, t) {
                    return this.isValidIdentifierStart(e, t) || this.isNumber(e)
                },
                codePointAt: function(e) {
                    return 1 === e.length ? e.charCodeAt(0) : (e.charCodeAt(0) << 10) + e.charCodeAt(1) - 56613888
                },
                peekMultichar: function() {
                    var e = this.text.charAt(this.index)
                      , t = this.peek();
                    if (!t)
                        return e;
                    var n = e.charCodeAt(0)
                      , r = t.charCodeAt(0);
                    return n >= 55296 && n <= 56319 && r >= 56320 && r <= 57343 ? e + t : e
                },
                isExpOperator: function(e) {
                    return "-" === e || "+" === e || this.isNumber(e)
                },
                throwError: function(e, t, n) {
                    n = n || this.index;
                    var r = L(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n;
                    throw ar("lexerr", "Lexer Error: {0} at column{1} in expression [{2}].", e, r, this.text)
                },
                readNumber: function() {
                    for (var e = "", t = this.index; this.index < this.text.length; ) {
                        var n = a(this.text.charAt(this.index));
                        if ("." === n || this.isNumber(n))
                            e += n;
                        else {
                            var r = this.peek();
                            if ("e" === n && this.isExpOperator(r))
                                e += n;
                            else if (this.isExpOperator(n) && r && this.isNumber(r) && "e" === e.charAt(e.length - 1))
                                e += n;
                            else {
                                if (!this.isExpOperator(n) || r && this.isNumber(r) || "e" !== e.charAt(e.length - 1))
                                    break;
                                this.throwError("Invalid exponent")
                            }
                        }
                        this.index++
                    }
                    this.tokens.push({
                        index: t,
                        text: e,
                        constant: !0,
                        value: Number(e)
                    })
                },
                readIdent: function() {
                    var e = this.index;
                    for (this.index += this.peekMultichar().length; this.index < this.text.length; ) {
                        var t = this.peekMultichar();
                        if (!this.isIdentifierContinue(t))
                            break;
                        this.index += t.length
                    }
                    this.tokens.push({
                        index: e,
                        text: this.text.slice(e, this.index),
                        identifier: !0
                    })
                },
                readString: function(e) {
                    var t = this.index;
                    this.index++;
                    for (var n = "", r = e, i = !1; this.index < this.text.length; ) {
                        var o = this.text.charAt(this.index);
                        if (r += o,
                        i) {
                            if ("u" === o) {
                                var a = this.text.substring(this.index + 1, this.index + 5);
                                a.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + a + "]"),
                                this.index += 4,
                                n += String.fromCharCode(parseInt(a, 16))
                            } else
                                n += Ar[o] || o;
                            i = !1
                        } else if ("\\" === o)
                            i = !0;
                        else {
                            if (o === e)
                                return this.index++,
                                void this.tokens.push({
                                    index: t,
                                    text: r,
                                    constant: !0,
                                    value: n
                                });
                            n += o
                        }
                        this.index++
                    }
                    this.throwError("Unterminated quote", t)
                }
            };
            var $r = function(e, t) {
                this.lexer = e,
                this.options = t
            };
            function jr(e, t) {
                return void 0 !== e ? e : t
            }
            function Dr(e, t) {
                return void 0 === e ? t : void 0 === t ? e : e + t
            }
            function Rr(e, t) {
                var n, r, i;
                switch (e.type) {
                case $r.Program:
                    n = !0,
                    x(e.body, function(e) {
                        Rr(e.expression, t),
                        n = n && e.expression.constant
                    }),
                    e.constant = n;
                    break;
                case $r.Literal:
                    e.constant = !0,
                    e.toWatch = [];
                    break;
                case $r.UnaryExpression:
                    Rr(e.argument, t),
                    e.constant = e.argument.constant,
                    e.toWatch = e.argument.toWatch;
                    break;
                case $r.BinaryExpression:
                    Rr(e.left, t),
                    Rr(e.right, t),
                    e.constant = e.left.constant && e.right.constant,
                    e.toWatch = e.left.toWatch.concat(e.right.toWatch);
                    break;
                case $r.LogicalExpression:
                    Rr(e.left, t),
                    Rr(e.right, t),
                    e.constant = e.left.constant && e.right.constant,
                    e.toWatch = e.constant ? [] : [e];
                    break;
                case $r.ConditionalExpression:
                    Rr(e.test, t),
                    Rr(e.alternate, t),
                    Rr(e.consequent, t),
                    e.constant = e.test.constant && e.alternate.constant && e.consequent.constant,
                    e.toWatch = e.constant ? [] : [e];
                    break;
                case $r.Identifier:
                    e.constant = !1,
                    e.toWatch = [e];
                    break;
                case $r.MemberExpression:
                    Rr(e.object, t),
                    e.computed && Rr(e.property, t),
                    e.constant = e.object.constant && (!e.computed || e.property.constant),
                    e.toWatch = [e];
                    break;
                case $r.CallExpression:
                    i = !!e.filter && function(e, t) {
                        return !e(t).$stateful
                    }(t, e.callee.name),
                    n = i,
                    r = [],
                    x(e.arguments, function(e) {
                        Rr(e, t),
                        n = n && e.constant,
                        e.constant || r.push.apply(r, e.toWatch)
                    }),
                    e.constant = n,
                    e.toWatch = i ? r : [e];
                    break;
                case $r.AssignmentExpression:
                    Rr(e.left, t),
                    Rr(e.right, t),
                    e.constant = e.left.constant && e.right.constant,
                    e.toWatch = [e];
                    break;
                case $r.ArrayExpression:
                    n = !0,
                    r = [],
                    x(e.elements, function(e) {
                        Rr(e, t),
                        n = n && e.constant,
                        e.constant || r.push.apply(r, e.toWatch)
                    }),
                    e.constant = n,
                    e.toWatch = r;
                    break;
                case $r.ObjectExpression:
                    n = !0,
                    r = [],
                    x(e.properties, function(e) {
                        Rr(e.value, t),
                        n = n && e.value.constant && !e.computed,
                        e.value.constant || r.push.apply(r, e.value.toWatch)
                    }),
                    e.constant = n,
                    e.toWatch = r;
                    break;
                case $r.ThisExpression:
                case $r.LocalsExpression:
                    e.constant = !1,
                    e.toWatch = []
                }
            }
            function Mr(e) {
                if (1 === e.length) {
                    var t = e[0].expression
                      , n = t.toWatch;
                    return 1 !== n.length ? n : n[0] !== t ? n : void 0
                }
            }
            function Ir(e) {
                return e.type === $r.Identifier || e.type === $r.MemberExpression
            }
            function Lr(e) {
                if (1 === e.body.length && Ir(e.body[0].expression))
                    return {
                        type: $r.AssignmentExpression,
                        left: e.body[0].expression,
                        right: {
                            type: $r.NGValueParameter
                        },
                        operator: "="
                    }
            }
            function Fr(e) {
                return 0 === e.body.length || 1 === e.body.length && (e.body[0].expression.type === $r.Literal || e.body[0].expression.type === $r.ArrayExpression || e.body[0].expression.type === $r.ObjectExpression)
            }
            function Nr(e) {
                return e.constant
            }
            function Br(e, t) {
                this.astBuilder = e,
                this.$filter = t
            }
            function Ur(e, t) {
                this.astBuilder = e,
                this.$filter = t
            }
            $r.Program = "Program",
            $r.ExpressionStatement = "ExpressionStatement",
            $r.AssignmentExpression = "AssignmentExpression",
            $r.ConditionalExpression = "ConditionalExpression",
            $r.LogicalExpression = "LogicalExpression",
            $r.BinaryExpression = "BinaryExpression",
            $r.UnaryExpression = "UnaryExpression",
            $r.CallExpression = "CallExpression",
            $r.MemberExpression = "MemberExpression",
            $r.Identifier = "Identifier",
            $r.Literal = "Literal",
            $r.ArrayExpression = "ArrayExpression",
            $r.Property = "Property",
            $r.ObjectExpression = "ObjectExpression",
            $r.ThisExpression = "ThisExpression",
            $r.LocalsExpression = "LocalsExpression",
            $r.NGValueParameter = "NGValueParameter",
            $r.prototype = {
                ast: function(e) {
                    this.text = e,
                    this.tokens = this.lexer.lex(e);
                    var t = this.program();
                    return 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]),
                    t
                },
                program: function() {
                    for (var e = []; ; )
                        if (this.tokens.length > 0 && !this.peek("}", ")", ";", "]") && e.push(this.expressionStatement()),
                        !this.expect(";"))
                            return {
                                type: $r.Program,
                                body: e
                            }
                },
                expressionStatement: function() {
                    return {
                        type: $r.ExpressionStatement,
                        expression: this.filterChain()
                    }
                },
                filterChain: function() {
                    for (var e = this.expression(); this.expect("|"); )
                        e = this.filter(e);
                    return e
                },
                expression: function() {
                    return this.assignment()
                },
                assignment: function() {
                    var e = this.ternary();
                    return this.expect("=") && (e = {
                        type: $r.AssignmentExpression,
                        left: e,
                        right: this.assignment(),
                        operator: "="
                    }),
                    e
                },
                ternary: function() {
                    var e, t, n = this.logicalOR();
                    return this.expect("?") && (e = this.expression(),
                    this.consume(":")) ? (t = this.expression(),
                    {
                        type: $r.ConditionalExpression,
                        test: n,
                        alternate: e,
                        consequent: t
                    }) : n
                },
                logicalOR: function() {
                    for (var e = this.logicalAND(); this.expect("||"); )
                        e = {
                            type: $r.LogicalExpression,
                            operator: "||",
                            left: e,
                            right: this.logicalAND()
                        };
                    return e
                },
                logicalAND: function() {
                    for (var e = this.equality(); this.expect("&&"); )
                        e = {
                            type: $r.LogicalExpression,
                            operator: "&&",
                            left: e,
                            right: this.equality()
                        };
                    return e
                },
                equality: function() {
                    for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!=="); )
                        t = {
                            type: $r.BinaryExpression,
                            operator: e.text,
                            left: t,
                            right: this.relational()
                        };
                    return t
                },
                relational: function() {
                    for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">="); )
                        t = {
                            type: $r.BinaryExpression,
                            operator: e.text,
                            left: t,
                            right: this.additive()
                        };
                    return t
                },
                additive: function() {
                    for (var e, t = this.multiplicative(); e = this.expect("+", "-"); )
                        t = {
                            type: $r.BinaryExpression,
                            operator: e.text,
                            left: t,
                            right: this.multiplicative()
                        };
                    return t
                },
                multiplicative: function() {
                    for (var e, t = this.unary(); e = this.expect("*", "/", "%"); )
                        t = {
                            type: $r.BinaryExpression,
                            operator: e.text,
                            left: t,
                            right: this.unary()
                        };
                    return t
                },
                unary: function() {
                    var e;
                    return (e = this.expect("+", "-", "!")) ? {
                        type: $r.UnaryExpression,
                        operator: e.text,
                        prefix: !0,
                        argument: this.unary()
                    } : this.primary()
                },
                primary: function() {
                    var e, t;
                    for (this.expect("(") ? (e = this.filterChain(),
                    this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.selfReferential.hasOwnProperty(this.peek().text) ? e = ne(this.selfReferential[this.consume().text]) : this.options.literals.hasOwnProperty(this.peek().text) ? e = {
                        type: $r.Literal,
                        value: this.options.literals[this.consume().text]
                    } : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek()); t = this.expect("(", "[", "."); )
                        "(" === t.text ? (e = {
                            type: $r.CallExpression,
                            callee: e,
                            arguments: this.parseArguments()
                        },
                        this.consume(")")) : "[" === t.text ? (e = {
                            type: $r.MemberExpression,
                            object: e,
                            property: this.expression(),
                            computed: !0
                        },
                        this.consume("]")) : "." === t.text ? e = {
                            type: $r.MemberExpression,
                            object: e,
                            property: this.identifier(),
                            computed: !1
                        } : this.throwError("IMPOSSIBLE");
                    return e
                },
                filter: function(e) {
                    for (var t = [e], n = {
                        type: $r.CallExpression,
                        callee: this.identifier(),
                        arguments: t,
                        filter: !0
                    }; this.expect(":"); )
                        t.push(this.expression());
                    return n
                },
                parseArguments: function() {
                    var e = [];
                    if (")" !== this.peekToken().text)
                        do {
                            e.push(this.filterChain())
                        } while (this.expect(","));
                    return e
                },
                identifier: function() {
                    var e = this.consume();
                    return e.identifier || this.throwError("is not a valid identifier", e),
                    {
                        type: $r.Identifier,
                        name: e.text
                    }
                },
                constant: function() {
                    return {
                        type: $r.Literal,
                        value: this.consume().value
                    }
                },
                arrayDeclaration: function() {
                    var e = [];
                    if ("]" !== this.peekToken().text)
                        do {
                            if (this.peek("]"))
                                break;
                            e.push(this.expression())
                        } while (this.expect(","));
                    return this.consume("]"),
                    {
                        type: $r.ArrayExpression,
                        elements: e
                    }
                },
                object: function() {
                    var e, t = [];
                    if ("}" !== this.peekToken().text)
                        do {
                            if (this.peek("}"))
                                break;
                            e = {
                                type: $r.Property,
                                kind: "init"
                            },
                            this.peek().constant ? (e.key = this.constant(),
                            e.computed = !1,
                            this.consume(":"),
                            e.value = this.expression()) : this.peek().identifier ? (e.key = this.identifier(),
                            e.computed = !1,
                            this.peek(":") ? (this.consume(":"),
                            e.value = this.expression()) : e.value = e.key) : this.peek("[") ? (this.consume("["),
                            e.key = this.expression(),
                            this.consume("]"),
                            e.computed = !0,
                            this.consume(":"),
                            e.value = this.expression()) : this.throwError("invalid key", this.peek()),
                            t.push(e)
                        } while (this.expect(","));
                    return this.consume("}"),
                    {
                        type: $r.ObjectExpression,
                        properties: t
                    }
                },
                throwError: function(e, t) {
                    throw ar("syntax", "Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].", t.text, e, t.index + 1, this.text, this.text.substring(t.index))
                },
                consume: function(e) {
                    if (0 === this.tokens.length)
                        throw ar("ueoe", "Unexpected end of expression: {0}", this.text);
                    var t = this.expect(e);
                    return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()),
                    t
                },
                peekToken: function() {
                    if (0 === this.tokens.length)
                        throw ar("ueoe", "Unexpected end of expression: {0}", this.text);
                    return this.tokens[0]
                },
                peek: function(e, t, n, r) {
                    return this.peekAhead(0, e, t, n, r)
                },
                peekAhead: function(e, t, n, r, i) {
                    if (this.tokens.length > e) {
                        var o = this.tokens[e]
                          , a = o.text;
                        if (a === t || a === n || a === r || a === i || !t && !n && !r && !i)
                            return o
                    }
                    return !1
                },
                expect: function(e, t, n, r) {
                    var i = this.peek(e, t, n, r);
                    return !!i && (this.tokens.shift(),
                    i)
                },
                selfReferential: {
                    this: {
                        type: $r.ThisExpression
                    },
                    $locals: {
                        type: $r.LocalsExpression
                    }
                }
            },
            Br.prototype = {
                compile: function(e, t) {
                    var n = this
                      , r = this.astBuilder.ast(e);
                    this.state = {
                        nextId: 0,
                        filters: {},
                        expensiveChecks: t,
                        fn: {
                            vars: [],
                            body: [],
                            own: {}
                        },
                        assign: {
                            vars: [],
                            body: [],
                            own: {}
                        },
                        inputs: []
                    },
                    Rr(r, n.$filter);
                    var i, o = "";
                    if (this.stage = "assign",
                    i = Lr(r)) {
                        this.state.computing = "assign";
                        var a = this.nextId();
                        this.recurse(i, a),
                        this.return_(a),
                        o = "fn.assign=" + this.generateFunction("assign", "s,v,l")
                    }
                    var s = Mr(r.body);
                    n.stage = "inputs",
                    x(s, function(e, t) {
                        var r = "fn" + t;
                        n.state[r] = {
                            vars: [],
                            body: [],
                            own: {}
                        },
                        n.state.computing = r;
                        var i = n.nextId();
                        n.recurse(e, i),
                        n.return_(i),
                        n.state.inputs.push(r),
                        e.watchId = t
                    }),
                    this.state.computing = "fn",
                    this.stage = "main",
                    this.recurse(r);
                    var c = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + o + this.watchFns() + "return fn;"
                      , l = new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter, Cr, kr, Er, _r, Tr, jr, Dr, e);
                    return this.state = this.stage = void 0,
                    l.literal = Fr(r),
                    l.constant = Nr(r),
                    l
                },
                USE: "use",
                STRICT: "strict",
                watchFns: function() {
                    var e = []
                      , t = this.state.inputs
                      , n = this;
                    return x(t, function(t) {
                        e.push("var " + t + "=" + n.generateFunction(t, "s"))
                    }),
                    t.length && e.push("fn.inputs=[" + t.join(",") + "];"),
                    e.join("")
                },
                generateFunction: function(e, t) {
                    return "function(" + t + "){" + this.varsPrefix(e) + this.body(e) + "};"
                },
                filterPrefix: function() {
                    var e = []
                      , t = this;
                    return x(this.state.filters, function(n, r) {
                        e.push(n + "=$filter(" + t.escape(r) + ")")
                    }),
                    e.length ? "var " + e.join(",") + ";" : ""
                },
                varsPrefix: function(e) {
                    return this.state[e].vars.length ? "var " + this.state[e].vars.join(",") + ";" : ""
                },
                body: function(e) {
                    return this.state[e].body.join("")
                },
                recurse: function(e, t, n, r, i, o) {
                    var a, s, c, l, u, d = this;
                    if (r = r || j,
                    !o && L(e.watchId))
                        return t = t || this.nextId(),
                        void this.if_("i", this.lazyAssign(t, this.computedMember("i", e.watchId)), this.lazyRecurse(e, t, n, r, i, !0));
                    switch (e.type) {
                    case $r.Program:
                        x(e.body, function(t, n) {
                            d.recurse(t.expression, void 0, void 0, function(e) {
                                s = e
                            }),
                            n !== e.body.length - 1 ? d.current().body.push(s, ";") : d.return_(s)
                        });
                        break;
                    case $r.Literal:
                        l = this.escape(e.value),
                        this.assign(t, l),
                        r(l);
                        break;
                    case $r.UnaryExpression:
                        this.recurse(e.argument, void 0, void 0, function(e) {
                            s = e
                        }),
                        l = e.operator + "(" + this.ifDefined(s, 0) + ")",
                        this.assign(t, l),
                        r(l);
                        break;
                    case $r.BinaryExpression:
                        this.recurse(e.left, void 0, void 0, function(e) {
                            a = e
                        }),
                        this.recurse(e.right, void 0, void 0, function(e) {
                            s = e
                        }),
                        l = "+" === e.operator ? this.plus(a, s) : "-" === e.operator ? this.ifDefined(a, 0) + e.operator + this.ifDefined(s, 0) : "(" + a + ")" + e.operator + "(" + s + ")",
                        this.assign(t, l),
                        r(l);
                        break;
                    case $r.LogicalExpression:
                        t = t || this.nextId(),
                        d.recurse(e.left, t),
                        d.if_("&&" === e.operator ? t : d.not(t), d.lazyRecurse(e.right, t)),
                        r(t);
                        break;
                    case $r.ConditionalExpression:
                        t = t || this.nextId(),
                        d.recurse(e.test, t),
                        d.if_(t, d.lazyRecurse(e.alternate, t), d.lazyRecurse(e.consequent, t)),
                        r(t);
                        break;
                    case $r.Identifier:
                        t = t || this.nextId(),
                        n && (n.context = "inputs" === d.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", e.name) + "?l:s"),
                        n.computed = !1,
                        n.name = e.name),
                        Cr(e.name),
                        d.if_("inputs" === d.stage || d.not(d.getHasOwnProperty("l", e.name)), function() {
                            d.if_("inputs" === d.stage || "s", function() {
                                i && 1 !== i && d.if_(d.not(d.nonComputedMember("s", e.name)), d.lazyAssign(d.nonComputedMember("s", e.name), "{}")),
                                d.assign(t, d.nonComputedMember("s", e.name))
                            })
                        }, t && d.lazyAssign(t, d.nonComputedMember("l", e.name))),
                        (d.state.expensiveChecks || Vr(e.name)) && d.addEnsureSafeObject(t),
                        r(t);
                        break;
                    case $r.MemberExpression:
                        a = n && (n.context = this.nextId()) || this.nextId(),
                        t = t || this.nextId(),
                        d.recurse(e.object, a, void 0, function() {
                            d.if_(d.notNull(a), function() {
                                i && 1 !== i && d.addEnsureSafeAssignContext(a),
                                e.computed ? (s = d.nextId(),
                                d.recurse(e.property, s),
                                d.getStringValue(s),
                                d.addEnsureSafeMemberName(s),
                                i && 1 !== i && d.if_(d.not(d.computedMember(a, s)), d.lazyAssign(d.computedMember(a, s), "{}")),
                                l = d.ensureSafeObject(d.computedMember(a, s)),
                                d.assign(t, l),
                                n && (n.computed = !0,
                                n.name = s)) : (Cr(e.property.name),
                                i && 1 !== i && d.if_(d.not(d.nonComputedMember(a, e.property.name)), d.lazyAssign(d.nonComputedMember(a, e.property.name), "{}")),
                                l = d.nonComputedMember(a, e.property.name),
                                (d.state.expensiveChecks || Vr(e.property.name)) && (l = d.ensureSafeObject(l)),
                                d.assign(t, l),
                                n && (n.computed = !1,
                                n.name = e.property.name))
                            }, function() {
                                d.assign(t, "undefined")
                            }),
                            r(t)
                        }, !!i);
                        break;
                    case $r.CallExpression:
                        t = t || this.nextId(),
                        e.filter ? (s = d.filter(e.callee.name),
                        c = [],
                        x(e.arguments, function(e) {
                            var t = d.nextId();
                            d.recurse(e, t),
                            c.push(t)
                        }),
                        l = s + "(" + c.join(",") + ")",
                        d.assign(t, l),
                        r(t)) : (s = d.nextId(),
                        a = {},
                        c = [],
                        d.recurse(e.callee, s, a, function() {
                            d.if_(d.notNull(s), function() {
                                d.addEnsureSafeFunction(s),
                                x(e.arguments, function(e) {
                                    d.recurse(e, d.nextId(), void 0, function(e) {
                                        c.push(d.ensureSafeObject(e))
                                    })
                                }),
                                a.name ? (d.state.expensiveChecks || d.addEnsureSafeObject(a.context),
                                l = d.member(a.context, a.name, a.computed) + "(" + c.join(",") + ")") : l = s + "(" + c.join(",") + ")",
                                l = d.ensureSafeObject(l),
                                d.assign(t, l)
                            }, function() {
                                d.assign(t, "undefined")
                            }),
                            r(t)
                        }));
                        break;
                    case $r.AssignmentExpression:
                        if (s = this.nextId(),
                        a = {},
                        !Ir(e.left))
                            throw ar("lval", "Trying to assign a value to a non l-value");
                        this.recurse(e.left, void 0, a, function() {
                            d.if_(d.notNull(a.context), function() {
                                d.recurse(e.right, s),
                                d.addEnsureSafeObject(d.member(a.context, a.name, a.computed)),
                                d.addEnsureSafeAssignContext(a.context),
                                l = d.member(a.context, a.name, a.computed) + e.operator + s,
                                d.assign(t, l),
                                r(t || l)
                            })
                        }, 1);
                        break;
                    case $r.ArrayExpression:
                        c = [],
                        x(e.elements, function(e) {
                            d.recurse(e, d.nextId(), void 0, function(e) {
                                c.push(e)
                            })
                        }),
                        l = "[" + c.join(",") + "]",
                        this.assign(t, l),
                        r(l);
                        break;
                    case $r.ObjectExpression:
                        c = [],
                        u = !1,
                        x(e.properties, function(e) {
                            e.computed && (u = !0)
                        }),
                        u ? (t = t || this.nextId(),
                        this.assign(t, "{}"),
                        x(e.properties, function(e) {
                            e.computed ? (a = d.nextId(),
                            d.recurse(e.key, a)) : a = e.key.type === $r.Identifier ? e.key.name : "" + e.key.value,
                            s = d.nextId(),
                            d.recurse(e.value, s),
                            d.assign(d.member(t, a, e.computed), s)
                        })) : (x(e.properties, function(t) {
                            d.recurse(t.value, e.constant ? void 0 : d.nextId(), void 0, function(e) {
                                c.push(d.escape(t.key.type === $r.Identifier ? t.key.name : "" + t.key.value) + ":" + e)
                            })
                        }),
                        l = "{" + c.join(",") + "}",
                        this.assign(t, l)),
                        r(t || l);
                        break;
                    case $r.ThisExpression:
                        this.assign(t, "s"),
                        r("s");
                        break;
                    case $r.LocalsExpression:
                        this.assign(t, "l"),
                        r("l");
                        break;
                    case $r.NGValueParameter:
                        this.assign(t, "v"),
                        r("v")
                    }
                },
                getHasOwnProperty: function(e, t) {
                    var n = e + "." + t
                      , r = this.current().own;
                    return r.hasOwnProperty(n) || (r[n] = this.nextId(!1, e + "&&(" + this.escape(t) + " in " + e + ")")),
                    r[n]
                },
                assign: function(e, t) {
                    if (e)
                        return this.current().body.push(e, "=", t, ";"),
                        e
                },
                filter: function(e) {
                    return this.state.filters.hasOwnProperty(e) || (this.state.filters[e] = this.nextId(!0)),
                    this.state.filters[e]
                },
                ifDefined: function(e, t) {
                    return "ifDefined(" + e + "," + this.escape(t) + ")"
                },
                plus: function(e, t) {
                    return "plus(" + e + "," + t + ")"
                },
                return_: function(e) {
                    this.current().body.push("return ", e, ";")
                },
                if_: function(e, t, n) {
                    if (!0 === e)
                        t();
                    else {
                        var r = this.current().body;
                        r.push("if(", e, "){"),
                        t(),
                        r.push("}"),
                        n && (r.push("else{"),
                        n(),
                        r.push("}"))
                    }
                },
                not: function(e) {
                    return "!(" + e + ")"
                },
                notNull: function(e) {
                    return e + "!=null"
                },
                nonComputedMember: function(e, t) {
                    return /^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t) ? e + "." + t : e + '["' + t.replace(/[^$_a-zA-Z0-9]/g, this.stringEscapeFn) + '"]'
                },
                computedMember: function(e, t) {
                    return e + "[" + t + "]"
                },
                member: function(e, t, n) {
                    return n ? this.computedMember(e, t) : this.nonComputedMember(e, t)
                },
                addEnsureSafeObject: function(e) {
                    this.current().body.push(this.ensureSafeObject(e), ";")
                },
                addEnsureSafeMemberName: function(e) {
                    this.current().body.push(this.ensureSafeMemberName(e), ";")
                },
                addEnsureSafeFunction: function(e) {
                    this.current().body.push(this.ensureSafeFunction(e), ";")
                },
                addEnsureSafeAssignContext: function(e) {
                    this.current().body.push(this.ensureSafeAssignContext(e), ";")
                },
                ensureSafeObject: function(e) {
                    return "ensureSafeObject(" + e + ",text)"
                },
                ensureSafeMemberName: function(e) {
                    return "ensureSafeMemberName(" + e + ",text)"
                },
                ensureSafeFunction: function(e) {
                    return "ensureSafeFunction(" + e + ",text)"
                },
                getStringValue: function(e) {
                    this.assign(e, "getStringValue(" + e + ")")
                },
                ensureSafeAssignContext: function(e) {
                    return "ensureSafeAssignContext(" + e + ",text)"
                },
                lazyRecurse: function(e, t, n, r, i, o) {
                    var a = this;
                    return function() {
                        a.recurse(e, t, n, r, i, o)
                    }
                },
                lazyAssign: function(e, t) {
                    var n = this;
                    return function() {
                        n.assign(e, t)
                    }
                },
                stringEscapeRegex: /[^ a-zA-Z0-9]/g,
                stringEscapeFn: function(e) {
                    return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
                },
                escape: function(e) {
                    if (B(e))
                        return "'" + e.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
                    if (U(e))
                        return e.toString();
                    if (!0 === e)
                        return "true";
                    if (!1 === e)
                        return "false";
                    if (null === e)
                        return "null";
                    if (void 0 === e)
                        return "undefined";
                    throw ar("esc", "IMPOSSIBLE")
                },
                nextId: function(e, t) {
                    var n = "v" + this.state.nextId++;
                    return e || this.current().vars.push(n + (t ? "=" + t : "")),
                    n
                },
                current: function() {
                    return this.state[this.state.computing]
                }
            },
            Ur.prototype = {
                compile: function(e, t) {
                    var n, r, i = this, o = this.astBuilder.ast(e);
                    this.expression = e,
                    this.expensiveChecks = t,
                    Rr(o, i.$filter),
                    (n = Lr(o)) && (r = this.recurse(n));
                    var a, s = Mr(o.body);
                    s && (a = [],
                    x(s, function(e, t) {
                        var n = i.recurse(e);
                        e.input = n,
                        a.push(n),
                        e.watchId = t
                    }));
                    var c = [];
                    x(o.body, function(e) {
                        c.push(i.recurse(e.expression))
                    });
                    var l = 0 === o.body.length ? j : 1 === o.body.length ? c[0] : function(e, t) {
                        var n;
                        return x(c, function(r) {
                            n = r(e, t)
                        }),
                        n
                    }
                    ;
                    return r && (l.assign = function(e, t, n) {
                        return r(e, n, t)
                    }
                    ),
                    a && (l.inputs = a),
                    l.literal = Fr(o),
                    l.constant = Nr(o),
                    l
                },
                recurse: function(e, t, n) {
                    var r, i, o, a = this;
                    if (e.input)
                        return this.inputs(e.input, e.watchId);
                    switch (e.type) {
                    case $r.Literal:
                        return this.value(e.value, t);
                    case $r.UnaryExpression:
                        return i = this.recurse(e.argument),
                        this["unary" + e.operator](i, t);
                    case $r.BinaryExpression:
                    case $r.LogicalExpression:
                        return r = this.recurse(e.left),
                        i = this.recurse(e.right),
                        this["binary" + e.operator](r, i, t);
                    case $r.ConditionalExpression:
                        return this["ternary?:"](this.recurse(e.test), this.recurse(e.alternate), this.recurse(e.consequent), t);
                    case $r.Identifier:
                        return Cr(e.name, a.expression),
                        a.identifier(e.name, a.expensiveChecks || Vr(e.name), t, n, a.expression);
                    case $r.MemberExpression:
                        return r = this.recurse(e.object, !1, !!n),
                        e.computed || (Cr(e.property.name, a.expression),
                        i = e.property.name),
                        e.computed && (i = this.recurse(e.property)),
                        e.computed ? this.computedMember(r, i, t, n, a.expression) : this.nonComputedMember(r, i, a.expensiveChecks, t, n, a.expression);
                    case $r.CallExpression:
                        return o = [],
                        x(e.arguments, function(e) {
                            o.push(a.recurse(e))
                        }),
                        e.filter && (i = this.$filter(e.callee.name)),
                        e.filter || (i = this.recurse(e.callee, !0)),
                        e.filter ? function(e, n, r, a) {
                            for (var s = [], c = 0; c < o.length; ++c)
                                s.push(o[c](e, n, r, a));
                            var l = i.apply(void 0, s, a);
                            return t ? {
                                context: void 0,
                                name: void 0,
                                value: l
                            } : l
                        }
                        : function(e, n, r, s) {
                            var c, l = i(e, n, r, s);
                            if (null != l.value) {
                                kr(l.context, a.expression),
                                Er(l.value, a.expression);
                                for (var u = [], d = 0; d < o.length; ++d)
                                    u.push(kr(o[d](e, n, r, s), a.expression));
                                c = kr(l.value.apply(l.context, u), a.expression)
                            }
                            return t ? {
                                value: c
                            } : c
                        }
                        ;
                    case $r.AssignmentExpression:
                        return r = this.recurse(e.left, !0, 1),
                        i = this.recurse(e.right),
                        function(e, n, o, s) {
                            var c = r(e, n, o, s)
                              , l = i(e, n, o, s);
                            return kr(c.value, a.expression),
                            Tr(c.context),
                            c.context[c.name] = l,
                            t ? {
                                value: l
                            } : l
                        }
                        ;
                    case $r.ArrayExpression:
                        return o = [],
                        x(e.elements, function(e) {
                            o.push(a.recurse(e))
                        }),
                        function(e, n, r, i) {
                            for (var a = [], s = 0; s < o.length; ++s)
                                a.push(o[s](e, n, r, i));
                            return t ? {
                                value: a
                            } : a
                        }
                        ;
                    case $r.ObjectExpression:
                        return o = [],
                        x(e.properties, function(e) {
                            e.computed ? o.push({
                                key: a.recurse(e.key),
                                computed: !0,
                                value: a.recurse(e.value)
                            }) : o.push({
                                key: e.key.type === $r.Identifier ? e.key.name : "" + e.key.value,
                                computed: !1,
                                value: a.recurse(e.value)
                            })
                        }),
                        function(e, n, r, i) {
                            for (var a = {}, s = 0; s < o.length; ++s)
                                o[s].computed ? a[o[s].key(e, n, r, i)] = o[s].value(e, n, r, i) : a[o[s].key] = o[s].value(e, n, r, i);
                            return t ? {
                                value: a
                            } : a
                        }
                        ;
                    case $r.ThisExpression:
                        return function(e) {
                            return t ? {
                                value: e
                            } : e
                        }
                        ;
                    case $r.LocalsExpression:
                        return function(e, n) {
                            return t ? {
                                value: n
                            } : n
                        }
                        ;
                    case $r.NGValueParameter:
                        return function(e, n, r) {
                            return t ? {
                                value: r
                            } : r
                        }
                    }
                },
                "unary+": function(e, t) {
                    return function(n, r, i, o) {
                        var a = e(n, r, i, o);
                        return a = L(a) ? +a : 0,
                        t ? {
                            value: a
                        } : a
                    }
                },
                "unary-": function(e, t) {
                    return function(n, r, i, o) {
                        var a = e(n, r, i, o);
                        return a = L(a) ? -a : 0,
                        t ? {
                            value: a
                        } : a
                    }
                },
                "unary!": function(e, t) {
                    return function(n, r, i, o) {
                        var a = !e(n, r, i, o);
                        return t ? {
                            value: a
                        } : a
                    }
                },
                "binary+": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = Dr(e(r, i, o, a), t(r, i, o, a));
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary-": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a)
                          , c = t(r, i, o, a)
                          , l = (L(s) ? s : 0) - (L(c) ? c : 0);
                        return n ? {
                            value: l
                        } : l
                    }
                },
                "binary*": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) * t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary/": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) / t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary%": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) % t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary===": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) === t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary!==": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) !== t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary==": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) == t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary!=": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) != t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary<": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) < t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary>": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) > t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary<=": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) <= t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary>=": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) >= t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary&&": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) && t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "binary||": function(e, t, n) {
                    return function(r, i, o, a) {
                        var s = e(r, i, o, a) || t(r, i, o, a);
                        return n ? {
                            value: s
                        } : s
                    }
                },
                "ternary?:": function(e, t, n, r) {
                    return function(i, o, a, s) {
                        var c = e(i, o, a, s) ? t(i, o, a, s) : n(i, o, a, s);
                        return r ? {
                            value: c
                        } : c
                    }
                },
                value: function(e, t) {
                    return function() {
                        return t ? {
                            context: void 0,
                            name: void 0,
                            value: e
                        } : e
                    }
                },
                identifier: function(e, t, n, r, i) {
                    return function(o, a, s, c) {
                        var l = a && e in a ? a : o;
                        r && 1 !== r && l && !l[e] && (l[e] = {});
                        var u = l ? l[e] : void 0;
                        return t && kr(u, i),
                        n ? {
                            context: l,
                            name: e,
                            value: u
                        } : u
                    }
                },
                computedMember: function(e, t, n, r, i) {
                    return function(o, a, s, c) {
                        var l, u, d = e(o, a, s, c);
                        return null != d && (Cr(l = _r(l = t(o, a, s, c)), i),
                        r && 1 !== r && (Tr(d),
                        d && !d[l] && (d[l] = {})),
                        kr(u = d[l], i)),
                        n ? {
                            context: d,
                            name: l,
                            value: u
                        } : u
                    }
                },
                nonComputedMember: function(e, t, n, r, i, o) {
                    return function(a, s, c, l) {
                        var u = e(a, s, c, l);
                        i && 1 !== i && (Tr(u),
                        u && !u[t] && (u[t] = {}));
                        var d = null != u ? u[t] : void 0;
                        return (n || Vr(t)) && kr(d, o),
                        r ? {
                            context: u,
                            name: t,
                            value: d
                        } : d
                    }
                },
                inputs: function(e, t) {
                    return function(n, r, i, o) {
                        return o ? o[t] : e(n, r, i)
                    }
                }
            };
            var qr = function(e, t, n) {
                this.lexer = e,
                this.$filter = t,
                this.options = n,
                this.ast = new $r(e,n),
                this.astCompiler = n.csp ? new Ur(this.ast,t) : new Br(this.ast,t)
            };
            function Vr(e) {
                return "constructor" === e
            }
            function zr(e) {
                return z(e.valueOf) ? e.valueOf() : Sr.call(e)
            }
            function Hr() {
                var e, t, n = Re(), r = Re(), i = {
                    true: !0,
                    false: !1,
                    null: null,
                    undefined: void 0
                };
                this.addLiteral = function(e, t) {
                    i[e] = t
                }
                ,
                this.setIdentifierFns = function(n, r) {
                    return e = n,
                    t = r,
                    this
                }
                ,
                this.$get = ["$filter", function(o) {
                    var a = ie().noUnsafeEval
                      , s = {
                        csp: a,
                        expensiveChecks: !1,
                        literals: ne(i),
                        isIdentifierStart: z(e) && e,
                        isIdentifierContinue: z(t) && t
                    }
                      , c = {
                        csp: a,
                        expensiveChecks: !0,
                        literals: ne(i),
                        isIdentifierStart: z(e) && e,
                        isIdentifierContinue: z(t) && t
                    }
                      , l = !1;
                    return u.$$runningExpensiveChecks = function() {
                        return l
                    }
                    ,
                    u;
                    function u(e, t, i) {
                        var a, u, d;
                        switch (i = i || l,
                        typeof e) {
                        case "string":
                            d = e = e.trim();
                            var v = i ? r : n;
                            if (!(a = v[d])) {
                                ":" === e.charAt(0) && ":" === e.charAt(1) && (u = !0,
                                e = e.substring(2));
                                var y = i ? c : s
                                  , b = new Or(y);
                                (a = new qr(b,o,y).parse(e)).constant ? a.$$watchDelegate = g : u ? a.$$watchDelegate = a.literal ? p : h : a.inputs && (a.$$watchDelegate = f),
                                i && (a = function e(t) {
                                    if (!t)
                                        return t;
                                    r.$$watchDelegate = t.$$watchDelegate,
                                    r.assign = e(t.assign),
                                    r.constant = t.constant,
                                    r.literal = t.literal;
                                    for (var n = 0; t.inputs && n < t.inputs.length; ++n)
                                        t.inputs[n] = e(t.inputs[n]);
                                    return r.inputs = t.inputs,
                                    r;
                                    function r(e, n, r, i) {
                                        var o = l;
                                        l = !0;
                                        try {
                                            return t(e, n, r, i)
                                        } finally {
                                            l = o
                                        }
                                    }
                                }(a)),
                                v[d] = a
                            }
                            return m(a, t);
                        case "function":
                            return m(e, t);
                        default:
                            return m(j, t)
                        }
                    }
                    function d(e, t) {
                        return null == e || null == t ? e === t : ("object" != typeof e || "object" != typeof (e = zr(e))) && (e === t || e != e && t != t)
                    }
                    function f(e, t, n, r, i) {
                        var o, a = r.inputs;
                        if (1 === a.length) {
                            var s = d;
                            return a = a[0],
                            e.$watch(function(e) {
                                var t = a(e);
                                return d(t, s) || (o = r(e, void 0, void 0, [t]),
                                s = t && zr(t)),
                                o
                            }, t, n, i)
                        }
                        for (var c = [], l = [], u = 0, f = a.length; u < f; u++)
                            c[u] = d,
                            l[u] = null;
                        return e.$watch(function(e) {
                            for (var t = !1, n = 0, i = a.length; n < i; n++) {
                                var s = a[n](e);
                                (t || (t = !d(s, c[n]))) && (l[n] = s,
                                c[n] = s && zr(s))
                            }
                            return t && (o = r(e, void 0, void 0, l)),
                            o
                        }, t, n, i)
                    }
                    function h(e, t, n, r) {
                        var i, o;
                        return i = e.$watch(function(e) {
                            return r(e)
                        }, function(e, n, r) {
                            o = e,
                            z(t) && t.apply(this, arguments),
                            L(e) && r.$$postDigest(function() {
                                L(o) && i()
                            })
                        }, n)
                    }
                    function p(e, t, n, r) {
                        var i, o;
                        return i = e.$watch(function(e) {
                            return r(e)
                        }, function(e, n, r) {
                            o = e,
                            z(t) && t.call(this, e, n, r),
                            a(e) && r.$$postDigest(function() {
                                a(o) && i()
                            })
                        }, n);
                        function a(e) {
                            var t = !0;
                            return x(e, function(e) {
                                L(e) || (t = !1)
                            }),
                            t
                        }
                    }
                    function g(e, t, n, r) {
                        var i = e.$watch(function(e) {
                            return i(),
                            r(e)
                        }, t, n);
                        return i
                    }
                    function m(e, t) {
                        if (!t)
                            return e;
                        var n = e.$$watchDelegate
                          , r = !1
                          , i = n !== p && n !== h ? function(n, i, o, a) {
                            var s = r && a ? a[0] : e(n, i, o, a);
                            return t(s, n, i)
                        }
                        : function(n, r, i, o) {
                            var a = e(n, r, i, o)
                              , s = t(a, n, r);
                            return L(a) ? s : a
                        }
                        ;
                        return e.$$watchDelegate && e.$$watchDelegate !== f ? i.$$watchDelegate = e.$$watchDelegate : t.$stateful || (i.$$watchDelegate = f,
                        r = !e.inputs,
                        i.inputs = e.inputs ? e.inputs : [e]),
                        i
                    }
                }
                ]
            }
            function Wr() {
                this.$get = ["$rootScope", "$exceptionHandler", function(e, t) {
                    return Xr(function(t) {
                        e.$evalAsync(t)
                    }, t)
                }
                ]
            }
            function Gr() {
                this.$get = ["$browser", "$exceptionHandler", function(e, t) {
                    return Xr(function(t) {
                        e.defer(t)
                    }, t)
                }
                ]
            }
            function Xr(e, t) {
                var r = n("$q", TypeError)
                  , i = function() {
                    var e = new c;
                    return e.resolve = a(e, e.resolve),
                    e.reject = a(e, e.reject),
                    e.notify = a(e, e.notify),
                    e
                };
                function o() {
                    this.$$state = {
                        status: 0
                    }
                }
                function a(e, t) {
                    return function(n) {
                        t.call(e, n)
                    }
                }
                function s(n) {
                    !n.processScheduled && n.pending && (n.processScheduled = !0,
                    e(function() {
                        !function(e) {
                            var n, r, i;
                            i = e.pending,
                            e.processScheduled = !1,
                            e.pending = void 0;
                            for (var o = 0, a = i.length; o < a; ++o) {
                                r = i[o][0],
                                n = i[o][e.status];
                                try {
                                    z(n) ? r.resolve(n(e.value)) : 1 === e.status ? r.resolve(e.value) : r.reject(e.value)
                                } catch (e) {
                                    r.reject(e),
                                    t(e)
                                }
                            }
                        }(n)
                    }))
                }
                function c() {
                    this.promise = new o
                }
                T(o.prototype, {
                    then: function(e, t, n) {
                        if (I(e) && I(t) && I(n))
                            return this;
                        var r = new c;
                        return this.$$state.pending = this.$$state.pending || [],
                        this.$$state.pending.push([r, e, t, n]),
                        this.$$state.status > 0 && s(this.$$state),
                        r.promise
                    },
                    catch: function(e) {
                        return this.then(null, e)
                    },
                    finally: function(e, t) {
                        return this.then(function(t) {
                            return u(t, !0, e)
                        }, function(t) {
                            return u(t, !1, e)
                        }, t)
                    }
                }),
                T(c.prototype, {
                    resolve: function(e) {
                        this.promise.$$state.status || (e === this.promise ? this.$$reject(r("qcycle", "Expected promise to be resolved with value other than itself '{0}'", e)) : this.$$resolve(e))
                    },
                    $$resolve: function(e) {
                        var n, r = this, i = !1;
                        try {
                            (F(e) || z(e)) && (n = e && e.then),
                            z(n) ? (this.promise.$$state.status = -1,
                            n.call(e, function(e) {
                                i || (i = !0,
                                r.$$resolve(e))
                            }, o, a(this, this.notify))) : (this.promise.$$state.value = e,
                            this.promise.$$state.status = 1,
                            s(this.promise.$$state))
                        } catch (e) {
                            o(e),
                            t(e)
                        }
                        function o(e) {
                            i || (i = !0,
                            r.$$reject(e))
                        }
                    },
                    reject: function(e) {
                        this.promise.$$state.status || this.$$reject(e)
                    },
                    $$reject: function(e) {
                        this.promise.$$state.value = e,
                        this.promise.$$state.status = 2,
                        s(this.promise.$$state)
                    },
                    notify: function(n) {
                        var r = this.promise.$$state.pending;
                        this.promise.$$state.status <= 0 && r && r.length && e(function() {
                            for (var e, i, o = 0, a = r.length; o < a; o++) {
                                i = r[o][0],
                                e = r[o][3];
                                try {
                                    i.notify(z(e) ? e(n) : n)
                                } catch (e) {
                                    t(e)
                                }
                            }
                        })
                    }
                });
                var l = function(e, t) {
                    var n = new c;
                    return t ? n.resolve(e) : n.reject(e),
                    n.promise
                }
                  , u = function(e, t, n) {
                    var r = null;
                    try {
                        z(n) && (r = n())
                    } catch (e) {
                        return l(e, !1)
                    }
                    return Y(r) ? r.then(function() {
                        return l(e, t)
                    }, function(e) {
                        return l(e, !1)
                    }) : l(e, t)
                }
                  , d = function(e, t, n, r) {
                    var i = new c;
                    return i.resolve(e),
                    i.promise.then(t, n, r)
                }
                  , f = d
                  , h = function(e) {
                    if (!z(e))
                        throw r("norslvr", "Expected resolverFn, got '{0}'", e);
                    var t = new c;
                    return e(function(e) {
                        t.resolve(e)
                    }, function(e) {
                        t.reject(e)
                    }),
                    t.promise
                };
                return h.prototype = o.prototype,
                h.defer = i,
                h.reject = function(e) {
                    var t = new c;
                    return t.reject(e),
                    t.promise
                }
                ,
                h.when = d,
                h.resolve = f,
                h.all = function(e) {
                    var t = new c
                      , n = 0
                      , r = V(e) ? [] : {};
                    return x(e, function(e, i) {
                        n++,
                        d(e).then(function(e) {
                            r.hasOwnProperty(i) || (r[i] = e,
                            --n || t.resolve(r))
                        }, function(e) {
                            r.hasOwnProperty(i) || t.reject(e)
                        })
                    }),
                    0 === n && t.resolve(r),
                    t.promise
                }
                ,
                h.race = function(e) {
                    var t = i();
                    return x(e, function(e) {
                        d(e).then(t.resolve, t.reject)
                    }),
                    t.promise
                }
                ,
                h
            }
            function Yr() {
                this.$get = ["$window", "$timeout", function(e, t) {
                    var n = e.requestAnimationFrame || e.webkitRequestAnimationFrame
                      , r = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame
                      , i = !!n
                      , o = i ? function(e) {
                        var t = n(e);
                        return function() {
                            r(t)
                        }
                    }
                    : function(e) {
                        var n = t(e, 16.66, !1);
                        return function() {
                            t.cancel(n)
                        }
                    }
                    ;
                    return o.supported = i,
                    o
                }
                ]
            }
            function Kr() {
                var e = 10
                  , t = n("$rootScope")
                  , r = null
                  , i = null;
                this.digestTtl = function(t) {
                    return arguments.length && (e = t),
                    e
                }
                ,
                this.$get = ["$exceptionHandler", "$parse", "$browser", function(n, a, s) {
                    function l(e) {
                        e.currentScope.$$destroyed = !0
                    }
                    function u() {
                        this.$id = _(),
                        this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null,
                        this.$root = this,
                        this.$$destroyed = !1,
                        this.$$listeners = {},
                        this.$$listenerCount = {},
                        this.$$watchersCount = 0,
                        this.$$isolateBindings = null
                    }
                    u.prototype = {
                        constructor: u,
                        $new: function(e, t) {
                            var n;
                            return t = t || this,
                            e ? (n = new u).$root = this.$root : (this.$$ChildScope || (this.$$ChildScope = function(e) {
                                function t() {
                                    this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null,
                                    this.$$listeners = {},
                                    this.$$listenerCount = {},
                                    this.$$watchersCount = 0,
                                    this.$id = _(),
                                    this.$$ChildScope = null
                                }
                                return t.prototype = e,
                                t
                            }(this)),
                            n = new this.$$ChildScope),
                            n.$parent = t,
                            n.$$prevSibling = t.$$childTail,
                            t.$$childHead ? (t.$$childTail.$$nextSibling = n,
                            t.$$childTail = n) : t.$$childHead = t.$$childTail = n,
                            (e || t !== this) && n.$on("$destroy", l),
                            n
                        },
                        $watch: function(e, t, n, i) {
                            var o = a(e);
                            if (o.$$watchDelegate)
                                return o.$$watchDelegate(this, t, n, o, e);
                            var s = this
                              , c = s.$$watchers
                              , l = {
                                fn: t,
                                last: S,
                                get: o,
                                exp: i || e,
                                eq: !!n
                            };
                            return r = null,
                            z(t) || (l.fn = j),
                            c || (c = s.$$watchers = []),
                            c.unshift(l),
                            y(this, 1),
                            function() {
                                te(c, l) >= 0 && y(s, -1),
                                r = null
                            }
                        },
                        $watchGroup: function(e, t) {
                            var n = new Array(e.length)
                              , r = new Array(e.length)
                              , i = []
                              , o = this
                              , a = !1
                              , s = !0;
                            if (!e.length) {
                                var c = !0;
                                return o.$evalAsync(function() {
                                    c && t(r, r, o)
                                }),
                                function() {
                                    c = !1
                                }
                            }
                            if (1 === e.length)
                                return this.$watch(e[0], function(e, i, o) {
                                    r[0] = e,
                                    n[0] = i,
                                    t(r, e === i ? r : n, o)
                                });
                            function l() {
                                a = !1,
                                s ? (s = !1,
                                t(r, r, o)) : t(r, n, o)
                            }
                            return x(e, function(e, t) {
                                var s = o.$watch(e, function(e, i) {
                                    r[t] = e,
                                    n[t] = i,
                                    a || (a = !0,
                                    o.$evalAsync(l))
                                });
                                i.push(s)
                            }),
                            function() {
                                for (; i.length; )
                                    i.shift()()
                            }
                        },
                        $watchCollection: function(e, t) {
                            g.$stateful = !0;
                            var n, r, i, s = this, c = t.length > 1, l = 0, u = a(e, g), d = [], f = {}, h = !0, p = 0;
                            function g(e) {
                                var t, i, a, s;
                                if (!I(n = e)) {
                                    if (F(n))
                                        if (w(n)) {
                                            r !== d && (p = (r = d).length = 0,
                                            l++),
                                            t = n.length,
                                            p !== t && (l++,
                                            r.length = p = t);
                                            for (var c = 0; c < t; c++)
                                                s = r[c],
                                                a = n[c],
                                                s != s && a != a || s === a || (l++,
                                                r[c] = a)
                                        } else {
                                            for (i in r !== f && (r = f = {},
                                            p = 0,
                                            l++),
                                            t = 0,
                                            n)
                                                o.call(n, i) && (t++,
                                                a = n[i],
                                                s = r[i],
                                                i in r ? s != s && a != a || s === a || (l++,
                                                r[i] = a) : (p++,
                                                r[i] = a,
                                                l++));
                                            if (p > t)
                                                for (i in l++,
                                                r)
                                                    o.call(n, i) || (p--,
                                                    delete r[i])
                                        }
                                    else
                                        r !== n && (r = n,
                                        l++);
                                    return l
                                }
                            }
                            return this.$watch(u, function() {
                                if (h ? (h = !1,
                                t(n, n, s)) : t(n, i, s),
                                c)
                                    if (F(n))
                                        if (w(n)) {
                                            i = new Array(n.length);
                                            for (var e = 0; e < n.length; e++)
                                                i[e] = n[e]
                                        } else
                                            for (var r in i = {},
                                            n)
                                                o.call(n, r) && (i[r] = n[r]);
                                    else
                                        i = n
                            })
                        },
                        $digest: function() {
                            var o, a, c, l, u, p, y, b, w, x, _ = e, k = [];
                            m("$digest"),
                            s.$$checkUrlChange(),
                            this === d && null !== i && (s.defer.cancel(i),
                            C()),
                            r = null;
                            do {
                                p = !1,
                                b = this;
                                for (var E = 0; E < f.length; E++) {
                                    try {
                                        (x = f[E]).scope.$eval(x.expression, x.locals)
                                    } catch (e) {
                                        n(e)
                                    }
                                    r = null
                                }
                                f.length = 0;
                                e: do {
                                    if (l = b.$$watchers)
                                        for (u = l.length; u--; )
                                            try {
                                                if (o = l[u])
                                                    if ((a = (0,
                                                    o.get)(b)) === (c = o.last) || (o.eq ? re(a, c) : O(a) && O(c))) {
                                                        if (o === r) {
                                                            p = !1;
                                                            break e
                                                        }
                                                    } else
                                                        p = !0,
                                                        r = o,
                                                        o.last = o.eq ? ne(a, null) : a,
                                                        (0,
                                                        o.fn)(a, c === S ? a : c, b),
                                                        _ < 5 && (k[w = 4 - _] || (k[w] = []),
                                                        k[w].push({
                                                            msg: z(o.exp) ? "fn: " + (o.exp.name || o.exp.toString()) : o.exp,
                                                            newVal: a,
                                                            oldVal: c
                                                        }))
                                            } catch (e) {
                                                n(e)
                                            }
                                    if (!(y = b.$$watchersCount && b.$$childHead || b !== this && b.$$nextSibling))
                                        for (; b !== this && !(y = b.$$nextSibling); )
                                            b = b.$parent
                                } while (b = y);
                                if ((p || f.length) && !_--)
                                    throw v(),
                                    t("infdig", "{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}", e, k)
                            } while (p || f.length);
                            for (v(); g < h.length; )
                                try {
                                    h[g++]()
                                } catch (e) {
                                    n(e)
                                }
                            h.length = g = 0
                        },
                        $destroy: function() {
                            if (!this.$$destroyed) {
                                var e = this.$parent;
                                for (var t in this.$broadcast("$destroy"),
                                this.$$destroyed = !0,
                                this === d && s.$$applicationDestroyed(),
                                y(this, -this.$$watchersCount),
                                this.$$listenerCount)
                                    b(this, this.$$listenerCount[t], t);
                                e && e.$$childHead === this && (e.$$childHead = this.$$nextSibling),
                                e && e.$$childTail === this && (e.$$childTail = this.$$prevSibling),
                                this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling),
                                this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling),
                                this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = j,
                                this.$on = this.$watch = this.$watchGroup = function() {
                                    return j
                                }
                                ,
                                this.$$listeners = {},
                                this.$$nextSibling = null,
                                function e(t) {
                                    9 === c && (t.$$childHead && e(t.$$childHead),
                                    t.$$nextSibling && e(t.$$nextSibling)),
                                    t.$parent = t.$$nextSibling = t.$$prevSibling = t.$$childHead = t.$$childTail = t.$root = t.$$watchers = null
                                }(this)
                            }
                        },
                        $eval: function(e, t) {
                            return a(e)(this, t)
                        },
                        $evalAsync: function(e, t) {
                            d.$$phase || f.length || s.defer(function() {
                                f.length && d.$digest()
                            }),
                            f.push({
                                scope: this,
                                expression: a(e),
                                locals: t
                            })
                        },
                        $$postDigest: function(e) {
                            h.push(e)
                        },
                        $apply: function(e) {
                            try {
                                m("$apply");
                                try {
                                    return this.$eval(e)
                                } finally {
                                    v()
                                }
                            } catch (e) {
                                n(e)
                            } finally {
                                try {
                                    d.$digest()
                                } catch (e) {
                                    throw n(e),
                                    e
                                }
                            }
                        },
                        $applyAsync: function(e) {
                            var t = this;
                            e && p.push(function() {
                                t.$eval(e)
                            }),
                            e = a(e),
                            null === i && (i = s.defer(function() {
                                d.$apply(C)
                            }))
                        },
                        $on: function(e, t) {
                            var n = this.$$listeners[e];
                            n || (this.$$listeners[e] = n = []),
                            n.push(t);
                            var r = this;
                            do {
                                r.$$listenerCount[e] || (r.$$listenerCount[e] = 0),
                                r.$$listenerCount[e]++
                            } while (r = r.$parent);
                            var i = this;
                            return function() {
                                var r = n.indexOf(t);
                                -1 !== r && (n[r] = null,
                                b(i, 1, e))
                            }
                        },
                        $emit: function(e, t) {
                            var r, i, o, a = [], s = this, c = !1, l = {
                                name: e,
                                targetScope: s,
                                stopPropagation: function() {
                                    c = !0
                                },
                                preventDefault: function() {
                                    l.defaultPrevented = !0
                                },
                                defaultPrevented: !1
                            }, u = ae([l], arguments, 1);
                            do {
                                for (r = s.$$listeners[e] || a,
                                l.currentScope = s,
                                i = 0,
                                o = r.length; i < o; i++)
                                    if (r[i])
                                        try {
                                            r[i].apply(null, u)
                                        } catch (e) {
                                            n(e)
                                        }
                                    else
                                        r.splice(i, 1),
                                        i--,
                                        o--;
                                if (c)
                                    return l.currentScope = null,
                                    l;
                                s = s.$parent
                            } while (s);
                            return l.currentScope = null,
                            l
                        },
                        $broadcast: function(e, t) {
                            var r = this
                              , i = this
                              , o = {
                                name: e,
                                targetScope: this,
                                preventDefault: function() {
                                    o.defaultPrevented = !0
                                },
                                defaultPrevented: !1
                            };
                            if (!this.$$listenerCount[e])
                                return o;
                            for (var a, s, c, l = ae([o], arguments, 1); r = i; ) {
                                for (o.currentScope = r,
                                s = 0,
                                c = (a = r.$$listeners[e] || []).length; s < c; s++)
                                    if (a[s])
                                        try {
                                            a[s].apply(null, l)
                                        } catch (e) {
                                            n(e)
                                        }
                                    else
                                        a.splice(s, 1),
                                        s--,
                                        c--;
                                if (!(i = r.$$listenerCount[e] && r.$$childHead || r !== this && r.$$nextSibling))
                                    for (; r !== this && !(i = r.$$nextSibling); )
                                        r = r.$parent
                            }
                            return o.currentScope = null,
                            o
                        }
                    };
                    var d = new u
                      , f = d.$$asyncQueue = []
                      , h = d.$$postDigestQueue = []
                      , p = d.$$applyAsyncQueue = []
                      , g = 0;
                    return d;
                    function m(e) {
                        if (d.$$phase)
                            throw t("inprog", "{0} already in progress", d.$$phase);
                        d.$$phase = e
                    }
                    function v() {
                        d.$$phase = null
                    }
                    function y(e, t) {
                        do {
                            e.$$watchersCount += t
                        } while (e = e.$parent)
                    }
                    function b(e, t, n) {
                        do {
                            e.$$listenerCount[n] -= t,
                            0 === e.$$listenerCount[n] && delete e.$$listenerCount[n]
                        } while (e = e.$parent)
                    }
                    function S() {}
                    function C() {
                        for (; p.length; )
                            try {
                                p.shift()()
                            } catch (e) {
                                n(e)
                            }
                        i = null
                    }
                }
                ]
            }
            function Qr() {
                var e = /^\s*(https?|ftp|mailto|tel|file):/
                  , t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
                this.aHrefSanitizationWhitelist = function(t) {
                    return L(t) ? (e = t,
                    this) : e
                }
                ,
                this.imgSrcSanitizationWhitelist = function(e) {
                    return L(e) ? (t = e,
                    this) : t
                }
                ,
                this.$get = function() {
                    return function(n, r) {
                        var i, o = r ? t : e;
                        return "" === (i = ui(n).href) || i.match(o) ? n : "unsafe:" + i
                    }
                }
            }
            qr.prototype = {
                constructor: qr,
                parse: function(e) {
                    return this.astCompiler.compile(e, this.options.expensiveChecks)
                }
            };
            var Jr = n("$sce")
              , Zr = {
                HTML: "html",
                CSS: "css",
                URL: "url",
                RESOURCE_URL: "resourceUrl",
                JS: "js"
            };
            function ei(e) {
                var t = [];
                return L(e) && x(e, function(e) {
                    t.push(function(e) {
                        if ("self" === e)
                            return e;
                        if (B(e)) {
                            if (e.indexOf("***") > -1)
                                throw Jr("iwcard", "Illegal sequence *** in string matcher.  String: {0}", e);
                            return e = J(e).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"),
                            new RegExp("^" + e + "$")
                        }
                        if (H(e))
                            return new RegExp("^" + e.source + "$");
                        throw Jr("imatcher", 'Matchers may only be "self", string patterns or RegExp objects')
                    }(e))
                }),
                t
            }
            function ti() {
                this.SCE_CONTEXTS = Zr;
                var e = ["self"]
                  , t = [];
                this.resourceUrlWhitelist = function(t) {
                    return arguments.length && (e = ei(t)),
                    e
                }
                ,
                this.resourceUrlBlacklist = function(e) {
                    return arguments.length && (t = ei(e)),
                    t
                }
                ,
                this.$get = ["$injector", function(n) {
                    var r = function(e) {
                        throw Jr("unsafe", "Attempting to use an unsafe value in a safe context.")
                    };
                    function i(e, t) {
                        return "self" === e ? di(t) : !!e.exec(t.href)
                    }
                    function o(e) {
                        var t = function(e) {
                            this.$$unwrapTrustedValue = function() {
                                return e
                            }
                        };
                        return e && (t.prototype = new e),
                        t.prototype.valueOf = function() {
                            return this.$$unwrapTrustedValue()
                        }
                        ,
                        t.prototype.toString = function() {
                            return this.$$unwrapTrustedValue().toString()
                        }
                        ,
                        t
                    }
                    n.has("$sanitize") && (r = n.get("$sanitize"));
                    var a = o()
                      , s = {};
                    return s[Zr.HTML] = o(a),
                    s[Zr.CSS] = o(a),
                    s[Zr.URL] = o(a),
                    s[Zr.JS] = o(a),
                    s[Zr.RESOURCE_URL] = o(s[Zr.URL]),
                    {
                        trustAs: function(e, t) {
                            var n = s.hasOwnProperty(e) ? s[e] : null;
                            if (!n)
                                throw Jr("icontext", "Attempted to trust a value in invalid context. Context: {0}; Value: {1}", e, t);
                            if (null === t || I(t) || "" === t)
                                return t;
                            if ("string" != typeof t)
                                throw Jr("itype", "Attempted to trust a non-string value in a content requiring a string: Context: {0}", e);
                            return new n(t)
                        },
                        getTrusted: function(n, o) {
                            if (null === o || I(o) || "" === o)
                                return o;
                            var a = s.hasOwnProperty(n) ? s[n] : null;
                            if (a && o instanceof a)
                                return o.$$unwrapTrustedValue();
                            if (n === Zr.RESOURCE_URL) {
                                if (function(n) {
                                    var r, o, a = ui(n.toString()), s = !1;
                                    for (r = 0,
                                    o = e.length; r < o; r++)
                                        if (i(e[r], a)) {
                                            s = !0;
                                            break
                                        }
                                    if (s)
                                        for (r = 0,
                                        o = t.length; r < o; r++)
                                            if (i(t[r], a)) {
                                                s = !1;
                                                break
                                            }
                                    return s
                                }(o))
                                    return o;
                                throw Jr("insecurl", "Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}", o.toString())
                            }
                            if (n === Zr.HTML)
                                return r(o);
                            throw Jr("unsafe", "Attempting to use an unsafe value in a safe context.")
                        },
                        valueOf: function(e) {
                            return e instanceof a ? e.$$unwrapTrustedValue() : e
                        }
                    }
                }
                ]
            }
            function ni() {
                var e = !0;
                this.enabled = function(t) {
                    return arguments.length && (e = !!t),
                    e
                }
                ,
                this.$get = ["$parse", "$sceDelegate", function(t, n) {
                    if (e && c < 8)
                        throw Jr("iequirks", "Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
                    var r = Be(Zr);
                    r.isEnabled = function() {
                        return e
                    }
                    ,
                    r.trustAs = n.trustAs,
                    r.getTrusted = n.getTrusted,
                    r.valueOf = n.valueOf,
                    e || (r.trustAs = r.getTrusted = function(e, t) {
                        return t
                    }
                    ,
                    r.valueOf = D),
                    r.parseAs = function(e, n) {
                        var i = t(n);
                        return i.literal && i.constant ? i : t(n, function(t) {
                            return r.getTrusted(e, t)
                        })
                    }
                    ;
                    var i = r.parseAs
                      , o = r.getTrusted
                      , s = r.trustAs;
                    return x(Zr, function(e, t) {
                        var n = a(t);
                        r[Qe("parse_as_" + n)] = function(t) {
                            return i(e, t)
                        }
                        ,
                        r[Qe("get_trusted_" + n)] = function(t) {
                            return o(e, t)
                        }
                        ,
                        r[Qe("trust_as_" + n)] = function(t) {
                            return s(e, t)
                        }
                    }),
                    r
                }
                ]
            }
            function ri() {
                this.$get = ["$window", "$document", function(e, t) {
                    var n, r, i = {}, o = !(e.chrome && (e.chrome.app && e.chrome.app.runtime || !e.chrome.app && e.chrome.runtime && e.chrome.runtime.id)) && e.history && e.history.pushState, s = A((/android (\d+)/.exec(a((e.navigator || {}).userAgent)) || [])[1]), l = /Boxee/i.test((e.navigator || {}).userAgent), u = t[0] || {}, d = /^(Moz|webkit|ms)(?=[A-Z])/, f = u.body && u.body.style, h = !1, p = !1;
                    if (f) {
                        for (var g in f)
                            if (r = d.exec(g)) {
                                n = (n = r[0])[0].toUpperCase() + n.substr(1);
                                break
                            }
                        n || (n = "WebkitOpacity"in f && "webkit"),
                        h = !!("transition"in f || n + "Transition"in f),
                        p = !!("animation"in f || n + "Animation"in f),
                        !s || h && p || (h = B(f.webkitTransition),
                        p = B(f.webkitAnimation))
                    }
                    return {
                        history: !(!o || s < 4 || l),
                        hasEvent: function(e) {
                            if ("input" === e && c <= 11)
                                return !1;
                            if (I(i[e])) {
                                var t = u.createElement("div");
                                i[e] = "on" + e in t
                            }
                            return i[e]
                        },
                        csp: ie(),
                        vendorPrefix: n,
                        transitions: h,
                        animations: p,
                        android: s
                    }
                }
                ]
            }
            var ii = n("$compile");
            function oi() {
                var e;
                this.httpOptions = function(t) {
                    return t ? (e = t,
                    this) : e
                }
                ,
                this.$get = ["$templateCache", "$http", "$q", "$sce", function(t, n, r, i) {
                    function o(a, s) {
                        o.totalPendingRequests++,
                        B(a) && !I(t.get(a)) || (a = i.getTrustedResourceUrl(a));
                        var c = n.defaults && n.defaults.transformResponse;
                        return V(c) ? c = c.filter(function(e) {
                            return e !== An
                        }) : c === An && (c = null),
                        n.get(a, T({
                            cache: t,
                            transformResponse: c
                        }, e)).finally(function() {
                            o.totalPendingRequests--
                        }).then(function(e) {
                            return t.put(a, e.data),
                            e.data
                        }, function(e) {
                            if (!s)
                                throw ii("tpload", "Failed to load template: {0} (HTTP status: {1} {2})", a, e.status, e.statusText);
                            return r.reject(e)
                        })
                    }
                    return o.totalPendingRequests = 0,
                    o
                }
                ]
            }
            function ai() {
                this.$get = ["$rootScope", "$browser", "$location", function(e, t, n) {
                    return {
                        findBindings: function(e, t, n) {
                            var r = [];
                            return x(e.getElementsByClassName("ng-binding"), function(e) {
                                var i = y.element(e).data("$binding");
                                i && x(i, function(i) {
                                    n ? new RegExp("(^|\\s)" + J(t) + "(\\s|\\||$)").test(i) && r.push(e) : -1 !== i.indexOf(t) && r.push(e)
                                })
                            }),
                            r
                        },
                        findModels: function(e, t, n) {
                            for (var r = ["ng-", "data-ng-", "ng\\:"], i = 0; i < r.length; ++i) {
                                var o = "[" + r[i] + "model" + (n ? "=" : "*=") + '"' + t + '"]'
                                  , a = e.querySelectorAll(o);
                                if (a.length)
                                    return a
                            }
                        },
                        getLocation: function() {
                            return n.url()
                        },
                        setLocation: function(t) {
                            t !== n.url() && (n.url(t),
                            e.$digest())
                        },
                        whenStable: function(e) {
                            t.notifyWhenNoOutstandingRequests(e)
                        }
                    }
                }
                ]
            }
            function si() {
                this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function(e, t, n, r, i) {
                    var o = {};
                    function a(a, s, c) {
                        z(a) || (c = s,
                        s = a,
                        a = j);
                        var l, u = se(arguments, 3), d = L(c) && !c, f = (d ? r : n).defer(), h = f.promise;
                        return l = t.defer(function() {
                            try {
                                f.resolve(a.apply(null, u))
                            } catch (e) {
                                f.reject(e),
                                i(e)
                            } finally {
                                delete o[h.$$timeoutId]
                            }
                            d || e.$apply()
                        }, s),
                        h.$$timeoutId = l,
                        o[l] = f,
                        h
                    }
                    return a.cancel = function(e) {
                        return !!(e && e.$$timeoutId in o) && (o[e.$$timeoutId].reject("canceled"),
                        delete o[e.$$timeoutId],
                        t.defer.cancel(e.$$timeoutId))
                    }
                    ,
                    a
                }
                ]
            }
            var ci = t.document.createElement("a")
              , li = ui(t.location.href);
            function ui(e) {
                var t = e;
                return c && (ci.setAttribute("href", t),
                t = ci.href),
                ci.setAttribute("href", t),
                {
                    href: ci.href,
                    protocol: ci.protocol ? ci.protocol.replace(/:$/, "") : "",
                    host: ci.host,
                    search: ci.search ? ci.search.replace(/^\?/, "") : "",
                    hash: ci.hash ? ci.hash.replace(/^#/, "") : "",
                    hostname: ci.hostname,
                    port: ci.port,
                    pathname: "/" === ci.pathname.charAt(0) ? ci.pathname : "/" + ci.pathname
                }
            }
            function di(e) {
                var t = B(e) ? ui(e) : e;
                return t.protocol === li.protocol && t.host === li.host
            }
            function fi() {
                this.$get = R(t)
            }
            function hi(e) {
                var t = e[0] || {}
                  , n = {}
                  , r = "";
                function i(e) {
                    try {
                        return decodeURIComponent(e)
                    } catch (t) {
                        return e
                    }
                }
                return function() {
                    var e, o, a, s, c, l = t.cookie || "";
                    if (l !== r)
                        for (e = (r = l).split("; "),
                        n = {},
                        a = 0; a < e.length; a++)
                            (s = (o = e[a]).indexOf("=")) > 0 && (c = i(o.substring(0, s)),
                            I(n[c]) && (n[c] = i(o.substring(s + 1))));
                    return n
                }
            }
            function pi() {
                this.$get = hi
            }
            function gi(e) {
                var t = "Filter";
                function n(r, i) {
                    if (F(r)) {
                        var o = {};
                        return x(r, function(e, t) {
                            o[t] = n(t, e)
                        }),
                        o
                    }
                    return e.factory(r + t, i)
                }
                this.register = n,
                this.$get = ["$injector", function(e) {
                    return function(n) {
                        return e.get(n + t)
                    }
                }
                ],
                n("currency", Si),
                n("date", Ri),
                n("filter", mi),
                n("json", Mi),
                n("limitTo", Fi),
                n("lowercase", Ii),
                n("number", Ci),
                n("orderBy", Bi),
                n("uppercase", Li)
            }
            function mi() {
                return function(e, t, r, i) {
                    if (!w(e)) {
                        if (null == e)
                            return e;
                        throw n("filter")("notarray", "Expected array but received: {0}", e)
                    }
                    var o, s;
                    switch (i = i || "$",
                    yi(t)) {
                    case "function":
                        o = t;
                        break;
                    case "boolean":
                    case "null":
                    case "number":
                    case "string":
                        s = !0;
                    case "object":
                        o = function(e, t, n, r) {
                            var i = F(e) && n in e;
                            return !0 === t ? t = re : z(t) || (t = function(e, t) {
                                return !(I(e) || (null === e || null === t ? e !== t : F(t) || F(e) && !M(e) || (e = a("" + e),
                                t = a("" + t),
                                -1 === e.indexOf(t))))
                            }
                            ),
                            function(o) {
                                return i && !F(o) ? vi(o, e[n], t, n, !1) : vi(o, e, t, n, r)
                            }
                        }(t, r, i, s);
                        break;
                    default:
                        return e
                    }
                    return Array.prototype.filter.call(e, o)
                }
            }
            function vi(e, t, n, r, i, o) {
                var a = yi(e)
                  , s = yi(t);
                if ("string" === s && "!" === t.charAt(0))
                    return !vi(e, t.substring(1), n, r, i);
                if (V(e))
                    return e.some(function(e) {
                        return vi(e, t, n, r, i)
                    });
                switch (a) {
                case "object":
                    var c;
                    if (i) {
                        for (c in e)
                            if ("$" !== c.charAt(0) && vi(e[c], t, n, r, !0))
                                return !0;
                        return !o && vi(e, t, n, r, !1)
                    }
                    if ("object" === s) {
                        for (c in t) {
                            var l = t[c];
                            if (!z(l) && !I(l)) {
                                var u = c === r;
                                if (!vi(u ? e : e[c], l, n, r, u, u))
                                    return !1
                            }
                        }
                        return !0
                    }
                    return n(e, t);
                case "function":
                    return !1;
                default:
                    return n(e, t)
                }
            }
            function yi(e) {
                return null === e ? "null" : typeof e
            }
            hi.$inject = ["$document"],
            gi.$inject = ["$provide"];
            var bi = 22
              , wi = "."
              , xi = "0";
            function Si(e) {
                var t = e.NUMBER_FORMATS;
                return function(e, n, r) {
                    return I(n) && (n = t.CURRENCY_SYM),
                    I(r) && (r = t.PATTERNS[1].maxFrac),
                    null == e ? e : _i(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, r).replace(/\u00A4/g, n)
                }
            }
            function Ci(e) {
                var t = e.NUMBER_FORMATS;
                return function(e, n) {
                    return null == e ? e : _i(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n)
                }
            }
            function _i(e, t, n, r, i) {
                if (!B(e) && !U(e) || isNaN(e))
                    return "";
                var o, a = !isFinite(e), s = !1, c = Math.abs(e) + "", l = "";
                if (a)
                    l = "";
                else {
                    !function(e, t, n, r) {
                        var i = e.d
                          , o = i.length - e.i
                          , a = (t = I(t) ? Math.min(Math.max(n, o), r) : +t) + e.i
                          , s = i[a];
                        if (a > 0) {
                            i.splice(Math.max(e.i, a));
                            for (var c = a; c < i.length; c++)
                                i[c] = 0
                        } else {
                            o = Math.max(0, o),
                            e.i = 1,
                            i.length = Math.max(1, a = t + 1),
                            i[0] = 0;
                            for (var l = 1; l < a; l++)
                                i[l] = 0
                        }
                        if (s >= 5)
                            if (a - 1 < 0) {
                                for (var u = 0; u > a; u--)
                                    i.unshift(0),
                                    e.i++;
                                i.unshift(1),
                                e.i++
                            } else
                                i[a - 1]++;
                        for (; o < Math.max(0, t); o++)
                            i.push(0);
                        var d = i.reduceRight(function(e, t, n, r) {
                            return t += e,
                            r[n] = t % 10,
                            Math.floor(t / 10)
                        }, 0);
                        d && (i.unshift(d),
                        e.i++)
                    }(o = function(e) {
                        var t, n, r, i, o, a = 0;
                        for ((n = e.indexOf(wi)) > -1 && (e = e.replace(wi, "")),
                        (r = e.search(/e/i)) > 0 ? (n < 0 && (n = r),
                        n += +e.slice(r + 1),
                        e = e.substring(0, r)) : n < 0 && (n = e.length),
                        r = 0; e.charAt(r) === xi; r++)
                            ;
                        if (r === (o = e.length))
                            t = [0],
                            n = 1;
                        else {
                            for (o--; e.charAt(o) === xi; )
                                o--;
                            for (n -= r,
                            t = [],
                            i = 0; r <= o; r++,
                            i++)
                                t[i] = +e.charAt(r)
                        }
                        return n > bi && (t = t.splice(0, bi - 1),
                        a = n - 1,
                        n = 1),
                        {
                            d: t,
                            e: a,
                            i: n
                        }
                    }(c), i, t.minFrac, t.maxFrac);
                    var u = o.d
                      , d = o.i
                      , f = o.e
                      , h = [];
                    for (s = u.reduce(function(e, t) {
                        return e && !t
                    }, !0); d < 0; )
                        u.unshift(0),
                        d++;
                    d > 0 ? h = u.splice(d, u.length) : (h = u,
                    u = [0]);
                    var p = [];
                    for (u.length >= t.lgSize && p.unshift(u.splice(-t.lgSize, u.length).join("")); u.length > t.gSize; )
                        p.unshift(u.splice(-t.gSize, u.length).join(""));
                    u.length && p.unshift(u.join("")),
                    l = p.join(n),
                    h.length && (l += r + h.join("")),
                    f && (l += "e+" + f)
                }
                return e < 0 && !s ? t.negPre + l + t.negSuf : t.posPre + l + t.posSuf
            }
            function ki(e, t, n, r) {
                var i = "";
                for ((e < 0 || r && e <= 0) && (r ? e = 1 - e : (e = -e,
                i = "-")),
                e = "" + e; e.length < t; )
                    e = xi + e;
                return n && (e = e.substr(e.length - t)),
                i + e
            }
            function Ei(e, t, n, r, i) {
                return n = n || 0,
                function(o) {
                    var a = o["get" + e]();
                    return (n > 0 || a > -n) && (a += n),
                    0 === a && -12 === n && (a = 12),
                    ki(a, t, r, i)
                }
            }
            function Ti(e, t, n) {
                return function(r, i) {
                    var o = r["get" + e]();
                    return i[s((n ? "STANDALONE" : "") + (t ? "SHORT" : "") + e)][o]
                }
            }
            function Pi(e) {
                var t = new Date(e,0,1).getDay();
                return new Date(e,0,(t <= 4 ? 5 : 12) - t)
            }
            function Ai(e) {
                return function(t) {
                    var n, r = Pi(t.getFullYear()), i = (n = t,
                    +new Date(n.getFullYear(),n.getMonth(),n.getDate() + (4 - n.getDay())) - +r);
                    return ki(1 + Math.round(i / 6048e5), e)
                }
            }
            function Oi(e, t) {
                return e.getFullYear() <= 0 ? t.ERAS[0] : t.ERAS[1]
            }
            Si.$inject = ["$locale"],
            Ci.$inject = ["$locale"];
            var $i = {
                yyyy: Ei("FullYear", 4, 0, !1, !0),
                yy: Ei("FullYear", 2, 0, !0, !0),
                y: Ei("FullYear", 1, 0, !1, !0),
                MMMM: Ti("Month"),
                MMM: Ti("Month", !0),
                MM: Ei("Month", 2, 1),
                M: Ei("Month", 1, 1),
                LLLL: Ti("Month", !1, !0),
                dd: Ei("Date", 2),
                d: Ei("Date", 1),
                HH: Ei("Hours", 2),
                H: Ei("Hours", 1),
                hh: Ei("Hours", 2, -12),
                h: Ei("Hours", 1, -12),
                mm: Ei("Minutes", 2),
                m: Ei("Minutes", 1),
                ss: Ei("Seconds", 2),
                s: Ei("Seconds", 1),
                sss: Ei("Milliseconds", 3),
                EEEE: Ti("Day"),
                EEE: Ti("Day", !0),
                a: function(e, t) {
                    return e.getHours() < 12 ? t.AMPMS[0] : t.AMPMS[1]
                },
                Z: function(e, t, n) {
                    var r = -1 * n;
                    return (r >= 0 ? "+" : "") + (ki(Math[r > 0 ? "floor" : "ceil"](r / 60), 2) + ki(Math.abs(r % 60), 2))
                },
                ww: Ai(2),
                w: Ai(1),
                G: Oi,
                GG: Oi,
                GGG: Oi,
                GGGG: function(e, t) {
                    return e.getFullYear() <= 0 ? t.ERANAMES[0] : t.ERANAMES[1]
                }
            }
              , ji = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/
              , Di = /^\-?\d+$/;
            function Ri(e) {
                var t = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
                return function(n, r, i) {
                    var o, a, s = "", c = [];
                    if (r = r || "mediumDate",
                    r = e.DATETIME_FORMATS[r] || r,
                    B(n) && (n = Di.test(n) ? A(n) : function(e) {
                        var n;
                        if (n = e.match(t)) {
                            var r = new Date(0)
                              , i = 0
                              , o = 0
                              , a = n[8] ? r.setUTCFullYear : r.setFullYear
                              , s = n[8] ? r.setUTCHours : r.setHours;
                            n[9] && (i = A(n[9] + n[10]),
                            o = A(n[9] + n[11])),
                            a.call(r, A(n[1]), A(n[2]) - 1, A(n[3]));
                            var c = A(n[4] || 0) - i
                              , l = A(n[5] || 0) - o
                              , u = A(n[6] || 0)
                              , d = Math.round(1e3 * parseFloat("0." + (n[7] || 0)));
                            return s.call(r, c, l, u, d),
                            r
                        }
                        return e
                    }(n)),
                    U(n) && (n = new Date(n)),
                    !q(n) || !isFinite(n.getTime()))
                        return n;
                    for (; r; )
                        (a = ji.exec(r)) ? r = (c = ae(c, a, 1)).pop() : (c.push(r),
                        r = null);
                    var l = n.getTimezoneOffset();
                    return i && (l = he(i, l),
                    n = pe(n, i, !0)),
                    x(c, function(t) {
                        o = $i[t],
                        s += o ? o(n, e.DATETIME_FORMATS, l) : "''" === t ? "'" : t.replace(/(^'|'$)/g, "").replace(/''/g, "'")
                    }),
                    s
                }
            }
            function Mi() {
                return function(e, t) {
                    return I(t) && (t = 2),
                    ue(e, t)
                }
            }
            Ri.$inject = ["$locale"];
            var Ii = R(a)
              , Li = R(s);
            function Fi() {
                return function(e, t, n) {
                    return t = Math.abs(Number(t)) === 1 / 0 ? Number(t) : A(t),
                    O(t) ? e : (U(e) && (e = e.toString()),
                    w(e) ? (n = (n = !n || isNaN(n) ? 0 : A(n)) < 0 ? Math.max(0, e.length + n) : n,
                    t >= 0 ? Ni(e, n, n + t) : 0 === n ? Ni(e, t, e.length) : Ni(e, Math.max(0, n + t), n)) : e)
                }
            }
            function Ni(e, t, n) {
                return B(e) ? e.slice(t, n) : f.call(e, t, n)
            }
            function Bi(e) {
                return function(i, o, a, s) {
                    if (null == i)
                        return i;
                    if (!w(i))
                        throw n("orderBy")("notarray", "Expected array but received: {0}", i);
                    V(o) || (o = [o]),
                    0 === o.length && (o = ["+"]);
                    var c = o.map(function(t) {
                        var n = 1
                          , r = D;
                        if (z(t))
                            r = t;
                        else if (B(t) && ("+" !== t.charAt(0) && "-" !== t.charAt(0) || (n = "-" === t.charAt(0) ? -1 : 1,
                        t = t.substring(1)),
                        "" !== t && (r = e(t)).constant)) {
                            var i = r();
                            r = function(e) {
                                return e[i]
                            }
                        }
                        return {
                            get: r,
                            descending: n
                        }
                    })
                      , l = a ? -1 : 1
                      , u = z(s) ? s : r
                      , d = Array.prototype.map.call(i, function(e, n) {
                        return {
                            value: e,
                            tieBreaker: {
                                value: n,
                                type: "number",
                                index: n
                            },
                            predicateValues: c.map(function(r) {
                                return function(e, n) {
                                    var r = typeof e;
                                    return null === e ? (r = "string",
                                    e = "null") : "object" === r && (e = function(e) {
                                        return z(e.valueOf) && t(e = e.valueOf()) ? e : (M(e) && t(e = e.toString()),
                                        e)
                                    }(e)),
                                    {
                                        value: e,
                                        type: r,
                                        index: n
                                    }
                                }(r.get(e), n)
                            })
                        }
                    });
                    return d.sort(function(e, t) {
                        for (var n = 0, r = c.length; n < r; n++) {
                            var i = u(e.predicateValues[n], t.predicateValues[n]);
                            if (i)
                                return i * c[n].descending * l
                        }
                        return u(e.tieBreaker, t.tieBreaker) * l
                    }),
                    d.map(function(e) {
                        return e.value
                    })
                }
                ;
                function t(e) {
                    switch (typeof e) {
                    case "number":
                    case "boolean":
                    case "string":
                        return !0;
                    default:
                        return !1
                    }
                }
                function r(e, t) {
                    var n = 0
                      , r = e.type
                      , i = t.type;
                    if (r === i) {
                        var o = e.value
                          , a = t.value;
                        "string" === r ? (o = o.toLowerCase(),
                        a = a.toLowerCase()) : "object" === r && (F(o) && (o = e.index),
                        F(a) && (a = t.index)),
                        o !== a && (n = o < a ? -1 : 1)
                    } else
                        n = r < i ? -1 : 1;
                    return n
                }
            }
            function Ui(e) {
                return z(e) && (e = {
                    link: e
                }),
                e.restrict = e.restrict || "AC",
                R(e)
            }
            Bi.$inject = ["$parse"];
            var qi = R({
                restrict: "E",
                compile: function(e, t) {
                    if (!t.href && !t.xlinkHref)
                        return function(e, t) {
                            if ("a" === t[0].nodeName.toLowerCase()) {
                                var n = "[object SVGAnimatedString]" === g.call(t.prop("href")) ? "xlink:href" : "href";
                                t.on("click", function(e) {
                                    t.attr(n) || e.preventDefault()
                                })
                            }
                        }
                }
            })
              , Vi = {};
            x(_t, function(e, t) {
                if ("multiple" !== e) {
                    var n = ln("ng-" + t)
                      , r = i;
                    "checked" === e && (r = function(e, t, r) {
                        r.ngModel !== r[n] && i(e, 0, r)
                    }
                    ),
                    Vi[n] = function() {
                        return {
                            restrict: "A",
                            priority: 100,
                            link: r
                        }
                    }
                }
                function i(e, r, i) {
                    e.$watch(i[n], function(e) {
                        i.$set(t, !!e)
                    })
                }
            }),
            x(Et, function(e, t) {
                Vi[t] = function() {
                    return {
                        priority: 100,
                        link: function(e, n, i) {
                            if ("ngPattern" === t && "/" === i.ngPattern.charAt(0)) {
                                var o = i.ngPattern.match(r);
                                if (o)
                                    return void i.$set("ngPattern", new RegExp(o[1],o[2]))
                            }
                            e.$watch(i[t], function(e) {
                                i.$set(t, e)
                            })
                        }
                    }
                }
            }),
            x(["src", "srcset", "href"], function(e) {
                var t = ln("ng-" + e);
                Vi[t] = function() {
                    return {
                        priority: 99,
                        link: function(n, r, i) {
                            var o = e
                              , a = e;
                            "href" === e && "[object SVGAnimatedString]" === g.call(r.prop("href")) && (a = "xlinkHref",
                            i.$attr[a] = "xlink:href",
                            o = null),
                            i.$observe(t, function(t) {
                                t ? (i.$set(a, t),
                                c && o && r.prop(o, i[a])) : "href" === e && i.$set(a, null)
                            })
                        }
                    }
                }
            });
            var zi = {
                $addControl: j,
                $$renameControl: function(e, t) {
                    e.$name = t
                },
                $removeControl: j,
                $setValidity: j,
                $setDirty: j,
                $setPristine: j,
                $setSubmitted: j
            }
              , Hi = "ng-submitted";
            function Wi(e, t, n, r, i) {
                var o = this
                  , a = [];
                o.$error = {},
                o.$$success = {},
                o.$pending = void 0,
                o.$name = i(t.name || t.ngForm || "")(n),
                o.$dirty = !1,
                o.$pristine = !0,
                o.$valid = !0,
                o.$invalid = !1,
                o.$submitted = !1,
                o.$$parentForm = zi,
                o.$rollbackViewValue = function() {
                    x(a, function(e) {
                        e.$rollbackViewValue()
                    })
                }
                ,
                o.$commitViewValue = function() {
                    x(a, function(e) {
                        e.$commitViewValue()
                    })
                }
                ,
                o.$addControl = function(e) {
                    $e(e.$name, "input"),
                    a.push(e),
                    e.$name && (o[e.$name] = e),
                    e.$$parentForm = o
                }
                ,
                o.$$renameControl = function(e, t) {
                    var n = e.$name;
                    o[n] === e && delete o[n],
                    o[t] = e,
                    e.$name = t
                }
                ,
                o.$removeControl = function(e) {
                    e.$name && o[e.$name] === e && delete o[e.$name],
                    x(o.$pending, function(t, n) {
                        o.$setValidity(n, null, e)
                    }),
                    x(o.$error, function(t, n) {
                        o.$setValidity(n, null, e)
                    }),
                    x(o.$$success, function(t, n) {
                        o.$setValidity(n, null, e)
                    }),
                    te(a, e),
                    e.$$parentForm = zi
                }
                ,
                Yo({
                    ctrl: this,
                    $element: e,
                    set: function(e, t, n) {
                        var r = e[t];
                        r ? -1 === r.indexOf(n) && r.push(n) : e[t] = [n]
                    },
                    unset: function(e, t, n) {
                        var r = e[t];
                        r && (te(r, n),
                        0 === r.length && delete e[t])
                    },
                    $animate: r
                }),
                o.$setDirty = function() {
                    r.removeClass(e, Uo),
                    r.addClass(e, qo),
                    o.$dirty = !0,
                    o.$pristine = !1,
                    o.$$parentForm.$setDirty()
                }
                ,
                o.$setPristine = function() {
                    r.setClass(e, Uo, qo + " " + Hi),
                    o.$dirty = !1,
                    o.$pristine = !0,
                    o.$submitted = !1,
                    x(a, function(e) {
                        e.$setPristine()
                    })
                }
                ,
                o.$setUntouched = function() {
                    x(a, function(e) {
                        e.$setUntouched()
                    })
                }
                ,
                o.$setSubmitted = function() {
                    r.addClass(e, Hi),
                    o.$submitted = !0,
                    o.$$parentForm.$setSubmitted()
                }
            }
            Wi.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];
            var Gi = function(e) {
                return ["$timeout", "$parse", function(t, n) {
                    return {
                        name: "form",
                        restrict: e ? "EAC" : "E",
                        require: ["form", "^^?form"],
                        controller: Wi,
                        compile: function(n, i) {
                            n.addClass(Uo).addClass(No);
                            var o = i.name ? "name" : !(!e || !i.ngForm) && "ngForm";
                            return {
                                pre: function(e, n, i, a) {
                                    var s = a[0];
                                    if (!("action"in i)) {
                                        var c = function(t) {
                                            e.$apply(function() {
                                                s.$commitViewValue(),
                                                s.$setSubmitted()
                                            }),
                                            t.preventDefault()
                                        };
                                        He(n[0], "submit", c),
                                        n.on("$destroy", function() {
                                            t(function() {
                                                We(n[0], "submit", c)
                                            }, 0, !1)
                                        })
                                    }
                                    (a[1] || s.$$parentForm).$addControl(s);
                                    var l = o ? r(s.$name) : j;
                                    o && (l(e, s),
                                    i.$observe(o, function(t) {
                                        s.$name !== t && (l(e, void 0),
                                        s.$$parentForm.$$renameControl(s, t),
                                        (l = r(s.$name))(e, s))
                                    })),
                                    n.on("$destroy", function() {
                                        s.$$parentForm.$removeControl(s),
                                        l(e, void 0),
                                        T(s, zi)
                                    })
                                }
                            }
                        }
                    };
                    function r(e) {
                        return "" === e ? n('this[""]').assign : n(e).assign || j
                    }
                }
                ]
            }
              , Xi = Gi()
              , Yi = Gi(!0)
              , Ki = /^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/
              , Qi = /^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i
              , Ji = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/
              , Zi = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/
              , eo = /^(\d{4,})-(\d{2})-(\d{2})$/
              , to = /^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/
              , no = /^(\d{4,})-W(\d\d)$/
              , ro = /^(\d{4,})-(\d\d)$/
              , io = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/
              , oo = "keydown wheel mousedown"
              , ao = Re();
            x("date,datetime-local,month,time,week".split(","), function(e) {
                ao[e] = !0
            });
            var so = {
                text: function(e, t, n, r, i, o) {
                    lo(e, t, n, r, i, o),
                    co(r)
                },
                date: fo("date", eo, uo(eo, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
                "datetime-local": fo("datetimelocal", to, uo(to, ["yyyy", "MM", "dd", "HH", "mm", "ss", "sss"]), "yyyy-MM-ddTHH:mm:ss.sss"),
                time: fo("time", io, uo(io, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
                week: fo("week", no, function(e, t) {
                    if (q(e))
                        return e;
                    if (B(e)) {
                        no.lastIndex = 0;
                        var n = no.exec(e);
                        if (n) {
                            var r = +n[1]
                              , i = +n[2]
                              , o = 0
                              , a = 0
                              , s = 0
                              , c = 0
                              , l = Pi(r)
                              , u = 7 * (i - 1);
                            return t && (o = t.getHours(),
                            a = t.getMinutes(),
                            s = t.getSeconds(),
                            c = t.getMilliseconds()),
                            new Date(r,0,l.getDate() + u,o,a,s,c)
                        }
                    }
                    return NaN
                }, "yyyy-Www"),
                month: fo("month", ro, uo(ro, ["yyyy", "MM"]), "yyyy-MM"),
                number: function(e, t, n, r, i, o) {
                    var a, s;
                    ho(e, t, n, r),
                    lo(e, t, n, r, i, o),
                    po(r),
                    (L(n.min) || n.ngMin) && (r.$validators.min = function(e) {
                        return r.$isEmpty(e) || I(a) || e >= a
                    }
                    ,
                    n.$observe("min", function(e) {
                        a = go(e),
                        r.$validate()
                    })),
                    (L(n.max) || n.ngMax) && (r.$validators.max = function(e) {
                        return r.$isEmpty(e) || I(s) || e <= s
                    }
                    ,
                    n.$observe("max", function(e) {
                        s = go(e),
                        r.$validate()
                    }))
                },
                url: function(e, t, n, r, i, o) {
                    lo(e, t, n, r, i, o),
                    co(r),
                    r.$$parserName = "url",
                    r.$validators.url = function(e, t) {
                        var n = e || t;
                        return r.$isEmpty(n) || Qi.test(n)
                    }
                },
                email: function(e, t, n, r, i, o) {
                    lo(e, t, n, r, i, o),
                    co(r),
                    r.$$parserName = "email",
                    r.$validators.email = function(e, t) {
                        var n = e || t;
                        return r.$isEmpty(n) || Ji.test(n)
                    }
                },
                radio: function(e, t, n, r) {
                    I(n.name) && t.attr("name", _()),
                    t.on("click", function(e) {
                        t[0].checked && r.$setViewValue(n.value, e && e.type)
                    }),
                    r.$render = function() {
                        var e = n.value;
                        t[0].checked = e === r.$viewValue
                    }
                    ,
                    n.$observe("value", r.$render)
                },
                range: function(e, t, n, r, i, o) {
                    ho(e, t, n, r),
                    po(r),
                    lo(e, t, n, r, i, o);
                    var a = r.$$hasNativeValidators && "range" === t[0].type
                      , s = a ? 0 : void 0
                      , c = a ? 100 : void 0
                      , l = a ? 1 : void 0
                      , u = t[0].validity
                      , d = L(n.min)
                      , f = L(n.max)
                      , h = L(n.step)
                      , p = r.$render;
                    function g(e, r) {
                        t.attr(e, n[e]),
                        n.$observe(e, r)
                    }
                    r.$render = a && L(u.rangeUnderflow) && L(u.rangeOverflow) ? function() {
                        p(),
                        r.$setViewValue(t.val())
                    }
                    : p,
                    d && (r.$validators.min = a ? function() {
                        return !0
                    }
                    : function(e, t) {
                        return r.$isEmpty(t) || I(s) || t >= s
                    }
                    ,
                    g("min", function(e) {
                        if (s = go(e),
                        !O(r.$modelValue))
                            if (a) {
                                var n = t.val();
                                s > n && (n = s,
                                t.val(n)),
                                r.$setViewValue(n)
                            } else
                                r.$validate()
                    })),
                    f && (r.$validators.max = a ? function() {
                        return !0
                    }
                    : function(e, t) {
                        return r.$isEmpty(t) || I(c) || t <= c
                    }
                    ,
                    g("max", function(e) {
                        if (c = go(e),
                        !O(r.$modelValue))
                            if (a) {
                                var n = t.val();
                                c < n && (t.val(c),
                                n = c < s ? s : c),
                                r.$setViewValue(n)
                            } else
                                r.$validate()
                    })),
                    h && (r.$validators.step = a ? function() {
                        return !u.stepMismatch
                    }
                    : function(e, t) {
                        return r.$isEmpty(t) || I(l) || function(e, t, n) {
                            var r = Number(e);
                            if (!mo(r) || !mo(t) || !mo(n)) {
                                var i = Math.max(vo(r), vo(t), vo(n))
                                  , o = Math.pow(10, i);
                                r *= o,
                                t *= o,
                                n *= o
                            }
                            return (r - t) % n == 0
                        }(t, s || 0, l)
                    }
                    ,
                    g("step", function(e) {
                        l = go(e),
                        O(r.$modelValue) || (a && r.$viewValue !== t.val() ? r.$setViewValue(t.val()) : r.$validate())
                    }))
                },
                checkbox: function(e, t, n, r, i, o, a, s) {
                    var c = yo(s, e, "ngTrueValue", n.ngTrueValue, !0)
                      , l = yo(s, e, "ngFalseValue", n.ngFalseValue, !1);
                    t.on("click", function(e) {
                        r.$setViewValue(t[0].checked, e && e.type)
                    }),
                    r.$render = function() {
                        t[0].checked = r.$viewValue
                    }
                    ,
                    r.$isEmpty = function(e) {
                        return !1 === e
                    }
                    ,
                    r.$formatters.push(function(e) {
                        return re(e, c)
                    }),
                    r.$parsers.push(function(e) {
                        return e ? c : l
                    })
                },
                hidden: j,
                button: j,
                submit: j,
                reset: j,
                file: j
            };
            function co(e) {
                e.$formatters.push(function(t) {
                    return e.$isEmpty(t) ? t : t.toString()
                })
            }
            function lo(e, t, n, r, o, s) {
                var c, l = a(t[0].type);
                if (!o.android) {
                    var u = !1;
                    t.on("compositionstart", function() {
                        u = !0
                    }),
                    t.on("compositionend", function() {
                        u = !1,
                        d()
                    })
                }
                var d = function(e) {
                    if (c && (s.defer.cancel(c),
                    c = null),
                    !u) {
                        var i = t.val()
                          , o = e && e.type;
                        "password" === l || n.ngTrim && "false" === n.ngTrim || (i = Q(i)),
                        (r.$viewValue !== i || "" === i && r.$$hasNativeValidators) && r.$setViewValue(i, o)
                    }
                };
                if (o.hasEvent("input"))
                    t.on("input", d);
                else {
                    var f = function(e, t, n) {
                        c || (c = s.defer(function() {
                            c = null,
                            t && t.value === n || d(e)
                        }))
                    };
                    t.on("keydown", function(e) {
                        var t = e.keyCode;
                        91 === t || 15 < t && t < 19 || 37 <= t && t <= 40 || f(e, this, this.value)
                    }),
                    o.hasEvent("paste") && t.on("paste cut", f)
                }
                t.on("change", d),
                ao[l] && r.$$hasNativeValidators && l === n.type && t.on(oo, function(e) {
                    if (!c) {
                        var t = this[i]
                          , n = t.badInput
                          , r = t.typeMismatch;
                        c = s.defer(function() {
                            c = null,
                            t.badInput === n && t.typeMismatch === r || d(e)
                        })
                    }
                }),
                r.$render = function() {
                    var e = r.$isEmpty(r.$viewValue) ? "" : r.$viewValue;
                    t.val() !== e && t.val(e)
                }
            }
            function uo(e, t) {
                return function(n, r) {
                    var i, o;
                    if (q(n))
                        return n;
                    if (B(n)) {
                        if ('"' === n.charAt(0) && '"' === n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)),
                        Ki.test(n))
                            return new Date(n);
                        if (e.lastIndex = 0,
                        i = e.exec(n))
                            return i.shift(),
                            o = r ? {
                                yyyy: r.getFullYear(),
                                MM: r.getMonth() + 1,
                                dd: r.getDate(),
                                HH: r.getHours(),
                                mm: r.getMinutes(),
                                ss: r.getSeconds(),
                                sss: r.getMilliseconds() / 1e3
                            } : {
                                yyyy: 1970,
                                MM: 1,
                                dd: 1,
                                HH: 0,
                                mm: 0,
                                ss: 0,
                                sss: 0
                            },
                            x(i, function(e, n) {
                                n < t.length && (o[t[n]] = +e)
                            }),
                            new Date(o.yyyy,o.MM - 1,o.dd,o.HH,o.mm,o.ss || 0,1e3 * o.sss || 0)
                    }
                    return NaN
                }
            }
            function fo(e, t, n, r) {
                return function(i, o, a, s, c, l, u) {
                    ho(i, o, a, s),
                    lo(0, o, a, s, c, l);
                    var d, f, h, p = s && s.$options && s.$options.timezone;
                    function g(e) {
                        return e && !(e.getTime && e.getTime() != e.getTime())
                    }
                    function m(e) {
                        return L(e) && !q(e) ? n(e) || void 0 : e
                    }
                    s.$$parserName = e,
                    s.$parsers.push(function(e) {
                        if (s.$isEmpty(e))
                            return null;
                        if (t.test(e)) {
                            var r = n(e, d);
                            return p && (r = pe(r, p)),
                            r
                        }
                    }),
                    s.$formatters.push(function(e) {
                        if (e && !q(e))
                            throw zo("datefmt", "Expected `{0}` to be a date", e);
                        return g(e) ? ((d = e) && p && (d = pe(d, p, !0)),
                        u("date")(e, r, p)) : (d = null,
                        "")
                    }),
                    (L(a.min) || a.ngMin) && (s.$validators.min = function(e) {
                        return !g(e) || I(f) || n(e) >= f
                    }
                    ,
                    a.$observe("min", function(e) {
                        f = m(e),
                        s.$validate()
                    })),
                    (L(a.max) || a.ngMax) && (s.$validators.max = function(e) {
                        return !g(e) || I(h) || n(e) <= h
                    }
                    ,
                    a.$observe("max", function(e) {
                        h = m(e),
                        s.$validate()
                    }))
                }
            }
            function ho(e, t, n, r) {
                var o = t[0];
                (r.$$hasNativeValidators = F(o.validity)) && r.$parsers.push(function(e) {
                    var n = t.prop(i) || {};
                    return n.badInput || n.typeMismatch ? void 0 : e
                })
            }
            function po(e) {
                e.$$parserName = "number",
                e.$parsers.push(function(t) {
                    return e.$isEmpty(t) ? null : Zi.test(t) ? parseFloat(t) : void 0
                }),
                e.$formatters.push(function(t) {
                    if (!e.$isEmpty(t)) {
                        if (!U(t))
                            throw zo("numfmt", "Expected `{0}` to be a number", t);
                        t = t.toString()
                    }
                    return t
                })
            }
            function go(e) {
                return L(e) && !U(e) && (e = parseFloat(e)),
                O(e) ? void 0 : e
            }
            function mo(e) {
                return (0 | e) === e
            }
            function vo(e) {
                var t = e.toString()
                  , n = t.indexOf(".");
                if (-1 === n) {
                    if (-1 < e && e < 1) {
                        var r = /e-(\d+)$/.exec(t);
                        if (r)
                            return Number(r[1])
                    }
                    return 0
                }
                return t.length - n - 1
            }
            function yo(e, t, n, r, i) {
                var o;
                if (L(r)) {
                    if (!(o = e(r)).constant)
                        throw zo("constexpr", "Expected constant expression for `{0}`, but saw `{1}`.", n, r);
                    return o(t)
                }
                return i
            }
            var bo = ["$browser", "$sniffer", "$filter", "$parse", function(e, t, n, r) {
                return {
                    restrict: "E",
                    require: ["?ngModel"],
                    link: {
                        pre: function(i, o, s, c) {
                            if (c[0]) {
                                var l = a(s.type);
                                "range" !== l || s.hasOwnProperty("ngInputRange") || (l = "text"),
                                (so[l] || so.text)(i, o, s, c[0], t, e, n, r)
                            }
                        }
                    }
                }
            }
            ]
              , wo = /^(true|false|\d+)$/
              , xo = function() {
                return {
                    restrict: "A",
                    priority: 100,
                    compile: function(e, t) {
                        return wo.test(t.ngValue) ? function(e, t, n) {
                            n.$set("value", e.$eval(n.ngValue))
                        }
                        : function(e, t, n) {
                            e.$watch(n.ngValue, function(e) {
                                n.$set("value", e)
                            })
                        }
                    }
                }
            }
              , So = ["$compile", function(e) {
                return {
                    restrict: "AC",
                    compile: function(t) {
                        return e.$$addBindingClass(t),
                        function(t, n, r) {
                            e.$$addBindingInfo(n, r.ngBind),
                            n = n[0],
                            t.$watch(r.ngBind, function(e) {
                                n.textContent = I(e) ? "" : e
                            })
                        }
                    }
                }
            }
            ]
              , Co = ["$interpolate", "$compile", function(e, t) {
                return {
                    compile: function(n) {
                        return t.$$addBindingClass(n),
                        function(n, r, i) {
                            var o = e(r.attr(i.$attr.ngBindTemplate));
                            t.$$addBindingInfo(r, o.expressions),
                            r = r[0],
                            i.$observe("ngBindTemplate", function(e) {
                                r.textContent = I(e) ? "" : e
                            })
                        }
                    }
                }
            }
            ]
              , _o = ["$sce", "$parse", "$compile", function(e, t, n) {
                return {
                    restrict: "A",
                    compile: function(r, i) {
                        var o = t(i.ngBindHtml)
                          , a = t(i.ngBindHtml, function(t) {
                            return e.valueOf(t)
                        });
                        return n.$$addBindingClass(r),
                        function(t, r, i) {
                            n.$$addBindingInfo(r, i.ngBindHtml),
                            t.$watch(a, function() {
                                var n = o(t);
                                r.html(e.getTrustedHtml(n) || "")
                            })
                        }
                    }
                }
            }
            ]
              , ko = R({
                restrict: "A",
                require: "ngModel",
                link: function(e, t, n, r) {
                    r.$viewChangeListeners.push(function() {
                        e.$eval(n.ngChange)
                    })
                }
            });
            function Eo(e, t) {
                return e = "ngClass" + e,
                ["$animate", function(n) {
                    return {
                        restrict: "AC",
                        link: function(o, a, s) {
                            var c;
                            function l(e) {
                                var t = u(e, 1);
                                s.$addClass(t)
                            }
                            function u(e, t) {
                                var n = a.data("$classCounts") || Re()
                                  , r = [];
                                return x(e, function(e) {
                                    (t > 0 || n[e]) && (n[e] = (n[e] || 0) + t,
                                    n[e] === +(t > 0) && r.push(e))
                                }),
                                a.data("$classCounts", n),
                                r.join(" ")
                            }
                            function d(e) {
                                if (!0 === t || (1 & o.$index) === t) {
                                    var s = i(e || []);
                                    c ? re(e, c) || function(e, t) {
                                        var i = r(t, e)
                                          , o = r(e, t);
                                        i = u(i, 1),
                                        o = u(o, -1),
                                        i && i.length && n.addClass(a, i),
                                        o && o.length && n.removeClass(a, o)
                                    }(i(c), s) : l(s)
                                }
                                c = V(e) ? e.map(function(e) {
                                    return Be(e)
                                }) : Be(e)
                            }
                            o.$watch(s[e], d, !0),
                            s.$observe("class", function(t) {
                                d(o.$eval(s[e]))
                            }),
                            "ngClass" !== e && o.$watch("$index", function(n, r) {
                                var a = 1 & n;
                                if (a !== (1 & r)) {
                                    var c = i(o.$eval(s[e]));
                                    a === t ? l(c) : function(e) {
                                        var t = u(c, -1);
                                        s.$removeClass(t)
                                    }()
                                }
                            })
                        }
                    };
                    function r(e, t) {
                        var n = [];
                        e: for (var r = 0; r < e.length; r++) {
                            for (var i = e[r], o = 0; o < t.length; o++)
                                if (i === t[o])
                                    continue e;
                            n.push(i)
                        }
                        return n
                    }
                    function i(e) {
                        var t = [];
                        return V(e) ? (x(e, function(e) {
                            t = t.concat(i(e))
                        }),
                        t) : B(e) ? e.split(" ") : F(e) ? (x(e, function(e, n) {
                            e && (t = t.concat(n.split(" ")))
                        }),
                        t) : e
                    }
                }
                ]
            }
            var To = Eo("", !0)
              , Po = Eo("Odd", 0)
              , Ao = Eo("Even", 1)
              , Oo = Ui({
                compile: function(e, t) {
                    t.$set("ngCloak", void 0),
                    e.removeClass("ng-cloak")
                }
            })
              , $o = [function() {
                return {
                    restrict: "A",
                    scope: !0,
                    controller: "@",
                    priority: 500
                }
            }
            ]
              , jo = {}
              , Do = {
                blur: !0,
                focus: !0
            };
            x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(e) {
                var t = ln("ng-" + e);
                jo[t] = ["$parse", "$rootScope", function(n, r) {
                    return {
                        restrict: "A",
                        compile: function(i, o) {
                            var a = n(o[t], null, !0);
                            return function(t, n) {
                                n.on(e, function(n) {
                                    var i = function() {
                                        a(t, {
                                            $event: n
                                        })
                                    };
                                    Do[e] && r.$$phase ? t.$evalAsync(i) : t.$apply(i)
                                })
                            }
                        }
                    }
                }
                ]
            });
            var Ro = ["$animate", "$compile", function(e, t) {
                return {
                    multiElement: !0,
                    transclude: "element",
                    priority: 600,
                    terminal: !0,
                    restrict: "A",
                    $$tlb: !0,
                    link: function(n, r, i, o, a) {
                        var s, c, l;
                        n.$watch(i.ngIf, function(n) {
                            n ? c || a(function(n, o) {
                                c = o,
                                n[n.length++] = t.$$createComment("end ngIf", i.ngIf),
                                s = {
                                    clone: n
                                },
                                e.enter(n, r.parent(), r)
                            }) : (l && (l.remove(),
                            l = null),
                            c && (c.$destroy(),
                            c = null),
                            s && (l = De(s.clone),
                            e.leave(l).then(function() {
                                l = null
                            }),
                            s = null))
                        })
                    }
                }
            }
            ]
              , Mo = ["$templateRequest", "$anchorScroll", "$animate", function(e, t, n) {
                return {
                    restrict: "ECA",
                    priority: 400,
                    terminal: !0,
                    transclude: "element",
                    controller: y.noop,
                    compile: function(r, i) {
                        var o = i.ngInclude || i.src
                          , a = i.onload || ""
                          , s = i.autoscroll;
                        return function(r, i, c, l, u) {
                            var d, f, h, p = 0, g = function() {
                                f && (f.remove(),
                                f = null),
                                d && (d.$destroy(),
                                d = null),
                                h && (n.leave(h).then(function() {
                                    f = null
                                }),
                                f = h,
                                h = null)
                            };
                            r.$watch(o, function(o) {
                                var c = function() {
                                    !L(s) || s && !r.$eval(s) || t()
                                }
                                  , f = ++p;
                                o ? (e(o, !0).then(function(e) {
                                    if (!r.$$destroyed && f === p) {
                                        var t = r.$new();
                                        l.template = e;
                                        var s = u(t, function(e) {
                                            g(),
                                            n.enter(e, null, i).then(c)
                                        });
                                        h = s,
                                        (d = t).$emit("$includeContentLoaded", o),
                                        r.$eval(a)
                                    }
                                }, function() {
                                    r.$$destroyed || f === p && (g(),
                                    r.$emit("$includeContentError", o))
                                }),
                                r.$emit("$includeContentRequested", o)) : (g(),
                                l.template = null)
                            })
                        }
                    }
                }
            }
            ]
              , Io = ["$compile", function(e) {
                return {
                    restrict: "ECA",
                    priority: -400,
                    require: "ngInclude",
                    link: function(n, r, i, o) {
                        if (g.call(r[0]).match(/SVG/))
                            return r.empty(),
                            void e(ot(o.template, t.document).childNodes)(n, function(e) {
                                r.append(e)
                            }, {
                                futureParentElement: r
                            });
                        r.html(o.template),
                        e(r.contents())(n)
                    }
                }
            }
            ]
              , Lo = Ui({
                priority: 450,
                compile: function() {
                    return {
                        pre: function(e, t, n) {
                            e.$eval(n.ngInit)
                        }
                    }
                }
            })
              , Fo = function() {
                return {
                    restrict: "A",
                    priority: 100,
                    require: "ngModel",
                    link: function(e, t, n, r) {
                        var i = t.attr(n.$attr.ngList) || ", "
                          , o = "false" !== n.ngTrim
                          , a = o ? Q(i) : i;
                        r.$parsers.push(function(e) {
                            if (!I(e)) {
                                var t = [];
                                return e && x(e.split(a), function(e) {
                                    e && t.push(o ? Q(e) : e)
                                }),
                                t
                            }
                        }),
                        r.$formatters.push(function(e) {
                            if (V(e))
                                return e.join(i)
                        }),
                        r.$isEmpty = function(e) {
                            return !e || !e.length
                        }
                    }
                }
            }
              , No = "ng-valid"
              , Bo = "ng-invalid"
              , Uo = "ng-pristine"
              , qo = "ng-dirty"
              , Vo = "ng-pending"
              , zo = n("ngModel")
              , Ho = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function(e, t, n, r, i, o, a, s, c, l) {
                this.$viewValue = Number.NaN,
                this.$modelValue = Number.NaN,
                this.$$rawModelValue = void 0,
                this.$validators = {},
                this.$asyncValidators = {},
                this.$parsers = [],
                this.$formatters = [],
                this.$viewChangeListeners = [],
                this.$untouched = !0,
                this.$touched = !1,
                this.$pristine = !0,
                this.$dirty = !1,
                this.$valid = !0,
                this.$invalid = !1,
                this.$error = {},
                this.$$success = {},
                this.$pending = void 0,
                this.$name = l(n.name || "", !1)(e),
                this.$$parentForm = zi;
                var u, d = i(n.ngModel), f = d.assign, h = d, p = f, g = null, m = this;
                this.$$setOptions = function(e) {
                    if (m.$options = e,
                    e && e.getterSetter) {
                        var t = i(n.ngModel + "()")
                          , o = i(n.ngModel + "($$$p)");
                        h = function(e) {
                            var n = d(e);
                            return z(n) && (n = t(e)),
                            n
                        }
                        ,
                        p = function(e, t) {
                            z(d(e)) ? o(e, {
                                $$$p: t
                            }) : f(e, t)
                        }
                    } else if (!d.assign)
                        throw zo("nonassign", "Expression '{0}' is non-assignable. Element: {1}", n.ngModel, ge(r))
                }
                ,
                this.$render = j,
                this.$isEmpty = function(e) {
                    return I(e) || "" === e || null === e || e != e
                }
                ,
                this.$$updateEmptyClasses = function(e) {
                    m.$isEmpty(e) ? (o.removeClass(r, "ng-not-empty"),
                    o.addClass(r, "ng-empty")) : (o.removeClass(r, "ng-empty"),
                    o.addClass(r, "ng-not-empty"))
                }
                ;
                var v = 0;
                Yo({
                    ctrl: this,
                    $element: r,
                    set: function(e, t) {
                        e[t] = !0
                    },
                    unset: function(e, t) {
                        delete e[t]
                    },
                    $animate: o
                }),
                this.$setPristine = function() {
                    m.$dirty = !1,
                    m.$pristine = !0,
                    o.removeClass(r, qo),
                    o.addClass(r, Uo)
                }
                ,
                this.$setDirty = function() {
                    m.$dirty = !0,
                    m.$pristine = !1,
                    o.removeClass(r, Uo),
                    o.addClass(r, qo),
                    m.$$parentForm.$setDirty()
                }
                ,
                this.$setUntouched = function() {
                    m.$touched = !1,
                    m.$untouched = !0,
                    o.setClass(r, "ng-untouched", "ng-touched")
                }
                ,
                this.$setTouched = function() {
                    m.$touched = !0,
                    m.$untouched = !1,
                    o.setClass(r, "ng-touched", "ng-untouched")
                }
                ,
                this.$rollbackViewValue = function() {
                    a.cancel(g),
                    m.$viewValue = m.$$lastCommittedViewValue,
                    m.$render()
                }
                ,
                this.$validate = function() {
                    if (!O(m.$modelValue)) {
                        var e = m.$$lastCommittedViewValue
                          , t = m.$$rawModelValue
                          , n = m.$valid
                          , r = m.$modelValue
                          , i = m.$options && m.$options.allowInvalid;
                        m.$$runValidators(t, e, function(e) {
                            i || n === e || (m.$modelValue = e ? t : void 0,
                            m.$modelValue !== r && m.$$writeModelToScope())
                        })
                    }
                }
                ,
                this.$$runValidators = function(e, t, n) {
                    var r, i, o = ++v;
                    function a(e, t) {
                        o === v && m.$setValidity(e, t)
                    }
                    function s(e) {
                        o === v && n(e)
                    }
                    !function() {
                        var e = m.$$parserName || "parse";
                        return I(u) ? (a(e, null),
                        !0) : (u || (x(m.$validators, function(e, t) {
                            a(t, null)
                        }),
                        x(m.$asyncValidators, function(e, t) {
                            a(t, null)
                        })),
                        a(e, u),
                        u)
                    }() ? s(!1) : function() {
                        var n = !0;
                        return x(m.$validators, function(r, i) {
                            var o = r(e, t);
                            n = n && o,
                            a(i, o)
                        }),
                        !!n || (x(m.$asyncValidators, function(e, t) {
                            a(t, null)
                        }),
                        !1)
                    }() ? (r = [],
                    i = !0,
                    x(m.$asyncValidators, function(n, o) {
                        var s = n(e, t);
                        if (!Y(s))
                            throw zo("nopromise", "Expected asynchronous validator to return a promise but got '{0}' instead.", s);
                        a(o, void 0),
                        r.push(s.then(function() {
                            a(o, !0)
                        }, function() {
                            i = !1,
                            a(o, !1)
                        }))
                    }),
                    r.length ? c.all(r).then(function() {
                        s(i)
                    }, j) : s(!0)) : s(!1)
                }
                ,
                this.$commitViewValue = function() {
                    var e = m.$viewValue;
                    a.cancel(g),
                    (m.$$lastCommittedViewValue !== e || "" === e && m.$$hasNativeValidators) && (m.$$updateEmptyClasses(e),
                    m.$$lastCommittedViewValue = e,
                    m.$pristine && this.$setDirty(),
                    this.$$parseAndValidate())
                }
                ,
                this.$$parseAndValidate = function() {
                    var t = m.$$lastCommittedViewValue;
                    if (u = !I(t) || void 0)
                        for (var n = 0; n < m.$parsers.length; n++)
                            if (I(t = m.$parsers[n](t))) {
                                u = !1;
                                break
                            }
                    O(m.$modelValue) && (m.$modelValue = h(e));
                    var r = m.$modelValue
                      , i = m.$options && m.$options.allowInvalid;
                    function o() {
                        m.$modelValue !== r && m.$$writeModelToScope()
                    }
                    m.$$rawModelValue = t,
                    i && (m.$modelValue = t,
                    o()),
                    m.$$runValidators(t, m.$$lastCommittedViewValue, function(e) {
                        i || (m.$modelValue = e ? t : void 0,
                        o())
                    })
                }
                ,
                this.$$writeModelToScope = function() {
                    p(e, m.$modelValue),
                    x(m.$viewChangeListeners, function(e) {
                        try {
                            e()
                        } catch (e) {
                            t(e)
                        }
                    })
                }
                ,
                this.$setViewValue = function(e, t) {
                    m.$viewValue = e,
                    m.$options && !m.$options.updateOnDefault || m.$$debounceViewValueCommit(t)
                }
                ,
                this.$$debounceViewValueCommit = function(t) {
                    var n, r = 0, i = m.$options;
                    i && L(i.debounce) && (U(n = i.debounce) ? r = n : U(n[t]) ? r = n[t] : U(n.default) && (r = n.default)),
                    a.cancel(g),
                    r ? g = a(function() {
                        m.$commitViewValue()
                    }, r) : s.$$phase ? m.$commitViewValue() : e.$apply(function() {
                        m.$commitViewValue()
                    })
                }
                ,
                e.$watch(function() {
                    var t = h(e);
                    if (t !== m.$modelValue && (m.$modelValue == m.$modelValue || t == t)) {
                        m.$modelValue = m.$$rawModelValue = t,
                        u = void 0;
                        for (var n = m.$formatters, r = n.length, i = t; r--; )
                            i = n[r](i);
                        m.$viewValue !== i && (m.$$updateEmptyClasses(i),
                        m.$viewValue = m.$$lastCommittedViewValue = i,
                        m.$render(),
                        m.$$runValidators(m.$modelValue, m.$viewValue, j))
                    }
                    return t
                })
            }
            ]
              , Wo = ["$rootScope", function(e) {
                return {
                    restrict: "A",
                    require: ["ngModel", "^?form", "^?ngModelOptions"],
                    controller: Ho,
                    priority: 1,
                    compile: function(t) {
                        return t.addClass(Uo).addClass("ng-untouched").addClass(No),
                        {
                            pre: function(e, t, n, r) {
                                var i = r[0]
                                  , o = r[1] || i.$$parentForm;
                                i.$$setOptions(r[2] && r[2].$options),
                                o.$addControl(i),
                                n.$observe("name", function(e) {
                                    i.$name !== e && i.$$parentForm.$$renameControl(i, e)
                                }),
                                e.$on("$destroy", function() {
                                    i.$$parentForm.$removeControl(i)
                                })
                            },
                            post: function(t, n, r, i) {
                                var o = i[0];
                                o.$options && o.$options.updateOn && n.on(o.$options.updateOn, function(e) {
                                    o.$$debounceViewValueCommit(e && e.type)
                                }),
                                n.on("blur", function() {
                                    o.$touched || (e.$$phase ? t.$evalAsync(o.$setTouched) : t.$apply(o.$setTouched))
                                })
                            }
                        }
                    }
                }
            }
            ]
              , Go = /(\s+|^)default(\s+|$)/
              , Xo = function() {
                return {
                    restrict: "A",
                    controller: ["$scope", "$attrs", function(e, t) {
                        var n = this;
                        this.$options = ne(e.$eval(t.ngModelOptions)),
                        L(this.$options.updateOn) ? (this.$options.updateOnDefault = !1,
                        this.$options.updateOn = Q(this.$options.updateOn.replace(Go, function() {
                            return n.$options.updateOnDefault = !0,
                            " "
                        }))) : this.$options.updateOnDefault = !0
                    }
                    ]
                }
            };
            function Yo(e) {
                var t = e.ctrl
                  , n = e.$element
                  , r = {}
                  , i = e.set
                  , o = e.unset
                  , a = e.$animate;
                function s(e, t) {
                    t && !r[e] ? (a.addClass(n, e),
                    r[e] = !0) : !t && r[e] && (a.removeClass(n, e),
                    r[e] = !1)
                }
                function c(e, t) {
                    e = e ? "-" + Te(e, "-") : "",
                    s(No + e, !0 === t),
                    s(Bo + e, !1 === t)
                }
                r[Bo] = !(r[No] = n.hasClass(No)),
                t.$setValidity = function(e, n, r) {
                    var a;
                    I(n) ? function(e, n, r) {
                        t[e] || (t[e] = {}),
                        i(t[e], n, r)
                    }("$pending", e, r) : function(e, n, r) {
                        t[e] && o(t[e], n, r),
                        Ko(t[e]) && (t[e] = void 0)
                    }("$pending", e, r),
                    X(n) ? n ? (o(t.$error, e, r),
                    i(t.$$success, e, r)) : (i(t.$error, e, r),
                    o(t.$$success, e, r)) : (o(t.$error, e, r),
                    o(t.$$success, e, r)),
                    t.$pending ? (s(Vo, !0),
                    t.$valid = t.$invalid = void 0,
                    c("", null)) : (s(Vo, !1),
                    t.$valid = Ko(t.$error),
                    t.$invalid = !t.$valid,
                    c("", t.$valid)),
                    c(e, a = t.$pending && t.$pending[e] ? void 0 : !t.$error[e] && (!!t.$$success[e] || null)),
                    t.$$parentForm.$setValidity(e, a, t)
                }
            }
            function Ko(e) {
                if (e)
                    for (var t in e)
                        if (e.hasOwnProperty(t))
                            return !1;
                return !0
            }
            var Qo = Ui({
                terminal: !0,
                priority: 1e3
            })
              , Jo = n("ngOptions")
              , Zo = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/
              , ea = ["$compile", "$document", "$parse", function(e, n, r) {
                var i = t.document.createElement("option")
                  , o = t.document.createElement("optgroup");
                return {
                    restrict: "A",
                    terminal: !0,
                    require: ["select", "ngModel"],
                    link: {
                        pre: function(e, t, n, r) {
                            r[0].registerOption = j
                        },
                        post: function(t, a, s, c) {
                            for (var u, d = c[0], f = c[1], h = s.multiple, p = 0, g = a.children(), m = g.length; p < m; p++)
                                if ("" === g[p].value) {
                                    u = g.eq(p);
                                    break
                                }
                            var v, b = !!u, S = l(i.cloneNode(!1));
                            S.val("?");
                            var C = function(e, t, n) {
                                var i = e.match(Zo);
                                if (!i)
                                    throw Jo("iexp", "Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}", e, ge(t));
                                var o = i[5] || i[7]
                                  , a = i[6]
                                  , s = / as /.test(i[0]) && i[1]
                                  , c = i[9]
                                  , l = r(i[2] ? i[1] : o)
                                  , u = s && r(s) || l
                                  , d = c && r(c)
                                  , f = c ? function(e, t) {
                                    return d(n, t)
                                }
                                : function(e) {
                                    return $t(e)
                                }
                                  , h = function(e, t) {
                                    return f(e, x(e, t))
                                }
                                  , p = r(i[2] || i[1])
                                  , g = r(i[3] || "")
                                  , m = r(i[4] || "")
                                  , v = r(i[8])
                                  , b = {}
                                  , x = a ? function(e, t) {
                                    return b[a] = t,
                                    b[o] = e,
                                    b
                                }
                                : function(e) {
                                    return b[o] = e,
                                    b
                                }
                                ;
                                function S(e, t, n, r, i) {
                                    this.selectValue = e,
                                    this.viewValue = t,
                                    this.label = n,
                                    this.group = r,
                                    this.disabled = i
                                }
                                function C(e) {
                                    var t;
                                    if (!a && w(e))
                                        t = e;
                                    else
                                        for (var n in t = [],
                                        e)
                                            e.hasOwnProperty(n) && "$" !== n.charAt(0) && t.push(n);
                                    return t
                                }
                                return {
                                    trackBy: c,
                                    getTrackByValue: h,
                                    getWatchables: r(v, function(e) {
                                        for (var t = [], r = C(e = e || []), o = r.length, a = 0; a < o; a++) {
                                            var s = e === r ? a : r[a]
                                              , c = e[s]
                                              , l = x(c, s)
                                              , u = f(c, l);
                                            if (t.push(u),
                                            i[2] || i[1]) {
                                                var d = p(n, l);
                                                t.push(d)
                                            }
                                            if (i[4]) {
                                                var h = m(n, l);
                                                t.push(h)
                                            }
                                        }
                                        return t
                                    }),
                                    getOptions: function() {
                                        for (var e = [], t = {}, r = v(n) || [], i = C(r), o = i.length, a = 0; a < o; a++) {
                                            var s = r === i ? a : i[a]
                                              , l = r[s]
                                              , d = x(l, s)
                                              , b = u(n, d)
                                              , w = f(b, d)
                                              , _ = new S(w,b,p(n, d),g(n, d),m(n, d));
                                            e.push(_),
                                            t[w] = _
                                        }
                                        return {
                                            items: e,
                                            selectValueMap: t,
                                            getOptionFromViewValue: function(e) {
                                                return t[h(e)]
                                            },
                                            getViewValueFromOption: function(e) {
                                                return c ? y.copy(e.viewValue) : e.viewValue
                                            }
                                        }
                                    }
                                }
                            }(s.ngOptions, a, t)
                              , _ = n[0].createDocumentFragment()
                              , k = function() {
                                b ? u.removeAttr("selected") : u.remove()
                            }
                              , E = function() {
                                S.remove()
                            };
                            function T(e, t) {
                                var n = i.cloneNode(!1);
                                t.appendChild(n),
                                function(e, t) {
                                    e.element = t,
                                    t.disabled = e.disabled,
                                    e.label !== t.label && (t.label = e.label,
                                    t.textContent = e.label),
                                    e.value !== t.value && (t.value = e.selectValue)
                                }(e, n)
                            }
                            function P() {
                                var e = v && d.readValue();
                                if (v)
                                    for (var t = v.items.length - 1; t >= 0; t--) {
                                        var n = v.items[t];
                                        L(n.group) ? St(n.element.parentNode) : St(n.element)
                                    }
                                v = C.getOptions();
                                var r = {};
                                if (b && a.prepend(u),
                                v.items.forEach(function(e) {
                                    var t;
                                    L(e.group) ? ((t = r[e.group]) || (t = o.cloneNode(!1),
                                    _.appendChild(t),
                                    t.label = null === e.group ? "null" : e.group,
                                    r[e.group] = t),
                                    T(e, t)) : T(e, _)
                                }),
                                a[0].appendChild(_),
                                f.$render(),
                                !f.$isEmpty(e)) {
                                    var i = d.readValue();
                                    (C.trackBy || h ? re(e, i) : e === i) || (f.$setViewValue(i),
                                    f.$render())
                                }
                            }
                            h ? (f.$isEmpty = function(e) {
                                return !e || 0 === e.length
                            }
                            ,
                            d.writeValue = function(e) {
                                v.items.forEach(function(e) {
                                    e.element.selected = !1
                                }),
                                e && e.forEach(function(e) {
                                    var t = v.getOptionFromViewValue(e);
                                    t && (t.element.selected = !0)
                                })
                            }
                            ,
                            d.readValue = function() {
                                var e = [];
                                return x(a.val() || [], function(t) {
                                    var n = v.selectValueMap[t];
                                    n && !n.disabled && e.push(v.getViewValueFromOption(n))
                                }),
                                e
                            }
                            ,
                            C.trackBy && t.$watchCollection(function() {
                                if (V(f.$viewValue))
                                    return f.$viewValue.map(function(e) {
                                        return C.getTrackByValue(e)
                                    })
                            }, function() {
                                f.$render()
                            })) : (d.writeValue = function(e) {
                                var t = v.selectValueMap[a.val()]
                                  , n = v.getOptionFromViewValue(e);
                                t && t.element.removeAttribute("selected"),
                                n ? (a[0].value !== n.selectValue && (E(),
                                k(),
                                a[0].value = n.selectValue,
                                n.element.selected = !0),
                                n.element.setAttribute("selected", "selected")) : null === e || b ? (E(),
                                b || a.prepend(u),
                                a.val(""),
                                u.prop("selected", !0),
                                u.attr("selected", !0)) : (k(),
                                a.prepend(S),
                                a.val("?"),
                                S.prop("selected", !0),
                                S.attr("selected", !0))
                            }
                            ,
                            d.readValue = function() {
                                var e = v.selectValueMap[a.val()];
                                return e && !e.disabled ? (k(),
                                E(),
                                v.getViewValueFromOption(e)) : null
                            }
                            ,
                            C.trackBy && t.$watch(function() {
                                return C.getTrackByValue(f.$viewValue)
                            }, function() {
                                f.$render()
                            })),
                            b ? (u.remove(),
                            e(u)(t),
                            u.removeClass("ng-scope")) : u = l(i.cloneNode(!1)),
                            a.empty(),
                            P(),
                            t.$watchCollection(C.getWatchables, P)
                        }
                    }
                }
            }
            ]
              , ta = ["$locale", "$interpolate", "$log", function(e, t, n) {
                var r = /{}/g
                  , i = /^when(Minus)?(.+)$/;
                return {
                    link: function(o, s, c) {
                        var l, u = c.count, d = c.$attr.when && s.attr(c.$attr.when), f = c.offset || 0, h = o.$eval(d) || {}, p = {}, g = t.startSymbol(), m = t.endSymbol(), v = g + u + "-" + f + m, b = y.noop;
                        function w(e) {
                            s.text(e || "")
                        }
                        x(c, function(e, t) {
                            var n = i.exec(t);
                            if (n) {
                                var r = (n[1] ? "-" : "") + a(n[2]);
                                h[r] = s.attr(c.$attr[t])
                            }
                        }),
                        x(h, function(e, n) {
                            p[n] = t(e.replace(r, v))
                        }),
                        o.$watch(u, function(t) {
                            var r = parseFloat(t)
                              , i = O(r);
                            if (i || r in h || (r = e.pluralCat(r - f)),
                            !(r === l || i && O(l))) {
                                b();
                                var a = p[r];
                                I(a) ? (null != t && n.debug("ngPluralize: no rule defined for '" + r + "' in " + d),
                                b = j,
                                w()) : b = o.$watch(a, w),
                                l = r
                            }
                        })
                    }
                }
            }
            ]
              , na = ["$parse", "$animate", "$compile", function(e, t, r) {
                var i = n("ngRepeat")
                  , a = function(e, t, n, r, i, o, a) {
                    e[n] = r,
                    i && (e[i] = o),
                    e.$index = t,
                    e.$first = 0 === t,
                    e.$last = t === a - 1,
                    e.$middle = !(e.$first || e.$last),
                    e.$odd = !(e.$even = 0 == (1 & t))
                }
                  , s = function(e) {
                    return e.clone[0]
                }
                  , c = function(e) {
                    return e.clone[e.clone.length - 1]
                };
                return {
                    restrict: "A",
                    multiElement: !0,
                    transclude: "element",
                    priority: 1e3,
                    terminal: !0,
                    $$tlb: !0,
                    compile: function(n, l) {
                        var u = l.ngRepeat
                          , d = r.$$createComment("end ngRepeat", u)
                          , f = u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                        if (!f)
                            throw i("iexp", "Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.", u);
                        var h = f[1]
                          , p = f[2]
                          , g = f[3]
                          , m = f[4];
                        if (!(f = h.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))
                            throw i("iidexp", "'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.", h);
                        var v, y, b, S, C = f[3] || f[1], _ = f[2];
                        if (g && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))
                            throw i("badident", "alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.", g);
                        var k = {
                            $id: $t
                        };
                        return m ? v = e(m) : (b = function(e, t) {
                            return $t(t)
                        }
                        ,
                        S = function(e) {
                            return e
                        }
                        ),
                        function(e, n, r, l, f) {
                            v && (y = function(t, n, r) {
                                return _ && (k[_] = t),
                                k[C] = n,
                                k.$index = r,
                                v(e, k)
                            }
                            );
                            var h = Re();
                            e.$watchCollection(p, function(r) {
                                var l, p, m, v, k, E, T, P, A, O, $, j, D = n[0], R = Re();
                                if (g && (e[g] = r),
                                w(r))
                                    A = r,
                                    P = y || b;
                                else
                                    for (var M in P = y || S,
                                    A = [],
                                    r)
                                        o.call(r, M) && "$" !== M.charAt(0) && A.push(M);
                                for (v = A.length,
                                $ = new Array(v),
                                l = 0; l < v; l++)
                                    if (k = r === A ? l : A[l],
                                    E = r[k],
                                    T = P(k, E, l),
                                    h[T])
                                        O = h[T],
                                        delete h[T],
                                        R[T] = O,
                                        $[l] = O;
                                    else {
                                        if (R[T])
                                            throw x($, function(e) {
                                                e && e.scope && (h[e.id] = e)
                                            }),
                                            i("dupes", "Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}", u, T, E);
                                        $[l] = {
                                            id: T,
                                            scope: void 0,
                                            clone: void 0
                                        },
                                        R[T] = !0
                                    }
                                for (var I in h) {
                                    if (j = De((O = h[I]).clone),
                                    t.leave(j),
                                    j[0].parentNode)
                                        for (l = 0,
                                        p = j.length; l < p; l++)
                                            j[l].$$NG_REMOVED = !0;
                                    O.scope.$destroy()
                                }
                                for (l = 0; l < v; l++)
                                    if (k = r === A ? l : A[l],
                                    E = r[k],
                                    (O = $[l]).scope) {
                                        m = D;
                                        do {
                                            m = m.nextSibling
                                        } while (m && m.$$NG_REMOVED);
                                        s(O) !== m && t.move(De(O.clone), null, D),
                                        D = c(O),
                                        a(O.scope, l, C, E, _, k, v)
                                    } else
                                        f(function(e, n) {
                                            O.scope = n;
                                            var r = d.cloneNode(!1);
                                            e[e.length++] = r,
                                            t.enter(e, null, D),
                                            D = r,
                                            O.clone = e,
                                            R[O.id] = O,
                                            a(O.scope, l, C, E, _, k, v)
                                        });
                                h = R
                            })
                        }
                    }
                }
            }
            ]
              , ra = ["$animate", function(e) {
                return {
                    restrict: "A",
                    multiElement: !0,
                    link: function(t, n, r) {
                        t.$watch(r.ngShow, function(t) {
                            e[t ? "removeClass" : "addClass"](n, "ng-hide", {
                                tempClasses: "ng-hide-animate"
                            })
                        })
                    }
                }
            }
            ]
              , ia = ["$animate", function(e) {
                return {
                    restrict: "A",
                    multiElement: !0,
                    link: function(t, n, r) {
                        t.$watch(r.ngHide, function(t) {
                            e[t ? "addClass" : "removeClass"](n, "ng-hide", {
                                tempClasses: "ng-hide-animate"
                            })
                        })
                    }
                }
            }
            ]
              , oa = Ui(function(e, t, n) {
                e.$watch(n.ngStyle, function(e, n) {
                    n && e !== n && x(n, function(e, n) {
                        t.css(n, "")
                    }),
                    e && t.css(e)
                }, !0)
            })
              , aa = ["$animate", "$compile", function(e, t) {
                return {
                    require: "ngSwitch",
                    controller: ["$scope", function() {
                        this.cases = {}
                    }
                    ],
                    link: function(n, r, i, o) {
                        var a = i.ngSwitch || i.on
                          , s = []
                          , c = []
                          , l = []
                          , u = []
                          , d = function(e, t) {
                            return function() {
                                e.splice(t, 1)
                            }
                        };
                        n.$watch(a, function(n) {
                            var r, i;
                            for (r = 0,
                            i = l.length; r < i; ++r)
                                e.cancel(l[r]);
                            for (l.length = 0,
                            r = 0,
                            i = u.length; r < i; ++r) {
                                var a = De(c[r].clone);
                                u[r].$destroy(),
                                (l[r] = e.leave(a)).then(d(l, r))
                            }
                            c.length = 0,
                            u.length = 0,
                            (s = o.cases["!" + n] || o.cases["?"]) && x(s, function(n) {
                                n.transclude(function(r, i) {
                                    u.push(i);
                                    var o = n.element;
                                    r[r.length++] = t.$$createComment("end ngSwitchWhen");
                                    var a = {
                                        clone: r
                                    };
                                    c.push(a),
                                    e.enter(r, o.parent(), o)
                                })
                            })
                        })
                    }
                }
            }
            ]
              , sa = Ui({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(e, t, n, r, i) {
                    r.cases["!" + n.ngSwitchWhen] = r.cases["!" + n.ngSwitchWhen] || [],
                    r.cases["!" + n.ngSwitchWhen].push({
                        transclude: i,
                        element: t
                    })
                }
            })
              , ca = Ui({
                transclude: "element",
                priority: 1200,
                require: "^ngSwitch",
                multiElement: !0,
                link: function(e, t, n, r, i) {
                    r.cases["?"] = r.cases["?"] || [],
                    r.cases["?"].push({
                        transclude: i,
                        element: t
                    })
                }
            })
              , la = n("ngTransclude")
              , ua = ["$compile", function(e) {
                return {
                    restrict: "EAC",
                    terminal: !0,
                    compile: function(t) {
                        var n = e(t.contents());
                        return t.empty(),
                        function(e, t, r, i, o) {
                            if (!o)
                                throw la("orphan", "Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}", ge(t));
                            r.ngTransclude === r.$attr.ngTransclude && (r.ngTransclude = "");
                            var a = r.ngTransclude || r.ngTranscludeSlot;
                            function s() {
                                n(e, function(e) {
                                    t.append(e)
                                })
                            }
                            o(function(e, n) {
                                e.length ? t.append(e) : (s(),
                                n.$destroy())
                            }, null, a),
                            a && !o.isSlotFilled(a) && s()
                        }
                    }
                }
            }
            ]
              , da = ["$templateCache", function(e) {
                return {
                    restrict: "E",
                    terminal: !0,
                    compile: function(t, n) {
                        if ("text/ng-template" === n.type) {
                            var r = n.id
                              , i = t[0].text;
                            e.put(r, i)
                        }
                    }
                }
            }
            ]
              , fa = {
                $setViewValue: j,
                $render: j
            }
              , ha = ["$element", "$scope", function(e, n) {
                var r = this
                  , i = new jt;
                r.ngModelCtrl = fa,
                r.unknownOption = l(t.document.createElement("option")),
                r.renderUnknownOption = function(t) {
                    var n = "? " + $t(t) + " ?";
                    r.unknownOption.val(n),
                    e.prepend(r.unknownOption),
                    e.val(n)
                }
                ,
                n.$on("$destroy", function() {
                    r.renderUnknownOption = j
                }),
                r.removeUnknownOption = function() {
                    r.unknownOption.parent() && r.unknownOption.remove()
                }
                ,
                r.readValue = function() {
                    return r.removeUnknownOption(),
                    e.val()
                }
                ,
                r.writeValue = function(t) {
                    r.hasOption(t) ? (r.removeUnknownOption(),
                    e.val(t),
                    "" === t && r.emptyOption.prop("selected", !0)) : null == t && r.emptyOption ? (r.removeUnknownOption(),
                    e.val("")) : r.renderUnknownOption(t)
                }
                ,
                r.addOption = function(e, t) {
                    if (t[0].nodeType !== Le) {
                        $e(e, '"option value"'),
                        "" === e && (r.emptyOption = t);
                        var n, o = i.get(e) || 0;
                        i.put(e, o + 1),
                        r.ngModelCtrl.$render(),
                        (n = t)[0].hasAttribute("selected") && (n[0].selected = !0)
                    }
                }
                ,
                r.removeOption = function(e) {
                    var t = i.get(e);
                    t && (1 === t ? (i.remove(e),
                    "" === e && (r.emptyOption = void 0)) : i.put(e, t - 1))
                }
                ,
                r.hasOption = function(e) {
                    return !!i.get(e)
                }
                ,
                r.registerOption = function(e, t, n, i, o) {
                    var a;
                    i ? n.$observe("value", function(e) {
                        L(a) && r.removeOption(a),
                        a = e,
                        r.addOption(e, t)
                    }) : o ? e.$watch(o, function(e, i) {
                        n.$set("value", e),
                        i !== e && r.removeOption(i),
                        r.addOption(e, t)
                    }) : r.addOption(n.value, t),
                    t.on("$destroy", function() {
                        r.removeOption(n.value),
                        r.ngModelCtrl.$render()
                    })
                }
            }
            ]
              , pa = function() {
                return {
                    restrict: "E",
                    require: ["select", "?ngModel"],
                    controller: ha,
                    priority: 1,
                    link: {
                        pre: function(e, t, n, r) {
                            var i = r[1];
                            if (i) {
                                var o = r[0];
                                if (o.ngModelCtrl = i,
                                t.on("change", function() {
                                    e.$apply(function() {
                                        i.$setViewValue(o.readValue())
                                    })
                                }),
                                n.multiple) {
                                    o.readValue = function() {
                                        var e = [];
                                        return x(t.find("option"), function(t) {
                                            t.selected && e.push(t.value)
                                        }),
                                        e
                                    }
                                    ,
                                    o.writeValue = function(e) {
                                        var n = new jt(e);
                                        x(t.find("option"), function(e) {
                                            e.selected = L(n.get(e.value))
                                        })
                                    }
                                    ;
                                    var a, s = NaN;
                                    e.$watch(function() {
                                        s !== i.$viewValue || re(a, i.$viewValue) || (a = Be(i.$viewValue),
                                        i.$render()),
                                        s = i.$viewValue
                                    }),
                                    i.$isEmpty = function(e) {
                                        return !e || 0 === e.length
                                    }
                                }
                            }
                        },
                        post: function(e, t, n, r) {
                            var i = r[1];
                            if (i) {
                                var o = r[0];
                                i.$render = function() {
                                    o.writeValue(i.$viewValue)
                                }
                            }
                        }
                    }
                }
            }
              , ga = ["$interpolate", function(e) {
                return {
                    restrict: "E",
                    priority: 100,
                    compile: function(t, n) {
                        if (L(n.value))
                            var r = e(n.value, !0);
                        else {
                            var i = e(t.text(), !0);
                            i || n.$set("value", t.text())
                        }
                        return function(e, t, n) {
                            var o = t.parent()
                              , a = o.data("$selectController") || o.parent().data("$selectController");
                            a && a.registerOption(e, t, n, r, i)
                        }
                    }
                }
            }
            ]
              , ma = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, r) {
                        r && (n.required = !0,
                        r.$validators.required = function(e, t) {
                            return !n.required || !r.$isEmpty(t)
                        }
                        ,
                        n.$observe("required", function() {
                            r.$validate()
                        }))
                    }
                }
            }
              , va = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, r, i) {
                        if (i) {
                            var o, a = r.ngPattern || r.pattern;
                            r.$observe("pattern", function(e) {
                                if (B(e) && e.length > 0 && (e = new RegExp("^" + e + "$")),
                                e && !e.test)
                                    throw n("ngPattern")("noregexp", "Expected {0} to be a RegExp but was {1}. Element: {2}", a, e, ge(t));
                                o = e || void 0,
                                i.$validate()
                            }),
                            i.$validators.pattern = function(e, t) {
                                return i.$isEmpty(t) || I(o) || o.test(t)
                            }
                        }
                    }
                }
            }
              , ya = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, r) {
                        if (r) {
                            var i = -1;
                            n.$observe("maxlength", function(e) {
                                var t = A(e);
                                i = O(t) ? -1 : t,
                                r.$validate()
                            }),
                            r.$validators.maxlength = function(e, t) {
                                return i < 0 || r.$isEmpty(t) || t.length <= i
                            }
                        }
                    }
                }
            }
              , ba = function() {
                return {
                    restrict: "A",
                    require: "?ngModel",
                    link: function(e, t, n, r) {
                        if (r) {
                            var i = 0;
                            n.$observe("minlength", function(e) {
                                i = A(e) || 0,
                                r.$validate()
                            }),
                            r.$validators.minlength = function(e, t) {
                                return r.$isEmpty(t) || t.length >= i
                            }
                        }
                    }
                }
            };
            t.angular.bootstrap ? t.console && console.log("WARNING: Tried to load angular more than once.") : (function() {
                var n;
                if (!Pe) {
                    var r = oe();
                    (u = I(r) ? e : r ? t[r] : void 0) && u.fn.on ? (l = u,
                    T(u.fn, {
                        scope: Ct.scope,
                        isolateScope: Ct.isolateScope,
                        controller: Ct.controller,
                        injector: Ct.injector,
                        inheritedData: Ct.inheritedData
                    }),
                    n = u.cleanData,
                    u.cleanData = function(e) {
                        for (var t, r, i = 0; null != (r = e[i]); i++)
                            (t = u._data(r, "events")) && t.$destroy && u(r).triggerHandler("$destroy");
                        n(e)
                    }
                    ) : l = ct,
                    y.element = l,
                    Pe = !0
                }
            }(),
            T(y, {
                bootstrap: Ce,
                copy: ne,
                extend: T,
                merge: P,
                equals: re,
                element: l,
                forEach: x,
                injector: qt,
                noop: j,
                bind: ce,
                toJson: ue,
                fromJson: de,
                identity: D,
                isUndefined: I,
                isDefined: L,
                isString: B,
                isFunction: z,
                isObject: F,
                isNumber: U,
                isElement: Z,
                isArray: V,
                version: qe,
                isDate: q,
                lowercase: a,
                uppercase: s,
                callbacks: {
                    $$counter: 0
                },
                getTestability: ke,
                $$minErr: n,
                $$csp: ie,
                reloadWithDebugInfo: _e
            }),
            (d = function(e) {
                var t = n("$injector")
                  , r = n("ng");
                function i(e, t, n) {
                    return e[t] || (e[t] = n())
                }
                var o = i(e, "angular", Object);
                return o.$$minErr = o.$$minErr || n,
                i(o, "module", function() {
                    var e = {};
                    return function(n, o, a) {
                        return function(e, t) {
                            if ("hasOwnProperty" === n)
                                throw r("badname", "hasOwnProperty is not a valid {0} name", "module")
                        }(),
                        o && e.hasOwnProperty(n) && (e[n] = null),
                        i(e, n, function() {
                            if (!o)
                                throw t("nomod", "Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.", n);
                            var e = []
                              , r = []
                              , i = []
                              , s = l("$injector", "invoke", "push", r)
                              , c = {
                                _invokeQueue: e,
                                _configBlocks: r,
                                _runBlocks: i,
                                requires: o,
                                name: n,
                                provider: u("$provide", "provider"),
                                factory: u("$provide", "factory"),
                                service: u("$provide", "service"),
                                value: l("$provide", "value"),
                                constant: l("$provide", "constant", "unshift"),
                                decorator: u("$provide", "decorator"),
                                animation: u("$animateProvider", "register"),
                                filter: u("$filterProvider", "register"),
                                controller: u("$controllerProvider", "register"),
                                directive: u("$compileProvider", "directive"),
                                component: u("$compileProvider", "component"),
                                config: s,
                                run: function(e) {
                                    return i.push(e),
                                    this
                                }
                            };
                            return a && s(a),
                            c;
                            function l(t, n, r, i) {
                                return i || (i = e),
                                function() {
                                    return i[r || "push"]([t, n, arguments]),
                                    c
                                }
                            }
                            function u(t, r) {
                                return function(i, o) {
                                    return o && z(o) && (o.$$moduleName = n),
                                    e.push([t, r, arguments]),
                                    c
                                }
                            }
                        })
                    }
                })
            }(t))("ng", ["ngLocale"], ["$provide", function(e) {
                e.provider({
                    $$sanitizeUri: Qr
                }),
                e.provider("$compile", an).directive({
                    a: qi,
                    input: bo,
                    textarea: bo,
                    form: Xi,
                    script: da,
                    select: pa,
                    option: ga,
                    ngBind: So,
                    ngBindHtml: _o,
                    ngBindTemplate: Co,
                    ngClass: To,
                    ngClassEven: Ao,
                    ngClassOdd: Po,
                    ngCloak: Oo,
                    ngController: $o,
                    ngForm: Yi,
                    ngHide: ia,
                    ngIf: Ro,
                    ngInclude: Mo,
                    ngInit: Lo,
                    ngNonBindable: Qo,
                    ngPluralize: ta,
                    ngRepeat: na,
                    ngShow: ra,
                    ngStyle: oa,
                    ngSwitch: aa,
                    ngSwitchWhen: sa,
                    ngSwitchDefault: ca,
                    ngOptions: ea,
                    ngTransclude: ua,
                    ngModel: Wo,
                    ngList: Fo,
                    ngChange: ko,
                    pattern: va,
                    ngPattern: va,
                    required: ma,
                    ngRequired: ma,
                    minlength: ba,
                    ngMinlength: ba,
                    maxlength: ya,
                    ngMaxlength: ya,
                    ngValue: xo,
                    ngModelOptions: Xo
                }).directive({
                    ngInclude: Io
                }).directive(Vi).directive(jo),
                e.provider({
                    $anchorScroll: Vt,
                    $animate: Kt,
                    $animateCss: Zt,
                    $$animateJs: Xt,
                    $$animateQueue: Yt,
                    $$AnimateRunner: Jt,
                    $$animateAsyncRun: Qt,
                    $browser: en,
                    $cacheFactory: tn,
                    $controller: gn,
                    $document: mn,
                    $exceptionHandler: vn,
                    $filter: gi,
                    $$forceReflow: yn,
                    $interpolate: Fn,
                    $interval: Nn,
                    $http: Rn,
                    $httpParamSerializer: Tn,
                    $httpParamSerializerJQLike: Pn,
                    $httpBackend: In,
                    $xhrFactory: Mn,
                    $jsonpCallbacks: Bn,
                    $location: ir,
                    $log: or,
                    $parse: Hr,
                    $rootScope: Kr,
                    $q: Wr,
                    $$q: Gr,
                    $sce: ni,
                    $sceDelegate: ti,
                    $sniffer: ri,
                    $templateCache: nn,
                    $templateRequest: oi,
                    $$testability: ai,
                    $timeout: si,
                    $window: fi,
                    $$rAF: Yr,
                    $$jqLite: Ot,
                    $$HashMap: Dt,
                    $$cookieReader: pi
                })
            }
            ]),
            y.module("ngLocale", [], ["$provide", function(e) {
                e.value("$locale", {
                    DATETIME_FORMATS: {
                        AMPMS: ["AM", "PM"],
                        DAY: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        ERANAMES: ["Before Christ", "Anno Domini"],
                        ERAS: ["BC", "AD"],
                        FIRSTDAYOFWEEK: 6,
                        MONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        SHORTDAY: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        SHORTMONTH: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        STANDALONEMONTH: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        WEEKENDRANGE: [5, 6],
                        fullDate: "EEEE, MMMM d, y",
                        longDate: "MMMM d, y",
                        medium: "MMM d, y h:mm:ss a",
                        mediumDate: "MMM d, y",
                        mediumTime: "h:mm:ss a",
                        short: "M/d/yy h:mm a",
                        shortDate: "M/d/yy",
                        shortTime: "h:mm a"
                    },
                    NUMBER_FORMATS: {
                        CURRENCY_SYM: "$",
                        DECIMAL_SEP: ".",
                        GROUP_SEP: ",",
                        PATTERNS: [{
                            gSize: 3,
                            lgSize: 3,
                            maxFrac: 3,
                            minFrac: 0,
                            minInt: 1,
                            negPre: "-",
                            negSuf: "",
                            posPre: "",
                            posSuf: ""
                        }, {
                            gSize: 3,
                            lgSize: 3,
                            maxFrac: 2,
                            minFrac: 2,
                            minInt: 1,
                            negPre: "-",
                            negSuf: "",
                            posPre: "",
                            posSuf: ""
                        }]
                    },
                    id: "en-us",
                    localeID: "en_US",
                    pluralCat: function(e, t) {
                        var n = 0 | e
                          , r = function(e, t) {
                            var n = t;
                            void 0 === n && (n = Math.min(function(e) {
                                var t = (e += "").indexOf(".");
                                return -1 == t ? 0 : e.length - t - 1
                            }(e), 3));
                            var r = Math.pow(10, n);
                            return {
                                v: n,
                                f: (e * r | 0) % r
                            }
                        }(e, t);
                        return 1 == n && 0 == r.v ? "one" : "other"
                    }
                })
            }
            ]),
            l(t.document).ready(function() {
                !function(e, n) {
                    var r, i, o = {};
                    if (x(xe, function(t) {
                        var n = t + "app";
                        !r && e.hasAttribute && e.hasAttribute(n) && (r = e,
                        i = e.getAttribute(n))
                    }),
                    x(xe, function(t) {
                        var n, o = t + "app";
                        !r && (n = e.querySelector("[" + o.replace(":", "\\:") + "]")) && (r = n,
                        i = n.getAttribute(o))
                    }),
                    r) {
                        if (!Se)
                            return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");
                        o.strictDi = null !== function(e, t) {
                            var n, r, i = xe.length;
                            for (r = 0; r < i; ++r)
                                if (n = xe[r] + "strict-di",
                                B(n = e.getAttribute(n)))
                                    return n;
                            return null
                        }(r),
                        n(r, i ? [i] : [], o)
                    }
                }(t.document, Ce)
            }))
        }(window),
        !window.angular.$$csp().noInlineStyle && window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')
    }
    ).call(this, n(1))
}
, function(e, t) {}
, function(e, t, n) {
    (function(e) {
        var r = void 0 !== e && e || "undefined" != typeof self && self || window
          , i = Function.prototype.apply;
        function o(e, t) {
            this._id = e,
            this._clearFn = t
        }
        t.setTimeout = function() {
            return new o(i.call(setTimeout, r, arguments),clearTimeout)
        }
        ,
        t.setInterval = function() {
            return new o(i.call(setInterval, r, arguments),clearInterval)
        }
        ,
        t.clearTimeout = t.clearInterval = function(e) {
            e && e.close()
        }
        ,
        o.prototype.unref = o.prototype.ref = function() {}
        ,
        o.prototype.close = function() {
            this._clearFn.call(r, this._id)
        }
        ,
        t.enroll = function(e, t) {
            clearTimeout(e._idleTimeoutId),
            e._idleTimeout = t
        }
        ,
        t.unenroll = function(e) {
            clearTimeout(e._idleTimeoutId),
            e._idleTimeout = -1
        }
        ,
        t._unrefActive = t.active = function(e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 && (e._idleTimeoutId = setTimeout(function() {
                e._onTimeout && e._onTimeout()
            }, t))
        }
        ,
        n(46),
        t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate,
        t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    "use strict";
    var r = n(5);
    e.exports = function(e) {
        r.copy(e, this)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t) {
        t || (t = {}),
        "function" == typeof t && (t = {
            cmp: t
        });
        var n, r = "boolean" == typeof t.cycles && t.cycles, i = t.cmp && (n = t.cmp,
        function(e) {
            return function(t, r) {
                var i = {
                    key: t,
                    value: e[t]
                }
                  , o = {
                    key: r,
                    value: e[r]
                };
                return n(i, o)
            }
        }
        ), o = [];
        return function e(t) {
            if (t && t.toJSON && "function" == typeof t.toJSON && (t = t.toJSON()),
            void 0 !== t) {
                if ("number" == typeof t)
                    return isFinite(t) ? "" + t : "null";
                if ("object" != typeof t)
                    return JSON.stringify(t);
                var n, a;
                if (Array.isArray(t)) {
                    for (a = "[",
                    n = 0; n < t.length; n++)
                        n && (a += ","),
                        a += e(t[n]) || "null";
                    return a + "]"
                }
                if (null === t)
                    return "null";
                if (-1 !== o.indexOf(t)) {
                    if (r)
                        return JSON.stringify("__cycle__");
                    throw new TypeError("Converting circular structure to JSON")
                }
                var s = o.push(t) - 1
                  , c = Object.keys(t).sort(i && i(t));
                for (a = "",
                n = 0; n < c.length; n++) {
                    var l = c[n]
                      , u = e(t[l]);
                    u && (a && (a += ","),
                    a += JSON.stringify(l) + ":" + u)
                }
                return o.splice(s, 1),
                "{" + a + "}"
            }
        }(e)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = ""
          , i = !0 === e.schema.$async
          , o = e.util.schemaHasRulesExcept(e.schema, e.RULES.all, "$ref")
          , a = e.self._getId(e.schema);
        if (e.isTop) {
            if (i) {
                e.async = !0;
                var s = "es7" == e.opts.async;
                e.yieldAwait = s ? "await" : "yield"
            }
            r += " var validate = ",
            i ? s ? r += " (async function " : ("*" != e.opts.async && (r += "co.wrap"),
            r += "(function* ") : r += " (function ",
            r += " (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",
            a && (e.opts.sourceCode || e.opts.processCode) && (r += " /*# sourceURL=" + a + " */ ")
        }
        if ("boolean" == typeof e.schema || !o && !e.schema.$ref) {
            var c = e.level
              , l = e.dataLevel
              , u = e.schema["false schema"]
              , d = e.schemaPath + e.util.getProperty("false schema")
              , f = e.errSchemaPath + "/false schema"
              , h = !e.opts.allErrors
              , p = "data" + (l || "")
              , g = "valid" + c;
            if (!1 === e.schema) {
                e.isTop ? h = !0 : r += " var " + g + " = false; ",
                (H = H || []).push(r),
                r = "",
                !1 !== e.createErrors ? (r += " { keyword: 'false schema' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(f) + " , params: {} ",
                !1 !== e.opts.messages && (r += " , message: 'boolean schema is false' "),
                e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
                r += " } ") : r += " {} ";
                var m = r;
                r = H.pop(),
                !e.compositeRule && h ? e.async ? r += " throw new ValidationError([" + m + "]); " : r += " validate.errors = [" + m + "]; return false; " : r += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
            } else
                e.isTop ? r += i ? " return data; " : " validate.errors = null; return true; " : r += " var " + g + " = true; ";
            return e.isTop && (r += " }); return validate; "),
            r
        }
        if (e.isTop) {
            var v = e.isTop;
            c = e.level = 0,
            l = e.dataLevel = 0,
            p = "data",
            e.rootId = e.resolve.fullPath(e.self._getId(e.root.schema)),
            e.baseId = e.baseId || e.rootId,
            delete e.isTop,
            e.dataPathArr = [void 0],
            r += " var vErrors = null; ",
            r += " var errors = 0;     ",
            r += " if (rootData === undefined) rootData = data; "
        } else {
            if (c = e.level,
            p = "data" + ((l = e.dataLevel) || ""),
            a && (e.baseId = e.resolve.url(e.baseId, a)),
            i && !e.async)
                throw new Error("async schema in sync schema");
            r += " var errs_" + c + " = errors;"
        }
        g = "valid" + c,
        h = !e.opts.allErrors;
        var y = ""
          , b = ""
          , w = e.schema.type
          , x = Array.isArray(w);
        if (x && 1 == w.length && (w = w[0],
        x = !1),
        e.schema.$ref && o) {
            if ("fail" == e.opts.extendRefs)
                throw new Error('$ref: validation keywords used in schema at path "' + e.errSchemaPath + '" (see option extendRefs)');
            !0 !== e.opts.extendRefs && (o = !1,
            e.logger.warn('$ref: keywords ignored in schema at path "' + e.errSchemaPath + '"'))
        }
        if (w) {
            if (e.opts.coerceTypes)
                var S = e.util.coerceToTypes(e.opts.coerceTypes, w);
            var C = e.RULES.types[w];
            if (S || x || !0 === C || C && !Q(C)) {
                d = e.schemaPath + ".type",
                f = e.errSchemaPath + "/type",
                d = e.schemaPath + ".type",
                f = e.errSchemaPath + "/type";
                var _ = x ? "checkDataTypes" : "checkDataType";
                if (r += " if (" + e.util[_](w, p, !0) + ") { ",
                S) {
                    var k = "dataType" + c
                      , E = "coerced" + c;
                    r += " var " + k + " = typeof " + p + "; ",
                    "array" == e.opts.coerceTypes && (r += " if (" + k + " == 'object' && Array.isArray(" + p + ")) " + k + " = 'array'; "),
                    r += " var " + E + " = undefined; ";
                    var T = ""
                      , P = S;
                    if (P)
                        for (var A, O = -1, $ = P.length - 1; O < $; )
                            A = P[O += 1],
                            O && (r += " if (" + E + " === undefined) { ",
                            T += "}"),
                            "array" == e.opts.coerceTypes && "array" != A && (r += " if (" + k + " == 'array' && " + p + ".length == 1) { " + E + " = " + p + " = " + p + "[0]; " + k + " = typeof " + p + ";  } "),
                            "string" == A ? r += " if (" + k + " == 'number' || " + k + " == 'boolean') " + E + " = '' + " + p + "; else if (" + p + " === null) " + E + " = ''; " : "number" == A || "integer" == A ? (r += " if (" + k + " == 'boolean' || " + p + " === null || (" + k + " == 'string' && " + p + " && " + p + " == +" + p + " ",
                            "integer" == A && (r += " && !(" + p + " % 1)"),
                            r += ")) " + E + " = +" + p + "; ") : "boolean" == A ? r += " if (" + p + " === 'false' || " + p + " === 0 || " + p + " === null) " + E + " = false; else if (" + p + " === 'true' || " + p + " === 1) " + E + " = true; " : "null" == A ? r += " if (" + p + " === '' || " + p + " === 0 || " + p + " === false) " + E + " = null; " : "array" == e.opts.coerceTypes && "array" == A && (r += " if (" + k + " == 'string' || " + k + " == 'number' || " + k + " == 'boolean' || " + p + " == null) " + E + " = [" + p + "]; ");
                    r += " " + T + " if (" + E + " === undefined) {   ",
                    (H = H || []).push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(f) + " , params: { type: '",
                    r += x ? "" + w.join(",") : "" + w,
                    r += "' } ",
                    !1 !== e.opts.messages && (r += " , message: 'should be ",
                    r += x ? "" + w.join(",") : "" + w,
                    r += "' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
                    r += " } ") : r += " {} ",
                    m = r,
                    r = H.pop(),
                    !e.compositeRule && h ? e.async ? r += " throw new ValidationError([" + m + "]); " : r += " validate.errors = [" + m + "]; return false; " : r += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " } else {  ";
                    var j = l ? "data" + (l - 1 || "") : "parentData"
                      , D = l ? e.dataPathArr[l] : "parentDataProperty";
                    r += " " + p + " = " + E + "; ",
                    l || (r += "if (" + j + " !== undefined)"),
                    r += " " + j + "[" + D + "] = " + E + "; } "
                } else
                    (H = H || []).push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(f) + " , params: { type: '",
                    r += x ? "" + w.join(",") : "" + w,
                    r += "' } ",
                    !1 !== e.opts.messages && (r += " , message: 'should be ",
                    r += x ? "" + w.join(",") : "" + w,
                    r += "' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
                    r += " } ") : r += " {} ",
                    m = r,
                    r = H.pop(),
                    !e.compositeRule && h ? e.async ? r += " throw new ValidationError([" + m + "]); " : r += " validate.errors = [" + m + "]; return false; " : r += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                r += " } "
            }
        }
        if (e.schema.$ref && !o)
            r += " " + e.RULES.all.$ref.code(e, "$ref") + " ",
            h && (r += " } if (errors === ",
            r += v ? "0" : "errs_" + c,
            r += ") { ",
            b += "}");
        else {
            e.opts.v5 && e.schema.patternGroups && e.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');
            var R = e.RULES;
            if (R)
                for (var M = -1, I = R.length - 1; M < I; )
                    if (Q(C = R[M += 1])) {
                        if (C.type && (r += " if (" + e.util.checkDataType(C.type, p) + ") { "),
                        e.opts.useDefaults && !e.compositeRule)
                            if ("object" == C.type && e.schema.properties) {
                                u = e.schema.properties;
                                var L = Object.keys(u);
                                if (L)
                                    for (var F, N = -1, B = L.length - 1; N < B; )
                                        void 0 !== (q = u[F = L[N += 1]]).default && (r += "  if (" + (z = p + e.util.getProperty(F)) + " === undefined) " + z + " = ",
                                        "shared" == e.opts.useDefaults ? r += " " + e.useDefault(q.default) + " " : r += " " + JSON.stringify(q.default) + " ",
                                        r += "; ")
                            } else if ("array" == C.type && Array.isArray(e.schema.items)) {
                                var U = e.schema.items;
                                if (U) {
                                    O = -1;
                                    for (var q, V = U.length - 1; O < V; ) {
                                        var z;
                                        void 0 !== (q = U[O += 1]).default && (r += "  if (" + (z = p + "[" + O + "]") + " === undefined) " + z + " = ",
                                        "shared" == e.opts.useDefaults ? r += " " + e.useDefault(q.default) + " " : r += " " + JSON.stringify(q.default) + " ",
                                        r += "; ")
                                    }
                                }
                            }
                        var H, W = C.rules;
                        if (W)
                            for (var G, X = -1, Y = W.length - 1; X < Y; )
                                if (J(G = W[X += 1])) {
                                    var K = G.code(e, G.keyword, C.type);
                                    K && (r += " " + K + " ",
                                    h && (y += "}"))
                                }
                        if (h && (r += " " + y + " ",
                        y = ""),
                        C.type && (r += " } ",
                        w && w === C.type && !S))
                            r += " else { ",
                            d = e.schemaPath + ".type",
                            f = e.errSchemaPath + "/type",
                            (H = H || []).push(r),
                            r = "",
                            !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(f) + " , params: { type: '",
                            r += x ? "" + w.join(",") : "" + w,
                            r += "' } ",
                            !1 !== e.opts.messages && (r += " , message: 'should be ",
                            r += x ? "" + w.join(",") : "" + w,
                            r += "' "),
                            e.opts.verbose && (r += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
                            r += " } ") : r += " {} ",
                            m = r,
                            r = H.pop(),
                            !e.compositeRule && h ? e.async ? r += " throw new ValidationError([" + m + "]); " : r += " validate.errors = [" + m + "]; return false; " : r += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                            r += " } ";
                        h && (r += " if (errors === ",
                        r += v ? "0" : "errs_" + c,
                        r += ") { ",
                        b += "}")
                    }
        }
        function Q(e) {
            for (var t = e.rules, n = 0; n < t.length; n++)
                if (J(t[n]))
                    return !0
        }
        function J(t) {
            return void 0 !== e.schema[t.keyword] || t.implements && function(t) {
                for (var n = t.implements, r = 0; r < n.length; r++)
                    if (void 0 !== e.schema[n[r]])
                        return !0
            }(t)
        }
        return h && (r += " " + b + " "),
        v ? (i ? (r += " if (errors === 0) return data;           ",
        r += " else throw new ValidationError(vErrors); ") : (r += " validate.errors = vErrors; ",
        r += " return errors === 0;       "),
        r += " }); return validate;") : r += " var " + g + " = errors === errs_" + c + ";",
        r = e.util.cleanUpCode(r),
        v && (r = e.util.finalCleanUpCode(r, i)),
        r
    }
}
, function(e, t) {
    var n = Array.prototype.slice;
    function r(e) {
        var t = this
          , r = n.call(arguments, 1);
        return new Promise(function(n, a) {
            if ("function" == typeof e && (e = e.apply(t, r)),
            !e || "function" != typeof e.next)
                return n(e);
            function s(t) {
                var n;
                try {
                    n = e.next(t)
                } catch (e) {
                    return a(e)
                }
                l(n)
            }
            function c(t) {
                var n;
                try {
                    n = e.throw(t)
                } catch (e) {
                    return a(e)
                }
                l(n)
            }
            function l(e) {
                if (e.done)
                    return n(e.value);
                var r = i.call(t, e.value);
                return r && o(r) ? r.then(s, c) : c(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "' + String(e.value) + '"'))
            }
            s()
        }
        )
    }
    function i(e) {
        return e ? o(e) ? e : function(e) {
            var t = e.constructor;
            return !!t && ("GeneratorFunction" === t.name || "GeneratorFunction" === t.displayName || a(t.prototype))
        }(e) || a(e) ? r.call(this, e) : "function" == typeof e ? function(e) {
            var t = this;
            return new Promise(function(r, i) {
                e.call(t, function(e, t) {
                    if (e)
                        return i(e);
                    arguments.length > 2 && (t = n.call(arguments, 1)),
                    r(t)
                })
            }
            )
        }
        .call(this, e) : Array.isArray(e) ? function(e) {
            return Promise.all(e.map(i, this))
        }
        .call(this, e) : Object == e.constructor ? function(e) {
            for (var t = new e.constructor, n = Object.keys(e), r = [], a = 0; a < n.length; a++) {
                var s = n[a]
                  , c = i.call(this, e[s]);
                c && o(c) ? l(c, s) : t[s] = e[s]
            }
            return Promise.all(r).then(function() {
                return t
            });
            function l(e, n) {
                t[n] = void 0,
                r.push(e.then(function(e) {
                    t[n] = e
                }))
            }
        }
        .call(this, e) : e : e
    }
    function o(e) {
        return "function" == typeof e.then
    }
    function a(e) {
        return "function" == typeof e.next && "function" == typeof e.throw
    }
    e.exports = r.default = r.co = r,
    r.wrap = function(e) {
        return t.__generatorFunction__ = e,
        t;
        function t() {
            return r.call(this, e.apply(this, arguments))
        }
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s;
        var h = "maximum" == t
          , p = h ? "exclusiveMaximum" : "exclusiveMinimum"
          , g = e.schema[p]
          , m = e.opts.$data && g && g.$data
          , v = h ? "<" : ">"
          , y = h ? ">" : "<"
          , b = void 0;
        if (m) {
            var w, x = e.util.getData(g.$data, a, e.dataPathArr), S = "exclusive" + o, C = "exclType" + o, _ = "exclIsNumber" + o, k = "' + " + (T = "op" + o) + " + '";
            i += " var schemaExcl" + o + " = " + x + "; ",
            i += " var " + S + "; var " + C + " = typeof " + (x = "schemaExcl" + o) + "; if (" + C + " != 'boolean' && " + C + " != 'undefined' && " + C + " != 'number') { ",
            b = p,
            (w = w || []).push(i),
            i = "",
            !1 !== e.createErrors ? (i += " { keyword: '" + (b || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
            !1 !== e.opts.messages && (i += " , message: '" + p + " should be boolean' "),
            e.opts.verbose && (i += " , schema: validate.schema" + c + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
            i += " } ") : i += " {} ";
            var E = i;
            i = w.pop(),
            !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + E + "]); " : i += " validate.errors = [" + E + "]; return false; " : i += " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            i += " } else if ( ",
            f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
            i += " " + C + " == 'number' ? ( (" + S + " = " + r + " === undefined || " + x + " " + v + "= " + r + ") ? " + d + " " + y + "= " + x + " : " + d + " " + y + " " + r + " ) : ( (" + S + " = " + x + " === true) ? " + d + " " + y + "= " + r + " : " + d + " " + y + " " + r + " ) || " + d + " !== " + d + ") { var op" + o + " = " + S + " ? '" + v + "' : '" + v + "=';"
        } else if (k = v,
        (_ = "number" == typeof g) && f) {
            var T = "'" + k + "'";
            i += " if ( ",
            f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
            i += " ( " + r + " === undefined || " + g + " " + v + "= " + r + " ? " + d + " " + y + "= " + g + " : " + d + " " + y + " " + r + " ) || " + d + " !== " + d + ") { "
        } else
            _ && void 0 === s ? (S = !0,
            b = p,
            l = e.errSchemaPath + "/" + p,
            r = g,
            y += "=") : (_ && (r = Math[h ? "min" : "max"](g, s)),
            g === (!_ || r) ? (S = !0,
            b = p,
            l = e.errSchemaPath + "/" + p,
            y += "=") : (S = !1,
            k += "=")),
            T = "'" + k + "'",
            i += " if ( ",
            f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
            i += " " + d + " " + y + " " + r + " || " + d + " !== " + d + ") { ";
        return b = b || t,
        (w = w || []).push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (b || "_limit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { comparison: " + T + ", limit: " + r + ", exclusive: " + S + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should be " + k + " ",
        i += f ? "' + " + r : r + "'"),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ",
        E = i,
        i = w.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + E + "]); " : i += " validate.errors = [" + E + "]; return false; " : i += " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += " } ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s,
        i += "if ( ",
        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
        i += " " + d + ".length " + ("maxItems" == t ? ">" : "<") + " " + r + ") { ";
        var h = t
          , p = p || [];
        p.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitItems") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
        i += "maxItems" == t ? "more" : "less",
        i += " than ",
        i += f ? "' + " + r + " + '" : "" + s,
        i += " items' "),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var g = i;
        return i = p.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s;
        var h = "maxLength" == t ? ">" : "<";
        i += "if ( ",
        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
        !1 === e.opts.unicode ? i += " " + d + ".length " : i += " ucs2length(" + d + ") ",
        i += " " + h + " " + r + ") { ";
        var p = t
          , g = g || [];
        g.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (p || "_limitLength") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT be ",
        i += "maxLength" == t ? "longer" : "shorter",
        i += " than ",
        i += f ? "' + " + r + " + '" : "" + s,
        i += " characters' "),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var m = i;
        return i = g.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + m + "]); " : i += " validate.errors = [" + m + "]; return false; " : i += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s,
        i += "if ( ",
        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
        i += " Object.keys(" + d + ").length " + ("maxProperties" == t ? ">" : "<") + " " + r + ") { ";
        var h = t
          , p = p || [];
        p.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitProperties") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
        i += "maxProperties" == t ? "more" : "less",
        i += " than ",
        i += f ? "' + " + r + " + '" : "" + s,
        i += " properties' "),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var g = i;
        return i = p.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t) {
    var n = {}.toString;
    e.exports = Array.isArray || function(e) {
        return "[object Array]" == n.call(e)
    }
}
, function(e, t, n) {
    (function(e) {
        var r = n(100)
          , i = n(30)
          , o = n(107)
          , a = n(108)
          , s = n(9)
          , c = t;
        c.request = function(t, n) {
            t = "string" == typeof t ? s.parse(t) : o(t);
            var i = -1 === e.location.protocol.search(/^https?:$/) ? "http:" : ""
              , a = t.protocol || i
              , c = t.hostname || t.host
              , l = t.port
              , u = t.path || "/";
            c && -1 !== c.indexOf(":") && (c = "[" + c + "]"),
            t.url = (c ? a + "//" + c : "") + (l ? ":" + l : "") + u,
            t.method = (t.method || "GET").toUpperCase(),
            t.headers = t.headers || {};
            var d = new r(t);
            return n && d.on("response", n),
            d
        }
        ,
        c.get = function(e, t) {
            var n = c.request(e, t);
            return n.end(),
            n
        }
        ,
        c.ClientRequest = r,
        c.IncomingMessage = i.IncomingMessage,
        c.Agent = function() {}
        ,
        c.Agent.defaultMaxSockets = 4,
        c.globalAgent = new c.Agent,
        c.STATUS_CODES = a,
        c.METHODS = ["CHECKOUT", "CONNECT", "COPY", "DELETE", "GET", "HEAD", "LOCK", "M-SEARCH", "MERGE", "MKACTIVITY", "MKCOL", "MOVE", "NOTIFY", "OPTIONS", "PATCH", "POST", "PROPFIND", "PROPPATCH", "PURGE", "PUT", "REPORT", "SEARCH", "SUBSCRIBE", "TRACE", "UNLOCK", "UNSUBSCRIBE"]
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    (function(e) {
        t.fetch = s(e.fetch) && s(e.ReadableStream),
        t.writableStream = s(e.WritableStream),
        t.abortController = s(e.AbortController),
        t.blobConstructor = !1;
        try {
            new Blob([new ArrayBuffer(1)]),
            t.blobConstructor = !0
        } catch (e) {}
        var n;
        function r() {
            if (void 0 !== n)
                return n;
            if (e.XMLHttpRequest) {
                n = new e.XMLHttpRequest;
                try {
                    n.open("GET", e.XDomainRequest ? "/" : "https://example.com")
                } catch (e) {
                    n = null
                }
            } else
                n = null;
            return n
        }
        function i(e) {
            var t = r();
            if (!t)
                return !1;
            try {
                return t.responseType = e,
                t.responseType === e
            } catch (e) {}
            return !1
        }
        var o = void 0 !== e.ArrayBuffer
          , a = o && s(e.ArrayBuffer.prototype.slice);
        function s(e) {
            return "function" == typeof e
        }
        t.arraybuffer = t.fetch || o && i("arraybuffer"),
        t.msstream = !t.fetch && a && i("ms-stream"),
        t.mozchunkedarraybuffer = !t.fetch && o && i("moz-chunked-arraybuffer"),
        t.overrideMimeType = t.fetch || !!r() && s(r().overrideMimeType),
        t.vbArray = s(e.VBArray),
        n = null
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    (function(e, r, i) {
        var o = n(29)
          , a = n(3)
          , s = n(31)
          , c = t.readyStates = {
            UNSENT: 0,
            OPENED: 1,
            HEADERS_RECEIVED: 2,
            LOADING: 3,
            DONE: 4
        }
          , l = t.IncomingMessage = function(t, n, a, c) {
            var l = this;
            if (s.Readable.call(l),
            l._mode = a,
            l.headers = {},
            l.rawHeaders = [],
            l.trailers = {},
            l.rawTrailers = [],
            l.on("end", function() {
                e.nextTick(function() {
                    l.emit("close")
                })
            }),
            "fetch" === a) {
                if (l._fetchResponse = n,
                l.url = n.url,
                l.statusCode = n.status,
                l.statusMessage = n.statusText,
                n.headers.forEach(function(e, t) {
                    l.headers[t.toLowerCase()] = e,
                    l.rawHeaders.push(t, e)
                }),
                o.writableStream) {
                    var u = new WritableStream({
                        write: function(e) {
                            return new Promise(function(t, n) {
                                l._destroyed ? n() : l.push(new r(e)) ? t() : l._resumeFetch = t
                            }
                            )
                        },
                        close: function() {
                            i.clearTimeout(c),
                            l._destroyed || l.push(null)
                        },
                        abort: function(e) {
                            l._destroyed || l.emit("error", e)
                        }
                    });
                    try {
                        return void n.body.pipeTo(u).catch(function(e) {
                            i.clearTimeout(c),
                            l._destroyed || l.emit("error", e)
                        })
                    } catch (e) {}
                }
                var d = n.body.getReader();
                !function e() {
                    d.read().then(function(t) {
                        if (!l._destroyed) {
                            if (t.done)
                                return i.clearTimeout(c),
                                void l.push(null);
                            l.push(new r(t.value)),
                            e()
                        }
                    }).catch(function(e) {
                        i.clearTimeout(c),
                        l._destroyed || l.emit("error", e)
                    })
                }()
            } else if (l._xhr = t,
            l._pos = 0,
            l.url = t.responseURL,
            l.statusCode = t.status,
            l.statusMessage = t.statusText,
            t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e) {
                var t = e.match(/^([^:]+):\s*(.*)/);
                if (t) {
                    var n = t[1].toLowerCase();
                    "set-cookie" === n ? (void 0 === l.headers[n] && (l.headers[n] = []),
                    l.headers[n].push(t[2])) : void 0 !== l.headers[n] ? l.headers[n] += ", " + t[2] : l.headers[n] = t[2],
                    l.rawHeaders.push(t[1], t[2])
                }
            }),
            l._charset = "x-user-defined",
            !o.overrideMimeType) {
                var f = l.rawHeaders["mime-type"];
                if (f) {
                    var h = f.match(/;\s*charset=([^;])(;|$)/);
                    h && (l._charset = h[1].toLowerCase())
                }
                l._charset || (l._charset = "utf-8")
            }
        }
        ;
        a(l, s.Readable),
        l.prototype._read = function() {
            var e = this._resumeFetch;
            e && (this._resumeFetch = null,
            e())
        }
        ,
        l.prototype._onXHRProgress = function() {
            var e = this
              , t = e._xhr
              , n = null;
            switch (e._mode) {
            case "text:vbarray":
                if (t.readyState !== c.DONE)
                    break;
                try {
                    n = new i.VBArray(t.responseBody).toArray()
                } catch (e) {}
                if (null !== n) {
                    e.push(new r(n));
                    break
                }
            case "text":
                try {
                    n = t.responseText
                } catch (t) {
                    e._mode = "text:vbarray";
                    break
                }
                if (n.length > e._pos) {
                    var o = n.substr(e._pos);
                    if ("x-user-defined" === e._charset) {
                        for (var a = new r(o.length), s = 0; s < o.length; s++)
                            a[s] = 255 & o.charCodeAt(s);
                        e.push(a)
                    } else
                        e.push(o, e._charset);
                    e._pos = n.length
                }
                break;
            case "arraybuffer":
                if (t.readyState !== c.DONE || !t.response)
                    break;
                n = t.response,
                e.push(new r(new Uint8Array(n)));
                break;
            case "moz-chunked-arraybuffer":
                if (n = t.response,
                t.readyState !== c.LOADING || !n)
                    break;
                e.push(new r(new Uint8Array(n)));
                break;
            case "ms-stream":
                if (n = t.response,
                t.readyState !== c.LOADING)
                    break;
                var l = new i.MSStreamReader;
                l.onprogress = function() {
                    l.result.byteLength > e._pos && (e.push(new r(new Uint8Array(l.result.slice(e._pos)))),
                    e._pos = l.result.byteLength)
                }
                ,
                l.onload = function() {
                    e.push(null)
                }
                ,
                l.readAsArrayBuffer(n)
            }
            e._xhr.readyState === c.DONE && "ms-stream" !== e._mode && e.push(null)
        }
    }
    ).call(this, n(2), n(6).Buffer, n(0))
}
, function(e, t, n) {
    (t = e.exports = n(32)).Stream = t,
    t.Readable = t,
    t.Writable = n(36),
    t.Duplex = n(7),
    t.Transform = n(38),
    t.PassThrough = n(105)
}
, function(e, t, n) {
    "use strict";
    (function(t, r) {
        var i = n(10);
        e.exports = b;
        var o, a = n(27);
        b.ReadableState = y,
        n(33).EventEmitter;
        var s = function(e, t) {
            return e.listeners(t).length
        }
          , c = n(34)
          , l = n(11).Buffer
          , u = t.Uint8Array || function() {}
          , d = n(8);
        d.inherits = n(3);
        var f = n(101)
          , h = void 0;
        h = f && f.debuglog ? f.debuglog("stream") : function() {}
        ;
        var p, g = n(102), m = n(35);
        d.inherits(b, c);
        var v = ["error", "close", "destroy", "pause", "resume"];
        function y(e, t) {
            o = o || n(7),
            e = e || {};
            var r = t instanceof o;
            this.objectMode = !!e.objectMode,
            r && (this.objectMode = this.objectMode || !!e.readableObjectMode);
            var i = e.highWaterMark
              , a = e.readableHighWaterMark
              , s = this.objectMode ? 16 : 16384;
            this.highWaterMark = i || 0 === i ? i : r && (a || 0 === a) ? a : s,
            this.highWaterMark = Math.floor(this.highWaterMark),
            this.buffer = new g,
            this.length = 0,
            this.pipes = null,
            this.pipesCount = 0,
            this.flowing = null,
            this.ended = !1,
            this.endEmitted = !1,
            this.reading = !1,
            this.sync = !0,
            this.needReadable = !1,
            this.emittedReadable = !1,
            this.readableListening = !1,
            this.resumeScheduled = !1,
            this.destroyed = !1,
            this.defaultEncoding = e.defaultEncoding || "utf8",
            this.awaitDrain = 0,
            this.readingMore = !1,
            this.decoder = null,
            this.encoding = null,
            e.encoding && (p || (p = n(37).StringDecoder),
            this.decoder = new p(e.encoding),
            this.encoding = e.encoding)
        }
        function b(e) {
            if (o = o || n(7),
            !(this instanceof b))
                return new b(e);
            this._readableState = new y(e,this),
            this.readable = !0,
            e && ("function" == typeof e.read && (this._read = e.read),
            "function" == typeof e.destroy && (this._destroy = e.destroy)),
            c.call(this)
        }
        function w(e, t, n, r, i) {
            var o, a = e._readableState;
            return null === t ? (a.reading = !1,
            function(e, t) {
                if (!t.ended) {
                    if (t.decoder) {
                        var n = t.decoder.end();
                        n && n.length && (t.buffer.push(n),
                        t.length += t.objectMode ? 1 : n.length)
                    }
                    t.ended = !0,
                    _(e)
                }
            }(e, a)) : (i || (o = function(e, t) {
                var n, r;
                return r = t,
                l.isBuffer(r) || r instanceof u || "string" == typeof t || void 0 === t || e.objectMode || (n = new TypeError("Invalid non-string/buffer chunk")),
                n
            }(a, t)),
            o ? e.emit("error", o) : a.objectMode || t && t.length > 0 ? ("string" == typeof t || a.objectMode || Object.getPrototypeOf(t) === l.prototype || (t = function(e) {
                return l.from(e)
            }(t)),
            r ? a.endEmitted ? e.emit("error", new Error("stream.unshift() after end event")) : x(e, a, t, !0) : a.ended ? e.emit("error", new Error("stream.push() after EOF")) : (a.reading = !1,
            a.decoder && !n ? (t = a.decoder.write(t),
            a.objectMode || 0 !== t.length ? x(e, a, t, !1) : E(e, a)) : x(e, a, t, !1))) : r || (a.reading = !1)),
            function(e) {
                return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length)
            }(a)
        }
        function x(e, t, n, r) {
            t.flowing && 0 === t.length && !t.sync ? (e.emit("data", n),
            e.read(0)) : (t.length += t.objectMode ? 1 : n.length,
            r ? t.buffer.unshift(n) : t.buffer.push(n),
            t.needReadable && _(e)),
            E(e, t)
        }
        Object.defineProperty(b.prototype, "destroyed", {
            get: function() {
                return void 0 !== this._readableState && this._readableState.destroyed
            },
            set: function(e) {
                this._readableState && (this._readableState.destroyed = e)
            }
        }),
        b.prototype.destroy = m.destroy,
        b.prototype._undestroy = m.undestroy,
        b.prototype._destroy = function(e, t) {
            this.push(null),
            t(e)
        }
        ,
        b.prototype.push = function(e, t) {
            var n, r = this._readableState;
            return r.objectMode ? n = !0 : "string" == typeof e && ((t = t || r.defaultEncoding) !== r.encoding && (e = l.from(e, t),
            t = ""),
            n = !0),
            w(this, e, t, !1, n)
        }
        ,
        b.prototype.unshift = function(e) {
            return w(this, e, null, !0, !1)
        }
        ,
        b.prototype.isPaused = function() {
            return !1 === this._readableState.flowing
        }
        ,
        b.prototype.setEncoding = function(e) {
            return p || (p = n(37).StringDecoder),
            this._readableState.decoder = new p(e),
            this._readableState.encoding = e,
            this
        }
        ;
        var S = 8388608;
        function C(e, t) {
            return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = function(e) {
                return e >= S ? e = S : (e--,
                e |= e >>> 1,
                e |= e >>> 2,
                e |= e >>> 4,
                e |= e >>> 8,
                e |= e >>> 16,
                e++),
                e
            }(e)),
            e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0,
            0))
        }
        function _(e) {
            var t = e._readableState;
            t.needReadable = !1,
            t.emittedReadable || (h("emitReadable", t.flowing),
            t.emittedReadable = !0,
            t.sync ? i.nextTick(k, e) : k(e))
        }
        function k(e) {
            h("emit readable"),
            e.emit("readable"),
            O(e)
        }
        function E(e, t) {
            t.readingMore || (t.readingMore = !0,
            i.nextTick(T, e, t))
        }
        function T(e, t) {
            for (var n = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (h("maybeReadMore read 0"),
            e.read(0),
            n !== t.length); )
                n = t.length;
            t.readingMore = !1
        }
        function P(e) {
            h("readable nexttick read 0"),
            e.read(0)
        }
        function A(e, t) {
            t.reading || (h("resume read 0"),
            e.read(0)),
            t.resumeScheduled = !1,
            t.awaitDrain = 0,
            e.emit("resume"),
            O(e),
            t.flowing && !t.reading && e.read(0)
        }
        function O(e) {
            var t = e._readableState;
            for (h("flow", t.flowing); t.flowing && null !== e.read(); )
                ;
        }
        function $(e, t) {
            return 0 === t.length ? null : (t.objectMode ? n = t.buffer.shift() : !e || e >= t.length ? (n = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length),
            t.buffer.clear()) : n = function(e, t, n) {
                var r;
                return e < t.head.data.length ? (r = t.head.data.slice(0, e),
                t.head.data = t.head.data.slice(e)) : r = e === t.head.data.length ? t.shift() : n ? function(e, t) {
                    var n = t.head
                      , r = 1
                      , i = n.data;
                    for (e -= i.length; n = n.next; ) {
                        var o = n.data
                          , a = e > o.length ? o.length : e;
                        if (a === o.length ? i += o : i += o.slice(0, e),
                        0 == (e -= a)) {
                            a === o.length ? (++r,
                            n.next ? t.head = n.next : t.head = t.tail = null) : (t.head = n,
                            n.data = o.slice(a));
                            break
                        }
                        ++r
                    }
                    return t.length -= r,
                    i
                }(e, t) : function(e, t) {
                    var n = l.allocUnsafe(e)
                      , r = t.head
                      , i = 1;
                    for (r.data.copy(n),
                    e -= r.data.length; r = r.next; ) {
                        var o = r.data
                          , a = e > o.length ? o.length : e;
                        if (o.copy(n, n.length - e, 0, a),
                        0 == (e -= a)) {
                            a === o.length ? (++i,
                            r.next ? t.head = r.next : t.head = t.tail = null) : (t.head = r,
                            r.data = o.slice(a));
                            break
                        }
                        ++i
                    }
                    return t.length -= i,
                    n
                }(e, t),
                r
            }(e, t.buffer, t.decoder),
            n);
            var n
        }
        function j(e) {
            var t = e._readableState;
            if (t.length > 0)
                throw new Error('"endReadable()" called on non-empty stream');
            t.endEmitted || (t.ended = !0,
            i.nextTick(D, t, e))
        }
        function D(e, t) {
            e.endEmitted || 0 !== e.length || (e.endEmitted = !0,
            t.readable = !1,
            t.emit("end"))
        }
        function R(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                if (e[n] === t)
                    return n;
            return -1
        }
        b.prototype.read = function(e) {
            h("read", e),
            e = parseInt(e, 10);
            var t = this._readableState
              , n = e;
            if (0 !== e && (t.emittedReadable = !1),
            0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended))
                return h("read: emitReadable", t.length, t.ended),
                0 === t.length && t.ended ? j(this) : _(this),
                null;
            if (0 === (e = C(e, t)) && t.ended)
                return 0 === t.length && j(this),
                null;
            var r, i = t.needReadable;
            return h("need readable", i),
            (0 === t.length || t.length - e < t.highWaterMark) && h("length less than watermark", i = !0),
            t.ended || t.reading ? h("reading or ended", i = !1) : i && (h("do read"),
            t.reading = !0,
            t.sync = !0,
            0 === t.length && (t.needReadable = !0),
            this._read(t.highWaterMark),
            t.sync = !1,
            t.reading || (e = C(n, t))),
            null === (r = e > 0 ? $(e, t) : null) ? (t.needReadable = !0,
            e = 0) : t.length -= e,
            0 === t.length && (t.ended || (t.needReadable = !0),
            n !== e && t.ended && j(this)),
            null !== r && this.emit("data", r),
            r
        }
        ,
        b.prototype._read = function(e) {
            this.emit("error", new Error("_read() is not implemented"))
        }
        ,
        b.prototype.pipe = function(e, t) {
            var n = this
              , o = this._readableState;
            switch (o.pipesCount) {
            case 0:
                o.pipes = e;
                break;
            case 1:
                o.pipes = [o.pipes, e];
                break;
            default:
                o.pipes.push(e)
            }
            o.pipesCount += 1,
            h("pipe count=%d opts=%j", o.pipesCount, t);
            var c = t && !1 === t.end || e === r.stdout || e === r.stderr ? y : l;
            function l() {
                h("onend"),
                e.end()
            }
            o.endEmitted ? i.nextTick(c) : n.once("end", c),
            e.on("unpipe", function t(r, i) {
                h("onunpipe"),
                r === n && i && !1 === i.hasUnpiped && (i.hasUnpiped = !0,
                h("cleanup"),
                e.removeListener("close", m),
                e.removeListener("finish", v),
                e.removeListener("drain", u),
                e.removeListener("error", g),
                e.removeListener("unpipe", t),
                n.removeListener("end", l),
                n.removeListener("end", y),
                n.removeListener("data", p),
                d = !0,
                !o.awaitDrain || e._writableState && !e._writableState.needDrain || u())
            });
            var u = function(e) {
                return function() {
                    var t = e._readableState;
                    h("pipeOnDrain", t.awaitDrain),
                    t.awaitDrain && t.awaitDrain--,
                    0 === t.awaitDrain && s(e, "data") && (t.flowing = !0,
                    O(e))
                }
            }(n);
            e.on("drain", u);
            var d = !1
              , f = !1;
            function p(t) {
                h("ondata"),
                f = !1,
                !1 !== e.write(t) || f || ((1 === o.pipesCount && o.pipes === e || o.pipesCount > 1 && -1 !== R(o.pipes, e)) && !d && (h("false write response, pause", n._readableState.awaitDrain),
                n._readableState.awaitDrain++,
                f = !0),
                n.pause())
            }
            function g(t) {
                h("onerror", t),
                y(),
                e.removeListener("error", g),
                0 === s(e, "error") && e.emit("error", t)
            }
            function m() {
                e.removeListener("finish", v),
                y()
            }
            function v() {
                h("onfinish"),
                e.removeListener("close", m),
                y()
            }
            function y() {
                h("unpipe"),
                n.unpipe(e)
            }
            return n.on("data", p),
            function(e, t, n) {
                if ("function" == typeof e.prependListener)
                    return e.prependListener(t, n);
                e._events && e._events[t] ? a(e._events[t]) ? e._events[t].unshift(n) : e._events[t] = [n, e._events[t]] : e.on(t, n)
            }(e, "error", g),
            e.once("close", m),
            e.once("finish", v),
            e.emit("pipe", n),
            o.flowing || (h("pipe resume"),
            n.resume()),
            e
        }
        ,
        b.prototype.unpipe = function(e) {
            var t = this._readableState
              , n = {
                hasUnpiped: !1
            };
            if (0 === t.pipesCount)
                return this;
            if (1 === t.pipesCount)
                return e && e !== t.pipes ? this : (e || (e = t.pipes),
                t.pipes = null,
                t.pipesCount = 0,
                t.flowing = !1,
                e && e.emit("unpipe", this, n),
                this);
            if (!e) {
                var r = t.pipes
                  , i = t.pipesCount;
                t.pipes = null,
                t.pipesCount = 0,
                t.flowing = !1;
                for (var o = 0; o < i; o++)
                    r[o].emit("unpipe", this, n);
                return this
            }
            var a = R(t.pipes, e);
            return -1 === a ? this : (t.pipes.splice(a, 1),
            t.pipesCount -= 1,
            1 === t.pipesCount && (t.pipes = t.pipes[0]),
            e.emit("unpipe", this, n),
            this)
        }
        ,
        b.prototype.on = function(e, t) {
            var n = c.prototype.on.call(this, e, t);
            if ("data" === e)
                !1 !== this._readableState.flowing && this.resume();
            else if ("readable" === e) {
                var r = this._readableState;
                r.endEmitted || r.readableListening || (r.readableListening = r.needReadable = !0,
                r.emittedReadable = !1,
                r.reading ? r.length && _(this) : i.nextTick(P, this))
            }
            return n
        }
        ,
        b.prototype.addListener = b.prototype.on,
        b.prototype.resume = function() {
            var e = this._readableState;
            return e.flowing || (h("resume"),
            e.flowing = !0,
            function(e, t) {
                t.resumeScheduled || (t.resumeScheduled = !0,
                i.nextTick(A, e, t))
            }(this, e)),
            this
        }
        ,
        b.prototype.pause = function() {
            return h("call pause flowing=%j", this._readableState.flowing),
            !1 !== this._readableState.flowing && (h("pause"),
            this._readableState.flowing = !1,
            this.emit("pause")),
            this
        }
        ,
        b.prototype.wrap = function(e) {
            var t = this
              , n = this._readableState
              , r = !1;
            for (var i in e.on("end", function() {
                if (h("wrapped end"),
                n.decoder && !n.ended) {
                    var e = n.decoder.end();
                    e && e.length && t.push(e)
                }
                t.push(null)
            }),
            e.on("data", function(i) {
                h("wrapped data"),
                n.decoder && (i = n.decoder.write(i)),
                (!n.objectMode || null !== i && void 0 !== i) && (n.objectMode || i && i.length) && (t.push(i) || (r = !0,
                e.pause()))
            }),
            e)
                void 0 === this[i] && "function" == typeof e[i] && (this[i] = function(t) {
                    return function() {
                        return e[t].apply(e, arguments)
                    }
                }(i));
            for (var o = 0; o < v.length; o++)
                e.on(v[o], this.emit.bind(this, v[o]));
            return this._read = function(t) {
                h("wrapped _read", t),
                r && (r = !1,
                e.resume())
            }
            ,
            this
        }
        ,
        Object.defineProperty(b.prototype, "readableHighWaterMark", {
            enumerable: !1,
            get: function() {
                return this._readableState.highWaterMark
            }
        }),
        b._fromList = $
    }
    ).call(this, n(0), n(2))
}
, function(e, t) {
    function n() {
        this._events = this._events || {},
        this._maxListeners = this._maxListeners || void 0
    }
    function r(e) {
        return "function" == typeof e
    }
    function i(e) {
        return "object" == typeof e && null !== e
    }
    function o(e) {
        return void 0 === e
    }
    e.exports = n,
    n.EventEmitter = n,
    n.prototype._events = void 0,
    n.prototype._maxListeners = void 0,
    n.defaultMaxListeners = 10,
    n.prototype.setMaxListeners = function(e) {
        if ("number" != typeof e || e < 0 || isNaN(e))
            throw TypeError("n must be a positive number");
        return this._maxListeners = e,
        this
    }
    ,
    n.prototype.emit = function(e) {
        var t, n, a, s, c, l;
        if (this._events || (this._events = {}),
        "error" === e && (!this._events.error || i(this._events.error) && !this._events.error.length)) {
            if ((t = arguments[1])instanceof Error)
                throw t;
            var u = new Error('Uncaught, unspecified "error" event. (' + t + ")");
            throw u.context = t,
            u
        }
        if (o(n = this._events[e]))
            return !1;
        if (r(n))
            switch (arguments.length) {
            case 1:
                n.call(this);
                break;
            case 2:
                n.call(this, arguments[1]);
                break;
            case 3:
                n.call(this, arguments[1], arguments[2]);
                break;
            default:
                s = Array.prototype.slice.call(arguments, 1),
                n.apply(this, s)
            }
        else if (i(n))
            for (s = Array.prototype.slice.call(arguments, 1),
            a = (l = n.slice()).length,
            c = 0; c < a; c++)
                l[c].apply(this, s);
        return !0
    }
    ,
    n.prototype.addListener = function(e, t) {
        var a;
        if (!r(t))
            throw TypeError("listener must be a function");
        return this._events || (this._events = {}),
        this._events.newListener && this.emit("newListener", e, r(t.listener) ? t.listener : t),
        this._events[e] ? i(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t,
        i(this._events[e]) && !this._events[e].warned && (a = o(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners) && a > 0 && this._events[e].length > a && (this._events[e].warned = !0,
        console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length),
        "function" == typeof console.trace && console.trace()),
        this
    }
    ,
    n.prototype.on = n.prototype.addListener,
    n.prototype.once = function(e, t) {
        if (!r(t))
            throw TypeError("listener must be a function");
        var n = !1;
        function i() {
            this.removeListener(e, i),
            n || (n = !0,
            t.apply(this, arguments))
        }
        return i.listener = t,
        this.on(e, i),
        this
    }
    ,
    n.prototype.removeListener = function(e, t) {
        var n, o, a, s;
        if (!r(t))
            throw TypeError("listener must be a function");
        if (!this._events || !this._events[e])
            return this;
        if (a = (n = this._events[e]).length,
        o = -1,
        n === t || r(n.listener) && n.listener === t)
            delete this._events[e],
            this._events.removeListener && this.emit("removeListener", e, t);
        else if (i(n)) {
            for (s = a; s-- > 0; )
                if (n[s] === t || n[s].listener && n[s].listener === t) {
                    o = s;
                    break
                }
            if (o < 0)
                return this;
            1 === n.length ? (n.length = 0,
            delete this._events[e]) : n.splice(o, 1),
            this._events.removeListener && this.emit("removeListener", e, t)
        }
        return this
    }
    ,
    n.prototype.removeAllListeners = function(e) {
        var t, n;
        if (!this._events)
            return this;
        if (!this._events.removeListener)
            return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e],
            this;
        if (0 === arguments.length) {
            for (t in this._events)
                "removeListener" !== t && this.removeAllListeners(t);
            return this.removeAllListeners("removeListener"),
            this._events = {},
            this
        }
        if (r(n = this._events[e]))
            this.removeListener(e, n);
        else if (n)
            for (; n.length; )
                this.removeListener(e, n[n.length - 1]);
        return delete this._events[e],
        this
    }
    ,
    n.prototype.listeners = function(e) {
        return this._events && this._events[e] ? r(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
    }
    ,
    n.prototype.listenerCount = function(e) {
        if (this._events) {
            var t = this._events[e];
            if (r(t))
                return 1;
            if (t)
                return t.length
        }
        return 0
    }
    ,
    n.listenerCount = function(e, t) {
        return e.listenerCount(t)
    }
}
, function(e, t, n) {
    e.exports = n(33).EventEmitter
}
, function(e, t, n) {
    "use strict";
    var r = n(10);
    function i(e, t) {
        e.emit("error", t)
    }
    e.exports = {
        destroy: function(e, t) {
            var n = this
              , o = this._readableState && this._readableState.destroyed
              , a = this._writableState && this._writableState.destroyed;
            return o || a ? (t ? t(e) : !e || this._writableState && this._writableState.errorEmitted || r.nextTick(i, this, e),
            this) : (this._readableState && (this._readableState.destroyed = !0),
            this._writableState && (this._writableState.destroyed = !0),
            this._destroy(e || null, function(e) {
                !t && e ? (r.nextTick(i, n, e),
                n._writableState && (n._writableState.errorEmitted = !0)) : t && t(e)
            }),
            this)
        },
        undestroy: function() {
            this._readableState && (this._readableState.destroyed = !1,
            this._readableState.reading = !1,
            this._readableState.ended = !1,
            this._readableState.endEmitted = !1),
            this._writableState && (this._writableState.destroyed = !1,
            this._writableState.ended = !1,
            this._writableState.ending = !1,
            this._writableState.finished = !1,
            this._writableState.errorEmitted = !1)
        }
    }
}
, function(e, t, n) {
    "use strict";
    (function(t, r, i) {
        var o = n(10);
        function a(e) {
            var t = this;
            this.next = null,
            this.entry = null,
            this.finish = function() {
                !function(e, t, n) {
                    var r = e.entry;
                    for (e.entry = null; r; ) {
                        var i = r.callback;
                        t.pendingcb--,
                        i(void 0),
                        r = r.next
                    }
                    t.corkedRequestsFree ? t.corkedRequestsFree.next = e : t.corkedRequestsFree = e
                }(t, e)
            }
        }
        e.exports = y;
        var s, c = !t.browser && ["v0.10", "v0.9."].indexOf(t.version.slice(0, 5)) > -1 ? r : o.nextTick;
        y.WritableState = v;
        var l = n(8);
        l.inherits = n(3);
        var u, d = {
            deprecate: n(104)
        }, f = n(34), h = n(11).Buffer, p = i.Uint8Array || function() {}
        , g = n(35);
        function m() {}
        function v(e, t) {
            s = s || n(7),
            e = e || {};
            var r = t instanceof s;
            this.objectMode = !!e.objectMode,
            r && (this.objectMode = this.objectMode || !!e.writableObjectMode);
            var i = e.highWaterMark
              , l = e.writableHighWaterMark
              , u = this.objectMode ? 16 : 16384;
            this.highWaterMark = i || 0 === i ? i : r && (l || 0 === l) ? l : u,
            this.highWaterMark = Math.floor(this.highWaterMark),
            this.finalCalled = !1,
            this.needDrain = !1,
            this.ending = !1,
            this.ended = !1,
            this.finished = !1,
            this.destroyed = !1;
            var d = !1 === e.decodeStrings;
            this.decodeStrings = !d,
            this.defaultEncoding = e.defaultEncoding || "utf8",
            this.length = 0,
            this.writing = !1,
            this.corked = 0,
            this.sync = !0,
            this.bufferProcessing = !1,
            this.onwrite = function(e) {
                !function(e, t) {
                    var n = e._writableState
                      , r = n.sync
                      , i = n.writecb;
                    if (function(e) {
                        e.writing = !1,
                        e.writecb = null,
                        e.length -= e.writelen,
                        e.writelen = 0
                    }(n),
                    t)
                        !function(e, t, n, r, i) {
                            --t.pendingcb,
                            n ? (o.nextTick(i, r),
                            o.nextTick(_, e, t),
                            e._writableState.errorEmitted = !0,
                            e.emit("error", r)) : (i(r),
                            e._writableState.errorEmitted = !0,
                            e.emit("error", r),
                            _(e, t))
                        }(e, n, r, t, i);
                    else {
                        var a = S(n);
                        a || n.corked || n.bufferProcessing || !n.bufferedRequest || x(e, n),
                        r ? c(w, e, n, a, i) : w(e, n, a, i)
                    }
                }(t, e)
            }
            ,
            this.writecb = null,
            this.writelen = 0,
            this.bufferedRequest = null,
            this.lastBufferedRequest = null,
            this.pendingcb = 0,
            this.prefinished = !1,
            this.errorEmitted = !1,
            this.bufferedRequestCount = 0,
            this.corkedRequestsFree = new a(this)
        }
        function y(e) {
            if (s = s || n(7),
            !(u.call(y, this) || this instanceof s))
                return new y(e);
            this._writableState = new v(e,this),
            this.writable = !0,
            e && ("function" == typeof e.write && (this._write = e.write),
            "function" == typeof e.writev && (this._writev = e.writev),
            "function" == typeof e.destroy && (this._destroy = e.destroy),
            "function" == typeof e.final && (this._final = e.final)),
            f.call(this)
        }
        function b(e, t, n, r, i, o, a) {
            t.writelen = r,
            t.writecb = a,
            t.writing = !0,
            t.sync = !0,
            n ? e._writev(i, t.onwrite) : e._write(i, o, t.onwrite),
            t.sync = !1
        }
        function w(e, t, n, r) {
            n || function(e, t) {
                0 === t.length && t.needDrain && (t.needDrain = !1,
                e.emit("drain"))
            }(e, t),
            t.pendingcb--,
            r(),
            _(e, t)
        }
        function x(e, t) {
            t.bufferProcessing = !0;
            var n = t.bufferedRequest;
            if (e._writev && n && n.next) {
                var r = t.bufferedRequestCount
                  , i = new Array(r)
                  , o = t.corkedRequestsFree;
                o.entry = n;
                for (var s = 0, c = !0; n; )
                    i[s] = n,
                    n.isBuf || (c = !1),
                    n = n.next,
                    s += 1;
                i.allBuffers = c,
                b(e, t, !0, t.length, i, "", o.finish),
                t.pendingcb++,
                t.lastBufferedRequest = null,
                o.next ? (t.corkedRequestsFree = o.next,
                o.next = null) : t.corkedRequestsFree = new a(t),
                t.bufferedRequestCount = 0
            } else {
                for (; n; ) {
                    var l = n.chunk
                      , u = n.encoding
                      , d = n.callback;
                    if (b(e, t, !1, t.objectMode ? 1 : l.length, l, u, d),
                    n = n.next,
                    t.bufferedRequestCount--,
                    t.writing)
                        break
                }
                null === n && (t.lastBufferedRequest = null)
            }
            t.bufferedRequest = n,
            t.bufferProcessing = !1
        }
        function S(e) {
            return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing
        }
        function C(e, t) {
            e._final(function(n) {
                t.pendingcb--,
                n && e.emit("error", n),
                t.prefinished = !0,
                e.emit("prefinish"),
                _(e, t)
            })
        }
        function _(e, t) {
            var n = S(t);
            return n && (function(e, t) {
                t.prefinished || t.finalCalled || ("function" == typeof e._final ? (t.pendingcb++,
                t.finalCalled = !0,
                o.nextTick(C, e, t)) : (t.prefinished = !0,
                e.emit("prefinish")))
            }(e, t),
            0 === t.pendingcb && (t.finished = !0,
            e.emit("finish"))),
            n
        }
        l.inherits(y, f),
        v.prototype.getBuffer = function() {
            for (var e = this.bufferedRequest, t = []; e; )
                t.push(e),
                e = e.next;
            return t
        }
        ,
        function() {
            try {
                Object.defineProperty(v.prototype, "buffer", {
                    get: d.deprecate(function() {
                        return this.getBuffer()
                    }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
                })
            } catch (e) {}
        }(),
        "function" == typeof Symbol && Symbol.hasInstance && "function" == typeof Function.prototype[Symbol.hasInstance] ? (u = Function.prototype[Symbol.hasInstance],
        Object.defineProperty(y, Symbol.hasInstance, {
            value: function(e) {
                return !!u.call(this, e) || this === y && e && e._writableState instanceof v
            }
        })) : u = function(e) {
            return e instanceof this
        }
        ,
        y.prototype.pipe = function() {
            this.emit("error", new Error("Cannot pipe, not readable"))
        }
        ,
        y.prototype.write = function(e, t, n) {
            var r, i = this._writableState, a = !1, s = !i.objectMode && (r = e,
            h.isBuffer(r) || r instanceof p);
            return s && !h.isBuffer(e) && (e = function(e) {
                return h.from(e)
            }(e)),
            "function" == typeof t && (n = t,
            t = null),
            s ? t = "buffer" : t || (t = i.defaultEncoding),
            "function" != typeof n && (n = m),
            i.ended ? function(e, t) {
                var n = new Error("write after end");
                e.emit("error", n),
                o.nextTick(t, n)
            }(this, n) : (s || function(e, t, n, r) {
                var i = !0
                  , a = !1;
                return null === n ? a = new TypeError("May not write null values to stream") : "string" == typeof n || void 0 === n || t.objectMode || (a = new TypeError("Invalid non-string/buffer chunk")),
                a && (e.emit("error", a),
                o.nextTick(r, a),
                i = !1),
                i
            }(this, i, e, n)) && (i.pendingcb++,
            a = function(e, t, n, r, i, o) {
                if (!n) {
                    var a = function(e, t, n) {
                        return e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = h.from(t, n)),
                        t
                    }(t, r, i);
                    r !== a && (n = !0,
                    i = "buffer",
                    r = a)
                }
                var s = t.objectMode ? 1 : r.length;
                t.length += s;
                var c = t.length < t.highWaterMark;
                if (c || (t.needDrain = !0),
                t.writing || t.corked) {
                    var l = t.lastBufferedRequest;
                    t.lastBufferedRequest = {
                        chunk: r,
                        encoding: i,
                        isBuf: n,
                        callback: o,
                        next: null
                    },
                    l ? l.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest,
                    t.bufferedRequestCount += 1
                } else
                    b(e, t, !1, s, r, i, o);
                return c
            }(this, i, s, e, t, n)),
            a
        }
        ,
        y.prototype.cork = function() {
            this._writableState.corked++
        }
        ,
        y.prototype.uncork = function() {
            var e = this._writableState;
            e.corked && (e.corked--,
            e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || x(this, e))
        }
        ,
        y.prototype.setDefaultEncoding = function(e) {
            if ("string" == typeof e && (e = e.toLowerCase()),
            !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1))
                throw new TypeError("Unknown encoding: " + e);
            return this._writableState.defaultEncoding = e,
            this
        }
        ,
        Object.defineProperty(y.prototype, "writableHighWaterMark", {
            enumerable: !1,
            get: function() {
                return this._writableState.highWaterMark
            }
        }),
        y.prototype._write = function(e, t, n) {
            n(new Error("_write() is not implemented"))
        }
        ,
        y.prototype._writev = null,
        y.prototype.end = function(e, t, n) {
            var r = this._writableState;
            "function" == typeof e ? (n = e,
            e = null,
            t = null) : "function" == typeof t && (n = t,
            t = null),
            null !== e && void 0 !== e && this.write(e, t),
            r.corked && (r.corked = 1,
            this.uncork()),
            r.ending || r.finished || function(e, t, n) {
                t.ending = !0,
                _(e, t),
                n && (t.finished ? o.nextTick(n) : e.once("finish", n)),
                t.ended = !0,
                e.writable = !1
            }(this, r, n)
        }
        ,
        Object.defineProperty(y.prototype, "destroyed", {
            get: function() {
                return void 0 !== this._writableState && this._writableState.destroyed
            },
            set: function(e) {
                this._writableState && (this._writableState.destroyed = e)
            }
        }),
        y.prototype.destroy = g.destroy,
        y.prototype._undestroy = g.undestroy,
        y.prototype._destroy = function(e, t) {
            this.end(),
            t(e)
        }
    }
    ).call(this, n(2), n(18).setImmediate, n(0))
}
, function(e, t, n) {
    "use strict";
    var r = n(11).Buffer
      , i = r.isEncoding || function(e) {
        switch ((e = "" + e) && e.toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
        case "raw":
            return !0;
        default:
            return !1
        }
    }
    ;
    function o(e) {
        var t;
        switch (this.encoding = function(e) {
            var t = function(e) {
                if (!e)
                    return "utf8";
                for (var t; ; )
                    switch (e) {
                    case "utf8":
                    case "utf-8":
                        return "utf8";
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return "utf16le";
                    case "latin1":
                    case "binary":
                        return "latin1";
                    case "base64":
                    case "ascii":
                    case "hex":
                        return e;
                    default:
                        if (t)
                            return;
                        e = ("" + e).toLowerCase(),
                        t = !0
                    }
            }(e);
            if ("string" != typeof t && (r.isEncoding === i || !i(e)))
                throw new Error("Unknown encoding: " + e);
            return t || e
        }(e),
        this.encoding) {
        case "utf16le":
            this.text = c,
            this.end = l,
            t = 4;
            break;
        case "utf8":
            this.fillLast = s,
            t = 4;
            break;
        case "base64":
            this.text = u,
            this.end = d,
            t = 3;
            break;
        default:
            return this.write = f,
            void (this.end = h)
        }
        this.lastNeed = 0,
        this.lastTotal = 0,
        this.lastChar = r.allocUnsafe(t)
    }
    function a(e) {
        return e <= 127 ? 0 : e >> 5 == 6 ? 2 : e >> 4 == 14 ? 3 : e >> 3 == 30 ? 4 : e >> 6 == 2 ? -1 : -2
    }
    function s(e) {
        var t = this.lastTotal - this.lastNeed
          , n = function(e, t, n) {
            if (128 != (192 & t[0]))
                return e.lastNeed = 0,
                "";
            if (e.lastNeed > 1 && t.length > 1) {
                if (128 != (192 & t[1]))
                    return e.lastNeed = 1,
                    "";
                if (e.lastNeed > 2 && t.length > 2 && 128 != (192 & t[2]))
                    return e.lastNeed = 2,
                    ""
            }
        }(this, e);
        return void 0 !== n ? n : this.lastNeed <= e.length ? (e.copy(this.lastChar, t, 0, this.lastNeed),
        this.lastChar.toString(this.encoding, 0, this.lastTotal)) : (e.copy(this.lastChar, t, 0, e.length),
        void (this.lastNeed -= e.length))
    }
    function c(e, t) {
        if ((e.length - t) % 2 == 0) {
            var n = e.toString("utf16le", t);
            if (n) {
                var r = n.charCodeAt(n.length - 1);
                if (r >= 55296 && r <= 56319)
                    return this.lastNeed = 2,
                    this.lastTotal = 4,
                    this.lastChar[0] = e[e.length - 2],
                    this.lastChar[1] = e[e.length - 1],
                    n.slice(0, -1)
            }
            return n
        }
        return this.lastNeed = 1,
        this.lastTotal = 2,
        this.lastChar[0] = e[e.length - 1],
        e.toString("utf16le", t, e.length - 1)
    }
    function l(e) {
        var t = e && e.length ? this.write(e) : "";
        if (this.lastNeed) {
            var n = this.lastTotal - this.lastNeed;
            return t + this.lastChar.toString("utf16le", 0, n)
        }
        return t
    }
    function u(e, t) {
        var n = (e.length - t) % 3;
        return 0 === n ? e.toString("base64", t) : (this.lastNeed = 3 - n,
        this.lastTotal = 3,
        1 === n ? this.lastChar[0] = e[e.length - 1] : (this.lastChar[0] = e[e.length - 2],
        this.lastChar[1] = e[e.length - 1]),
        e.toString("base64", t, e.length - n))
    }
    function d(e) {
        var t = e && e.length ? this.write(e) : "";
        return this.lastNeed ? t + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : t
    }
    function f(e) {
        return e.toString(this.encoding)
    }
    function h(e) {
        return e && e.length ? this.write(e) : ""
    }
    t.StringDecoder = o,
    o.prototype.write = function(e) {
        if (0 === e.length)
            return "";
        var t, n;
        if (this.lastNeed) {
            if (void 0 === (t = this.fillLast(e)))
                return "";
            n = this.lastNeed,
            this.lastNeed = 0
        } else
            n = 0;
        return n < e.length ? t ? t + this.text(e, n) : this.text(e, n) : t || ""
    }
    ,
    o.prototype.end = function(e) {
        var t = e && e.length ? this.write(e) : "";
        return this.lastNeed ? t + "" : t
    }
    ,
    o.prototype.text = function(e, t) {
        var n = function(e, t, n) {
            var r = t.length - 1;
            if (r < n)
                return 0;
            var i = a(t[r]);
            return i >= 0 ? (i > 0 && (e.lastNeed = i - 1),
            i) : --r < n || -2 === i ? 0 : (i = a(t[r])) >= 0 ? (i > 0 && (e.lastNeed = i - 2),
            i) : --r < n || -2 === i ? 0 : (i = a(t[r])) >= 0 ? (i > 0 && (2 === i ? i = 0 : e.lastNeed = i - 3),
            i) : 0
        }(this, e, t);
        if (!this.lastNeed)
            return e.toString("utf8", t);
        this.lastTotal = n;
        var r = e.length - (n - this.lastNeed);
        return e.copy(this.lastChar, 0, r),
        e.toString("utf8", t, r)
    }
    ,
    o.prototype.fillLast = function(e) {
        if (this.lastNeed <= e.length)
            return e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed),
            this.lastChar.toString(this.encoding, 0, this.lastTotal);
        e.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, e.length),
        this.lastNeed -= e.length
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = o;
    var r = n(7)
      , i = n(8);
    function o(e) {
        if (!(this instanceof o))
            return new o(e);
        r.call(this, e),
        this._transformState = {
            afterTransform: function(e, t) {
                var n = this._transformState;
                n.transforming = !1;
                var r = n.writecb;
                if (!r)
                    return this.emit("error", new Error("write callback called multiple times"));
                n.writechunk = null,
                n.writecb = null,
                null != t && this.push(t),
                r(e);
                var i = this._readableState;
                i.reading = !1,
                (i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark)
            }
            .bind(this),
            needTransform: !1,
            transforming: !1,
            writecb: null,
            writechunk: null,
            writeencoding: null
        },
        this._readableState.needReadable = !0,
        this._readableState.sync = !1,
        e && ("function" == typeof e.transform && (this._transform = e.transform),
        "function" == typeof e.flush && (this._flush = e.flush)),
        this.on("prefinish", a)
    }
    function a() {
        var e = this;
        "function" == typeof this._flush ? this._flush(function(t, n) {
            s(e, t, n)
        }) : s(this, null, null)
    }
    function s(e, t, n) {
        if (t)
            return e.emit("error", t);
        if (null != n && e.push(n),
        e._writableState.length)
            throw new Error("Calling transform done when ws.length != 0");
        if (e._transformState.transforming)
            throw new Error("Calling transform done when still transforming");
        return e.push(null)
    }
    i.inherits = n(3),
    i.inherits(o, r),
    o.prototype.push = function(e, t) {
        return this._transformState.needTransform = !1,
        r.prototype.push.call(this, e, t)
    }
    ,
    o.prototype._transform = function(e, t, n) {
        throw new Error("_transform() is not implemented")
    }
    ,
    o.prototype._write = function(e, t, n) {
        var r = this._transformState;
        if (r.writecb = n,
        r.writechunk = e,
        r.writeencoding = t,
        !r.transforming) {
            var i = this._readableState;
            (r.needTransform || i.needReadable || i.length < i.highWaterMark) && this._read(i.highWaterMark)
        }
    }
    ,
    o.prototype._read = function(e) {
        var t = this._transformState;
        null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0,
        this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0
    }
    ,
    o.prototype._destroy = function(e, t) {
        var n = this;
        r.prototype._destroy.call(this, e, function(e) {
            t(e),
            n.emit("close")
        })
    }
}
, function(e, t, n) {
    n(40),
    n(41),
    n(44),
    n(47),
    n(49),
    n(50),
    n(93),
    n(16),
    n(94),
    n(110),
    n(111),
    n(112),
    n(114),
    n(115),
    n(116),
    n(117),
    n(118),
    n(119),
    n(120),
    n(121),
    n(122),
    n(123),
    n(124),
    n(125),
    n(126),
    n(127),
    n(128),
    n(129),
    n(130),
    n(131),
    n(132),
    n(133),
    n(134),
    n(135),
    n(136),
    n(137),
    n(138),
    n(139),
    n(140),
    n(141),
    n(142),
    n(143),
    n(144),
    n(145),
    n(146),
    n(147),
    n(148),
    n(149),
    n(150),
    n(151),
    n(152),
    n(153),
    n(154),
    n(155),
    n(156),
    n(157),
    n(158),
    n(159),
    n(160),
    n(161),
    n(162),
    n(163),
    n(164),
    n(165),
    n(166),
    n(167),
    n(168),
    n(169),
    n(170),
    n(171),
    n(172),
    n(173),
    n(174),
    e.exports = n(175)
}
, function(e, t, n) {
    var r;
    /*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
    /*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
    !function(t, n) {
        "use strict";
        "object" == typeof e && "object" == typeof e.exports ? e.exports = t.document ? n(t, !0) : function(e) {
            if (!e.document)
                throw new Error("jQuery requires a window with a document");
            return n(e)
        }
        : n(t)
    }("undefined" != typeof window ? window : this, function(n, i) {
        "use strict";
        var o = []
          , a = n.document
          , s = Object.getPrototypeOf
          , c = o.slice
          , l = o.concat
          , u = o.push
          , d = o.indexOf
          , f = {}
          , h = f.toString
          , p = f.hasOwnProperty
          , g = p.toString
          , m = g.call(Object)
          , v = {};
        function y(e, t) {
            var n = (t = t || a).createElement("script");
            n.text = e,
            t.head.appendChild(n).parentNode.removeChild(n)
        }
        var b = function(e, t) {
            return new b.fn.init(e,t)
        }
          , w = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
          , x = /^-ms-/
          , S = /-([a-z])/g
          , C = function(e, t) {
            return t.toUpperCase()
        };
        function _(e) {
            var t = !!e && "length"in e && e.length
              , n = b.type(e);
            return "function" !== n && !b.isWindow(e) && ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e)
        }
        b.fn = b.prototype = {
            jquery: "3.1.1",
            constructor: b,
            length: 0,
            toArray: function() {
                return c.call(this)
            },
            get: function(e) {
                return null == e ? c.call(this) : e < 0 ? this[e + this.length] : this[e]
            },
            pushStack: function(e) {
                var t = b.merge(this.constructor(), e);
                return t.prevObject = this,
                t
            },
            each: function(e) {
                return b.each(this, e)
            },
            map: function(e) {
                return this.pushStack(b.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            slice: function() {
                return this.pushStack(c.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length
                  , n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: u,
            sort: o.sort,
            splice: o.splice
        },
        b.extend = b.fn.extend = function() {
            var e, t, n, r, i, o, a = arguments[0] || {}, s = 1, c = arguments.length, l = !1;
            for ("boolean" == typeof a && (l = a,
            a = arguments[s] || {},
            s++),
            "object" == typeof a || b.isFunction(a) || (a = {}),
            s === c && (a = this,
            s--); s < c; s++)
                if (null != (e = arguments[s]))
                    for (t in e)
                        n = a[t],
                        a !== (r = e[t]) && (l && r && (b.isPlainObject(r) || (i = b.isArray(r))) ? (i ? (i = !1,
                        o = n && b.isArray(n) ? n : []) : o = n && b.isPlainObject(n) ? n : {},
                        a[t] = b.extend(l, o, r)) : void 0 !== r && (a[t] = r));
            return a
        }
        ,
        b.extend({
            expando: "jQuery" + ("3.1.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(e) {
                throw new Error(e)
            },
            noop: function() {},
            isFunction: function(e) {
                return "function" === b.type(e)
            },
            isArray: Array.isArray,
            isWindow: function(e) {
                return null != e && e === e.window
            },
            isNumeric: function(e) {
                var t = b.type(e);
                return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
            },
            isPlainObject: function(e) {
                var t, n;
                return !(!e || "[object Object]" !== h.call(e) || (t = s(e)) && ("function" != typeof (n = p.call(t, "constructor") && t.constructor) || g.call(n) !== m))
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e)
                    return !1;
                return !0
            },
            type: function(e) {
                return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? f[h.call(e)] || "object" : typeof e
            },
            globalEval: function(e) {
                y(e)
            },
            camelCase: function(e) {
                return e.replace(x, "ms-").replace(S, C)
            },
            nodeName: function(e, t) {
                return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
            },
            each: function(e, t) {
                var n, r = 0;
                if (_(e))
                    for (n = e.length; r < n && !1 !== t.call(e[r], r, e[r]); r++)
                        ;
                else
                    for (r in e)
                        if (!1 === t.call(e[r], r, e[r]))
                            break;
                return e
            },
            trim: function(e) {
                return null == e ? "" : (e + "").replace(w, "")
            },
            makeArray: function(e, t) {
                var n = t || [];
                return null != e && (_(Object(e)) ? b.merge(n, "string" == typeof e ? [e] : e) : u.call(n, e)),
                n
            },
            inArray: function(e, t, n) {
                return null == t ? -1 : d.call(t, e, n)
            },
            merge: function(e, t) {
                for (var n = +t.length, r = 0, i = e.length; r < n; r++)
                    e[i++] = t[r];
                return e.length = i,
                e
            },
            grep: function(e, t, n) {
                for (var r = [], i = 0, o = e.length, a = !n; i < o; i++)
                    !t(e[i], i) !== a && r.push(e[i]);
                return r
            },
            map: function(e, t, n) {
                var r, i, o = 0, a = [];
                if (_(e))
                    for (r = e.length; o < r; o++)
                        null != (i = t(e[o], o, n)) && a.push(i);
                else
                    for (o in e)
                        null != (i = t(e[o], o, n)) && a.push(i);
                return l.apply([], a)
            },
            guid: 1,
            proxy: function(e, t) {
                var n, r, i;
                if ("string" == typeof t && (n = e[t],
                t = e,
                e = n),
                b.isFunction(e))
                    return r = c.call(arguments, 2),
                    (i = function() {
                        return e.apply(t || this, r.concat(c.call(arguments)))
                    }
                    ).guid = e.guid = e.guid || b.guid++,
                    i
            },
            now: Date.now,
            support: v
        }),
        "function" == typeof Symbol && (b.fn[Symbol.iterator] = o[Symbol.iterator]),
        b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
            f["[object " + t + "]"] = t.toLowerCase()
        });
        var k = /*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
        function(e) {
            var t, n, r, i, o, a, s, c, l, u, d, f, h, p, g, m, v, y, b, w = "sizzle" + 1 * new Date, x = e.document, S = 0, C = 0, _ = ae(), k = ae(), E = ae(), T = function(e, t) {
                return e === t && (d = !0),
                0
            }, P = {}.hasOwnProperty, A = [], O = A.pop, $ = A.push, j = A.push, D = A.slice, R = function(e, t) {
                for (var n = 0, r = e.length; n < r; n++)
                    if (e[n] === t)
                        return n;
                return -1
            }, M = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", I = "[\\x20\\t\\r\\n\\f]", L = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", F = "\\[" + I + "*(" + L + ")(?:" + I + "*([*^$|!~]?=)" + I + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + L + "))|)" + I + "*\\]", N = ":(" + L + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + F + ")*)|.*)\\)|)", B = new RegExp(I + "+","g"), U = new RegExp("^" + I + "+|((?:^|[^\\\\])(?:\\\\.)*)" + I + "+$","g"), q = new RegExp("^" + I + "*," + I + "*"), V = new RegExp("^" + I + "*([>+~]|" + I + ")" + I + "*"), z = new RegExp("=" + I + "*([^\\]'\"]*?)" + I + "*\\]","g"), H = new RegExp(N), W = new RegExp("^" + L + "$"), G = {
                ID: new RegExp("^#(" + L + ")"),
                CLASS: new RegExp("^\\.(" + L + ")"),
                TAG: new RegExp("^(" + L + "|[*])"),
                ATTR: new RegExp("^" + F),
                PSEUDO: new RegExp("^" + N),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + I + "*(even|odd|(([+-]|)(\\d*)n|)" + I + "*(?:([+-]|)" + I + "*(\\d+)|))" + I + "*\\)|)","i"),
                bool: new RegExp("^(?:" + M + ")$","i"),
                needsContext: new RegExp("^" + I + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + I + "*((?:-\\d)?\\d*)" + I + "*\\)|)(?=[^-]|$)","i")
            }, X = /^(?:input|select|textarea|button)$/i, Y = /^h\d$/i, K = /^[^{]+\{\s*\[native \w/, Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, J = /[+~]/, Z = new RegExp("\\\\([\\da-f]{1,6}" + I + "?|(" + I + ")|.)","ig"), ee = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
            }, te = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ne = function(e, t) {
                return t ? "\0" === e ? "" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
            }, re = function() {
                f()
            }, ie = ye(function(e) {
                return !0 === e.disabled && ("form"in e || "label"in e)
            }, {
                dir: "parentNode",
                next: "legend"
            });
            try {
                j.apply(A = D.call(x.childNodes), x.childNodes),
                A[x.childNodes.length].nodeType
            } catch (e) {
                j = {
                    apply: A.length ? function(e, t) {
                        $.apply(e, D.call(t))
                    }
                    : function(e, t) {
                        for (var n = e.length, r = 0; e[n++] = t[r++]; )
                            ;
                        e.length = n - 1
                    }
                }
            }
            function oe(e, t, r, i) {
                var o, s, l, u, d, p, v, y = t && t.ownerDocument, S = t ? t.nodeType : 9;
                if (r = r || [],
                "string" != typeof e || !e || 1 !== S && 9 !== S && 11 !== S)
                    return r;
                if (!i && ((t ? t.ownerDocument || t : x) !== h && f(t),
                t = t || h,
                g)) {
                    if (11 !== S && (d = Q.exec(e)))
                        if (o = d[1]) {
                            if (9 === S) {
                                if (!(l = t.getElementById(o)))
                                    return r;
                                if (l.id === o)
                                    return r.push(l),
                                    r
                            } else if (y && (l = y.getElementById(o)) && b(t, l) && l.id === o)
                                return r.push(l),
                                r
                        } else {
                            if (d[2])
                                return j.apply(r, t.getElementsByTagName(e)),
                                r;
                            if ((o = d[3]) && n.getElementsByClassName && t.getElementsByClassName)
                                return j.apply(r, t.getElementsByClassName(o)),
                                r
                        }
                    if (n.qsa && !E[e + " "] && (!m || !m.test(e))) {
                        if (1 !== S)
                            y = t,
                            v = e;
                        else if ("object" !== t.nodeName.toLowerCase()) {
                            for ((u = t.getAttribute("id")) ? u = u.replace(te, ne) : t.setAttribute("id", u = w),
                            s = (p = a(e)).length; s--; )
                                p[s] = "#" + u + " " + ve(p[s]);
                            v = p.join(","),
                            y = J.test(e) && ge(t.parentNode) || t
                        }
                        if (v)
                            try {
                                return j.apply(r, y.querySelectorAll(v)),
                                r
                            } catch (e) {} finally {
                                u === w && t.removeAttribute("id")
                            }
                    }
                }
                return c(e.replace(U, "$1"), t, r, i)
            }
            function ae() {
                var e = [];
                return function t(n, i) {
                    return e.push(n + " ") > r.cacheLength && delete t[e.shift()],
                    t[n + " "] = i
                }
            }
            function se(e) {
                return e[w] = !0,
                e
            }
            function ce(e) {
                var t = h.createElement("fieldset");
                try {
                    return !!e(t)
                } catch (e) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t),
                    t = null
                }
            }
            function le(e, t) {
                for (var n = e.split("|"), i = n.length; i--; )
                    r.attrHandle[n[i]] = t
            }
            function ue(e, t) {
                var n = t && e
                  , r = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
                if (r)
                    return r;
                if (n)
                    for (; n = n.nextSibling; )
                        if (n === t)
                            return -1;
                return e ? 1 : -1
            }
            function de(e) {
                return function(t) {
                    return "input" === t.nodeName.toLowerCase() && t.type === e
                }
            }
            function fe(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && t.type === e
                }
            }
            function he(e) {
                return function(t) {
                    return "form"in t ? t.parentNode && !1 === t.disabled ? "label"in t ? "label"in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && ie(t) === e : t.disabled === e : "label"in t && t.disabled === e
                }
            }
            function pe(e) {
                return se(function(t) {
                    return t = +t,
                    se(function(n, r) {
                        for (var i, o = e([], n.length, t), a = o.length; a--; )
                            n[i = o[a]] && (n[i] = !(r[i] = n[i]))
                    })
                })
            }
            function ge(e) {
                return e && void 0 !== e.getElementsByTagName && e
            }
            for (t in n = oe.support = {},
            o = oe.isXML = function(e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return !!t && "HTML" !== t.nodeName
            }
            ,
            f = oe.setDocument = function(e) {
                var t, i, a = e ? e.ownerDocument || e : x;
                return a !== h && 9 === a.nodeType && a.documentElement ? (p = (h = a).documentElement,
                g = !o(h),
                x !== h && (i = h.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", re, !1) : i.attachEvent && i.attachEvent("onunload", re)),
                n.attributes = ce(function(e) {
                    return e.className = "i",
                    !e.getAttribute("className")
                }),
                n.getElementsByTagName = ce(function(e) {
                    return e.appendChild(h.createComment("")),
                    !e.getElementsByTagName("*").length
                }),
                n.getElementsByClassName = K.test(h.getElementsByClassName),
                n.getById = ce(function(e) {
                    return p.appendChild(e).id = w,
                    !h.getElementsByName || !h.getElementsByName(w).length
                }),
                n.getById ? (r.filter.ID = function(e) {
                    var t = e.replace(Z, ee);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                }
                ,
                r.find.ID = function(e, t) {
                    if (void 0 !== t.getElementById && g) {
                        var n = t.getElementById(e);
                        return n ? [n] : []
                    }
                }
                ) : (r.filter.ID = function(e) {
                    var t = e.replace(Z, ee);
                    return function(e) {
                        var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                        return n && n.value === t
                    }
                }
                ,
                r.find.ID = function(e, t) {
                    if (void 0 !== t.getElementById && g) {
                        var n, r, i, o = t.getElementById(e);
                        if (o) {
                            if ((n = o.getAttributeNode("id")) && n.value === e)
                                return [o];
                            for (i = t.getElementsByName(e),
                            r = 0; o = i[r++]; )
                                if ((n = o.getAttributeNode("id")) && n.value === e)
                                    return [o]
                        }
                        return []
                    }
                }
                ),
                r.find.TAG = n.getElementsByTagName ? function(e, t) {
                    return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : n.qsa ? t.querySelectorAll(e) : void 0
                }
                : function(e, t) {
                    var n, r = [], i = 0, o = t.getElementsByTagName(e);
                    if ("*" === e) {
                        for (; n = o[i++]; )
                            1 === n.nodeType && r.push(n);
                        return r
                    }
                    return o
                }
                ,
                r.find.CLASS = n.getElementsByClassName && function(e, t) {
                    if (void 0 !== t.getElementsByClassName && g)
                        return t.getElementsByClassName(e)
                }
                ,
                v = [],
                m = [],
                (n.qsa = K.test(h.querySelectorAll)) && (ce(function(e) {
                    p.appendChild(e).innerHTML = "<a id='" + w + "'></a><select id='" + w + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                    e.querySelectorAll("[msallowcapture^='']").length && m.push("[*^$]=" + I + "*(?:''|\"\")"),
                    e.querySelectorAll("[selected]").length || m.push("\\[" + I + "*(?:value|" + M + ")"),
                    e.querySelectorAll("[id~=" + w + "-]").length || m.push("~="),
                    e.querySelectorAll(":checked").length || m.push(":checked"),
                    e.querySelectorAll("a#" + w + "+*").length || m.push(".#.+[+~]")
                }),
                ce(function(e) {
                    e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var t = h.createElement("input");
                    t.setAttribute("type", "hidden"),
                    e.appendChild(t).setAttribute("name", "D"),
                    e.querySelectorAll("[name=d]").length && m.push("name" + I + "*[*^$|!~]?="),
                    2 !== e.querySelectorAll(":enabled").length && m.push(":enabled", ":disabled"),
                    p.appendChild(e).disabled = !0,
                    2 !== e.querySelectorAll(":disabled").length && m.push(":enabled", ":disabled"),
                    e.querySelectorAll("*,:x"),
                    m.push(",.*:")
                })),
                (n.matchesSelector = K.test(y = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.oMatchesSelector || p.msMatchesSelector)) && ce(function(e) {
                    n.disconnectedMatch = y.call(e, "*"),
                    y.call(e, "[s!='']:x"),
                    v.push("!=", N)
                }),
                m = m.length && new RegExp(m.join("|")),
                v = v.length && new RegExp(v.join("|")),
                t = K.test(p.compareDocumentPosition),
                b = t || K.test(p.contains) ? function(e, t) {
                    var n = 9 === e.nodeType ? e.documentElement : e
                      , r = t && t.parentNode;
                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                }
                : function(e, t) {
                    if (t)
                        for (; t = t.parentNode; )
                            if (t === e)
                                return !0;
                    return !1
                }
                ,
                T = t ? function(e, t) {
                    if (e === t)
                        return d = !0,
                        0;
                    var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return r || (1 & (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !n.sortDetached && t.compareDocumentPosition(e) === r ? e === h || e.ownerDocument === x && b(x, e) ? -1 : t === h || t.ownerDocument === x && b(x, t) ? 1 : u ? R(u, e) - R(u, t) : 0 : 4 & r ? -1 : 1)
                }
                : function(e, t) {
                    if (e === t)
                        return d = !0,
                        0;
                    var n, r = 0, i = e.parentNode, o = t.parentNode, a = [e], s = [t];
                    if (!i || !o)
                        return e === h ? -1 : t === h ? 1 : i ? -1 : o ? 1 : u ? R(u, e) - R(u, t) : 0;
                    if (i === o)
                        return ue(e, t);
                    for (n = e; n = n.parentNode; )
                        a.unshift(n);
                    for (n = t; n = n.parentNode; )
                        s.unshift(n);
                    for (; a[r] === s[r]; )
                        r++;
                    return r ? ue(a[r], s[r]) : a[r] === x ? -1 : s[r] === x ? 1 : 0
                }
                ,
                h) : h
            }
            ,
            oe.matches = function(e, t) {
                return oe(e, null, null, t)
            }
            ,
            oe.matchesSelector = function(e, t) {
                if ((e.ownerDocument || e) !== h && f(e),
                t = t.replace(z, "='$1']"),
                n.matchesSelector && g && !E[t + " "] && (!v || !v.test(t)) && (!m || !m.test(t)))
                    try {
                        var r = y.call(e, t);
                        if (r || n.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                            return r
                    } catch (e) {}
                return oe(t, h, null, [e]).length > 0
            }
            ,
            oe.contains = function(e, t) {
                return (e.ownerDocument || e) !== h && f(e),
                b(e, t)
            }
            ,
            oe.attr = function(e, t) {
                (e.ownerDocument || e) !== h && f(e);
                var i = r.attrHandle[t.toLowerCase()]
                  , o = i && P.call(r.attrHandle, t.toLowerCase()) ? i(e, t, !g) : void 0;
                return void 0 !== o ? o : n.attributes || !g ? e.getAttribute(t) : (o = e.getAttributeNode(t)) && o.specified ? o.value : null
            }
            ,
            oe.escape = function(e) {
                return (e + "").replace(te, ne)
            }
            ,
            oe.error = function(e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            }
            ,
            oe.uniqueSort = function(e) {
                var t, r = [], i = 0, o = 0;
                if (d = !n.detectDuplicates,
                u = !n.sortStable && e.slice(0),
                e.sort(T),
                d) {
                    for (; t = e[o++]; )
                        t === e[o] && (i = r.push(o));
                    for (; i--; )
                        e.splice(r[i], 1)
                }
                return u = null,
                e
            }
            ,
            i = oe.getText = function(e) {
                var t, n = "", r = 0, o = e.nodeType;
                if (o) {
                    if (1 === o || 9 === o || 11 === o) {
                        if ("string" == typeof e.textContent)
                            return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling)
                            n += i(e)
                    } else if (3 === o || 4 === o)
                        return e.nodeValue
                } else
                    for (; t = e[r++]; )
                        n += i(t);
                return n
            }
            ,
            (r = oe.selectors = {
                cacheLength: 50,
                createPseudo: se,
                match: G,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(e) {
                        return e[1] = e[1].replace(Z, ee),
                        e[3] = (e[3] || e[4] || e[5] || "").replace(Z, ee),
                        "~=" === e[2] && (e[3] = " " + e[3] + " "),
                        e.slice(0, 4)
                    },
                    CHILD: function(e) {
                        return e[1] = e[1].toLowerCase(),
                        "nth" === e[1].slice(0, 3) ? (e[3] || oe.error(e[0]),
                        e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                        e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && oe.error(e[0]),
                        e
                    },
                    PSEUDO: function(e) {
                        var t, n = !e[6] && e[2];
                        return G.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && H.test(n) && (t = a(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t),
                        e[2] = n.slice(0, t)),
                        e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(e) {
                        var t = e.replace(Z, ee).toLowerCase();
                        return "*" === e ? function() {
                            return !0
                        }
                        : function(e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(e) {
                        var t = _[e + " "];
                        return t || (t = new RegExp("(^|" + I + ")" + e + "(" + I + "|$)")) && _(e, function(e) {
                            return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(e, t, n) {
                        return function(r) {
                            var i = oe.attr(r, e);
                            return null == i ? "!=" === t : !t || (i += "",
                            "=" === t ? i === n : "!=" === t ? i !== n : "^=" === t ? n && 0 === i.indexOf(n) : "*=" === t ? n && i.indexOf(n) > -1 : "$=" === t ? n && i.slice(-n.length) === n : "~=" === t ? (" " + i.replace(B, " ") + " ").indexOf(n) > -1 : "|=" === t && (i === n || i.slice(0, n.length + 1) === n + "-"))
                        }
                    },
                    CHILD: function(e, t, n, r, i) {
                        var o = "nth" !== e.slice(0, 3)
                          , a = "last" !== e.slice(-4)
                          , s = "of-type" === t;
                        return 1 === r && 0 === i ? function(e) {
                            return !!e.parentNode
                        }
                        : function(t, n, c) {
                            var l, u, d, f, h, p, g = o !== a ? "nextSibling" : "previousSibling", m = t.parentNode, v = s && t.nodeName.toLowerCase(), y = !c && !s, b = !1;
                            if (m) {
                                if (o) {
                                    for (; g; ) {
                                        for (f = t; f = f[g]; )
                                            if (s ? f.nodeName.toLowerCase() === v : 1 === f.nodeType)
                                                return !1;
                                        p = g = "only" === e && !p && "nextSibling"
                                    }
                                    return !0
                                }
                                if (p = [a ? m.firstChild : m.lastChild],
                                a && y) {
                                    for (b = (h = (l = (u = (d = (f = m)[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] || [])[0] === S && l[1]) && l[2],
                                    f = h && m.childNodes[h]; f = ++h && f && f[g] || (b = h = 0) || p.pop(); )
                                        if (1 === f.nodeType && ++b && f === t) {
                                            u[e] = [S, h, b];
                                            break
                                        }
                                } else if (y && (b = h = (l = (u = (d = (f = t)[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] || [])[0] === S && l[1]),
                                !1 === b)
                                    for (; (f = ++h && f && f[g] || (b = h = 0) || p.pop()) && ((s ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++b || (y && ((u = (d = f[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] = [S, b]),
                                    f !== t)); )
                                        ;
                                return (b -= i) === r || b % r == 0 && b / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(e, t) {
                        var n, i = r.pseudos[e] || r.setFilters[e.toLowerCase()] || oe.error("unsupported pseudo: " + e);
                        return i[w] ? i(t) : i.length > 1 ? (n = [e, e, "", t],
                        r.setFilters.hasOwnProperty(e.toLowerCase()) ? se(function(e, n) {
                            for (var r, o = i(e, t), a = o.length; a--; )
                                e[r = R(e, o[a])] = !(n[r] = o[a])
                        }) : function(e) {
                            return i(e, 0, n)
                        }
                        ) : i
                    }
                },
                pseudos: {
                    not: se(function(e) {
                        var t = []
                          , n = []
                          , r = s(e.replace(U, "$1"));
                        return r[w] ? se(function(e, t, n, i) {
                            for (var o, a = r(e, null, i, []), s = e.length; s--; )
                                (o = a[s]) && (e[s] = !(t[s] = o))
                        }) : function(e, i, o) {
                            return t[0] = e,
                            r(t, null, o, n),
                            t[0] = null,
                            !n.pop()
                        }
                    }),
                    has: se(function(e) {
                        return function(t) {
                            return oe(e, t).length > 0
                        }
                    }),
                    contains: se(function(e) {
                        return e = e.replace(Z, ee),
                        function(t) {
                            return (t.textContent || t.innerText || i(t)).indexOf(e) > -1
                        }
                    }),
                    lang: se(function(e) {
                        return W.test(e || "") || oe.error("unsupported lang: " + e),
                        e = e.replace(Z, ee).toLowerCase(),
                        function(t) {
                            var n;
                            do {
                                if (n = g ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                    return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
                            } while ((t = t.parentNode) && 1 === t.nodeType);
                            return !1
                        }
                    }),
                    target: function(t) {
                        var n = e.location && e.location.hash;
                        return n && n.slice(1) === t.id
                    },
                    root: function(e) {
                        return e === p
                    },
                    focus: function(e) {
                        return e === h.activeElement && (!h.hasFocus || h.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: he(!1),
                    disabled: he(!0),
                    checked: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function(e) {
                        return e.parentNode && e.parentNode.selectedIndex,
                        !0 === e.selected
                    },
                    empty: function(e) {
                        for (e = e.firstChild; e; e = e.nextSibling)
                            if (e.nodeType < 6)
                                return !1;
                        return !0
                    },
                    parent: function(e) {
                        return !r.pseudos.empty(e)
                    },
                    header: function(e) {
                        return Y.test(e.nodeName)
                    },
                    input: function(e) {
                        return X.test(e.nodeName)
                    },
                    button: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    text: function(e) {
                        var t;
                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                    },
                    first: pe(function() {
                        return [0]
                    }),
                    last: pe(function(e, t) {
                        return [t - 1]
                    }),
                    eq: pe(function(e, t, n) {
                        return [n < 0 ? n + t : n]
                    }),
                    even: pe(function(e, t) {
                        for (var n = 0; n < t; n += 2)
                            e.push(n);
                        return e
                    }),
                    odd: pe(function(e, t) {
                        for (var n = 1; n < t; n += 2)
                            e.push(n);
                        return e
                    }),
                    lt: pe(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n; --r >= 0; )
                            e.push(r);
                        return e
                    }),
                    gt: pe(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n; ++r < t; )
                            e.push(r);
                        return e
                    })
                }
            }).pseudos.nth = r.pseudos.eq,
            {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            })
                r.pseudos[t] = de(t);
            for (t in {
                submit: !0,
                reset: !0
            })
                r.pseudos[t] = fe(t);
            function me() {}
            function ve(e) {
                for (var t = 0, n = e.length, r = ""; t < n; t++)
                    r += e[t].value;
                return r
            }
            function ye(e, t, n) {
                var r = t.dir
                  , i = t.next
                  , o = i || r
                  , a = n && "parentNode" === o
                  , s = C++;
                return t.first ? function(t, n, i) {
                    for (; t = t[r]; )
                        if (1 === t.nodeType || a)
                            return e(t, n, i);
                    return !1
                }
                : function(t, n, c) {
                    var l, u, d, f = [S, s];
                    if (c) {
                        for (; t = t[r]; )
                            if ((1 === t.nodeType || a) && e(t, n, c))
                                return !0
                    } else
                        for (; t = t[r]; )
                            if (1 === t.nodeType || a)
                                if (u = (d = t[w] || (t[w] = {}))[t.uniqueID] || (d[t.uniqueID] = {}),
                                i && i === t.nodeName.toLowerCase())
                                    t = t[r] || t;
                                else {
                                    if ((l = u[o]) && l[0] === S && l[1] === s)
                                        return f[2] = l[2];
                                    if (u[o] = f,
                                    f[2] = e(t, n, c))
                                        return !0
                                }
                    return !1
                }
            }
            function be(e) {
                return e.length > 1 ? function(t, n, r) {
                    for (var i = e.length; i--; )
                        if (!e[i](t, n, r))
                            return !1;
                    return !0
                }
                : e[0]
            }
            function we(e, t, n, r, i) {
                for (var o, a = [], s = 0, c = e.length, l = null != t; s < c; s++)
                    (o = e[s]) && (n && !n(o, r, i) || (a.push(o),
                    l && t.push(s)));
                return a
            }
            function xe(e, t, n, r, i, o) {
                return r && !r[w] && (r = xe(r)),
                i && !i[w] && (i = xe(i, o)),
                se(function(o, a, s, c) {
                    var l, u, d, f = [], h = [], p = a.length, g = o || function(e, t, n) {
                        for (var r = 0, i = t.length; r < i; r++)
                            oe(e, t[r], n);
                        return n
                    }(t || "*", s.nodeType ? [s] : s, []), m = !e || !o && t ? g : we(g, f, e, s, c), v = n ? i || (o ? e : p || r) ? [] : a : m;
                    if (n && n(m, v, s, c),
                    r)
                        for (l = we(v, h),
                        r(l, [], s, c),
                        u = l.length; u--; )
                            (d = l[u]) && (v[h[u]] = !(m[h[u]] = d));
                    if (o) {
                        if (i || e) {
                            if (i) {
                                for (l = [],
                                u = v.length; u--; )
                                    (d = v[u]) && l.push(m[u] = d);
                                i(null, v = [], l, c)
                            }
                            for (u = v.length; u--; )
                                (d = v[u]) && (l = i ? R(o, d) : f[u]) > -1 && (o[l] = !(a[l] = d))
                        }
                    } else
                        v = we(v === a ? v.splice(p, v.length) : v),
                        i ? i(null, a, v, c) : j.apply(a, v)
                })
            }
            function Se(e) {
                for (var t, n, i, o = e.length, a = r.relative[e[0].type], s = a || r.relative[" "], c = a ? 1 : 0, u = ye(function(e) {
                    return e === t
                }, s, !0), d = ye(function(e) {
                    return R(t, e) > -1
                }, s, !0), f = [function(e, n, r) {
                    var i = !a && (r || n !== l) || ((t = n).nodeType ? u(e, n, r) : d(e, n, r));
                    return t = null,
                    i
                }
                ]; c < o; c++)
                    if (n = r.relative[e[c].type])
                        f = [ye(be(f), n)];
                    else {
                        if ((n = r.filter[e[c].type].apply(null, e[c].matches))[w]) {
                            for (i = ++c; i < o && !r.relative[e[i].type]; i++)
                                ;
                            return xe(c > 1 && be(f), c > 1 && ve(e.slice(0, c - 1).concat({
                                value: " " === e[c - 2].type ? "*" : ""
                            })).replace(U, "$1"), n, c < i && Se(e.slice(c, i)), i < o && Se(e = e.slice(i)), i < o && ve(e))
                        }
                        f.push(n)
                    }
                return be(f)
            }
            return me.prototype = r.filters = r.pseudos,
            r.setFilters = new me,
            a = oe.tokenize = function(e, t) {
                var n, i, o, a, s, c, l, u = k[e + " "];
                if (u)
                    return t ? 0 : u.slice(0);
                for (s = e,
                c = [],
                l = r.preFilter; s; ) {
                    for (a in n && !(i = q.exec(s)) || (i && (s = s.slice(i[0].length) || s),
                    c.push(o = [])),
                    n = !1,
                    (i = V.exec(s)) && (n = i.shift(),
                    o.push({
                        value: n,
                        type: i[0].replace(U, " ")
                    }),
                    s = s.slice(n.length)),
                    r.filter)
                        !(i = G[a].exec(s)) || l[a] && !(i = l[a](i)) || (n = i.shift(),
                        o.push({
                            value: n,
                            type: a,
                            matches: i
                        }),
                        s = s.slice(n.length));
                    if (!n)
                        break
                }
                return t ? s.length : s ? oe.error(e) : k(e, c).slice(0)
            }
            ,
            s = oe.compile = function(e, t) {
                var n, i = [], o = [], s = E[e + " "];
                if (!s) {
                    for (t || (t = a(e)),
                    n = t.length; n--; )
                        (s = Se(t[n]))[w] ? i.push(s) : o.push(s);
                    (s = E(e, function(e, t) {
                        var n = t.length > 0
                          , i = e.length > 0
                          , o = function(o, a, s, c, u) {
                            var d, p, m, v = 0, y = "0", b = o && [], w = [], x = l, C = o || i && r.find.TAG("*", u), _ = S += null == x ? 1 : Math.random() || .1, k = C.length;
                            for (u && (l = a === h || a || u); y !== k && null != (d = C[y]); y++) {
                                if (i && d) {
                                    for (p = 0,
                                    a || d.ownerDocument === h || (f(d),
                                    s = !g); m = e[p++]; )
                                        if (m(d, a || h, s)) {
                                            c.push(d);
                                            break
                                        }
                                    u && (S = _)
                                }
                                n && ((d = !m && d) && v--,
                                o && b.push(d))
                            }
                            if (v += y,
                            n && y !== v) {
                                for (p = 0; m = t[p++]; )
                                    m(b, w, a, s);
                                if (o) {
                                    if (v > 0)
                                        for (; y--; )
                                            b[y] || w[y] || (w[y] = O.call(c));
                                    w = we(w)
                                }
                                j.apply(c, w),
                                u && !o && w.length > 0 && v + t.length > 1 && oe.uniqueSort(c)
                            }
                            return u && (S = _,
                            l = x),
                            b
                        };
                        return n ? se(o) : o
                    }(o, i))).selector = e
                }
                return s
            }
            ,
            c = oe.select = function(e, t, n, i) {
                var o, c, l, u, d, f = "function" == typeof e && e, h = !i && a(e = f.selector || e);
                if (n = n || [],
                1 === h.length) {
                    if ((c = h[0] = h[0].slice(0)).length > 2 && "ID" === (l = c[0]).type && 9 === t.nodeType && g && r.relative[c[1].type]) {
                        if (!(t = (r.find.ID(l.matches[0].replace(Z, ee), t) || [])[0]))
                            return n;
                        f && (t = t.parentNode),
                        e = e.slice(c.shift().value.length)
                    }
                    for (o = G.needsContext.test(e) ? 0 : c.length; o-- && (l = c[o],
                    !r.relative[u = l.type]); )
                        if ((d = r.find[u]) && (i = d(l.matches[0].replace(Z, ee), J.test(c[0].type) && ge(t.parentNode) || t))) {
                            if (c.splice(o, 1),
                            !(e = i.length && ve(c)))
                                return j.apply(n, i),
                                n;
                            break
                        }
                }
                return (f || s(e, h))(i, t, !g, n, !t || J.test(e) && ge(t.parentNode) || t),
                n
            }
            ,
            n.sortStable = w.split("").sort(T).join("") === w,
            n.detectDuplicates = !!d,
            f(),
            n.sortDetached = ce(function(e) {
                return 1 & e.compareDocumentPosition(h.createElement("fieldset"))
            }),
            ce(function(e) {
                return e.innerHTML = "<a href='#'></a>",
                "#" === e.firstChild.getAttribute("href")
            }) || le("type|href|height|width", function(e, t, n) {
                if (!n)
                    return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
            }),
            n.attributes && ce(function(e) {
                return e.innerHTML = "<input/>",
                e.firstChild.setAttribute("value", ""),
                "" === e.firstChild.getAttribute("value")
            }) || le("value", function(e, t, n) {
                if (!n && "input" === e.nodeName.toLowerCase())
                    return e.defaultValue
            }),
            ce(function(e) {
                return null == e.getAttribute("disabled")
            }) || le(M, function(e, t, n) {
                var r;
                if (!n)
                    return !0 === e[t] ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
            }),
            oe
        }(n);
        b.find = k,
        b.expr = k.selectors,
        b.expr[":"] = b.expr.pseudos,
        b.uniqueSort = b.unique = k.uniqueSort,
        b.text = k.getText,
        b.isXMLDoc = k.isXML,
        b.contains = k.contains,
        b.escapeSelector = k.escape;
        var E = function(e, t, n) {
            for (var r = [], i = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; )
                if (1 === e.nodeType) {
                    if (i && b(e).is(n))
                        break;
                    r.push(e)
                }
            return r
        }
          , T = function(e, t) {
            for (var n = []; e; e = e.nextSibling)
                1 === e.nodeType && e !== t && n.push(e);
            return n
        }
          , P = b.expr.match.needsContext
          , A = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i
          , O = /^.[^:#\[\.,]*$/;
        function $(e, t, n) {
            return b.isFunction(t) ? b.grep(e, function(e, r) {
                return !!t.call(e, r, e) !== n
            }) : t.nodeType ? b.grep(e, function(e) {
                return e === t !== n
            }) : "string" != typeof t ? b.grep(e, function(e) {
                return d.call(t, e) > -1 !== n
            }) : O.test(t) ? b.filter(t, e, n) : (t = b.filter(t, e),
            b.grep(e, function(e) {
                return d.call(t, e) > -1 !== n && 1 === e.nodeType
            }))
        }
        b.filter = function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"),
            1 === t.length && 1 === r.nodeType ? b.find.matchesSelector(r, e) ? [r] : [] : b.find.matches(e, b.grep(t, function(e) {
                return 1 === e.nodeType
            }))
        }
        ,
        b.fn.extend({
            find: function(e) {
                var t, n, r = this.length, i = this;
                if ("string" != typeof e)
                    return this.pushStack(b(e).filter(function() {
                        for (t = 0; t < r; t++)
                            if (b.contains(i[t], this))
                                return !0
                    }));
                for (n = this.pushStack([]),
                t = 0; t < r; t++)
                    b.find(e, i[t], n);
                return r > 1 ? b.uniqueSort(n) : n
            },
            filter: function(e) {
                return this.pushStack($(this, e || [], !1))
            },
            not: function(e) {
                return this.pushStack($(this, e || [], !0))
            },
            is: function(e) {
                return !!$(this, "string" == typeof e && P.test(e) ? b(e) : e || [], !1).length
            }
        });
        var j, D = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (b.fn.init = function(e, t, n) {
            var r, i;
            if (!e)
                return this;
            if (n = n || j,
            "string" == typeof e) {
                if (!(r = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : D.exec(e)) || !r[1] && t)
                    return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
                if (r[1]) {
                    if (t = t instanceof b ? t[0] : t,
                    b.merge(this, b.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : a, !0)),
                    A.test(r[1]) && b.isPlainObject(t))
                        for (r in t)
                            b.isFunction(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
                    return this
                }
                return (i = a.getElementById(r[2])) && (this[0] = i,
                this.length = 1),
                this
            }
            return e.nodeType ? (this[0] = e,
            this.length = 1,
            this) : b.isFunction(e) ? void 0 !== n.ready ? n.ready(e) : e(b) : b.makeArray(e, this)
        }
        ).prototype = b.fn,
        j = b(a);
        var R = /^(?:parents|prev(?:Until|All))/
          , M = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        function I(e, t) {
            for (; (e = e[t]) && 1 !== e.nodeType; )
                ;
            return e
        }
        b.fn.extend({
            has: function(e) {
                var t = b(e, this)
                  , n = t.length;
                return this.filter(function() {
                    for (var e = 0; e < n; e++)
                        if (b.contains(this, t[e]))
                            return !0
                })
            },
            closest: function(e, t) {
                var n, r = 0, i = this.length, o = [], a = "string" != typeof e && b(e);
                if (!P.test(e))
                    for (; r < i; r++)
                        for (n = this[r]; n && n !== t; n = n.parentNode)
                            if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && b.find.matchesSelector(n, e))) {
                                o.push(n);
                                break
                            }
                return this.pushStack(o.length > 1 ? b.uniqueSort(o) : o)
            },
            index: function(e) {
                return e ? "string" == typeof e ? d.call(b(e), this[0]) : d.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(e, t) {
                return this.pushStack(b.uniqueSort(b.merge(this.get(), b(e, t))))
            },
            addBack: function(e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }
        }),
        b.each({
            parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(e) {
                return E(e, "parentNode")
            },
            parentsUntil: function(e, t, n) {
                return E(e, "parentNode", n)
            },
            next: function(e) {
                return I(e, "nextSibling")
            },
            prev: function(e) {
                return I(e, "previousSibling")
            },
            nextAll: function(e) {
                return E(e, "nextSibling")
            },
            prevAll: function(e) {
                return E(e, "previousSibling")
            },
            nextUntil: function(e, t, n) {
                return E(e, "nextSibling", n)
            },
            prevUntil: function(e, t, n) {
                return E(e, "previousSibling", n)
            },
            siblings: function(e) {
                return T((e.parentNode || {}).firstChild, e)
            },
            children: function(e) {
                return T(e.firstChild)
            },
            contents: function(e) {
                return e.contentDocument || b.merge([], e.childNodes)
            }
        }, function(e, t) {
            b.fn[e] = function(n, r) {
                var i = b.map(this, t, n);
                return "Until" !== e.slice(-5) && (r = n),
                r && "string" == typeof r && (i = b.filter(r, i)),
                this.length > 1 && (M[e] || b.uniqueSort(i),
                R.test(e) && i.reverse()),
                this.pushStack(i)
            }
        });
        var L = /[^\x20\t\r\n\f]+/g;
        function F(e) {
            return e
        }
        function N(e) {
            throw e
        }
        function B(e, t, n) {
            var r;
            try {
                e && b.isFunction(r = e.promise) ? r.call(e).done(t).fail(n) : e && b.isFunction(r = e.then) ? r.call(e, t, n) : t.call(void 0, e)
            } catch (e) {
                n.call(void 0, e)
            }
        }
        b.Callbacks = function(e) {
            e = "string" == typeof e ? function(e) {
                var t = {};
                return b.each(e.match(L) || [], function(e, n) {
                    t[n] = !0
                }),
                t
            }(e) : b.extend({}, e);
            var t, n, r, i, o = [], a = [], s = -1, c = function() {
                for (i = e.once,
                r = t = !0; a.length; s = -1)
                    for (n = a.shift(); ++s < o.length; )
                        !1 === o[s].apply(n[0], n[1]) && e.stopOnFalse && (s = o.length,
                        n = !1);
                e.memory || (n = !1),
                t = !1,
                i && (o = n ? [] : "")
            }, l = {
                add: function() {
                    return o && (n && !t && (s = o.length - 1,
                    a.push(n)),
                    function t(n) {
                        b.each(n, function(n, r) {
                            b.isFunction(r) ? e.unique && l.has(r) || o.push(r) : r && r.length && "string" !== b.type(r) && t(r)
                        })
                    }(arguments),
                    n && !t && c()),
                    this
                },
                remove: function() {
                    return b.each(arguments, function(e, t) {
                        for (var n; (n = b.inArray(t, o, n)) > -1; )
                            o.splice(n, 1),
                            n <= s && s--
                    }),
                    this
                },
                has: function(e) {
                    return e ? b.inArray(e, o) > -1 : o.length > 0
                },
                empty: function() {
                    return o && (o = []),
                    this
                },
                disable: function() {
                    return i = a = [],
                    o = n = "",
                    this
                },
                disabled: function() {
                    return !o
                },
                lock: function() {
                    return i = a = [],
                    n || t || (o = n = ""),
                    this
                },
                locked: function() {
                    return !!i
                },
                fireWith: function(e, n) {
                    return i || (n = [e, (n = n || []).slice ? n.slice() : n],
                    a.push(n),
                    t || c()),
                    this
                },
                fire: function() {
                    return l.fireWith(this, arguments),
                    this
                },
                fired: function() {
                    return !!r
                }
            };
            return l
        }
        ,
        b.extend({
            Deferred: function(e) {
                var t = [["notify", "progress", b.Callbacks("memory"), b.Callbacks("memory"), 2], ["resolve", "done", b.Callbacks("once memory"), b.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", b.Callbacks("once memory"), b.Callbacks("once memory"), 1, "rejected"]]
                  , r = "pending"
                  , i = {
                    state: function() {
                        return r
                    },
                    always: function() {
                        return o.done(arguments).fail(arguments),
                        this
                    },
                    catch: function(e) {
                        return i.then(null, e)
                    },
                    pipe: function() {
                        var e = arguments;
                        return b.Deferred(function(n) {
                            b.each(t, function(t, r) {
                                var i = b.isFunction(e[r[4]]) && e[r[4]];
                                o[r[1]](function() {
                                    var e = i && i.apply(this, arguments);
                                    e && b.isFunction(e.promise) ? e.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this, i ? [e] : arguments)
                                })
                            }),
                            e = null
                        }).promise()
                    },
                    then: function(e, r, i) {
                        var o = 0;
                        function a(e, t, r, i) {
                            return function() {
                                var s = this
                                  , c = arguments
                                  , l = function() {
                                    var n, l;
                                    if (!(e < o)) {
                                        if ((n = r.apply(s, c)) === t.promise())
                                            throw new TypeError("Thenable self-resolution");
                                        l = n && ("object" == typeof n || "function" == typeof n) && n.then,
                                        b.isFunction(l) ? i ? l.call(n, a(o, t, F, i), a(o, t, N, i)) : (o++,
                                        l.call(n, a(o, t, F, i), a(o, t, N, i), a(o, t, F, t.notifyWith))) : (r !== F && (s = void 0,
                                        c = [n]),
                                        (i || t.resolveWith)(s, c))
                                    }
                                }
                                  , u = i ? l : function() {
                                    try {
                                        l()
                                    } catch (n) {
                                        b.Deferred.exceptionHook && b.Deferred.exceptionHook(n, u.stackTrace),
                                        e + 1 >= o && (r !== N && (s = void 0,
                                        c = [n]),
                                        t.rejectWith(s, c))
                                    }
                                }
                                ;
                                e ? u() : (b.Deferred.getStackHook && (u.stackTrace = b.Deferred.getStackHook()),
                                n.setTimeout(u))
                            }
                        }
                        return b.Deferred(function(n) {
                            t[0][3].add(a(0, n, b.isFunction(i) ? i : F, n.notifyWith)),
                            t[1][3].add(a(0, n, b.isFunction(e) ? e : F)),
                            t[2][3].add(a(0, n, b.isFunction(r) ? r : N))
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? b.extend(e, i) : i
                    }
                }
                  , o = {};
                return b.each(t, function(e, n) {
                    var a = n[2]
                      , s = n[5];
                    i[n[1]] = a.add,
                    s && a.add(function() {
                        r = s
                    }, t[3 - e][2].disable, t[0][2].lock),
                    a.add(n[3].fire),
                    o[n[0]] = function() {
                        return o[n[0] + "With"](this === o ? void 0 : this, arguments),
                        this
                    }
                    ,
                    o[n[0] + "With"] = a.fireWith
                }),
                i.promise(o),
                e && e.call(o, o),
                o
            },
            when: function(e) {
                var t = arguments.length
                  , n = t
                  , r = Array(n)
                  , i = c.call(arguments)
                  , o = b.Deferred()
                  , a = function(e) {
                    return function(n) {
                        r[e] = this,
                        i[e] = arguments.length > 1 ? c.call(arguments) : n,
                        --t || o.resolveWith(r, i)
                    }
                };
                if (t <= 1 && (B(e, o.done(a(n)).resolve, o.reject),
                "pending" === o.state() || b.isFunction(i[n] && i[n].then)))
                    return o.then();
                for (; n--; )
                    B(i[n], a(n), o.reject);
                return o.promise()
            }
        });
        var U = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        b.Deferred.exceptionHook = function(e, t) {
            n.console && n.console.warn && e && U.test(e.name) && n.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
        }
        ,
        b.readyException = function(e) {
            n.setTimeout(function() {
                throw e
            })
        }
        ;
        var q = b.Deferred();
        function V() {
            a.removeEventListener("DOMContentLoaded", V),
            n.removeEventListener("load", V),
            b.ready()
        }
        b.fn.ready = function(e) {
            return q.then(e).catch(function(e) {
                b.readyException(e)
            }),
            this
        }
        ,
        b.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function(e) {
                e ? b.readyWait++ : b.ready(!0)
            },
            ready: function(e) {
                (!0 === e ? --b.readyWait : b.isReady) || (b.isReady = !0,
                !0 !== e && --b.readyWait > 0 || q.resolveWith(a, [b]))
            }
        }),
        b.ready.then = q.then,
        "complete" === a.readyState || "loading" !== a.readyState && !a.documentElement.doScroll ? n.setTimeout(b.ready) : (a.addEventListener("DOMContentLoaded", V),
        n.addEventListener("load", V));
        var z = function(e, t, n, r, i, o, a) {
            var s = 0
              , c = e.length
              , l = null == n;
            if ("object" === b.type(n))
                for (s in i = !0,
                n)
                    z(e, t, s, n[s], !0, o, a);
            else if (void 0 !== r && (i = !0,
            b.isFunction(r) || (a = !0),
            l && (a ? (t.call(e, r),
            t = null) : (l = t,
            t = function(e, t, n) {
                return l.call(b(e), n)
            }
            )),
            t))
                for (; s < c; s++)
                    t(e[s], n, a ? r : r.call(e[s], s, t(e[s], n)));
            return i ? e : l ? t.call(e) : c ? t(e[0], n) : o
        }
          , H = function(e) {
            return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
        };
        function W() {
            this.expando = b.expando + W.uid++
        }
        W.uid = 1,
        W.prototype = {
            cache: function(e) {
                var t = e[this.expando];
                return t || (t = {},
                H(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                    value: t,
                    configurable: !0
                }))),
                t
            },
            set: function(e, t, n) {
                var r, i = this.cache(e);
                if ("string" == typeof t)
                    i[b.camelCase(t)] = n;
                else
                    for (r in t)
                        i[b.camelCase(r)] = t[r];
                return i
            },
            get: function(e, t) {
                return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][b.camelCase(t)]
            },
            access: function(e, t, n) {
                return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n),
                void 0 !== n ? n : t)
            },
            remove: function(e, t) {
                var n, r = e[this.expando];
                if (void 0 !== r) {
                    if (void 0 !== t) {
                        n = (t = b.isArray(t) ? t.map(b.camelCase) : (t = b.camelCase(t))in r ? [t] : t.match(L) || []).length;
                        for (; n--; )
                            delete r[t[n]]
                    }
                    (void 0 === t || b.isEmptyObject(r)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
                }
            },
            hasData: function(e) {
                var t = e[this.expando];
                return void 0 !== t && !b.isEmptyObject(t)
            }
        };
        var G = new W
          , X = new W
          , Y = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
          , K = /[A-Z]/g;
        function Q(e, t, n) {
            var r;
            if (void 0 === n && 1 === e.nodeType)
                if (r = "data-" + t.replace(K, "-$&").toLowerCase(),
                "string" == typeof (n = e.getAttribute(r))) {
                    try {
                        n = function(e) {
                            return "true" === e || "false" !== e && ("null" === e ? null : e === +e + "" ? +e : Y.test(e) ? JSON.parse(e) : e)
                        }(n)
                    } catch (e) {}
                    X.set(e, t, n)
                } else
                    n = void 0;
            return n
        }
        b.extend({
            hasData: function(e) {
                return X.hasData(e) || G.hasData(e)
            },
            data: function(e, t, n) {
                return X.access(e, t, n)
            },
            removeData: function(e, t) {
                X.remove(e, t)
            },
            _data: function(e, t, n) {
                return G.access(e, t, n)
            },
            _removeData: function(e, t) {
                G.remove(e, t)
            }
        }),
        b.fn.extend({
            data: function(e, t) {
                var n, r, i, o = this[0], a = o && o.attributes;
                if (void 0 === e) {
                    if (this.length && (i = X.get(o),
                    1 === o.nodeType && !G.get(o, "hasDataAttrs"))) {
                        for (n = a.length; n--; )
                            a[n] && 0 === (r = a[n].name).indexOf("data-") && (r = b.camelCase(r.slice(5)),
                            Q(o, r, i[r]));
                        G.set(o, "hasDataAttrs", !0)
                    }
                    return i
                }
                return "object" == typeof e ? this.each(function() {
                    X.set(this, e)
                }) : z(this, function(t) {
                    var n;
                    if (o && void 0 === t)
                        return void 0 !== (n = X.get(o, e)) ? n : void 0 !== (n = Q(o, e)) ? n : void 0;
                    this.each(function() {
                        X.set(this, e, t)
                    })
                }, null, t, arguments.length > 1, null, !0)
            },
            removeData: function(e) {
                return this.each(function() {
                    X.remove(this, e)
                })
            }
        }),
        b.extend({
            queue: function(e, t, n) {
                var r;
                if (e)
                    return t = (t || "fx") + "queue",
                    r = G.get(e, t),
                    n && (!r || b.isArray(n) ? r = G.access(e, t, b.makeArray(n)) : r.push(n)),
                    r || []
            },
            dequeue: function(e, t) {
                t = t || "fx";
                var n = b.queue(e, t)
                  , r = n.length
                  , i = n.shift()
                  , o = b._queueHooks(e, t);
                "inprogress" === i && (i = n.shift(),
                r--),
                i && ("fx" === t && n.unshift("inprogress"),
                delete o.stop,
                i.call(e, function() {
                    b.dequeue(e, t)
                }, o)),
                !r && o && o.empty.fire()
            },
            _queueHooks: function(e, t) {
                var n = t + "queueHooks";
                return G.get(e, n) || G.access(e, n, {
                    empty: b.Callbacks("once memory").add(function() {
                        G.remove(e, [t + "queue", n])
                    })
                })
            }
        }),
        b.fn.extend({
            queue: function(e, t) {
                var n = 2;
                return "string" != typeof e && (t = e,
                e = "fx",
                n--),
                arguments.length < n ? b.queue(this[0], e) : void 0 === t ? this : this.each(function() {
                    var n = b.queue(this, e, t);
                    b._queueHooks(this, e),
                    "fx" === e && "inprogress" !== n[0] && b.dequeue(this, e)
                })
            },
            dequeue: function(e) {
                return this.each(function() {
                    b.dequeue(this, e)
                })
            },
            clearQueue: function(e) {
                return this.queue(e || "fx", [])
            },
            promise: function(e, t) {
                var n, r = 1, i = b.Deferred(), o = this, a = this.length, s = function() {
                    --r || i.resolveWith(o, [o])
                };
                for ("string" != typeof e && (t = e,
                e = void 0),
                e = e || "fx"; a--; )
                    (n = G.get(o[a], e + "queueHooks")) && n.empty && (r++,
                    n.empty.add(s));
                return s(),
                i.promise(t)
            }
        });
        var J = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
          , Z = new RegExp("^(?:([+-])=|)(" + J + ")([a-z%]*)$","i")
          , ee = ["Top", "Right", "Bottom", "Left"]
          , te = function(e, t) {
            return "none" === (e = t || e).style.display || "" === e.style.display && b.contains(e.ownerDocument, e) && "none" === b.css(e, "display")
        }
          , ne = function(e, t, n, r) {
            var i, o, a = {};
            for (o in t)
                a[o] = e.style[o],
                e.style[o] = t[o];
            for (o in i = n.apply(e, r || []),
            t)
                e.style[o] = a[o];
            return i
        };
        function re(e, t, n, r) {
            var i, o = 1, a = 20, s = r ? function() {
                return r.cur()
            }
            : function() {
                return b.css(e, t, "")
            }
            , c = s(), l = n && n[3] || (b.cssNumber[t] ? "" : "px"), u = (b.cssNumber[t] || "px" !== l && +c) && Z.exec(b.css(e, t));
            if (u && u[3] !== l) {
                l = l || u[3],
                n = n || [],
                u = +c || 1;
                do {
                    u /= o = o || ".5",
                    b.style(e, t, u + l)
                } while (o !== (o = s() / c) && 1 !== o && --a)
            }
            return n && (u = +u || +c || 0,
            i = n[1] ? u + (n[1] + 1) * n[2] : +n[2],
            r && (r.unit = l,
            r.start = u,
            r.end = i)),
            i
        }
        var ie = {};
        function oe(e) {
            var t, n = e.ownerDocument, r = e.nodeName, i = ie[r];
            return i || (t = n.body.appendChild(n.createElement(r)),
            i = b.css(t, "display"),
            t.parentNode.removeChild(t),
            "none" === i && (i = "block"),
            ie[r] = i,
            i)
        }
        function ae(e, t) {
            for (var n, r, i = [], o = 0, a = e.length; o < a; o++)
                (r = e[o]).style && (n = r.style.display,
                t ? ("none" === n && (i[o] = G.get(r, "display") || null,
                i[o] || (r.style.display = "")),
                "" === r.style.display && te(r) && (i[o] = oe(r))) : "none" !== n && (i[o] = "none",
                G.set(r, "display", n)));
            for (o = 0; o < a; o++)
                null != i[o] && (e[o].style.display = i[o]);
            return e
        }
        b.fn.extend({
            show: function() {
                return ae(this, !0)
            },
            hide: function() {
                return ae(this)
            },
            toggle: function(e) {
                return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                    te(this) ? b(this).show() : b(this).hide()
                })
            }
        });
        var se = /^(?:checkbox|radio)$/i
          , ce = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i
          , le = /^$|\/(?:java|ecma)script/i
          , ue = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        function de(e, t) {
            var n;
            return n = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [],
            void 0 === t || t && b.nodeName(e, t) ? b.merge([e], n) : n
        }
        function fe(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                G.set(e[n], "globalEval", !t || G.get(t[n], "globalEval"))
        }
        ue.optgroup = ue.option,
        ue.tbody = ue.tfoot = ue.colgroup = ue.caption = ue.thead,
        ue.th = ue.td;
        var he, pe, ge = /<|&#?\w+;/;
        function me(e, t, n, r, i) {
            for (var o, a, s, c, l, u, d = t.createDocumentFragment(), f = [], h = 0, p = e.length; h < p; h++)
                if ((o = e[h]) || 0 === o)
                    if ("object" === b.type(o))
                        b.merge(f, o.nodeType ? [o] : o);
                    else if (ge.test(o)) {
                        for (a = a || d.appendChild(t.createElement("div")),
                        s = (ce.exec(o) || ["", ""])[1].toLowerCase(),
                        c = ue[s] || ue._default,
                        a.innerHTML = c[1] + b.htmlPrefilter(o) + c[2],
                        u = c[0]; u--; )
                            a = a.lastChild;
                        b.merge(f, a.childNodes),
                        (a = d.firstChild).textContent = ""
                    } else
                        f.push(t.createTextNode(o));
            for (d.textContent = "",
            h = 0; o = f[h++]; )
                if (r && b.inArray(o, r) > -1)
                    i && i.push(o);
                else if (l = b.contains(o.ownerDocument, o),
                a = de(d.appendChild(o), "script"),
                l && fe(a),
                n)
                    for (u = 0; o = a[u++]; )
                        le.test(o.type || "") && n.push(o);
            return d
        }
        he = a.createDocumentFragment().appendChild(a.createElement("div")),
        (pe = a.createElement("input")).setAttribute("type", "radio"),
        pe.setAttribute("checked", "checked"),
        pe.setAttribute("name", "t"),
        he.appendChild(pe),
        v.checkClone = he.cloneNode(!0).cloneNode(!0).lastChild.checked,
        he.innerHTML = "<textarea>x</textarea>",
        v.noCloneChecked = !!he.cloneNode(!0).lastChild.defaultValue;
        var ve = a.documentElement
          , ye = /^key/
          , be = /^(?:mouse|pointer|contextmenu|drag|drop)|click/
          , we = /^([^.]*)(?:\.(.+)|)/;
        function xe() {
            return !0
        }
        function Se() {
            return !1
        }
        function Ce() {
            try {
                return a.activeElement
            } catch (e) {}
        }
        function _e(e, t, n, r, i, o) {
            var a, s;
            if ("object" == typeof t) {
                for (s in "string" != typeof n && (r = r || n,
                n = void 0),
                t)
                    _e(e, s, n, r, t[s], o);
                return e
            }
            if (null == r && null == i ? (i = n,
            r = n = void 0) : null == i && ("string" == typeof n ? (i = r,
            r = void 0) : (i = r,
            r = n,
            n = void 0)),
            !1 === i)
                i = Se;
            else if (!i)
                return e;
            return 1 === o && (a = i,
            (i = function(e) {
                return b().off(e),
                a.apply(this, arguments)
            }
            ).guid = a.guid || (a.guid = b.guid++)),
            e.each(function() {
                b.event.add(this, t, i, r, n)
            })
        }
        b.event = {
            global: {},
            add: function(e, t, n, r, i) {
                var o, a, s, c, l, u, d, f, h, p, g, m = G.get(e);
                if (m)
                    for (n.handler && (n = (o = n).handler,
                    i = o.selector),
                    i && b.find.matchesSelector(ve, i),
                    n.guid || (n.guid = b.guid++),
                    (c = m.events) || (c = m.events = {}),
                    (a = m.handle) || (a = m.handle = function(t) {
                        return void 0 !== b && b.event.triggered !== t.type ? b.event.dispatch.apply(e, arguments) : void 0
                    }
                    ),
                    l = (t = (t || "").match(L) || [""]).length; l--; )
                        h = g = (s = we.exec(t[l]) || [])[1],
                        p = (s[2] || "").split(".").sort(),
                        h && (d = b.event.special[h] || {},
                        h = (i ? d.delegateType : d.bindType) || h,
                        d = b.event.special[h] || {},
                        u = b.extend({
                            type: h,
                            origType: g,
                            data: r,
                            handler: n,
                            guid: n.guid,
                            selector: i,
                            needsContext: i && b.expr.match.needsContext.test(i),
                            namespace: p.join(".")
                        }, o),
                        (f = c[h]) || ((f = c[h] = []).delegateCount = 0,
                        d.setup && !1 !== d.setup.call(e, r, p, a) || e.addEventListener && e.addEventListener(h, a)),
                        d.add && (d.add.call(e, u),
                        u.handler.guid || (u.handler.guid = n.guid)),
                        i ? f.splice(f.delegateCount++, 0, u) : f.push(u),
                        b.event.global[h] = !0)
            },
            remove: function(e, t, n, r, i) {
                var o, a, s, c, l, u, d, f, h, p, g, m = G.hasData(e) && G.get(e);
                if (m && (c = m.events)) {
                    for (l = (t = (t || "").match(L) || [""]).length; l--; )
                        if (h = g = (s = we.exec(t[l]) || [])[1],
                        p = (s[2] || "").split(".").sort(),
                        h) {
                            for (d = b.event.special[h] || {},
                            f = c[h = (r ? d.delegateType : d.bindType) || h] || [],
                            s = s[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                            a = o = f.length; o--; )
                                u = f[o],
                                !i && g !== u.origType || n && n.guid !== u.guid || s && !s.test(u.namespace) || r && r !== u.selector && ("**" !== r || !u.selector) || (f.splice(o, 1),
                                u.selector && f.delegateCount--,
                                d.remove && d.remove.call(e, u));
                            a && !f.length && (d.teardown && !1 !== d.teardown.call(e, p, m.handle) || b.removeEvent(e, h, m.handle),
                            delete c[h])
                        } else
                            for (h in c)
                                b.event.remove(e, h + t[l], n, r, !0);
                    b.isEmptyObject(c) && G.remove(e, "handle events")
                }
            },
            dispatch: function(e) {
                var t, n, r, i, o, a, s = b.event.fix(e), c = new Array(arguments.length), l = (G.get(this, "events") || {})[s.type] || [], u = b.event.special[s.type] || {};
                for (c[0] = s,
                t = 1; t < arguments.length; t++)
                    c[t] = arguments[t];
                if (s.delegateTarget = this,
                !u.preDispatch || !1 !== u.preDispatch.call(this, s)) {
                    for (a = b.event.handlers.call(this, s, l),
                    t = 0; (i = a[t++]) && !s.isPropagationStopped(); )
                        for (s.currentTarget = i.elem,
                        n = 0; (o = i.handlers[n++]) && !s.isImmediatePropagationStopped(); )
                            s.rnamespace && !s.rnamespace.test(o.namespace) || (s.handleObj = o,
                            s.data = o.data,
                            void 0 !== (r = ((b.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, c)) && !1 === (s.result = r) && (s.preventDefault(),
                            s.stopPropagation()));
                    return u.postDispatch && u.postDispatch.call(this, s),
                    s.result
                }
            },
            handlers: function(e, t) {
                var n, r, i, o, a, s = [], c = t.delegateCount, l = e.target;
                if (c && l.nodeType && !("click" === e.type && e.button >= 1))
                    for (; l !== this; l = l.parentNode || this)
                        if (1 === l.nodeType && ("click" !== e.type || !0 !== l.disabled)) {
                            for (o = [],
                            a = {},
                            n = 0; n < c; n++)
                                void 0 === a[i = (r = t[n]).selector + " "] && (a[i] = r.needsContext ? b(i, this).index(l) > -1 : b.find(i, this, null, [l]).length),
                                a[i] && o.push(r);
                            o.length && s.push({
                                elem: l,
                                handlers: o
                            })
                        }
                return l = this,
                c < t.length && s.push({
                    elem: l,
                    handlers: t.slice(c)
                }),
                s
            },
            addProp: function(e, t) {
                Object.defineProperty(b.Event.prototype, e, {
                    enumerable: !0,
                    configurable: !0,
                    get: b.isFunction(t) ? function() {
                        if (this.originalEvent)
                            return t(this.originalEvent)
                    }
                    : function() {
                        if (this.originalEvent)
                            return this.originalEvent[e]
                    }
                    ,
                    set: function(t) {
                        Object.defineProperty(this, e, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: t
                        })
                    }
                })
            },
            fix: function(e) {
                return e[b.expando] ? e : new b.Event(e)
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        if (this !== Ce() && this.focus)
                            return this.focus(),
                            !1
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === Ce() && this.blur)
                            return this.blur(),
                            !1
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if ("checkbox" === this.type && this.click && b.nodeName(this, "input"))
                            return this.click(),
                            !1
                    },
                    _default: function(e) {
                        return b.nodeName(e.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                    }
                }
            }
        },
        b.removeEvent = function(e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n)
        }
        ,
        b.Event = function(e, t) {
            if (!(this instanceof b.Event))
                return new b.Event(e,t);
            e && e.type ? (this.originalEvent = e,
            this.type = e.type,
            this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? xe : Se,
            this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target,
            this.currentTarget = e.currentTarget,
            this.relatedTarget = e.relatedTarget) : this.type = e,
            t && b.extend(this, t),
            this.timeStamp = e && e.timeStamp || b.now(),
            this[b.expando] = !0
        }
        ,
        b.Event.prototype = {
            constructor: b.Event,
            isDefaultPrevented: Se,
            isPropagationStopped: Se,
            isImmediatePropagationStopped: Se,
            isSimulated: !1,
            preventDefault: function() {
                var e = this.originalEvent;
                this.isDefaultPrevented = xe,
                e && !this.isSimulated && e.preventDefault()
            },
            stopPropagation: function() {
                var e = this.originalEvent;
                this.isPropagationStopped = xe,
                e && !this.isSimulated && e.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var e = this.originalEvent;
                this.isImmediatePropagationStopped = xe,
                e && !this.isSimulated && e.stopImmediatePropagation(),
                this.stopPropagation()
            }
        },
        b.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function(e) {
                var t = e.button;
                return null == e.which && ye.test(e.type) ? null != e.charCode ? e.charCode : e.keyCode : !e.which && void 0 !== t && be.test(e.type) ? 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0 : e.which
            }
        }, b.event.addProp),
        b.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(e, t) {
            b.event.special[e] = {
                delegateType: t,
                bindType: t,
                handle: function(e) {
                    var n, r = e.relatedTarget, i = e.handleObj;
                    return r && (r === this || b.contains(this, r)) || (e.type = i.origType,
                    n = i.handler.apply(this, arguments),
                    e.type = t),
                    n
                }
            }
        }),
        b.fn.extend({
            on: function(e, t, n, r) {
                return _e(this, e, t, n, r)
            },
            one: function(e, t, n, r) {
                return _e(this, e, t, n, r, 1)
            },
            off: function(e, t, n) {
                var r, i;
                if (e && e.preventDefault && e.handleObj)
                    return r = e.handleObj,
                    b(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler),
                    this;
                if ("object" == typeof e) {
                    for (i in e)
                        this.off(i, t, e[i]);
                    return this
                }
                return !1 !== t && "function" != typeof t || (n = t,
                t = void 0),
                !1 === n && (n = Se),
                this.each(function() {
                    b.event.remove(this, e, n, t)
                })
            }
        });
        var ke = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi
          , Ee = /<script|<style|<link/i
          , Te = /checked\s*(?:[^=]|=\s*.checked.)/i
          , Pe = /^true\/(.*)/
          , Ae = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
        function Oe(e, t) {
            return b.nodeName(e, "table") && b.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") && e.getElementsByTagName("tbody")[0] || e
        }
        function $e(e) {
            return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
            e
        }
        function je(e) {
            var t = Pe.exec(e.type);
            return t ? e.type = t[1] : e.removeAttribute("type"),
            e
        }
        function De(e, t) {
            var n, r, i, o, a, s, c, l;
            if (1 === t.nodeType) {
                if (G.hasData(e) && (o = G.access(e),
                a = G.set(t, o),
                l = o.events))
                    for (i in delete a.handle,
                    a.events = {},
                    l)
                        for (n = 0,
                        r = l[i].length; n < r; n++)
                            b.event.add(t, i, l[i][n]);
                X.hasData(e) && (s = X.access(e),
                c = b.extend({}, s),
                X.set(t, c))
            }
        }
        function Re(e, t, n, r) {
            t = l.apply([], t);
            var i, o, a, s, c, u, d = 0, f = e.length, h = f - 1, p = t[0], g = b.isFunction(p);
            if (g || f > 1 && "string" == typeof p && !v.checkClone && Te.test(p))
                return e.each(function(i) {
                    var o = e.eq(i);
                    g && (t[0] = p.call(this, i, o.html())),
                    Re(o, t, n, r)
                });
            if (f && (o = (i = me(t, e[0].ownerDocument, !1, e, r)).firstChild,
            1 === i.childNodes.length && (i = o),
            o || r)) {
                for (s = (a = b.map(de(i, "script"), $e)).length; d < f; d++)
                    c = i,
                    d !== h && (c = b.clone(c, !0, !0),
                    s && b.merge(a, de(c, "script"))),
                    n.call(e[d], c, d);
                if (s)
                    for (u = a[a.length - 1].ownerDocument,
                    b.map(a, je),
                    d = 0; d < s; d++)
                        c = a[d],
                        le.test(c.type || "") && !G.access(c, "globalEval") && b.contains(u, c) && (c.src ? b._evalUrl && b._evalUrl(c.src) : y(c.textContent.replace(Ae, ""), u))
            }
            return e
        }
        function Me(e, t, n) {
            for (var r, i = t ? b.filter(t, e) : e, o = 0; null != (r = i[o]); o++)
                n || 1 !== r.nodeType || b.cleanData(de(r)),
                r.parentNode && (n && b.contains(r.ownerDocument, r) && fe(de(r, "script")),
                r.parentNode.removeChild(r));
            return e
        }
        b.extend({
            htmlPrefilter: function(e) {
                return e.replace(ke, "<$1></$2>")
            },
            clone: function(e, t, n) {
                var r, i, o, a, s, c, l, u = e.cloneNode(!0), d = b.contains(e.ownerDocument, e);
                if (!(v.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || b.isXMLDoc(e)))
                    for (a = de(u),
                    r = 0,
                    i = (o = de(e)).length; r < i; r++)
                        s = o[r],
                        "input" === (l = (c = a[r]).nodeName.toLowerCase()) && se.test(s.type) ? c.checked = s.checked : "input" !== l && "textarea" !== l || (c.defaultValue = s.defaultValue);
                if (t)
                    if (n)
                        for (o = o || de(e),
                        a = a || de(u),
                        r = 0,
                        i = o.length; r < i; r++)
                            De(o[r], a[r]);
                    else
                        De(e, u);
                return (a = de(u, "script")).length > 0 && fe(a, !d && de(e, "script")),
                u
            },
            cleanData: function(e) {
                for (var t, n, r, i = b.event.special, o = 0; void 0 !== (n = e[o]); o++)
                    if (H(n)) {
                        if (t = n[G.expando]) {
                            if (t.events)
                                for (r in t.events)
                                    i[r] ? b.event.remove(n, r) : b.removeEvent(n, r, t.handle);
                            n[G.expando] = void 0
                        }
                        n[X.expando] && (n[X.expando] = void 0)
                    }
            }
        }),
        b.fn.extend({
            detach: function(e) {
                return Me(this, e, !0)
            },
            remove: function(e) {
                return Me(this, e)
            },
            text: function(e) {
                return z(this, function(e) {
                    return void 0 === e ? b.text(this) : this.empty().each(function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                    })
                }, null, e, arguments.length)
            },
            append: function() {
                return Re(this, arguments, function(e) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Oe(this, e).appendChild(e)
                })
            },
            prepend: function() {
                return Re(this, arguments, function(e) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = Oe(this, e);
                        t.insertBefore(e, t.firstChild)
                    }
                })
            },
            before: function() {
                return Re(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this)
                })
            },
            after: function() {
                return Re(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                })
            },
            empty: function() {
                for (var e, t = 0; null != (e = this[t]); t++)
                    1 === e.nodeType && (b.cleanData(de(e, !1)),
                    e.textContent = "");
                return this
            },
            clone: function(e, t) {
                return e = null != e && e,
                t = null == t ? e : t,
                this.map(function() {
                    return b.clone(this, e, t)
                })
            },
            html: function(e) {
                return z(this, function(e) {
                    var t = this[0] || {}
                      , n = 0
                      , r = this.length;
                    if (void 0 === e && 1 === t.nodeType)
                        return t.innerHTML;
                    if ("string" == typeof e && !Ee.test(e) && !ue[(ce.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = b.htmlPrefilter(e);
                        try {
                            for (; n < r; n++)
                                1 === (t = this[n] || {}).nodeType && (b.cleanData(de(t, !1)),
                                t.innerHTML = e);
                            t = 0
                        } catch (e) {}
                    }
                    t && this.empty().append(e)
                }, null, e, arguments.length)
            },
            replaceWith: function() {
                var e = [];
                return Re(this, arguments, function(t) {
                    var n = this.parentNode;
                    b.inArray(this, e) < 0 && (b.cleanData(de(this)),
                    n && n.replaceChild(t, this))
                }, e)
            }
        }),
        b.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(e, t) {
            b.fn[e] = function(e) {
                for (var n, r = [], i = b(e), o = i.length - 1, a = 0; a <= o; a++)
                    n = a === o ? this : this.clone(!0),
                    b(i[a])[t](n),
                    u.apply(r, n.get());
                return this.pushStack(r)
            }
        });
        var Ie = /^margin/
          , Le = new RegExp("^(" + J + ")(?!px)[a-z%]+$","i")
          , Fe = function(e) {
            var t = e.ownerDocument.defaultView;
            return t && t.opener || (t = n),
            t.getComputedStyle(e)
        };
        function Ne(e, t, n) {
            var r, i, o, a, s = e.style;
            return (n = n || Fe(e)) && ("" !== (a = n.getPropertyValue(t) || n[t]) || b.contains(e.ownerDocument, e) || (a = b.style(e, t)),
            !v.pixelMarginRight() && Le.test(a) && Ie.test(t) && (r = s.width,
            i = s.minWidth,
            o = s.maxWidth,
            s.minWidth = s.maxWidth = s.width = a,
            a = n.width,
            s.width = r,
            s.minWidth = i,
            s.maxWidth = o)),
            void 0 !== a ? a + "" : a
        }
        function Be(e, t) {
            return {
                get: function() {
                    if (!e())
                        return (this.get = t).apply(this, arguments);
                    delete this.get
                }
            }
        }
        !function() {
            function e() {
                if (c) {
                    c.style.cssText = "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
                    c.innerHTML = "",
                    ve.appendChild(s);
                    var e = n.getComputedStyle(c);
                    t = "1%" !== e.top,
                    o = "2px" === e.marginLeft,
                    r = "4px" === e.width,
                    c.style.marginRight = "50%",
                    i = "4px" === e.marginRight,
                    ve.removeChild(s),
                    c = null
                }
            }
            var t, r, i, o, s = a.createElement("div"), c = a.createElement("div");
            c.style && (c.style.backgroundClip = "content-box",
            c.cloneNode(!0).style.backgroundClip = "",
            v.clearCloneStyle = "content-box" === c.style.backgroundClip,
            s.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
            s.appendChild(c),
            b.extend(v, {
                pixelPosition: function() {
                    return e(),
                    t
                },
                boxSizingReliable: function() {
                    return e(),
                    r
                },
                pixelMarginRight: function() {
                    return e(),
                    i
                },
                reliableMarginLeft: function() {
                    return e(),
                    o
                }
            }))
        }();
        var Ue = /^(none|table(?!-c[ea]).+)/
          , qe = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }
          , Ve = {
            letterSpacing: "0",
            fontWeight: "400"
        }
          , ze = ["Webkit", "Moz", "ms"]
          , He = a.createElement("div").style;
        function We(e) {
            if (e in He)
                return e;
            for (var t = e[0].toUpperCase() + e.slice(1), n = ze.length; n--; )
                if ((e = ze[n] + t)in He)
                    return e
        }
        function Ge(e, t, n) {
            var r = Z.exec(t);
            return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t
        }
        function Xe(e, t, n, r, i) {
            var o, a = 0;
            for (o = n === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0; o < 4; o += 2)
                "margin" === n && (a += b.css(e, n + ee[o], !0, i)),
                r ? ("content" === n && (a -= b.css(e, "padding" + ee[o], !0, i)),
                "margin" !== n && (a -= b.css(e, "border" + ee[o] + "Width", !0, i))) : (a += b.css(e, "padding" + ee[o], !0, i),
                "padding" !== n && (a += b.css(e, "border" + ee[o] + "Width", !0, i)));
            return a
        }
        function Ye(e, t, n) {
            var r, i = !0, o = Fe(e), a = "border-box" === b.css(e, "boxSizing", !1, o);
            if (e.getClientRects().length && (r = e.getBoundingClientRect()[t]),
            r <= 0 || null == r) {
                if (((r = Ne(e, t, o)) < 0 || null == r) && (r = e.style[t]),
                Le.test(r))
                    return r;
                i = a && (v.boxSizingReliable() || r === e.style[t]),
                r = parseFloat(r) || 0
            }
            return r + Xe(e, t, n || (a ? "border" : "content"), i, o) + "px"
        }
        function Ke(e, t, n, r, i) {
            return new Ke.prototype.init(e,t,n,r,i)
        }
        b.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = Ne(e, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                float: "cssFloat"
            },
            style: function(e, t, n, r) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var i, o, a, s = b.camelCase(t), c = e.style;
                    if (t = b.cssProps[s] || (b.cssProps[s] = We(s) || s),
                    a = b.cssHooks[t] || b.cssHooks[s],
                    void 0 === n)
                        return a && "get"in a && void 0 !== (i = a.get(e, !1, r)) ? i : c[t];
                    "string" == (o = typeof n) && (i = Z.exec(n)) && i[1] && (n = re(e, t, i),
                    o = "number"),
                    null != n && n == n && ("number" === o && (n += i && i[3] || (b.cssNumber[s] ? "" : "px")),
                    v.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (c[t] = "inherit"),
                    a && "set"in a && void 0 === (n = a.set(e, n, r)) || (c[t] = n))
                }
            },
            css: function(e, t, n, r) {
                var i, o, a, s = b.camelCase(t);
                return t = b.cssProps[s] || (b.cssProps[s] = We(s) || s),
                (a = b.cssHooks[t] || b.cssHooks[s]) && "get"in a && (i = a.get(e, !0, n)),
                void 0 === i && (i = Ne(e, t, r)),
                "normal" === i && t in Ve && (i = Ve[t]),
                "" === n || n ? (o = parseFloat(i),
                !0 === n || isFinite(o) ? o || 0 : i) : i
            }
        }),
        b.each(["height", "width"], function(e, t) {
            b.cssHooks[t] = {
                get: function(e, n, r) {
                    if (n)
                        return !Ue.test(b.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? Ye(e, t, r) : ne(e, qe, function() {
                            return Ye(e, t, r)
                        })
                },
                set: function(e, n, r) {
                    var i, o = r && Fe(e), a = r && Xe(e, t, r, "border-box" === b.css(e, "boxSizing", !1, o), o);
                    return a && (i = Z.exec(n)) && "px" !== (i[3] || "px") && (e.style[t] = n,
                    n = b.css(e, t)),
                    Ge(0, n, a)
                }
            }
        }),
        b.cssHooks.marginLeft = Be(v.reliableMarginLeft, function(e, t) {
            if (t)
                return (parseFloat(Ne(e, "marginLeft")) || e.getBoundingClientRect().left - ne(e, {
                    marginLeft: 0
                }, function() {
                    return e.getBoundingClientRect().left
                })) + "px"
        }),
        b.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(e, t) {
            b.cssHooks[e + t] = {
                expand: function(n) {
                    for (var r = 0, i = {}, o = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++)
                        i[e + ee[r] + t] = o[r] || o[r - 2] || o[0];
                    return i
                }
            },
            Ie.test(e) || (b.cssHooks[e + t].set = Ge)
        }),
        b.fn.extend({
            css: function(e, t) {
                return z(this, function(e, t, n) {
                    var r, i, o = {}, a = 0;
                    if (b.isArray(t)) {
                        for (r = Fe(e),
                        i = t.length; a < i; a++)
                            o[t[a]] = b.css(e, t[a], !1, r);
                        return o
                    }
                    return void 0 !== n ? b.style(e, t, n) : b.css(e, t)
                }, e, t, arguments.length > 1)
            }
        }),
        b.Tween = Ke,
        Ke.prototype = {
            constructor: Ke,
            init: function(e, t, n, r, i, o) {
                this.elem = e,
                this.prop = n,
                this.easing = i || b.easing._default,
                this.options = t,
                this.start = this.now = this.cur(),
                this.end = r,
                this.unit = o || (b.cssNumber[n] ? "" : "px")
            },
            cur: function() {
                var e = Ke.propHooks[this.prop];
                return e && e.get ? e.get(this) : Ke.propHooks._default.get(this)
            },
            run: function(e) {
                var t, n = Ke.propHooks[this.prop];
                return this.options.duration ? this.pos = t = b.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
                this.now = (this.end - this.start) * t + this.start,
                this.options.step && this.options.step.call(this.elem, this.now, this),
                n && n.set ? n.set(this) : Ke.propHooks._default.set(this),
                this
            }
        },
        Ke.prototype.init.prototype = Ke.prototype,
        Ke.propHooks = {
            _default: {
                get: function(e) {
                    var t;
                    return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = b.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
                },
                set: function(e) {
                    b.fx.step[e.prop] ? b.fx.step[e.prop](e) : 1 !== e.elem.nodeType || null == e.elem.style[b.cssProps[e.prop]] && !b.cssHooks[e.prop] ? e.elem[e.prop] = e.now : b.style(e.elem, e.prop, e.now + e.unit)
                }
            }
        },
        Ke.propHooks.scrollTop = Ke.propHooks.scrollLeft = {
            set: function(e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        },
        b.easing = {
            linear: function(e) {
                return e
            },
            swing: function(e) {
                return .5 - Math.cos(e * Math.PI) / 2
            },
            _default: "swing"
        },
        b.fx = Ke.prototype.init,
        b.fx.step = {};
        var Qe, Je, Ze = /^(?:toggle|show|hide)$/, et = /queueHooks$/;
        function tt() {
            Je && (n.requestAnimationFrame(tt),
            b.fx.tick())
        }
        function nt() {
            return n.setTimeout(function() {
                Qe = void 0
            }),
            Qe = b.now()
        }
        function rt(e, t) {
            var n, r = 0, i = {
                height: e
            };
            for (t = t ? 1 : 0; r < 4; r += 2 - t)
                i["margin" + (n = ee[r])] = i["padding" + n] = e;
            return t && (i.opacity = i.width = e),
            i
        }
        function it(e, t, n) {
            for (var r, i = (ot.tweeners[t] || []).concat(ot.tweeners["*"]), o = 0, a = i.length; o < a; o++)
                if (r = i[o].call(n, t, e))
                    return r
        }
        function ot(e, t, n) {
            var r, i, o = 0, a = ot.prefilters.length, s = b.Deferred().always(function() {
                delete c.elem
            }), c = function() {
                if (i)
                    return !1;
                for (var t = Qe || nt(), n = Math.max(0, l.startTime + l.duration - t), r = 1 - (n / l.duration || 0), o = 0, a = l.tweens.length; o < a; o++)
                    l.tweens[o].run(r);
                return s.notifyWith(e, [l, r, n]),
                r < 1 && a ? n : (s.resolveWith(e, [l]),
                !1)
            }, l = s.promise({
                elem: e,
                props: b.extend({}, t),
                opts: b.extend(!0, {
                    specialEasing: {},
                    easing: b.easing._default
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Qe || nt(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = b.Tween(e, l.opts, t, n, l.opts.specialEasing[t] || l.opts.easing);
                    return l.tweens.push(r),
                    r
                },
                stop: function(t) {
                    var n = 0
                      , r = t ? l.tweens.length : 0;
                    if (i)
                        return this;
                    for (i = !0; n < r; n++)
                        l.tweens[n].run(1);
                    return t ? (s.notifyWith(e, [l, 1, 0]),
                    s.resolveWith(e, [l, t])) : s.rejectWith(e, [l, t]),
                    this
                }
            }), u = l.props;
            for (function(e, t) {
                var n, r, i, o, a;
                for (n in e)
                    if (i = t[r = b.camelCase(n)],
                    o = e[n],
                    b.isArray(o) && (i = o[1],
                    o = e[n] = o[0]),
                    n !== r && (e[r] = o,
                    delete e[n]),
                    (a = b.cssHooks[r]) && "expand"in a)
                        for (n in o = a.expand(o),
                        delete e[r],
                        o)
                            n in e || (e[n] = o[n],
                            t[n] = i);
                    else
                        t[r] = i
            }(u, l.opts.specialEasing); o < a; o++)
                if (r = ot.prefilters[o].call(l, e, u, l.opts))
                    return b.isFunction(r.stop) && (b._queueHooks(l.elem, l.opts.queue).stop = b.proxy(r.stop, r)),
                    r;
            return b.map(u, it, l),
            b.isFunction(l.opts.start) && l.opts.start.call(e, l),
            b.fx.timer(b.extend(c, {
                elem: e,
                anim: l,
                queue: l.opts.queue
            })),
            l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
        }
        b.Animation = b.extend(ot, {
            tweeners: {
                "*": [function(e, t) {
                    var n = this.createTween(e, t);
                    return re(n.elem, e, Z.exec(t), n),
                    n
                }
                ]
            },
            tweener: function(e, t) {
                b.isFunction(e) ? (t = e,
                e = ["*"]) : e = e.match(L);
                for (var n, r = 0, i = e.length; r < i; r++)
                    n = e[r],
                    ot.tweeners[n] = ot.tweeners[n] || [],
                    ot.tweeners[n].unshift(t)
            },
            prefilters: [function(e, t, n) {
                var r, i, o, a, s, c, l, u, d = "width"in t || "height"in t, f = this, h = {}, p = e.style, g = e.nodeType && te(e), m = G.get(e, "fxshow");
                for (r in n.queue || (null == (a = b._queueHooks(e, "fx")).unqueued && (a.unqueued = 0,
                s = a.empty.fire,
                a.empty.fire = function() {
                    a.unqueued || s()
                }
                ),
                a.unqueued++,
                f.always(function() {
                    f.always(function() {
                        a.unqueued--,
                        b.queue(e, "fx").length || a.empty.fire()
                    })
                })),
                t)
                    if (i = t[r],
                    Ze.test(i)) {
                        if (delete t[r],
                        o = o || "toggle" === i,
                        i === (g ? "hide" : "show")) {
                            if ("show" !== i || !m || void 0 === m[r])
                                continue;
                            g = !0
                        }
                        h[r] = m && m[r] || b.style(e, r)
                    }
                if ((c = !b.isEmptyObject(t)) || !b.isEmptyObject(h))
                    for (r in d && 1 === e.nodeType && (n.overflow = [p.overflow, p.overflowX, p.overflowY],
                    null == (l = m && m.display) && (l = G.get(e, "display")),
                    "none" === (u = b.css(e, "display")) && (l ? u = l : (ae([e], !0),
                    l = e.style.display || l,
                    u = b.css(e, "display"),
                    ae([e]))),
                    ("inline" === u || "inline-block" === u && null != l) && "none" === b.css(e, "float") && (c || (f.done(function() {
                        p.display = l
                    }),
                    null == l && (u = p.display,
                    l = "none" === u ? "" : u)),
                    p.display = "inline-block")),
                    n.overflow && (p.overflow = "hidden",
                    f.always(function() {
                        p.overflow = n.overflow[0],
                        p.overflowX = n.overflow[1],
                        p.overflowY = n.overflow[2]
                    })),
                    c = !1,
                    h)
                        c || (m ? "hidden"in m && (g = m.hidden) : m = G.access(e, "fxshow", {
                            display: l
                        }),
                        o && (m.hidden = !g),
                        g && ae([e], !0),
                        f.done(function() {
                            for (r in g || ae([e]),
                            G.remove(e, "fxshow"),
                            h)
                                b.style(e, r, h[r])
                        })),
                        c = it(g ? m[r] : 0, r, f),
                        r in m || (m[r] = c.start,
                        g && (c.end = c.start,
                        c.start = 0))
            }
            ],
            prefilter: function(e, t) {
                t ? ot.prefilters.unshift(e) : ot.prefilters.push(e)
            }
        }),
        b.speed = function(e, t, n) {
            var r = e && "object" == typeof e ? b.extend({}, e) : {
                complete: n || !n && t || b.isFunction(e) && e,
                duration: e,
                easing: n && t || t && !b.isFunction(t) && t
            };
            return b.fx.off || a.hidden ? r.duration = 0 : "number" != typeof r.duration && (r.duration in b.fx.speeds ? r.duration = b.fx.speeds[r.duration] : r.duration = b.fx.speeds._default),
            null != r.queue && !0 !== r.queue || (r.queue = "fx"),
            r.old = r.complete,
            r.complete = function() {
                b.isFunction(r.old) && r.old.call(this),
                r.queue && b.dequeue(this, r.queue)
            }
            ,
            r
        }
        ,
        b.fn.extend({
            fadeTo: function(e, t, n, r) {
                return this.filter(te).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, r)
            },
            animate: function(e, t, n, r) {
                var i = b.isEmptyObject(e)
                  , o = b.speed(t, n, r)
                  , a = function() {
                    var t = ot(this, b.extend({}, e), o);
                    (i || G.get(this, "finish")) && t.stop(!0)
                };
                return a.finish = a,
                i || !1 === o.queue ? this.each(a) : this.queue(o.queue, a)
            },
            stop: function(e, t, n) {
                var r = function(e) {
                    var t = e.stop;
                    delete e.stop,
                    t(n)
                };
                return "string" != typeof e && (n = t,
                t = e,
                e = void 0),
                t && !1 !== e && this.queue(e || "fx", []),
                this.each(function() {
                    var t = !0
                      , i = null != e && e + "queueHooks"
                      , o = b.timers
                      , a = G.get(this);
                    if (i)
                        a[i] && a[i].stop && r(a[i]);
                    else
                        for (i in a)
                            a[i] && a[i].stop && et.test(i) && r(a[i]);
                    for (i = o.length; i--; )
                        o[i].elem !== this || null != e && o[i].queue !== e || (o[i].anim.stop(n),
                        t = !1,
                        o.splice(i, 1));
                    !t && n || b.dequeue(this, e)
                })
            },
            finish: function(e) {
                return !1 !== e && (e = e || "fx"),
                this.each(function() {
                    var t, n = G.get(this), r = n[e + "queue"], i = n[e + "queueHooks"], o = b.timers, a = r ? r.length : 0;
                    for (n.finish = !0,
                    b.queue(this, e, []),
                    i && i.stop && i.stop.call(this, !0),
                    t = o.length; t--; )
                        o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0),
                        o.splice(t, 1));
                    for (t = 0; t < a; t++)
                        r[t] && r[t].finish && r[t].finish.call(this);
                    delete n.finish
                })
            }
        }),
        b.each(["toggle", "show", "hide"], function(e, t) {
            var n = b.fn[t];
            b.fn[t] = function(e, r, i) {
                return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(rt(t, !0), e, r, i)
            }
        }),
        b.each({
            slideDown: rt("show"),
            slideUp: rt("hide"),
            slideToggle: rt("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, t) {
            b.fn[e] = function(e, n, r) {
                return this.animate(t, e, n, r)
            }
        }),
        b.timers = [],
        b.fx.tick = function() {
            var e, t = 0, n = b.timers;
            for (Qe = b.now(); t < n.length; t++)
                (e = n[t])() || n[t] !== e || n.splice(t--, 1);
            n.length || b.fx.stop(),
            Qe = void 0
        }
        ,
        b.fx.timer = function(e) {
            b.timers.push(e),
            e() ? b.fx.start() : b.timers.pop()
        }
        ,
        b.fx.interval = 13,
        b.fx.start = function() {
            Je || (Je = n.requestAnimationFrame ? n.requestAnimationFrame(tt) : n.setInterval(b.fx.tick, b.fx.interval))
        }
        ,
        b.fx.stop = function() {
            n.cancelAnimationFrame ? n.cancelAnimationFrame(Je) : n.clearInterval(Je),
            Je = null
        }
        ,
        b.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        },
        b.fn.delay = function(e, t) {
            return e = b.fx && b.fx.speeds[e] || e,
            t = t || "fx",
            this.queue(t, function(t, r) {
                var i = n.setTimeout(t, e);
                r.stop = function() {
                    n.clearTimeout(i)
                }
            })
        }
        ,
        function() {
            var e = a.createElement("input")
              , t = a.createElement("select").appendChild(a.createElement("option"));
            e.type = "checkbox",
            v.checkOn = "" !== e.value,
            v.optSelected = t.selected,
            (e = a.createElement("input")).value = "t",
            e.type = "radio",
            v.radioValue = "t" === e.value
        }();
        var at, st = b.expr.attrHandle;
        b.fn.extend({
            attr: function(e, t) {
                return z(this, b.attr, e, t, arguments.length > 1)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    b.removeAttr(this, e)
                })
            }
        }),
        b.extend({
            attr: function(e, t, n) {
                var r, i, o = e.nodeType;
                if (3 !== o && 8 !== o && 2 !== o)
                    return void 0 === e.getAttribute ? b.prop(e, t, n) : (1 === o && b.isXMLDoc(e) || (i = b.attrHooks[t.toLowerCase()] || (b.expr.match.bool.test(t) ? at : void 0)),
                    void 0 !== n ? null === n ? void b.removeAttr(e, t) : i && "set"in i && void 0 !== (r = i.set(e, n, t)) ? r : (e.setAttribute(t, n + ""),
                    n) : i && "get"in i && null !== (r = i.get(e, t)) ? r : null == (r = b.find.attr(e, t)) ? void 0 : r)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        if (!v.radioValue && "radio" === t && b.nodeName(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t),
                            n && (e.value = n),
                            t
                        }
                    }
                }
            },
            removeAttr: function(e, t) {
                var n, r = 0, i = t && t.match(L);
                if (i && 1 === e.nodeType)
                    for (; n = i[r++]; )
                        e.removeAttribute(n)
            }
        }),
        at = {
            set: function(e, t, n) {
                return !1 === t ? b.removeAttr(e, n) : e.setAttribute(n, n),
                n
            }
        },
        b.each(b.expr.match.bool.source.match(/\w+/g), function(e, t) {
            var n = st[t] || b.find.attr;
            st[t] = function(e, t, r) {
                var i, o, a = t.toLowerCase();
                return r || (o = st[a],
                st[a] = i,
                i = null != n(e, t, r) ? a : null,
                st[a] = o),
                i
            }
        });
        var ct = /^(?:input|select|textarea|button)$/i
          , lt = /^(?:a|area)$/i;
        function ut(e) {
            return (e.match(L) || []).join(" ")
        }
        function dt(e) {
            return e.getAttribute && e.getAttribute("class") || ""
        }
        b.fn.extend({
            prop: function(e, t) {
                return z(this, b.prop, e, t, arguments.length > 1)
            },
            removeProp: function(e) {
                return this.each(function() {
                    delete this[b.propFix[e] || e]
                })
            }
        }),
        b.extend({
            prop: function(e, t, n) {
                var r, i, o = e.nodeType;
                if (3 !== o && 8 !== o && 2 !== o)
                    return 1 === o && b.isXMLDoc(e) || (t = b.propFix[t] || t,
                    i = b.propHooks[t]),
                    void 0 !== n ? i && "set"in i && void 0 !== (r = i.set(e, n, t)) ? r : e[t] = n : i && "get"in i && null !== (r = i.get(e, t)) ? r : e[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var t = b.find.attr(e, "tabindex");
                        return t ? parseInt(t, 10) : ct.test(e.nodeName) || lt.test(e.nodeName) && e.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }),
        v.optSelected || (b.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                return t && t.parentNode && t.parentNode.selectedIndex,
                null
            },
            set: function(e) {
                var t = e.parentNode;
                t && (t.selectedIndex,
                t.parentNode && t.parentNode.selectedIndex)
            }
        }),
        b.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            b.propFix[this.toLowerCase()] = this
        }),
        b.fn.extend({
            addClass: function(e) {
                var t, n, r, i, o, a, s, c = 0;
                if (b.isFunction(e))
                    return this.each(function(t) {
                        b(this).addClass(e.call(this, t, dt(this)))
                    });
                if ("string" == typeof e && e)
                    for (t = e.match(L) || []; n = this[c++]; )
                        if (i = dt(n),
                        r = 1 === n.nodeType && " " + ut(i) + " ") {
                            for (a = 0; o = t[a++]; )
                                r.indexOf(" " + o + " ") < 0 && (r += o + " ");
                            i !== (s = ut(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            removeClass: function(e) {
                var t, n, r, i, o, a, s, c = 0;
                if (b.isFunction(e))
                    return this.each(function(t) {
                        b(this).removeClass(e.call(this, t, dt(this)))
                    });
                if (!arguments.length)
                    return this.attr("class", "");
                if ("string" == typeof e && e)
                    for (t = e.match(L) || []; n = this[c++]; )
                        if (i = dt(n),
                        r = 1 === n.nodeType && " " + ut(i) + " ") {
                            for (a = 0; o = t[a++]; )
                                for (; r.indexOf(" " + o + " ") > -1; )
                                    r = r.replace(" " + o + " ", " ");
                            i !== (s = ut(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            toggleClass: function(e, t) {
                var n = typeof e;
                return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : b.isFunction(e) ? this.each(function(n) {
                    b(this).toggleClass(e.call(this, n, dt(this), t), t)
                }) : this.each(function() {
                    var t, r, i, o;
                    if ("string" === n)
                        for (r = 0,
                        i = b(this),
                        o = e.match(L) || []; t = o[r++]; )
                            i.hasClass(t) ? i.removeClass(t) : i.addClass(t);
                    else
                        void 0 !== e && "boolean" !== n || ((t = dt(this)) && G.set(this, "__className__", t),
                        this.setAttribute && this.setAttribute("class", t || !1 === e ? "" : G.get(this, "__className__") || ""))
                })
            },
            hasClass: function(e) {
                var t, n, r = 0;
                for (t = " " + e + " "; n = this[r++]; )
                    if (1 === n.nodeType && (" " + ut(dt(n)) + " ").indexOf(t) > -1)
                        return !0;
                return !1
            }
        });
        var ft = /\r/g;
        b.fn.extend({
            val: function(e) {
                var t, n, r, i = this[0];
                return arguments.length ? (r = b.isFunction(e),
                this.each(function(n) {
                    var i;
                    1 === this.nodeType && (null == (i = r ? e.call(this, n, b(this).val()) : e) ? i = "" : "number" == typeof i ? i += "" : b.isArray(i) && (i = b.map(i, function(e) {
                        return null == e ? "" : e + ""
                    })),
                    (t = b.valHooks[this.type] || b.valHooks[this.nodeName.toLowerCase()]) && "set"in t && void 0 !== t.set(this, i, "value") || (this.value = i))
                })) : i ? (t = b.valHooks[i.type] || b.valHooks[i.nodeName.toLowerCase()]) && "get"in t && void 0 !== (n = t.get(i, "value")) ? n : "string" == typeof (n = i.value) ? n.replace(ft, "") : null == n ? "" : n : void 0
            }
        }),
        b.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = b.find.attr(e, "value");
                        return null != t ? t : ut(b.text(e))
                    }
                },
                select: {
                    get: function(e) {
                        var t, n, r, i = e.options, o = e.selectedIndex, a = "select-one" === e.type, s = a ? null : [], c = a ? o + 1 : i.length;
                        for (r = o < 0 ? c : a ? o : 0; r < c; r++)
                            if (((n = i[r]).selected || r === o) && !n.disabled && (!n.parentNode.disabled || !b.nodeName(n.parentNode, "optgroup"))) {
                                if (t = b(n).val(),
                                a)
                                    return t;
                                s.push(t)
                            }
                        return s
                    },
                    set: function(e, t) {
                        for (var n, r, i = e.options, o = b.makeArray(t), a = i.length; a--; )
                            ((r = i[a]).selected = b.inArray(b.valHooks.option.get(r), o) > -1) && (n = !0);
                        return n || (e.selectedIndex = -1),
                        o
                    }
                }
            }
        }),
        b.each(["radio", "checkbox"], function() {
            b.valHooks[this] = {
                set: function(e, t) {
                    if (b.isArray(t))
                        return e.checked = b.inArray(b(e).val(), t) > -1
                }
            },
            v.checkOn || (b.valHooks[this].get = function(e) {
                return null === e.getAttribute("value") ? "on" : e.value
            }
            )
        });
        var ht = /^(?:focusinfocus|focusoutblur)$/;
        b.extend(b.event, {
            trigger: function(e, t, r, i) {
                var o, s, c, l, u, d, f, h = [r || a], g = p.call(e, "type") ? e.type : e, m = p.call(e, "namespace") ? e.namespace.split(".") : [];
                if (s = c = r = r || a,
                3 !== r.nodeType && 8 !== r.nodeType && !ht.test(g + b.event.triggered) && (g.indexOf(".") > -1 && (g = (m = g.split(".")).shift(),
                m.sort()),
                u = g.indexOf(":") < 0 && "on" + g,
                (e = e[b.expando] ? e : new b.Event(g,"object" == typeof e && e)).isTrigger = i ? 2 : 3,
                e.namespace = m.join("."),
                e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                e.result = void 0,
                e.target || (e.target = r),
                t = null == t ? [e] : b.makeArray(t, [e]),
                f = b.event.special[g] || {},
                i || !f.trigger || !1 !== f.trigger.apply(r, t))) {
                    if (!i && !f.noBubble && !b.isWindow(r)) {
                        for (l = f.delegateType || g,
                        ht.test(l + g) || (s = s.parentNode); s; s = s.parentNode)
                            h.push(s),
                            c = s;
                        c === (r.ownerDocument || a) && h.push(c.defaultView || c.parentWindow || n)
                    }
                    for (o = 0; (s = h[o++]) && !e.isPropagationStopped(); )
                        e.type = o > 1 ? l : f.bindType || g,
                        (d = (G.get(s, "events") || {})[e.type] && G.get(s, "handle")) && d.apply(s, t),
                        (d = u && s[u]) && d.apply && H(s) && (e.result = d.apply(s, t),
                        !1 === e.result && e.preventDefault());
                    return e.type = g,
                    i || e.isDefaultPrevented() || f._default && !1 !== f._default.apply(h.pop(), t) || !H(r) || u && b.isFunction(r[g]) && !b.isWindow(r) && ((c = r[u]) && (r[u] = null),
                    b.event.triggered = g,
                    r[g](),
                    b.event.triggered = void 0,
                    c && (r[u] = c)),
                    e.result
                }
            },
            simulate: function(e, t, n) {
                var r = b.extend(new b.Event, n, {
                    type: e,
                    isSimulated: !0
                });
                b.event.trigger(r, null, t)
            }
        }),
        b.fn.extend({
            trigger: function(e, t) {
                return this.each(function() {
                    b.event.trigger(e, t, this)
                })
            },
            triggerHandler: function(e, t) {
                var n = this[0];
                if (n)
                    return b.event.trigger(e, t, n, !0)
            }
        }),
        b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, t) {
            b.fn[t] = function(e, n) {
                return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
            }
        }),
        b.fn.extend({
            hover: function(e, t) {
                return this.mouseenter(e).mouseleave(t || e)
            }
        }),
        v.focusin = "onfocusin"in n,
        v.focusin || b.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            var n = function(e) {
                b.event.simulate(t, e.target, b.event.fix(e))
            };
            b.event.special[t] = {
                setup: function() {
                    var r = this.ownerDocument || this
                      , i = G.access(r, t);
                    i || r.addEventListener(e, n, !0),
                    G.access(r, t, (i || 0) + 1)
                },
                teardown: function() {
                    var r = this.ownerDocument || this
                      , i = G.access(r, t) - 1;
                    i ? G.access(r, t, i) : (r.removeEventListener(e, n, !0),
                    G.remove(r, t))
                }
            }
        });
        var pt = n.location
          , gt = b.now()
          , mt = /\?/;
        b.parseXML = function(e) {
            var t;
            if (!e || "string" != typeof e)
                return null;
            try {
                t = (new n.DOMParser).parseFromString(e, "text/xml")
            } catch (e) {
                t = void 0
            }
            return t && !t.getElementsByTagName("parsererror").length || b.error("Invalid XML: " + e),
            t
        }
        ;
        var vt = /\[\]$/
          , yt = /\r?\n/g
          , bt = /^(?:submit|button|image|reset|file)$/i
          , wt = /^(?:input|select|textarea|keygen)/i;
        function xt(e, t, n, r) {
            var i;
            if (b.isArray(t))
                b.each(t, function(t, i) {
                    n || vt.test(e) ? r(e, i) : xt(e + "[" + ("object" == typeof i && null != i ? t : "") + "]", i, n, r)
                });
            else if (n || "object" !== b.type(t))
                r(e, t);
            else
                for (i in t)
                    xt(e + "[" + i + "]", t[i], n, r)
        }
        b.param = function(e, t) {
            var n, r = [], i = function(e, t) {
                var n = b.isFunction(t) ? t() : t;
                r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n)
            };
            if (b.isArray(e) || e.jquery && !b.isPlainObject(e))
                b.each(e, function() {
                    i(this.name, this.value)
                });
            else
                for (n in e)
                    xt(n, e[n], t, i);
            return r.join("&")
        }
        ,
        b.fn.extend({
            serialize: function() {
                return b.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var e = b.prop(this, "elements");
                    return e ? b.makeArray(e) : this
                }).filter(function() {
                    var e = this.type;
                    return this.name && !b(this).is(":disabled") && wt.test(this.nodeName) && !bt.test(e) && (this.checked || !se.test(e))
                }).map(function(e, t) {
                    var n = b(this).val();
                    return null == n ? null : b.isArray(n) ? b.map(n, function(e) {
                        return {
                            name: t.name,
                            value: e.replace(yt, "\r\n")
                        }
                    }) : {
                        name: t.name,
                        value: n.replace(yt, "\r\n")
                    }
                }).get()
            }
        });
        var St = /%20/g
          , Ct = /#.*$/
          , _t = /([?&])_=[^&]*/
          , kt = /^(.*?):[ \t]*([^\r\n]*)$/gm
          , Et = /^(?:GET|HEAD)$/
          , Tt = /^\/\//
          , Pt = {}
          , At = {}
          , Ot = "*/".concat("*")
          , $t = a.createElement("a");
        function jt(e) {
            return function(t, n) {
                "string" != typeof t && (n = t,
                t = "*");
                var r, i = 0, o = t.toLowerCase().match(L) || [];
                if (b.isFunction(n))
                    for (; r = o[i++]; )
                        "+" === r[0] ? (r = r.slice(1) || "*",
                        (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
            }
        }
        function Dt(e, t, n, r) {
            var i = {}
              , o = e === At;
            function a(s) {
                var c;
                return i[s] = !0,
                b.each(e[s] || [], function(e, s) {
                    var l = s(t, n, r);
                    return "string" != typeof l || o || i[l] ? o ? !(c = l) : void 0 : (t.dataTypes.unshift(l),
                    a(l),
                    !1)
                }),
                c
            }
            return a(t.dataTypes[0]) || !i["*"] && a("*")
        }
        function Rt(e, t) {
            var n, r, i = b.ajaxSettings.flatOptions || {};
            for (n in t)
                void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
            return r && b.extend(!0, e, r),
            e
        }
        $t.href = pt.href,
        b.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: pt.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Ot,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": b.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(e, t) {
                return t ? Rt(Rt(e, b.ajaxSettings), t) : Rt(b.ajaxSettings, e)
            },
            ajaxPrefilter: jt(Pt),
            ajaxTransport: jt(At),
            ajax: function(e, t) {
                "object" == typeof e && (t = e,
                e = void 0),
                t = t || {};
                var r, i, o, s, c, l, u, d, f, h, p = b.ajaxSetup({}, t), g = p.context || p, m = p.context && (g.nodeType || g.jquery) ? b(g) : b.event, v = b.Deferred(), y = b.Callbacks("once memory"), w = p.statusCode || {}, x = {}, S = {}, C = "canceled", _ = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (u) {
                            if (!s)
                                for (s = {}; t = kt.exec(o); )
                                    s[t[1].toLowerCase()] = t[2];
                            t = s[e.toLowerCase()]
                        }
                        return null == t ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return u ? o : null
                    },
                    setRequestHeader: function(e, t) {
                        return null == u && (e = S[e.toLowerCase()] = S[e.toLowerCase()] || e,
                        x[e] = t),
                        this
                    },
                    overrideMimeType: function(e) {
                        return null == u && (p.mimeType = e),
                        this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (u)
                                _.always(e[_.status]);
                            else
                                for (t in e)
                                    w[t] = [w[t], e[t]];
                        return this
                    },
                    abort: function(e) {
                        var t = e || C;
                        return r && r.abort(t),
                        k(0, t),
                        this
                    }
                };
                if (v.promise(_),
                p.url = ((e || p.url || pt.href) + "").replace(Tt, pt.protocol + "//"),
                p.type = t.method || t.type || p.method || p.type,
                p.dataTypes = (p.dataType || "*").toLowerCase().match(L) || [""],
                null == p.crossDomain) {
                    l = a.createElement("a");
                    try {
                        l.href = p.url,
                        l.href = l.href,
                        p.crossDomain = $t.protocol + "//" + $t.host != l.protocol + "//" + l.host
                    } catch (e) {
                        p.crossDomain = !0
                    }
                }
                if (p.data && p.processData && "string" != typeof p.data && (p.data = b.param(p.data, p.traditional)),
                Dt(Pt, p, t, _),
                u)
                    return _;
                for (f in (d = b.event && p.global) && 0 == b.active++ && b.event.trigger("ajaxStart"),
                p.type = p.type.toUpperCase(),
                p.hasContent = !Et.test(p.type),
                i = p.url.replace(Ct, ""),
                p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(St, "+")) : (h = p.url.slice(i.length),
                p.data && (i += (mt.test(i) ? "&" : "?") + p.data,
                delete p.data),
                !1 === p.cache && (i = i.replace(_t, "$1"),
                h = (mt.test(i) ? "&" : "?") + "_=" + gt++ + h),
                p.url = i + h),
                p.ifModified && (b.lastModified[i] && _.setRequestHeader("If-Modified-Since", b.lastModified[i]),
                b.etag[i] && _.setRequestHeader("If-None-Match", b.etag[i])),
                (p.data && p.hasContent && !1 !== p.contentType || t.contentType) && _.setRequestHeader("Content-Type", p.contentType),
                _.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + Ot + "; q=0.01" : "") : p.accepts["*"]),
                p.headers)
                    _.setRequestHeader(f, p.headers[f]);
                if (p.beforeSend && (!1 === p.beforeSend.call(g, _, p) || u))
                    return _.abort();
                if (C = "abort",
                y.add(p.complete),
                _.done(p.success),
                _.fail(p.error),
                r = Dt(At, p, t, _)) {
                    if (_.readyState = 1,
                    d && m.trigger("ajaxSend", [_, p]),
                    u)
                        return _;
                    p.async && p.timeout > 0 && (c = n.setTimeout(function() {
                        _.abort("timeout")
                    }, p.timeout));
                    try {
                        u = !1,
                        r.send(x, k)
                    } catch (e) {
                        if (u)
                            throw e;
                        k(-1, e)
                    }
                } else
                    k(-1, "No Transport");
                function k(e, t, a, s) {
                    var l, f, h, x, S, C = t;
                    u || (u = !0,
                    c && n.clearTimeout(c),
                    r = void 0,
                    o = s || "",
                    _.readyState = e > 0 ? 4 : 0,
                    l = e >= 200 && e < 300 || 304 === e,
                    a && (x = function(e, t, n) {
                        for (var r, i, o, a, s = e.contents, c = e.dataTypes; "*" === c[0]; )
                            c.shift(),
                            void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
                        if (r)
                            for (i in s)
                                if (s[i] && s[i].test(r)) {
                                    c.unshift(i);
                                    break
                                }
                        if (c[0]in n)
                            o = c[0];
                        else {
                            for (i in n) {
                                if (!c[0] || e.converters[i + " " + c[0]]) {
                                    o = i;
                                    break
                                }
                                a || (a = i)
                            }
                            o = o || a
                        }
                        if (o)
                            return o !== c[0] && c.unshift(o),
                            n[o]
                    }(p, _, a)),
                    x = function(e, t, n, r) {
                        var i, o, a, s, c, l = {}, u = e.dataTypes.slice();
                        if (u[1])
                            for (a in e.converters)
                                l[a.toLowerCase()] = e.converters[a];
                        for (o = u.shift(); o; )
                            if (e.responseFields[o] && (n[e.responseFields[o]] = t),
                            !c && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
                            c = o,
                            o = u.shift())
                                if ("*" === o)
                                    o = c;
                                else if ("*" !== c && c !== o) {
                                    if (!(a = l[c + " " + o] || l["* " + o]))
                                        for (i in l)
                                            if ((s = i.split(" "))[1] === o && (a = l[c + " " + s[0]] || l["* " + s[0]])) {
                                                !0 === a ? a = l[i] : !0 !== l[i] && (o = s[0],
                                                u.unshift(s[1]));
                                                break
                                            }
                                    if (!0 !== a)
                                        if (a && e.throws)
                                            t = a(t);
                                        else
                                            try {
                                                t = a(t)
                                            } catch (e) {
                                                return {
                                                    state: "parsererror",
                                                    error: a ? e : "No conversion from " + c + " to " + o
                                                }
                                            }
                                }
                        return {
                            state: "success",
                            data: t
                        }
                    }(p, x, _, l),
                    l ? (p.ifModified && ((S = _.getResponseHeader("Last-Modified")) && (b.lastModified[i] = S),
                    (S = _.getResponseHeader("etag")) && (b.etag[i] = S)),
                    204 === e || "HEAD" === p.type ? C = "nocontent" : 304 === e ? C = "notmodified" : (C = x.state,
                    f = x.data,
                    l = !(h = x.error))) : (h = C,
                    !e && C || (C = "error",
                    e < 0 && (e = 0))),
                    _.status = e,
                    _.statusText = (t || C) + "",
                    l ? v.resolveWith(g, [f, C, _]) : v.rejectWith(g, [_, C, h]),
                    _.statusCode(w),
                    w = void 0,
                    d && m.trigger(l ? "ajaxSuccess" : "ajaxError", [_, p, l ? f : h]),
                    y.fireWith(g, [_, C]),
                    d && (m.trigger("ajaxComplete", [_, p]),
                    --b.active || b.event.trigger("ajaxStop")))
                }
                return _
            },
            getJSON: function(e, t, n) {
                return b.get(e, t, n, "json")
            },
            getScript: function(e, t) {
                return b.get(e, void 0, t, "script")
            }
        }),
        b.each(["get", "post"], function(e, t) {
            b[t] = function(e, n, r, i) {
                return b.isFunction(n) && (i = i || r,
                r = n,
                n = void 0),
                b.ajax(b.extend({
                    url: e,
                    type: t,
                    dataType: i,
                    data: n,
                    success: r
                }, b.isPlainObject(e) && e))
            }
        }),
        b._evalUrl = function(e) {
            return b.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                throws: !0
            })
        }
        ,
        b.fn.extend({
            wrapAll: function(e) {
                var t;
                return this[0] && (b.isFunction(e) && (e = e.call(this[0])),
                t = b(e, this[0].ownerDocument).eq(0).clone(!0),
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    for (var e = this; e.firstElementChild; )
                        e = e.firstElementChild;
                    return e
                }).append(this)),
                this
            },
            wrapInner: function(e) {
                return b.isFunction(e) ? this.each(function(t) {
                    b(this).wrapInner(e.call(this, t))
                }) : this.each(function() {
                    var t = b(this)
                      , n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e)
                })
            },
            wrap: function(e) {
                var t = b.isFunction(e);
                return this.each(function(n) {
                    b(this).wrapAll(t ? e.call(this, n) : e)
                })
            },
            unwrap: function(e) {
                return this.parent(e).not("body").each(function() {
                    b(this).replaceWith(this.childNodes)
                }),
                this
            }
        }),
        b.expr.pseudos.hidden = function(e) {
            return !b.expr.pseudos.visible(e)
        }
        ,
        b.expr.pseudos.visible = function(e) {
            return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
        }
        ,
        b.ajaxSettings.xhr = function() {
            try {
                return new n.XMLHttpRequest
            } catch (e) {}
        }
        ;
        var Mt = {
            0: 200,
            1223: 204
        }
          , It = b.ajaxSettings.xhr();
        v.cors = !!It && "withCredentials"in It,
        v.ajax = It = !!It,
        b.ajaxTransport(function(e) {
            var t, r;
            if (v.cors || It && !e.crossDomain)
                return {
                    send: function(i, o) {
                        var a, s = e.xhr();
                        if (s.open(e.type, e.url, e.async, e.username, e.password),
                        e.xhrFields)
                            for (a in e.xhrFields)
                                s[a] = e.xhrFields[a];
                        for (a in e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType),
                        e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"),
                        i)
                            s.setRequestHeader(a, i[a]);
                        t = function(e) {
                            return function() {
                                t && (t = r = s.onload = s.onerror = s.onabort = s.onreadystatechange = null,
                                "abort" === e ? s.abort() : "error" === e ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o(Mt[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                    binary: s.response
                                } : {
                                    text: s.responseText
                                }, s.getAllResponseHeaders()))
                            }
                        }
                        ,
                        s.onload = t(),
                        r = s.onerror = t("error"),
                        void 0 !== s.onabort ? s.onabort = r : s.onreadystatechange = function() {
                            4 === s.readyState && n.setTimeout(function() {
                                t && r()
                            })
                        }
                        ,
                        t = t("abort");
                        try {
                            s.send(e.hasContent && e.data || null)
                        } catch (e) {
                            if (t)
                                throw e
                        }
                    },
                    abort: function() {
                        t && t()
                    }
                }
        }),
        b.ajaxPrefilter(function(e) {
            e.crossDomain && (e.contents.script = !1)
        }),
        b.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(e) {
                    return b.globalEval(e),
                    e
                }
            }
        }),
        b.ajaxPrefilter("script", function(e) {
            void 0 === e.cache && (e.cache = !1),
            e.crossDomain && (e.type = "GET")
        }),
        b.ajaxTransport("script", function(e) {
            var t, n;
            if (e.crossDomain)
                return {
                    send: function(r, i) {
                        t = b("<script>").prop({
                            charset: e.scriptCharset,
                            src: e.url
                        }).on("load error", n = function(e) {
                            t.remove(),
                            n = null,
                            e && i("error" === e.type ? 404 : 200, e.type)
                        }
                        ),
                        a.head.appendChild(t[0])
                    },
                    abort: function() {
                        n && n()
                    }
                }
        });
        var Lt, Ft = [], Nt = /(=)\?(?=&|$)|\?\?/;
        function Bt(e) {
            return b.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
        }
        b.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = Ft.pop() || b.expando + "_" + gt++;
                return this[e] = !0,
                e
            }
        }),
        b.ajaxPrefilter("json jsonp", function(e, t, r) {
            var i, o, a, s = !1 !== e.jsonp && (Nt.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Nt.test(e.data) && "data");
            if (s || "jsonp" === e.dataTypes[0])
                return i = e.jsonpCallback = b.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback,
                s ? e[s] = e[s].replace(Nt, "$1" + i) : !1 !== e.jsonp && (e.url += (mt.test(e.url) ? "&" : "?") + e.jsonp + "=" + i),
                e.converters["script json"] = function() {
                    return a || b.error(i + " was not called"),
                    a[0]
                }
                ,
                e.dataTypes[0] = "json",
                o = n[i],
                n[i] = function() {
                    a = arguments
                }
                ,
                r.always(function() {
                    void 0 === o ? b(n).removeProp(i) : n[i] = o,
                    e[i] && (e.jsonpCallback = t.jsonpCallback,
                    Ft.push(i)),
                    a && b.isFunction(o) && o(a[0]),
                    a = o = void 0
                }),
                "script"
        }),
        v.createHTMLDocument = ((Lt = a.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
        2 === Lt.childNodes.length),
        b.parseHTML = function(e, t, n) {
            return "string" != typeof e ? [] : ("boolean" == typeof t && (n = t,
            t = !1),
            t || (v.createHTMLDocument ? ((r = (t = a.implementation.createHTMLDocument("")).createElement("base")).href = a.location.href,
            t.head.appendChild(r)) : t = a),
            i = A.exec(e),
            o = !n && [],
            i ? [t.createElement(i[1])] : (i = me([e], t, o),
            o && o.length && b(o).remove(),
            b.merge([], i.childNodes)));
            var r, i, o
        }
        ,
        b.fn.load = function(e, t, n) {
            var r, i, o, a = this, s = e.indexOf(" ");
            return s > -1 && (r = ut(e.slice(s)),
            e = e.slice(0, s)),
            b.isFunction(t) ? (n = t,
            t = void 0) : t && "object" == typeof t && (i = "POST"),
            a.length > 0 && b.ajax({
                url: e,
                type: i || "GET",
                dataType: "html",
                data: t
            }).done(function(e) {
                o = arguments,
                a.html(r ? b("<div>").append(b.parseHTML(e)).find(r) : e)
            }).always(n && function(e, t) {
                a.each(function() {
                    n.apply(this, o || [e.responseText, t, e])
                })
            }
            ),
            this
        }
        ,
        b.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
            b.fn[t] = function(e) {
                return this.on(t, e)
            }
        }),
        b.expr.pseudos.animated = function(e) {
            return b.grep(b.timers, function(t) {
                return e === t.elem
            }).length
        }
        ,
        b.offset = {
            setOffset: function(e, t, n) {
                var r, i, o, a, s, c, l = b.css(e, "position"), u = b(e), d = {};
                "static" === l && (e.style.position = "relative"),
                s = u.offset(),
                o = b.css(e, "top"),
                c = b.css(e, "left"),
                ("absolute" === l || "fixed" === l) && (o + c).indexOf("auto") > -1 ? (a = (r = u.position()).top,
                i = r.left) : (a = parseFloat(o) || 0,
                i = parseFloat(c) || 0),
                b.isFunction(t) && (t = t.call(e, n, b.extend({}, s))),
                null != t.top && (d.top = t.top - s.top + a),
                null != t.left && (d.left = t.left - s.left + i),
                "using"in t ? t.using.call(e, d) : u.css(d)
            }
        },
        b.fn.extend({
            offset: function(e) {
                if (arguments.length)
                    return void 0 === e ? this : this.each(function(t) {
                        b.offset.setOffset(this, e, t)
                    });
                var t, n, r, i, o = this[0];
                return o ? o.getClientRects().length ? (r = o.getBoundingClientRect()).width || r.height ? (n = Bt(i = o.ownerDocument),
                t = i.documentElement,
                {
                    top: r.top + n.pageYOffset - t.clientTop,
                    left: r.left + n.pageXOffset - t.clientLeft
                }) : r : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function() {
                if (this[0]) {
                    var e, t, n = this[0], r = {
                        top: 0,
                        left: 0
                    };
                    return "fixed" === b.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(),
                    t = this.offset(),
                    b.nodeName(e[0], "html") || (r = e.offset()),
                    r = {
                        top: r.top + b.css(e[0], "borderTopWidth", !0),
                        left: r.left + b.css(e[0], "borderLeftWidth", !0)
                    }),
                    {
                        top: t.top - r.top - b.css(n, "marginTop", !0),
                        left: t.left - r.left - b.css(n, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var e = this.offsetParent; e && "static" === b.css(e, "position"); )
                        e = e.offsetParent;
                    return e || ve
                })
            }
        }),
        b.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(e, t) {
            var n = "pageYOffset" === t;
            b.fn[e] = function(r) {
                return z(this, function(e, r, i) {
                    var o = Bt(e);
                    if (void 0 === i)
                        return o ? o[t] : e[r];
                    o ? o.scrollTo(n ? o.pageXOffset : i, n ? i : o.pageYOffset) : e[r] = i
                }, e, r, arguments.length)
            }
        }),
        b.each(["top", "left"], function(e, t) {
            b.cssHooks[t] = Be(v.pixelPosition, function(e, n) {
                if (n)
                    return n = Ne(e, t),
                    Le.test(n) ? b(e).position()[t] + "px" : n
            })
        }),
        b.each({
            Height: "height",
            Width: "width"
        }, function(e, t) {
            b.each({
                padding: "inner" + e,
                content: t,
                "": "outer" + e
            }, function(n, r) {
                b.fn[r] = function(i, o) {
                    var a = arguments.length && (n || "boolean" != typeof i)
                      , s = n || (!0 === i || !0 === o ? "margin" : "border");
                    return z(this, function(t, n, i) {
                        var o;
                        return b.isWindow(t) ? 0 === r.indexOf("outer") ? t["inner" + e] : t.document.documentElement["client" + e] : 9 === t.nodeType ? (o = t.documentElement,
                        Math.max(t.body["scroll" + e], o["scroll" + e], t.body["offset" + e], o["offset" + e], o["client" + e])) : void 0 === i ? b.css(t, n, s) : b.style(t, n, i, s)
                    }, t, a ? i : void 0, a)
                }
            })
        }),
        b.fn.extend({
            bind: function(e, t, n) {
                return this.on(e, null, t, n)
            },
            unbind: function(e, t) {
                return this.off(e, null, t)
            },
            delegate: function(e, t, n, r) {
                return this.on(t, e, n, r)
            },
            undelegate: function(e, t, n) {
                return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
            }
        }),
        b.parseJSON = JSON.parse,
        void 0 === (r = function() {
            return b
        }
        .apply(t, [])) || (e.exports = r);
        var Ut = n.jQuery
          , qt = n.$;
        return b.noConflict = function(e) {
            return n.$ === b && (n.$ = qt),
            e && n.jQuery === b && (n.jQuery = Ut),
            b
        }
        ,
        i || (n.jQuery = n.$ = b),
        b
    })
}
, function(e, t, n) {
    (function(e) {
        var t, n, r, i;
        t = e,
        n = window,
        r = document,
        t.site = t.fn.site = function(e) {
            var o, a, s = (new Date).getTime(), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1), f = t.isPlainObject(e) ? t.extend(!0, {}, t.site.settings, e) : t.extend({}, t.site.settings), h = f.namespace, p = f.error, g = "module-" + h, m = t(r), v = this, y = m.data(g);
            return o = {
                initialize: function() {
                    o.instantiate()
                },
                instantiate: function() {
                    o.verbose("Storing instance of site", o),
                    y = o,
                    m.data(g, o)
                },
                normalize: function() {
                    o.fix.console(),
                    o.fix.requestAnimationFrame()
                },
                fix: {
                    console: function() {
                        o.debug("Normalizing window.console"),
                        console !== i && console.log !== i || (o.verbose("Console not available, normalizing events"),
                        o.disable.console()),
                        void 0 !== console.group && void 0 !== console.groupEnd && void 0 !== console.groupCollapsed || (o.verbose("Console group not available, normalizing events"),
                        n.console.group = function() {}
                        ,
                        n.console.groupEnd = function() {}
                        ,
                        n.console.groupCollapsed = function() {}
                        ),
                        void 0 === console.markTimeline && (o.verbose("Mark timeline not available, normalizing events"),
                        n.console.markTimeline = function() {}
                        )
                    },
                    consoleClear: function() {
                        o.debug("Disabling programmatic console clearing"),
                        n.console.clear = function() {}
                    },
                    requestAnimationFrame: function() {
                        o.debug("Normalizing requestAnimationFrame"),
                        n.requestAnimationFrame === i && (o.debug("RequestAnimationFrame not available, normalizing event"),
                        n.requestAnimationFrame = n.requestAnimationFrame || n.mozRequestAnimationFrame || n.webkitRequestAnimationFrame || n.msRequestAnimationFrame || function(e) {
                            setTimeout(e, 0)
                        }
                        )
                    }
                },
                moduleExists: function(e) {
                    return t.fn[e] !== i && t.fn[e].settings !== i
                },
                enabled: {
                    modules: function(e) {
                        var n = [];
                        return e = e || f.modules,
                        t.each(e, function(e, t) {
                            o.moduleExists(t) && n.push(t)
                        }),
                        n
                    }
                },
                disabled: {
                    modules: function(e) {
                        var n = [];
                        return e = e || f.modules,
                        t.each(e, function(e, t) {
                            o.moduleExists(t) || n.push(t)
                        }),
                        n
                    }
                },
                change: {
                    setting: function(e, n, r, a) {
                        r = "string" == typeof r ? "all" === r ? f.modules : [r] : r || f.modules,
                        a = a === i || a,
                        t.each(r, function(r, i) {
                            var s, c = !o.moduleExists(i) || t.fn[i].settings.namespace || !1;
                            o.moduleExists(i) && (o.verbose("Changing default setting", e, n, i),
                            t.fn[i].settings[e] = n,
                            a && c && (s = t(":data(module-" + c + ")")).length > 0 && (o.verbose("Modifying existing settings", s),
                            s[i]("setting", e, n)))
                        })
                    },
                    settings: function(e, n, r) {
                        n = "string" == typeof n ? [n] : n || f.modules,
                        r = r === i || r,
                        t.each(n, function(n, i) {
                            var a;
                            o.moduleExists(i) && (o.verbose("Changing default setting", e, i),
                            t.extend(!0, t.fn[i].settings, e),
                            r && h && (a = t(":data(module-" + h + ")")).length > 0 && (o.verbose("Modifying existing settings", a),
                            a[i]("setting", e)))
                        })
                    }
                },
                enable: {
                    console: function() {
                        o.console(!0)
                    },
                    debug: function(e, t) {
                        e = e || f.modules,
                        o.debug("Enabling debug for modules", e),
                        o.change.setting("debug", !0, e, t)
                    },
                    verbose: function(e, t) {
                        e = e || f.modules,
                        o.debug("Enabling verbose debug for modules", e),
                        o.change.setting("verbose", !0, e, t)
                    }
                },
                disable: {
                    console: function() {
                        o.console(!1)
                    },
                    debug: function(e, t) {
                        e = e || f.modules,
                        o.debug("Disabling debug for modules", e),
                        o.change.setting("debug", !1, e, t)
                    },
                    verbose: function(e, t) {
                        e = e || f.modules,
                        o.debug("Disabling verbose debug for modules", e),
                        o.change.setting("verbose", !1, e, t)
                    }
                },
                console: function(e) {
                    if (e) {
                        if (y.cache.console === i)
                            return void o.error(p.console);
                        o.debug("Restoring console function"),
                        n.console = y.cache.console
                    } else
                        o.debug("Disabling console function"),
                        y.cache.console = n.console,
                        n.console = {
                            clear: function() {},
                            error: function() {},
                            group: function() {},
                            groupCollapsed: function() {},
                            groupEnd: function() {},
                            info: function() {},
                            log: function() {},
                            markTimeline: function() {},
                            warn: function() {}
                        }
                },
                destroy: function() {
                    o.verbose("Destroying previous site for", m),
                    m.removeData(g)
                },
                cache: {},
                setting: function(e, n) {
                    if (t.isPlainObject(e))
                        t.extend(!0, f, e);
                    else {
                        if (n === i)
                            return f[e];
                        f[e] = n
                    }
                },
                internal: function(e, n) {
                    if (t.isPlainObject(e))
                        t.extend(!0, o, e);
                    else {
                        if (n === i)
                            return o[e];
                        o[e] = n
                    }
                },
                debug: function() {
                    f.debug && (f.performance ? o.performance.log(arguments) : (o.debug = Function.prototype.bind.call(console.info, console, f.name + ":"),
                    o.debug.apply(console, arguments)))
                },
                verbose: function() {
                    f.verbose && f.debug && (f.performance ? o.performance.log(arguments) : (o.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"),
                    o.verbose.apply(console, arguments)))
                },
                error: function() {
                    o.error = Function.prototype.bind.call(console.error, console, f.name + ":"),
                    o.error.apply(console, arguments)
                },
                performance: {
                    log: function(e) {
                        var t, n;
                        f.performance && (n = (t = (new Date).getTime()) - (s || t),
                        s = t,
                        c.push({
                            Element: v,
                            Name: e[0],
                            Arguments: [].slice.call(e, 1) || "",
                            "Execution Time": n
                        })),
                        clearTimeout(o.performance.timer),
                        o.performance.timer = setTimeout(o.performance.display, 500)
                    },
                    display: function() {
                        var e = f.name + ":"
                          , n = 0;
                        s = !1,
                        clearTimeout(o.performance.timer),
                        t.each(c, function(e, t) {
                            n += t["Execution Time"]
                        }),
                        e += " " + n + "ms",
                        (console.group !== i || console.table !== i) && c.length > 0 && (console.groupCollapsed(e),
                        console.table ? console.table(c) : t.each(c, function(e, t) {
                            console.log(t.Name + ": " + t["Execution Time"] + "ms")
                        }),
                        console.groupEnd()),
                        c = []
                    }
                },
                invoke: function(e, n, r) {
                    var s, c, l, u = y;
                    return n = n || d,
                    r = v || r,
                    "string" == typeof e && u !== i && (e = e.split(/[\. ]/),
                    s = e.length - 1,
                    t.each(e, function(n, r) {
                        var a = n != s ? r + e[n + 1].charAt(0).toUpperCase() + e[n + 1].slice(1) : e;
                        if (t.isPlainObject(u[a]) && n != s)
                            u = u[a];
                        else {
                            if (u[a] !== i)
                                return c = u[a],
                                !1;
                            if (!t.isPlainObject(u[r]) || n == s)
                                return u[r] !== i ? (c = u[r],
                                !1) : (o.error(p.method, e),
                                !1);
                            u = u[r]
                        }
                    })),
                    t.isFunction(c) ? l = c.apply(r, n) : c !== i && (l = c),
                    t.isArray(a) ? a.push(l) : a !== i ? a = [a, l] : l !== i && (a = l),
                    c
                }
            },
            u ? (y === i && o.initialize(),
            o.invoke(l)) : (y !== i && o.destroy(),
            o.initialize()),
            a !== i ? a : this
        }
        ,
        t.site.settings = {
            name: "Site",
            namespace: "site",
            error: {
                console: "Console cannot be restored, most likely it was overwritten outside of module",
                method: "The method you called is not defined."
            },
            debug: !1,
            verbose: !1,
            performance: !0,
            modules: ["accordion", "api", "checkbox", "dimmer", "dropdown", "embed", "form", "modal", "nag", "popup", "rating", "shape", "sidebar", "state", "sticky", "tab", "transition", "visit", "visibility"],
            siteNamespace: "site",
            namespaceStub: {
                cache: {},
                config: {},
                sections: {},
                section: {},
                utilities: {}
            }
        },
        t.extend(t.expr[":"], {
            data: t.expr.createPseudo ? t.expr.createPseudo(function(e) {
                return function(n) {
                    return !!t.data(n, e)
                }
            }) : function(e, n, r) {
                return !!t.data(e, r[3])
            }
        }),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.form = function(t) {
                var i, o = e(this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments[0], u = arguments[1], d = "string" == typeof l, f = [].slice.call(arguments, 1);
                return o.each(function() {
                    var h, p, g, m, v, y, b, w, x, S, C, _, k, E, T, P = e(this), A = this, O = [], $ = !1;
                    (T = {
                        initialize: function() {
                            T.get.settings(),
                            d ? (E === r && T.instantiate(),
                            T.invoke(l)) : (E !== r && E.invoke("destroy"),
                            T.verbose("Initializing form validation", P, v),
                            T.bindEvents(),
                            T.set.defaults(),
                            T.instantiate())
                        },
                        instantiate: function() {
                            T.verbose("Storing instance of module", T),
                            E = T,
                            P.data(_, T)
                        },
                        destroy: function() {
                            T.verbose("Destroying previous module", E),
                            T.removeEvents(),
                            P.removeData(_)
                        },
                        refresh: function() {
                            T.verbose("Refreshing selector cache"),
                            h = P.find(w.field),
                            p = P.find(w.group),
                            g = P.find(w.message),
                            P.find(w.prompt),
                            m = P.find(w.submit),
                            P.find(w.clear),
                            P.find(w.reset)
                        },
                        submit: function() {
                            T.verbose("Submitting form", P),
                            P.submit()
                        },
                        attachEvents: function(t, n) {
                            n = n || "submit",
                            e(t).on("click" + k, function(e) {
                                T[n](),
                                e.preventDefault()
                            })
                        },
                        bindEvents: function() {
                            T.verbose("Attaching form events"),
                            P.on("submit" + k, T.validate.form).on("blur" + k, w.field, T.event.field.blur).on("click" + k, w.submit, T.submit).on("click" + k, w.reset, T.reset).on("click" + k, w.clear, T.clear),
                            v.keyboardShortcuts && P.on("keydown" + k, w.field, T.event.field.keydown),
                            h.each(function() {
                                var t = e(this)
                                  , n = t.prop("type")
                                  , r = T.get.changeEvent(n, t);
                                e(this).on(r + k, T.event.field.change)
                            })
                        },
                        clear: function() {
                            h.each(function() {
                                var t = e(this)
                                  , n = t.parent()
                                  , r = t.closest(p)
                                  , i = r.find(w.prompt)
                                  , o = t.data(b.defaultValue) || ""
                                  , a = n.is(w.uiCheckbox)
                                  , s = n.is(w.uiDropdown);
                                r.hasClass(x.error) && (T.verbose("Resetting error on field", r),
                                r.removeClass(x.error),
                                i.remove()),
                                s ? (T.verbose("Resetting dropdown value", n, o),
                                n.dropdown("clear")) : a ? t.prop("checked", !1) : (T.verbose("Resetting field value", t, o),
                                t.val(""))
                            })
                        },
                        reset: function() {
                            h.each(function() {
                                var t = e(this)
                                  , n = t.parent()
                                  , i = t.closest(p)
                                  , o = i.find(w.prompt)
                                  , a = t.data(b.defaultValue)
                                  , s = n.is(w.uiCheckbox)
                                  , c = n.is(w.uiDropdown)
                                  , l = i.hasClass(x.error);
                                a !== r && (l && (T.verbose("Resetting error on field", i),
                                i.removeClass(x.error),
                                o.remove()),
                                c ? (T.verbose("Resetting dropdown value", n, a),
                                n.dropdown("restore defaults")) : s ? (T.verbose("Resetting checkbox value", n, a),
                                t.prop("checked", a)) : (T.verbose("Resetting field value", t, a),
                                t.val(a)))
                            })
                        },
                        is: {
                            bracketedRule: function(e) {
                                return e.type && e.type.match(v.regExp.bracket)
                            },
                            empty: function(e) {
                                return !e || 0 === e.length || (e.is('input[type="checkbox"]') ? !e.is(":checked") : T.is.blank(e))
                            },
                            blank: function(t) {
                                return "" === e.trim(t.val())
                            },
                            valid: function() {
                                var t = !0;
                                return T.verbose("Checking if form is valid"),
                                e.each(y, function(e, n) {
                                    T.validate.field(n, e) || (t = !1)
                                }),
                                t
                            }
                        },
                        removeEvents: function() {
                            P.off(k),
                            h.off(k),
                            m.off(k),
                            h.off(k)
                        },
                        event: {
                            field: {
                                keydown: function(t) {
                                    var n = e(this)
                                      , r = t.which
                                      , i = n.is(w.input)
                                      , o = n.is(w.checkbox)
                                      , a = n.closest(w.uiDropdown).length > 0;
                                    27 == r && (T.verbose("Escape key pressed blurring field"),
                                    n.blur()),
                                    t.ctrlKey || 13 != r || !i || a || o || ($ || (n.one("keyup" + k, T.event.field.keyup),
                                    T.submit(),
                                    T.debug("Enter pressed on input submitting form")),
                                    $ = !0)
                                },
                                keyup: function() {
                                    $ = !1
                                },
                                blur: function(t) {
                                    var n = e(this)
                                      , r = n.closest(p)
                                      , i = T.get.validation(n);
                                    r.hasClass(x.error) ? (T.debug("Revalidating field", n, i),
                                    i && T.validate.field(i)) : "blur" != v.on && "change" != v.on || i && T.validate.field(i)
                                },
                                change: function(t) {
                                    var n = e(this)
                                      , r = n.closest(p)
                                      , i = T.get.validation(n);
                                    ("change" == v.on || r.hasClass(x.error) && v.revalidate) && (clearTimeout(T.timer),
                                    T.timer = setTimeout(function() {
                                        T.debug("Revalidating field", n, T.get.validation(n)),
                                        T.validate.field(i)
                                    }, v.delay))
                                }
                            }
                        },
                        get: {
                            ancillaryValue: function(e) {
                                return !(!e.type || !e.value && !T.is.bracketedRule(e)) && (e.value !== r ? e.value : e.type.match(v.regExp.bracket)[1] + "")
                            },
                            ruleName: function(e) {
                                return T.is.bracketedRule(e) ? e.type.replace(e.type.match(v.regExp.bracket)[0], "") : e.type
                            },
                            changeEvent: function(e, t) {
                                return "checkbox" == e || "radio" == e || "hidden" == e || t.is("select") ? "change" : T.get.inputEvent()
                            },
                            inputEvent: function() {
                                return n.createElement("input").oninput !== r ? "input" : n.createElement("input").onpropertychange !== r ? "propertychange" : "keyup"
                            },
                            prompt: function(e, t) {
                                var n, r, i, o = T.get.ruleName(e), a = T.get.ancillaryValue(e), s = e.prompt || v.prompt[o] || v.text.unspecifiedRule, c = -1 !== s.search("{value}"), l = -1 !== s.search("{name}");
                                return (l || c) && (r = T.get.field(t.identifier)),
                                c && (s = s.replace("{value}", r.val())),
                                l && (i = 1 == (n = r.closest(w.group).find("label").eq(0)).length ? n.text() : r.prop("placeholder") || v.text.unspecifiedField,
                                s = s.replace("{name}", i)),
                                s = (s = s.replace("{identifier}", t.identifier)).replace("{ruleValue}", a),
                                e.prompt || T.verbose("Using default validation prompt for type", s, o),
                                s
                            },
                            settings: function() {
                                if (e.isPlainObject(t)) {
                                    var n, i = Object.keys(t);
                                    i.length > 0 && t[i[0]].identifier !== r && t[i[0]].rules !== r ? (v = e.extend(!0, {}, e.fn.form.settings, u),
                                    y = e.extend({}, e.fn.form.settings.defaults, t),
                                    T.error(v.error.oldSyntax, A),
                                    T.verbose("Extending settings from legacy parameters", y, v)) : (t.fields && (n = Object.keys(t.fields),
                                    ("string" == typeof t.fields[n[0]] || e.isArray(t.fields[n[0]])) && e.each(t.fields, function(n, r) {
                                        "string" == typeof r && (r = [r]),
                                        t.fields[n] = {
                                            rules: []
                                        },
                                        e.each(r, function(e, r) {
                                            t.fields[n].rules.push({
                                                type: r
                                            })
                                        })
                                    })),
                                    v = e.extend(!0, {}, e.fn.form.settings, t),
                                    y = e.extend({}, e.fn.form.settings.defaults, v.fields),
                                    T.verbose("Extending settings", y, v))
                                } else
                                    v = e.fn.form.settings,
                                    y = e.fn.form.settings.defaults,
                                    T.verbose("Using default form validation", y, v);
                                C = v.namespace,
                                b = v.metadata,
                                w = v.selector,
                                x = v.className,
                                S = v.error,
                                _ = "module-" + C,
                                k = "." + C,
                                E = P.data(_),
                                T.refresh()
                            },
                            field: function(t) {
                                return T.verbose("Finding field with identifier", t),
                                h.filter("#" + t).length > 0 ? h.filter("#" + t) : h.filter('[name="' + t + '"]').length > 0 ? h.filter('[name="' + t + '"]') : h.filter('[name="' + t + '[]"]').length > 0 ? h.filter('[name="' + t + '[]"]') : h.filter("[data-" + b.validate + '="' + t + '"]').length > 0 ? h.filter("[data-" + b.validate + '="' + t + '"]') : e("<input/>")
                            },
                            fields: function(t) {
                                var n = e();
                                return e.each(t, function(e, t) {
                                    n = n.add(T.get.field(t))
                                }),
                                n
                            },
                            validation: function(t) {
                                var n, r;
                                return !!y && (e.each(y, function(e, i) {
                                    r = i.identifier || e,
                                    T.get.field(r)[0] == t[0] && (i.identifier = r,
                                    n = i)
                                }),
                                n || !1)
                            },
                            value: function(e) {
                                var t = [];
                                return t.push(e),
                                T.get.values.call(A, t)[e]
                            },
                            values: function(t) {
                                var n = {};
                                return (e.isArray(t) ? T.get.fields(t) : h).each(function(t, r) {
                                    var i = e(r)
                                      , o = (i.prop("type"),
                                    i.prop("name"))
                                      , a = i.val()
                                      , s = i.is(w.checkbox)
                                      , c = i.is(w.radio)
                                      , l = -1 !== o.indexOf("[]")
                                      , u = !!s && i.is(":checked");
                                    o && (l ? (o = o.replace("[]", ""),
                                    n[o] || (n[o] = []),
                                    s ? u ? n[o].push(a || !0) : n[o].push(!1) : n[o].push(a)) : c ? u && (n[o] = a) : n[o] = s ? !!u && (a || !0) : a)
                                }),
                                n
                            }
                        },
                        has: {
                            field: function(e) {
                                return T.verbose("Checking for existence of a field with identifier", e),
                                "string" != typeof e && T.error(S.identifier, e),
                                h.filter("#" + e).length > 0 || h.filter('[name="' + e + '"]').length > 0 || h.filter("[data-" + b.validate + '="' + e + '"]').length > 0
                            }
                        },
                        add: {
                            prompt: function(t, n) {
                                var i = T.get.field(t).closest(p)
                                  , o = i.children(w.prompt)
                                  , a = 0 !== o.length;
                                n = "string" == typeof n ? [n] : n,
                                T.verbose("Adding field error state", t),
                                i.addClass(x.error),
                                v.inline && (a || (o = v.templates.prompt(n)).appendTo(i),
                                o.html(n[0]),
                                a ? T.verbose("Inline errors are disabled, no inline error added", t) : v.transition && e.fn.transition !== r && P.transition("is supported") ? (T.verbose("Displaying error with css transition", v.transition),
                                o.transition(v.transition + " in", v.duration)) : (T.verbose("Displaying error with fallback javascript animation"),
                                o.fadeIn(v.duration)))
                            },
                            errors: function(e) {
                                T.debug("Adding form error messages", e),
                                T.set.error(),
                                g.html(v.templates.error(e))
                            }
                        },
                        remove: {
                            prompt: function(t) {
                                var n = T.get.field(t).closest(p)
                                  , i = n.children(w.prompt);
                                n.removeClass(x.error),
                                v.inline && i.is(":visible") && (T.verbose("Removing prompt for field", t),
                                v.transition && e.fn.transition !== r && P.transition("is supported") ? i.transition(v.transition + " out", v.duration, function() {
                                    i.remove()
                                }) : i.fadeOut(v.duration, function() {
                                    i.remove()
                                }))
                            }
                        },
                        set: {
                            success: function() {
                                P.removeClass(x.error).addClass(x.success)
                            },
                            defaults: function() {
                                h.each(function() {
                                    var t = e(this)
                                      , n = t.filter(w.checkbox).length > 0 ? t.is(":checked") : t.val();
                                    t.data(b.defaultValue, n)
                                })
                            },
                            error: function() {
                                P.removeClass(x.success).addClass(x.error)
                            },
                            value: function(e, t) {
                                var n = {};
                                return n[e] = t,
                                T.set.values.call(A, n)
                            },
                            values: function(t) {
                                e.isEmptyObject(t) || e.each(t, function(t, n) {
                                    var r, i = T.get.field(t), o = i.parent(), a = e.isArray(n), s = o.is(w.uiCheckbox), c = o.is(w.uiDropdown), l = i.is(w.radio) && s;
                                    i.length > 0 && (a && s ? (T.verbose("Selecting multiple", n, i),
                                    o.checkbox("uncheck"),
                                    e.each(n, function(e, t) {
                                        r = i.filter('[value="' + t + '"]'),
                                        o = r.parent(),
                                        r.length > 0 && o.checkbox("check")
                                    })) : l ? (T.verbose("Selecting radio value", n, i),
                                    i.filter('[value="' + n + '"]').parent(w.uiCheckbox).checkbox("check")) : s ? (T.verbose("Setting checkbox value", n, o),
                                    !0 === n ? o.checkbox("check") : o.checkbox("uncheck")) : c ? (T.verbose("Setting dropdown value", n, o),
                                    o.dropdown("set selected", n)) : (T.verbose("Setting field value", n, i),
                                    i.val(n)))
                                })
                            }
                        },
                        validate: {
                            form: function(e, t) {
                                var n = T.get.values();
                                if ($)
                                    return !1;
                                if (O = [],
                                T.is.valid()) {
                                    if (T.debug("Form has no validation errors, submitting"),
                                    T.set.success(),
                                    !0 !== t)
                                        return v.onSuccess.call(A, e, n)
                                } else if (T.debug("Form has errors"),
                                T.set.error(),
                                v.inline || T.add.errors(O),
                                P.data("moduleApi") !== r && e.stopImmediatePropagation(),
                                !0 !== t)
                                    return v.onFailure.call(A, O, n)
                            },
                            field: function(t, n) {
                                var i = t.identifier || n
                                  , o = T.get.field(i)
                                  , a = !!t.depends && T.get.field(t.depends)
                                  , s = !0
                                  , c = [];
                                return t.identifier || (T.debug("Using field name as identifier", i),
                                t.identifier = i),
                                o.prop("disabled") ? (T.debug("Field is disabled. Skipping", i),
                                s = !0) : t.optional && T.is.blank(o) ? (T.debug("Field is optional and blank. Skipping", i),
                                s = !0) : t.depends && T.is.empty(a) ? (T.debug("Field depends on another value that is not present or empty. Skipping", a),
                                s = !0) : t.rules !== r && e.each(t.rules, function(e, n) {
                                    T.has.field(i) && !T.validate.rule(t, n) && (T.debug("Field is invalid", i, n.type),
                                    c.push(T.get.prompt(n, t)),
                                    s = !1)
                                }),
                                s ? (T.remove.prompt(i, c),
                                v.onValid.call(o),
                                !0) : (O = O.concat(c),
                                T.add.prompt(i, c),
                                v.onInvalid.call(o, c),
                                !1)
                            },
                            rule: function(t, n) {
                                var i = T.get.field(t.identifier)
                                  , o = (n.type,
                                i.val())
                                  , a = T.get.ancillaryValue(n)
                                  , s = T.get.ruleName(n)
                                  , c = v.rules[s];
                                return e.isFunction(c) ? (o = o === r || "" === o || null === o ? "" : e.trim(o + ""),
                                c.call(i, o, a)) : void T.error(S.noRule, s)
                            }
                        },
                        setting: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, v, t);
                            else {
                                if (n === r)
                                    return v[t];
                                v[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, T, t);
                            else {
                                if (n === r)
                                    return T[t];
                                T[t] = n
                            }
                        },
                        debug: function() {
                            !v.silent && v.debug && (v.performance ? T.performance.log(arguments) : (T.debug = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            T.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !v.silent && v.verbose && v.debug && (v.performance ? T.performance.log(arguments) : (T.verbose = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            T.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            v.silent || (T.error = Function.prototype.bind.call(console.error, console, v.name + ":"),
                            T.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                v.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: A,
                                    "Execution Time": n
                                })),
                                clearTimeout(T.performance.timer),
                                T.performance.timer = setTimeout(T.performance.display, 500)
                            },
                            display: function() {
                                var t = v.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(T.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                o.length > 1 && (t += " (" + o.length + ")"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = E;
                            return n = n || f,
                            o = A || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s
                        }
                    }).initialize()
                }),
                i !== r ? i : this
            }
            ,
            e.fn.form.settings = {
                name: "Form",
                namespace: "form",
                debug: !1,
                verbose: !1,
                performance: !0,
                fields: !1,
                keyboardShortcuts: !0,
                on: "submit",
                inline: !1,
                delay: 200,
                revalidate: !0,
                transition: "scale",
                duration: 200,
                onValid: function() {},
                onInvalid: function() {},
                onSuccess: function() {
                    return !0
                },
                onFailure: function() {
                    return !1
                },
                metadata: {
                    defaultValue: "default",
                    validate: "validate"
                },
                regExp: {
                    bracket: /\[(.*)\]/i,
                    decimal: /^\d*(\.)\d+/,
                    email: /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
                    escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
                    flags: /^\/(.*)\/(.*)?/,
                    integer: /^\-?\d+$/,
                    number: /^\-?\d*(\.\d+)?$/,
                    url: /(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i
                },
                text: {
                    unspecifiedRule: "Please enter a valid value",
                    unspecifiedField: "This field"
                },
                prompt: {
                    empty: "{name} must have a value",
                    checked: "{name} must be checked",
                    email: "{name} must be a valid e-mail",
                    url: "{name} must be a valid url",
                    regExp: "{name} is not formatted correctly",
                    integer: "{name} must be an integer",
                    decimal: "{name} must be a decimal number",
                    number: "{name} must be set to a number",
                    is: '{name} must be "{ruleValue}"',
                    isExactly: '{name} must be exactly "{ruleValue}"',
                    not: '{name} cannot be set to "{ruleValue}"',
                    notExactly: '{name} cannot be set to exactly "{ruleValue}"',
                    contain: '{name} cannot contain "{ruleValue}"',
                    containExactly: '{name} cannot contain exactly "{ruleValue}"',
                    doesntContain: '{name} must contain  "{ruleValue}"',
                    doesntContainExactly: '{name} must contain exactly "{ruleValue}"',
                    minLength: "{name} must be at least {ruleValue} characters",
                    length: "{name} must be at least {ruleValue} characters",
                    exactLength: "{name} must be exactly {ruleValue} characters",
                    maxLength: "{name} cannot be longer than {ruleValue} characters",
                    match: "{name} must match {ruleValue} field",
                    different: "{name} must have a different value than {ruleValue} field",
                    creditCard: "{name} must be a valid credit card number",
                    minCount: "{name} must have at least {ruleValue} choices",
                    exactCount: "{name} must have exactly {ruleValue} choices",
                    maxCount: "{name} must have {ruleValue} or less choices"
                },
                selector: {
                    checkbox: 'input[type="checkbox"], input[type="radio"]',
                    clear: ".clear",
                    field: "input, textarea, select",
                    group: ".field",
                    input: "input",
                    message: ".error.message",
                    prompt: ".prompt.label",
                    radio: 'input[type="radio"]',
                    reset: '.reset:not([type="reset"])',
                    submit: '.submit:not([type="submit"])',
                    uiCheckbox: ".ui.checkbox",
                    uiDropdown: ".ui.dropdown"
                },
                className: {
                    error: "error",
                    label: "ui prompt label",
                    pressed: "down",
                    success: "success"
                },
                error: {
                    identifier: "You must specify a string identifier for each field",
                    method: "The method you called is not defined.",
                    noRule: "There is no rule matching the one you specified",
                    oldSyntax: "Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."
                },
                templates: {
                    error: function(t) {
                        var n = '<ul class="list">';
                        return e.each(t, function(e, t) {
                            n += "<li>" + t + "</li>"
                        }),
                        e(n += "</ul>")
                    },
                    prompt: function(t) {
                        return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])
                    }
                },
                rules: {
                    empty: function(t) {
                        return !(t === r || "" === t || e.isArray(t) && 0 === t.length)
                    },
                    checked: function() {
                        return e(this).filter(":checked").length > 0
                    },
                    email: function(t) {
                        return e.fn.form.settings.regExp.email.test(t)
                    },
                    url: function(t) {
                        return e.fn.form.settings.regExp.url.test(t)
                    },
                    regExp: function(t, n) {
                        if (n instanceof RegExp)
                            return t.match(n);
                        var r, i = n.match(e.fn.form.settings.regExp.flags);
                        return i && (n = i.length >= 2 ? i[1] : n,
                        r = i.length >= 3 ? i[2] : ""),
                        t.match(new RegExp(n,r))
                    },
                    integer: function(t, n) {
                        var i, o, a, s = e.fn.form.settings.regExp.integer;
                        return n && -1 === ["", ".."].indexOf(n) && (-1 == n.indexOf("..") ? s.test(n) && (i = o = n - 0) : (a = n.split("..", 2),
                        s.test(a[0]) && (i = a[0] - 0),
                        s.test(a[1]) && (o = a[1] - 0))),
                        s.test(t) && (i === r || t >= i) && (o === r || t <= o)
                    },
                    decimal: function(t) {
                        return e.fn.form.settings.regExp.decimal.test(t)
                    },
                    number: function(t) {
                        return e.fn.form.settings.regExp.number.test(t)
                    },
                    is: function(e, t) {
                        return t = "string" == typeof t ? t.toLowerCase() : t,
                        (e = "string" == typeof e ? e.toLowerCase() : e) == t
                    },
                    isExactly: function(e, t) {
                        return e == t
                    },
                    not: function(e, t) {
                        return (e = "string" == typeof e ? e.toLowerCase() : e) != ("string" == typeof t ? t.toLowerCase() : t)
                    },
                    notExactly: function(e, t) {
                        return e != t
                    },
                    contains: function(t, n) {
                        return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"),
                        -1 !== t.search(new RegExp(n,"i"))
                    },
                    containsExactly: function(t, n) {
                        return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"),
                        -1 !== t.search(new RegExp(n))
                    },
                    doesntContain: function(t, n) {
                        return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"),
                        -1 === t.search(new RegExp(n,"i"))
                    },
                    doesntContainExactly: function(t, n) {
                        return n = n.replace(e.fn.form.settings.regExp.escape, "\\$&"),
                        -1 === t.search(new RegExp(n))
                    },
                    minLength: function(e, t) {
                        return e !== r && e.length >= t
                    },
                    length: function(e, t) {
                        return e !== r && e.length >= t
                    },
                    exactLength: function(e, t) {
                        return e !== r && e.length == t
                    },
                    maxLength: function(e, t) {
                        return e !== r && e.length <= t
                    },
                    match: function(t, n) {
                        var i;
                        return e(this),
                        e('[data-validate="' + n + '"]').length > 0 ? i = e('[data-validate="' + n + '"]').val() : e("#" + n).length > 0 ? i = e("#" + n).val() : e('[name="' + n + '"]').length > 0 ? i = e('[name="' + n + '"]').val() : e('[name="' + n + '[]"]').length > 0 && (i = e('[name="' + n + '[]"]')),
                        i !== r && t.toString() == i.toString()
                    },
                    different: function(t, n) {
                        var i;
                        return e(this),
                        e('[data-validate="' + n + '"]').length > 0 ? i = e('[data-validate="' + n + '"]').val() : e("#" + n).length > 0 ? i = e("#" + n).val() : e('[name="' + n + '"]').length > 0 ? i = e('[name="' + n + '"]').val() : e('[name="' + n + '[]"]').length > 0 && (i = e('[name="' + n + '[]"]')),
                        i !== r && t.toString() !== i.toString()
                    },
                    creditCard: function(t, n) {
                        var r, i, o = {
                            visa: {
                                pattern: /^4/,
                                length: [16]
                            },
                            amex: {
                                pattern: /^3[47]/,
                                length: [15]
                            },
                            mastercard: {
                                pattern: /^5[1-5]/,
                                length: [16]
                            },
                            discover: {
                                pattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,
                                length: [16]
                            },
                            unionPay: {
                                pattern: /^(62|88)/,
                                length: [16, 17, 18, 19]
                            },
                            jcb: {
                                pattern: /^35(2[89]|[3-8][0-9])/,
                                length: [16]
                            },
                            maestro: {
                                pattern: /^(5018|5020|5038|6304|6759|676[1-3])/,
                                length: [12, 13, 14, 15, 16, 17, 18, 19]
                            },
                            dinersClub: {
                                pattern: /^(30[0-5]|^36)/,
                                length: [14]
                            },
                            laser: {
                                pattern: /^(6304|670[69]|6771)/,
                                length: [16, 17, 18, 19]
                            },
                            visaElectron: {
                                pattern: /^(4026|417500|4508|4844|491(3|7))/,
                                length: [16]
                            }
                        }, a = {}, s = !1, c = "string" == typeof n && n.split(",");
                        if ("string" == typeof t && 0 !== t.length) {
                            if (c && (e.each(c, function(n, r) {
                                (i = o[r]) && (a = {
                                    length: -1 !== e.inArray(t.length, i.length),
                                    pattern: -1 !== t.search(i.pattern)
                                }).length && a.pattern && (s = !0)
                            }),
                            !s))
                                return !1;
                            if ((r = {
                                number: -1 !== e.inArray(t.length, o.unionPay.length),
                                pattern: -1 !== t.search(o.unionPay.pattern)
                            }).number && r.pattern)
                                return !0;
                            for (var l = t.length, u = 0, d = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]], f = 0; l--; )
                                f += d[u][parseInt(t.charAt(l), 10)],
                                u ^= 1;
                            return f % 10 == 0 && f > 0
                        }
                    },
                    minCount: function(e, t) {
                        return 0 == t || (1 == t ? "" !== e : e.split(",").length >= t)
                    },
                    exactCount: function(e, t) {
                        return 0 == t ? "" === e : 1 == t ? "" !== e && -1 === e.search(",") : e.split(",").length == t
                    },
                    maxCount: function(e, t) {
                        return 0 != t && (1 == t ? -1 === e.search(",") : e.split(",").length <= t)
                    }
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.accordion = function(n) {
                var i, o = e(this), a = (new Date).getTime(), s = [], c = arguments[0], l = "string" == typeof c, u = [].slice.call(arguments, 1);
                return t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame,
                o.each(function() {
                    var d, f, h = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.accordion.settings, n) : e.extend({}, e.fn.accordion.settings), p = h.className, g = h.namespace, m = h.selector, v = h.error, y = "." + g, b = "module-" + g, w = o.selector || "", x = e(this), S = x.find(m.title), C = x.find(m.content), _ = this, k = x.data(b);
                    f = {
                        initialize: function() {
                            f.debug("Initializing", x),
                            f.bind.events(),
                            h.observeChanges && f.observeChanges(),
                            f.instantiate()
                        },
                        instantiate: function() {
                            k = f,
                            x.data(b, f)
                        },
                        destroy: function() {
                            f.debug("Destroying previous instance", x),
                            x.off(y).removeData(b)
                        },
                        refresh: function() {
                            S = x.find(m.title),
                            C = x.find(m.content)
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && ((d = new MutationObserver(function(e) {
                                f.debug("DOM tree modified, updating selector cache"),
                                f.refresh()
                            }
                            )).observe(_, {
                                childList: !0,
                                subtree: !0
                            }),
                            f.debug("Setting up mutation observer", d))
                        },
                        bind: {
                            events: function() {
                                f.debug("Binding delegated events"),
                                x.on(h.on + y, m.trigger, f.event.click)
                            }
                        },
                        event: {
                            click: function() {
                                f.toggle.call(this)
                            }
                        },
                        toggle: function(t) {
                            var n = t !== r ? "number" == typeof t ? S.eq(t) : e(t).closest(m.title) : e(this).closest(m.title)
                              , i = n.next(C)
                              , o = i.hasClass(p.animating)
                              , a = i.hasClass(p.active)
                              , s = a && !o
                              , c = !a && o;
                            f.debug("Toggling visibility of content", n),
                            s || c ? h.collapsible ? f.close.call(n) : f.debug("Cannot close accordion content collapsing is disabled") : f.open.call(n)
                        },
                        open: function(t) {
                            var n = t !== r ? "number" == typeof t ? S.eq(t) : e(t).closest(m.title) : e(this).closest(m.title)
                              , i = n.next(C)
                              , o = i.hasClass(p.animating);
                            return i.hasClass(p.active) || o ? void f.debug("Accordion already open, skipping", i) : (f.debug("Opening accordion content", n),
                            h.onOpening.call(i),
                            h.exclusive && f.closeOthers.call(n),
                            n.addClass(p.active),
                            i.stop(!0, !0).addClass(p.animating),
                            h.animateChildren && (e.fn.transition !== r && x.transition("is supported") ? i.children().transition({
                                animation: "fade in",
                                queue: !1,
                                useFailSafe: !0,
                                debug: h.debug,
                                verbose: h.verbose,
                                duration: h.duration
                            }) : i.children().stop(!0, !0).animate({
                                opacity: 1
                            }, h.duration, f.resetOpacity)),
                            void i.slideDown(h.duration, h.easing, function() {
                                i.removeClass(p.animating).addClass(p.active),
                                f.reset.display.call(this),
                                h.onOpen.call(this),
                                h.onChange.call(this)
                            }))
                        },
                        close: function(t) {
                            var n = t !== r ? "number" == typeof t ? S.eq(t) : e(t).closest(m.title) : e(this).closest(m.title)
                              , i = n.next(C)
                              , o = i.hasClass(p.animating)
                              , a = i.hasClass(p.active);
                            !a && (a || !o) || a && o || (f.debug("Closing accordion content", i),
                            h.onClosing.call(i),
                            n.removeClass(p.active),
                            i.stop(!0, !0).addClass(p.animating),
                            h.animateChildren && (e.fn.transition !== r && x.transition("is supported") ? i.children().transition({
                                animation: "fade out",
                                queue: !1,
                                useFailSafe: !0,
                                debug: h.debug,
                                verbose: h.verbose,
                                duration: h.duration
                            }) : i.children().stop(!0, !0).animate({
                                opacity: 0
                            }, h.duration, f.resetOpacity)),
                            i.slideUp(h.duration, h.easing, function() {
                                i.removeClass(p.animating).removeClass(p.active),
                                f.reset.display.call(this),
                                h.onClose.call(this),
                                h.onChange.call(this)
                            }))
                        },
                        closeOthers: function(t) {
                            var n, i, o, a = t !== r ? S.eq(t) : e(this).closest(m.title), s = a.parents(m.content).prev(m.title), c = a.closest(m.accordion), l = m.title + "." + p.active + ":visible", u = m.content + "." + p.active + ":visible";
                            h.closeNested ? o = (n = c.find(l).not(s)).next(C) : (n = c.find(l).not(s),
                            i = c.find(u).find(l).not(s),
                            o = (n = n.not(i)).next(C)),
                            n.length > 0 && (f.debug("Exclusive enabled, closing other content", n),
                            n.removeClass(p.active),
                            o.removeClass(p.animating).stop(!0, !0),
                            h.animateChildren && (e.fn.transition !== r && x.transition("is supported") ? o.children().transition({
                                animation: "fade out",
                                useFailSafe: !0,
                                debug: h.debug,
                                verbose: h.verbose,
                                duration: h.duration
                            }) : o.children().stop(!0, !0).animate({
                                opacity: 0
                            }, h.duration, f.resetOpacity)),
                            o.slideUp(h.duration, h.easing, function() {
                                e(this).removeClass(p.active),
                                f.reset.display.call(this)
                            }))
                        },
                        reset: {
                            display: function() {
                                f.verbose("Removing inline display from element", this),
                                e(this).css("display", ""),
                                "" === e(this).attr("style") && e(this).attr("style", "").removeAttr("style")
                            },
                            opacity: function() {
                                f.verbose("Removing inline opacity from element", this),
                                e(this).css("opacity", ""),
                                "" === e(this).attr("style") && e(this).attr("style", "").removeAttr("style")
                            }
                        },
                        setting: function(t, n) {
                            if (f.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                e.isPlainObject(h[t]) ? e.extend(!0, h[t], n) : h[t] = n
                            }
                        },
                        internal: function(t, n) {
                            return f.debug("Changing internal", t, n),
                            n === r ? f[t] : void (e.isPlainObject(t) ? e.extend(!0, f, t) : f[t] = n)
                        },
                        debug: function() {
                            !h.silent && h.debug && (h.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !h.silent && h.verbose && h.debug && (h.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            h.silent || (f.error = Function.prototype.bind.call(console.error, console, h.name + ":"),
                            f.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                h.performance && (n = (t = (new Date).getTime()) - (a || t),
                                a = t,
                                s.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: _,
                                    "Execution Time": n
                                })),
                                clearTimeout(f.performance.timer),
                                f.performance.timer = setTimeout(f.performance.display, 500)
                            },
                            display: function() {
                                var t = h.name + ":"
                                  , n = 0;
                                a = !1,
                                clearTimeout(f.performance.timer),
                                e.each(s, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                w && (t += " '" + w + "'"),
                                (console.group !== r || console.table !== r) && s.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(s) : e.each(s, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                s = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = k;
                            return n = n || u,
                            o = _ || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (f.error(v.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s
                        }
                    },
                    l ? (k === r && f.initialize(),
                    f.invoke(c)) : (k !== r && k.invoke("destroy"),
                    f.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.accordion.settings = {
                name: "Accordion",
                namespace: "accordion",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                on: "click",
                observeChanges: !0,
                exclusive: !0,
                collapsible: !0,
                closeNested: !1,
                animateChildren: !0,
                duration: 350,
                easing: "easeOutQuad",
                onOpening: function() {},
                onOpen: function() {},
                onClosing: function() {},
                onClose: function() {},
                onChange: function() {},
                error: {
                    method: "The method you called is not defined"
                },
                className: {
                    active: "active",
                    animating: "animating"
                },
                selector: {
                    accordion: ".accordion",
                    title: ".title",
                    trigger: ".title",
                    content: ".content"
                }
            },
            e.extend(e.easing, {
                easeOutQuad: function(e, t, n, r, i) {
                    return -r * (t /= i) * (t - 2) + n
                }
            })
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.checkbox = function(i) {
                var o, a = e(this), s = a.selector || "", c = (new Date).getTime(), l = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1);
                return a.each(function() {
                    var a, h, p = e.extend(!0, {}, e.fn.checkbox.settings, i), g = p.className, m = p.namespace, v = p.selector, y = p.error, b = "." + m, w = "module-" + m, x = e(this), S = e(this).children(v.label), C = e(this).children(v.input), _ = C[0], k = !1, E = !1, T = x.data(w), P = this;
                    h = {
                        initialize: function() {
                            h.verbose("Initializing checkbox", p),
                            h.create.label(),
                            h.bind.events(),
                            h.set.tabbable(),
                            h.hide.input(),
                            h.observeChanges(),
                            h.instantiate(),
                            h.setup()
                        },
                        instantiate: function() {
                            h.verbose("Storing instance of module", h),
                            T = h,
                            x.data(w, h)
                        },
                        destroy: function() {
                            h.verbose("Destroying module"),
                            h.unbind.events(),
                            h.show.input(),
                            x.removeData(w)
                        },
                        fix: {
                            reference: function() {
                                x.is(v.input) && (h.debug("Behavior called on <input> adjusting invoked element"),
                                x = x.closest(v.checkbox),
                                h.refresh())
                            }
                        },
                        setup: function() {
                            h.set.initialLoad(),
                            h.is.indeterminate() ? (h.debug("Initial value is indeterminate"),
                            h.indeterminate()) : h.is.checked() ? (h.debug("Initial value is checked"),
                            h.check()) : (h.debug("Initial value is unchecked"),
                            h.uncheck()),
                            h.remove.initialLoad()
                        },
                        refresh: function() {
                            S = x.children(v.label),
                            C = x.children(v.input),
                            _ = C[0]
                        },
                        hide: {
                            input: function() {
                                h.verbose("Modifying <input> z-index to be unselectable"),
                                C.addClass(g.hidden)
                            }
                        },
                        show: {
                            input: function() {
                                h.verbose("Modifying <input> z-index to be selectable"),
                                C.removeClass(g.hidden)
                            }
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && ((a = new MutationObserver(function(e) {
                                h.debug("DOM tree modified, updating selector cache"),
                                h.refresh()
                            }
                            )).observe(P, {
                                childList: !0,
                                subtree: !0
                            }),
                            h.debug("Setting up mutation observer", a))
                        },
                        attachEvents: function(t, n) {
                            var r = e(t);
                            n = e.isFunction(h[n]) ? h[n] : h.toggle,
                            r.length > 0 ? (h.debug("Attaching checkbox events to element", t, n),
                            r.on("click" + b, n)) : h.error(y.notFound)
                        },
                        event: {
                            click: function(t) {
                                var n = e(t.target);
                                return n.is(v.input) ? void h.verbose("Using default check action on initialized checkbox") : n.is(v.link) ? void h.debug("Clicking link inside checkbox, skipping toggle") : (h.toggle(),
                                C.focus(),
                                void t.preventDefault())
                            },
                            keydown: function(e) {
                                var t = e.which;
                                27 == t ? (h.verbose("Escape key pressed blurring field"),
                                C.blur(),
                                E = !0) : e.ctrlKey || 32 != t && 13 != t ? E = !1 : (h.verbose("Enter/space key pressed, toggling checkbox"),
                                h.toggle(),
                                E = !0)
                            },
                            keyup: function(e) {
                                E && e.preventDefault()
                            }
                        },
                        check: function() {
                            h.should.allowCheck() && (h.debug("Checking checkbox", C),
                            h.set.checked(),
                            h.should.ignoreCallbacks() || (p.onChecked.call(_),
                            p.onChange.call(_)))
                        },
                        uncheck: function() {
                            h.should.allowUncheck() && (h.debug("Unchecking checkbox"),
                            h.set.unchecked(),
                            h.should.ignoreCallbacks() || (p.onUnchecked.call(_),
                            p.onChange.call(_)))
                        },
                        indeterminate: function() {
                            return h.should.allowIndeterminate() ? void h.debug("Checkbox is already indeterminate") : (h.debug("Making checkbox indeterminate"),
                            h.set.indeterminate(),
                            void (h.should.ignoreCallbacks() || (p.onIndeterminate.call(_),
                            p.onChange.call(_))))
                        },
                        determinate: function() {
                            return h.should.allowDeterminate() ? void h.debug("Checkbox is already determinate") : (h.debug("Making checkbox determinate"),
                            h.set.determinate(),
                            void (h.should.ignoreCallbacks() || (p.onDeterminate.call(_),
                            p.onChange.call(_))))
                        },
                        enable: function() {
                            return h.is.enabled() ? void h.debug("Checkbox is already enabled") : (h.debug("Enabling checkbox"),
                            h.set.enabled(),
                            p.onEnable.call(_),
                            void p.onEnabled.call(_))
                        },
                        disable: function() {
                            return h.is.disabled() ? void h.debug("Checkbox is already disabled") : (h.debug("Disabling checkbox"),
                            h.set.disabled(),
                            p.onDisable.call(_),
                            void p.onDisabled.call(_))
                        },
                        get: {
                            radios: function() {
                                var t = h.get.name();
                                return e('input[name="' + t + '"]').closest(v.checkbox)
                            },
                            otherRadios: function() {
                                return h.get.radios().not(x)
                            },
                            name: function() {
                                return C.attr("name")
                            }
                        },
                        is: {
                            initialLoad: function() {
                                return k
                            },
                            radio: function() {
                                return C.hasClass(g.radio) || "radio" == C.attr("type")
                            },
                            indeterminate: function() {
                                return C.prop("indeterminate") !== r && C.prop("indeterminate")
                            },
                            checked: function() {
                                return C.prop("checked") !== r && C.prop("checked")
                            },
                            disabled: function() {
                                return C.prop("disabled") !== r && C.prop("disabled")
                            },
                            enabled: function() {
                                return !h.is.disabled()
                            },
                            determinate: function() {
                                return !h.is.indeterminate()
                            },
                            unchecked: function() {
                                return !h.is.checked()
                            }
                        },
                        should: {
                            allowCheck: function() {
                                return h.is.determinate() && h.is.checked() && !h.should.forceCallbacks() ? (h.debug("Should not allow check, checkbox is already checked"),
                                !1) : !1 !== p.beforeChecked.apply(_) || (h.debug("Should not allow check, beforeChecked cancelled"),
                                !1)
                            },
                            allowUncheck: function() {
                                return h.is.determinate() && h.is.unchecked() && !h.should.forceCallbacks() ? (h.debug("Should not allow uncheck, checkbox is already unchecked"),
                                !1) : !1 !== p.beforeUnchecked.apply(_) || (h.debug("Should not allow uncheck, beforeUnchecked cancelled"),
                                !1)
                            },
                            allowIndeterminate: function() {
                                return h.is.indeterminate() && !h.should.forceCallbacks() ? (h.debug("Should not allow indeterminate, checkbox is already indeterminate"),
                                !1) : !1 !== p.beforeIndeterminate.apply(_) || (h.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),
                                !1)
                            },
                            allowDeterminate: function() {
                                return h.is.determinate() && !h.should.forceCallbacks() ? (h.debug("Should not allow determinate, checkbox is already determinate"),
                                !1) : !1 !== p.beforeDeterminate.apply(_) || (h.debug("Should not allow determinate, beforeDeterminate cancelled"),
                                !1)
                            },
                            forceCallbacks: function() {
                                return h.is.initialLoad() && p.fireOnInit
                            },
                            ignoreCallbacks: function() {
                                return k && !p.fireOnInit
                            }
                        },
                        can: {
                            change: function() {
                                return !(x.hasClass(g.disabled) || x.hasClass(g.readOnly) || C.prop("disabled") || C.prop("readonly"))
                            },
                            uncheck: function() {
                                return "boolean" == typeof p.uncheckable ? p.uncheckable : !h.is.radio()
                            }
                        },
                        set: {
                            initialLoad: function() {
                                k = !0
                            },
                            checked: function() {
                                return h.verbose("Setting class to checked"),
                                x.removeClass(g.indeterminate).addClass(g.checked),
                                h.is.radio() && h.uncheckOthers(),
                                !h.is.indeterminate() && h.is.checked() ? void h.debug("Input is already checked, skipping input property change") : (h.verbose("Setting state to checked", _),
                                C.prop("indeterminate", !1).prop("checked", !0),
                                void h.trigger.change())
                            },
                            unchecked: function() {
                                return h.verbose("Removing checked class"),
                                x.removeClass(g.indeterminate).removeClass(g.checked),
                                !h.is.indeterminate() && h.is.unchecked() ? void h.debug("Input is already unchecked") : (h.debug("Setting state to unchecked"),
                                C.prop("indeterminate", !1).prop("checked", !1),
                                void h.trigger.change())
                            },
                            indeterminate: function() {
                                return h.verbose("Setting class to indeterminate"),
                                x.addClass(g.indeterminate),
                                h.is.indeterminate() ? void h.debug("Input is already indeterminate, skipping input property change") : (h.debug("Setting state to indeterminate"),
                                C.prop("indeterminate", !0),
                                void h.trigger.change())
                            },
                            determinate: function() {
                                return h.verbose("Removing indeterminate class"),
                                x.removeClass(g.indeterminate),
                                h.is.determinate() ? void h.debug("Input is already determinate, skipping input property change") : (h.debug("Setting state to determinate"),
                                void C.prop("indeterminate", !1))
                            },
                            disabled: function() {
                                return h.verbose("Setting class to disabled"),
                                x.addClass(g.disabled),
                                h.is.disabled() ? void h.debug("Input is already disabled, skipping input property change") : (h.debug("Setting state to disabled"),
                                C.prop("disabled", "disabled"),
                                void h.trigger.change())
                            },
                            enabled: function() {
                                return h.verbose("Removing disabled class"),
                                x.removeClass(g.disabled),
                                h.is.enabled() ? void h.debug("Input is already enabled, skipping input property change") : (h.debug("Setting state to enabled"),
                                C.prop("disabled", !1),
                                void h.trigger.change())
                            },
                            tabbable: function() {
                                h.verbose("Adding tabindex to checkbox"),
                                C.attr("tabindex") === r && C.attr("tabindex", 0)
                            }
                        },
                        remove: {
                            initialLoad: function() {
                                k = !1
                            }
                        },
                        trigger: {
                            change: function() {
                                var e = n.createEvent("HTMLEvents")
                                  , t = C[0];
                                t && (h.verbose("Triggering native change event"),
                                e.initEvent("change", !0, !1),
                                t.dispatchEvent(e))
                            }
                        },
                        create: {
                            label: function() {
                                C.prevAll(v.label).length > 0 ? (C.prev(v.label).detach().insertAfter(C),
                                h.debug("Moving existing label", S)) : h.has.label() || (S = e("<label>").insertAfter(C),
                                h.debug("Creating label", S))
                            }
                        },
                        has: {
                            label: function() {
                                return S.length > 0
                            }
                        },
                        bind: {
                            events: function() {
                                h.verbose("Attaching checkbox events"),
                                x.on("click" + b, h.event.click).on("keydown" + b, v.input, h.event.keydown).on("keyup" + b, v.input, h.event.keyup)
                            }
                        },
                        unbind: {
                            events: function() {
                                h.debug("Removing events"),
                                x.off(b)
                            }
                        },
                        uncheckOthers: function() {
                            var e = h.get.otherRadios();
                            h.debug("Unchecking other radios", e),
                            e.removeClass(g.checked)
                        },
                        toggle: function() {
                            return h.can.change() ? void (h.is.indeterminate() || h.is.unchecked() ? (h.debug("Currently unchecked"),
                            h.check()) : h.is.checked() && h.can.uncheck() && (h.debug("Currently checked"),
                            h.uncheck())) : void (h.is.radio() || h.debug("Checkbox is read-only or disabled, ignoring toggle"))
                        },
                        setting: function(t, n) {
                            if (h.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, p, t);
                            else {
                                if (n === r)
                                    return p[t];
                                e.isPlainObject(p[t]) ? e.extend(!0, p[t], n) : p[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                h[t] = n
                            }
                        },
                        debug: function() {
                            !p.silent && p.debug && (p.performance ? h.performance.log(arguments) : (h.debug = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !p.silent && p.verbose && p.debug && (p.performance ? h.performance.log(arguments) : (h.verbose = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            p.silent || (h.error = Function.prototype.bind.call(console.error, console, p.name + ":"),
                            h.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                p.performance && (n = (t = (new Date).getTime()) - (c || t),
                                c = t,
                                l.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: P,
                                    "Execution Time": n
                                })),
                                clearTimeout(h.performance.timer),
                                h.performance.timer = setTimeout(h.performance.display, 500)
                            },
                            display: function() {
                                var t = p.name + ":"
                                  , n = 0;
                                c = !1,
                                clearTimeout(h.performance.timer),
                                e.each(l, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                s && (t += " '" + s + "'"),
                                (console.group !== r || console.table !== r) && l.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(l) : e.each(l, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                l = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = T;
                            return n = n || f,
                            i = P || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (h.error(y.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    d ? (T === r && h.initialize(),
                    h.invoke(u)) : (T !== r && T.invoke("destroy"),
                    h.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.checkbox.settings = {
                name: "Checkbox",
                namespace: "checkbox",
                silent: !1,
                debug: !1,
                verbose: !0,
                performance: !0,
                uncheckable: "auto",
                fireOnInit: !1,
                onChange: function() {},
                beforeChecked: function() {},
                beforeUnchecked: function() {},
                beforeDeterminate: function() {},
                beforeIndeterminate: function() {},
                onChecked: function() {},
                onUnchecked: function() {},
                onDeterminate: function() {},
                onIndeterminate: function() {},
                onEnable: function() {},
                onDisable: function() {},
                onEnabled: function() {},
                onDisabled: function() {},
                className: {
                    checked: "checked",
                    indeterminate: "indeterminate",
                    disabled: "disabled",
                    hidden: "hidden",
                    radio: "radio",
                    readOnly: "read-only"
                },
                error: {
                    method: "The method you called is not defined"
                },
                selector: {
                    checkbox: ".ui.checkbox",
                    label: "label, .box",
                    input: 'input[type="checkbox"], input[type="radio"]',
                    link: "a[href]"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.dimmer = function(t) {
                var i, o = e(this), a = (new Date).getTime(), s = [], c = arguments[0], l = "string" == typeof c, u = [].slice.call(arguments, 1);
                return o.each(function() {
                    var d, f, h, p = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.dimmer.settings, t) : e.extend({}, e.fn.dimmer.settings), g = p.selector, m = p.namespace, v = p.className, y = p.error, b = "." + m, w = "module-" + m, x = o.selector || "", S = "ontouchstart"in n.documentElement ? "touchstart" : "click", C = e(this), _ = this, k = C.data(w);
                    (h = {
                        preinitialize: function() {
                            h.is.dimmer() ? (f = C.parent(),
                            d = C) : (f = C,
                            d = h.has.dimmer() ? p.dimmerName ? f.find(g.dimmer).filter("." + p.dimmerName) : f.find(g.dimmer) : h.create(),
                            h.set.variation())
                        },
                        initialize: function() {
                            h.debug("Initializing dimmer", p),
                            h.bind.events(),
                            h.set.dimmable(),
                            h.instantiate()
                        },
                        instantiate: function() {
                            h.verbose("Storing instance of module", h),
                            k = h,
                            C.data(w, k)
                        },
                        destroy: function() {
                            h.verbose("Destroying previous module", d),
                            h.unbind.events(),
                            h.remove.variation(),
                            f.off(b)
                        },
                        bind: {
                            events: function() {
                                "hover" == p.on ? f.on("mouseenter" + b, h.show).on("mouseleave" + b, h.hide) : "click" == p.on && f.on(S + b, h.toggle),
                                h.is.page() && (h.debug("Setting as a page dimmer", f),
                                h.set.pageDimmer()),
                                h.is.closable() && (h.verbose("Adding dimmer close event", d),
                                f.on(S + b, g.dimmer, h.event.click))
                            }
                        },
                        unbind: {
                            events: function() {
                                C.removeData(w),
                                f.off(b)
                            }
                        },
                        event: {
                            click: function(t) {
                                h.verbose("Determining if event occured on dimmer", t),
                                (0 === d.find(t.target).length || e(t.target).is(g.content)) && (h.hide(),
                                t.stopImmediatePropagation())
                            }
                        },
                        addContent: function(t) {
                            var n = e(t);
                            h.debug("Add content to dimmer", n),
                            n.parent()[0] !== d[0] && n.detach().appendTo(d)
                        },
                        create: function() {
                            var t = e(p.template.dimmer());
                            return p.dimmerName && (h.debug("Creating named dimmer", p.dimmerName),
                            t.addClass(p.dimmerName)),
                            t.appendTo(f),
                            t
                        },
                        show: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            h.debug("Showing dimmer", d, p),
                            h.is.dimmed() && !h.is.animating() || !h.is.enabled() ? h.debug("Dimmer is already shown or disabled") : (h.animate.show(t),
                            p.onShow.call(_),
                            p.onChange.call(_))
                        },
                        hide: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            h.is.dimmed() || h.is.animating() ? (h.debug("Hiding dimmer", d),
                            h.animate.hide(t),
                            p.onHide.call(_),
                            p.onChange.call(_)) : h.debug("Dimmer is not visible")
                        },
                        toggle: function() {
                            h.verbose("Toggling dimmer visibility", d),
                            h.is.dimmed() ? h.hide() : h.show()
                        },
                        animate: {
                            show: function(t) {
                                t = e.isFunction(t) ? t : function() {}
                                ,
                                p.useCSS && e.fn.transition !== r && d.transition("is supported") ? ("auto" !== p.opacity && h.set.opacity(),
                                d.transition({
                                    animation: p.transition + " in",
                                    queue: !1,
                                    duration: h.get.duration(),
                                    useFailSafe: !0,
                                    onStart: function() {
                                        h.set.dimmed()
                                    },
                                    onComplete: function() {
                                        h.set.active(),
                                        t()
                                    }
                                })) : (h.verbose("Showing dimmer animation with javascript"),
                                h.set.dimmed(),
                                "auto" == p.opacity && (p.opacity = .8),
                                d.stop().css({
                                    opacity: 0,
                                    width: "100%",
                                    height: "100%"
                                }).fadeTo(h.get.duration(), p.opacity, function() {
                                    d.removeAttr("style"),
                                    h.set.active(),
                                    t()
                                }))
                            },
                            hide: function(t) {
                                t = e.isFunction(t) ? t : function() {}
                                ,
                                p.useCSS && e.fn.transition !== r && d.transition("is supported") ? (h.verbose("Hiding dimmer with css"),
                                d.transition({
                                    animation: p.transition + " out",
                                    queue: !1,
                                    duration: h.get.duration(),
                                    useFailSafe: !0,
                                    onStart: function() {
                                        h.remove.dimmed()
                                    },
                                    onComplete: function() {
                                        h.remove.active(),
                                        t()
                                    }
                                })) : (h.verbose("Hiding dimmer with javascript"),
                                h.remove.dimmed(),
                                d.stop().fadeOut(h.get.duration(), function() {
                                    h.remove.active(),
                                    d.removeAttr("style"),
                                    t()
                                }))
                            }
                        },
                        get: {
                            dimmer: function() {
                                return d
                            },
                            duration: function() {
                                return "object" == typeof p.duration ? h.is.active() ? p.duration.hide : p.duration.show : p.duration
                            }
                        },
                        has: {
                            dimmer: function() {
                                return p.dimmerName ? C.find(g.dimmer).filter("." + p.dimmerName).length > 0 : C.find(g.dimmer).length > 0
                            }
                        },
                        is: {
                            active: function() {
                                return d.hasClass(v.active)
                            },
                            animating: function() {
                                return d.is(":animated") || d.hasClass(v.animating)
                            },
                            closable: function() {
                                return "auto" == p.closable ? "hover" != p.on : p.closable
                            },
                            dimmer: function() {
                                return C.hasClass(v.dimmer)
                            },
                            dimmable: function() {
                                return C.hasClass(v.dimmable)
                            },
                            dimmed: function() {
                                return f.hasClass(v.dimmed)
                            },
                            disabled: function() {
                                return f.hasClass(v.disabled)
                            },
                            enabled: function() {
                                return !h.is.disabled()
                            },
                            page: function() {
                                return f.is("body")
                            },
                            pageDimmer: function() {
                                return d.hasClass(v.pageDimmer)
                            }
                        },
                        can: {
                            show: function() {
                                return !d.hasClass(v.disabled)
                            }
                        },
                        set: {
                            opacity: function(e) {
                                var t = d.css("background-color")
                                  , n = t.split(",")
                                  , r = n && 3 == n.length
                                  , i = n && 4 == n.length;
                                e = 0 === p.opacity ? 0 : p.opacity || e,
                                r || i ? (n[3] = e + ")",
                                t = n.join(",")) : t = "rgba(0, 0, 0, " + e + ")",
                                h.debug("Setting opacity to", e),
                                d.css("background-color", t)
                            },
                            active: function() {
                                d.addClass(v.active)
                            },
                            dimmable: function() {
                                f.addClass(v.dimmable)
                            },
                            dimmed: function() {
                                f.addClass(v.dimmed)
                            },
                            pageDimmer: function() {
                                d.addClass(v.pageDimmer)
                            },
                            disabled: function() {
                                d.addClass(v.disabled)
                            },
                            variation: function(e) {
                                (e = e || p.variation) && d.addClass(e)
                            }
                        },
                        remove: {
                            active: function() {
                                d.removeClass(v.active)
                            },
                            dimmed: function() {
                                f.removeClass(v.dimmed)
                            },
                            disabled: function() {
                                d.removeClass(v.disabled)
                            },
                            variation: function(e) {
                                (e = e || p.variation) && d.removeClass(e)
                            }
                        },
                        setting: function(t, n) {
                            if (h.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, p, t);
                            else {
                                if (n === r)
                                    return p[t];
                                e.isPlainObject(p[t]) ? e.extend(!0, p[t], n) : p[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                h[t] = n
                            }
                        },
                        debug: function() {
                            !p.silent && p.debug && (p.performance ? h.performance.log(arguments) : (h.debug = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !p.silent && p.verbose && p.debug && (p.performance ? h.performance.log(arguments) : (h.verbose = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            p.silent || (h.error = Function.prototype.bind.call(console.error, console, p.name + ":"),
                            h.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                p.performance && (n = (t = (new Date).getTime()) - (a || t),
                                a = t,
                                s.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: _,
                                    "Execution Time": n
                                })),
                                clearTimeout(h.performance.timer),
                                h.performance.timer = setTimeout(h.performance.display, 500)
                            },
                            display: function() {
                                var t = p.name + ":"
                                  , n = 0;
                                a = !1,
                                clearTimeout(h.performance.timer),
                                e.each(s, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                x && (t += " '" + x + "'"),
                                o.length > 1 && (t += " (" + o.length + ")"),
                                (console.group !== r || console.table !== r) && s.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(s) : e.each(s, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                s = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = k;
                            return n = n || u,
                            o = _ || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (h.error(y.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s
                        }
                    }).preinitialize(),
                    l ? (k === r && h.initialize(),
                    h.invoke(c)) : (k !== r && k.invoke("destroy"),
                    h.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.dimmer.settings = {
                name: "Dimmer",
                namespace: "dimmer",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                dimmerName: !1,
                variation: !1,
                closable: "auto",
                useCSS: !0,
                transition: "fade",
                on: !1,
                opacity: "auto",
                duration: {
                    show: 500,
                    hide: 500
                },
                onChange: function() {},
                onShow: function() {},
                onHide: function() {},
                error: {
                    method: "The method you called is not defined."
                },
                className: {
                    active: "active",
                    animating: "animating",
                    dimmable: "dimmable",
                    dimmed: "dimmed",
                    dimmer: "dimmer",
                    disabled: "disabled",
                    hide: "hide",
                    pageDimmer: "page",
                    show: "show"
                },
                selector: {
                    dimmer: "> .ui.dimmer",
                    content: ".ui.dimmer > .content, .ui.dimmer > .content > .center"
                },
                template: {
                    dimmer: function() {
                        return e("<div />").attr("class", "ui dimmer")
                    }
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.dropdown = function(i) {
                var o, a = e(this), s = e(n), c = a.selector || "", l = "ontouchstart"in n.documentElement, u = (new Date).getTime(), d = [], f = arguments[0], h = "string" == typeof f, p = [].slice.call(arguments, 1);
                return a.each(function(g) {
                    var m, v, y, b, w, x, S, C, _ = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.dropdown.settings, i) : e.extend({}, e.fn.dropdown.settings), k = _.className, E = _.message, T = _.fields, P = _.keys, A = _.metadata, O = _.namespace, $ = _.regExp, j = _.selector, D = _.error, R = _.templates, M = "." + O, I = "module-" + O, L = e(this), F = e(_.context), N = L.find(j.text), B = L.find(j.search), U = L.find(j.sizer), q = L.find(j.input), V = L.find(j.icon), z = L.prev().find(j.text).length > 0 ? L.prev().find(j.text) : L.prev(), H = L.children(j.menu), W = H.find(j.item), G = !1, X = !1, Y = !1, K = this, Q = L.data(I);
                    C = {
                        initialize: function() {
                            C.debug("Initializing dropdown", _),
                            C.is.alreadySetup() ? C.setup.reference() : (C.setup.layout(),
                            C.refreshData(),
                            C.save.defaults(),
                            C.restore.selected(),
                            C.create.id(),
                            C.bind.events(),
                            C.observeChanges(),
                            C.instantiate())
                        },
                        instantiate: function() {
                            C.verbose("Storing instance of dropdown", C),
                            Q = C,
                            L.data(I, C)
                        },
                        destroy: function() {
                            C.verbose("Destroying previous dropdown", L),
                            C.remove.tabbable(),
                            L.off(M).removeData(I),
                            H.off(M),
                            s.off(b),
                            C.disconnect.menuObserver(),
                            C.disconnect.selectObserver()
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && (x = new MutationObserver(C.event.select.mutation),
                            S = new MutationObserver(C.event.menu.mutation),
                            C.debug("Setting up mutation observer", x, S),
                            C.observe.select(),
                            C.observe.menu())
                        },
                        disconnect: {
                            menuObserver: function() {
                                S && S.disconnect()
                            },
                            selectObserver: function() {
                                x && x.disconnect()
                            }
                        },
                        observe: {
                            select: function() {
                                C.has.input() && x.observe(q[0], {
                                    childList: !0,
                                    subtree: !0
                                })
                            },
                            menu: function() {
                                C.has.menu() && S.observe(H[0], {
                                    childList: !0,
                                    subtree: !0
                                })
                            }
                        },
                        create: {
                            id: function() {
                                w = (Math.random().toString(16) + "000000000").substr(2, 8),
                                b = "." + w,
                                C.verbose("Creating unique id for element", w)
                            },
                            userChoice: function(t) {
                                var n, i, o;
                                return !!(t = t || C.get.userValues()) && (t = e.isArray(t) ? t : [t],
                                e.each(t, function(t, a) {
                                    !1 === C.get.item(a) && (o = _.templates.addition(C.add.variables(E.addResult, a)),
                                    i = e("<div />").html(o).attr("data-" + A.value, a).attr("data-" + A.text, a).addClass(k.addition).addClass(k.item),
                                    _.hideAdditions && i.addClass(k.hidden),
                                    n = n === r ? i : n.add(i),
                                    C.verbose("Creating user choices for value", a, i))
                                }),
                                n)
                            },
                            userLabels: function(t) {
                                var n = C.get.userValues();
                                n && (C.debug("Adding user labels", n),
                                e.each(n, function(e, t) {
                                    C.verbose("Adding custom user value"),
                                    C.add.label(t, t)
                                }))
                            },
                            menu: function() {
                                H = e("<div />").addClass(k.menu).appendTo(L)
                            },
                            sizer: function() {
                                U = e("<span />").addClass(k.sizer).insertAfter(B)
                            }
                        },
                        search: function(e) {
                            e = e !== r ? e : C.get.query(),
                            C.verbose("Searching for query", e),
                            C.has.minCharacters(e) ? C.filter(e) : C.hide()
                        },
                        select: {
                            firstUnfiltered: function() {
                                C.verbose("Selecting first non-filtered element"),
                                C.remove.selectedItem(),
                                W.not(j.unselectable).not(j.addition + j.hidden).eq(0).addClass(k.selected)
                            },
                            nextAvailable: function(e) {
                                var t = (e = e.eq(0)).nextAll(j.item).not(j.unselectable).eq(0)
                                  , n = e.prevAll(j.item).not(j.unselectable).eq(0);
                                t.length > 0 ? (C.verbose("Moving selection to", t),
                                t.addClass(k.selected)) : (C.verbose("Moving selection to", n),
                                n.addClass(k.selected))
                            }
                        },
                        setup: {
                            api: function() {
                                var e = {
                                    debug: _.debug,
                                    urlData: {
                                        value: C.get.value(),
                                        query: C.get.query()
                                    },
                                    on: !1
                                };
                                C.verbose("First request, initializing API"),
                                L.api(e)
                            },
                            layout: function() {
                                L.is("select") && (C.setup.select(),
                                C.setup.returnedObject()),
                                C.has.menu() || C.create.menu(),
                                C.is.search() && !C.has.search() && (C.verbose("Adding search input"),
                                B = e("<input />").addClass(k.search).prop("autocomplete", "off").insertBefore(N)),
                                C.is.multiple() && C.is.searchSelection() && !C.has.sizer() && C.create.sizer(),
                                _.allowTab && C.set.tabbable()
                            },
                            select: function() {
                                var t = C.get.selectValues();
                                C.debug("Dropdown initialized on a select", t),
                                L.is("select") && (q = L),
                                q.parent(j.dropdown).length > 0 ? (C.debug("UI dropdown already exists. Creating dropdown menu only"),
                                L = q.closest(j.dropdown),
                                C.has.menu() || C.create.menu(),
                                H = L.children(j.menu),
                                C.setup.menu(t)) : (C.debug("Creating entire dropdown from select"),
                                L = e("<div />").attr("class", q.attr("class")).addClass(k.selection).addClass(k.dropdown).html(R.dropdown(t)).insertBefore(q),
                                q.hasClass(k.multiple) && !1 === q.prop("multiple") && (C.error(D.missingMultiple),
                                q.prop("multiple", !0)),
                                q.is("[multiple]") && C.set.multiple(),
                                q.prop("disabled") && (C.debug("Disabling dropdown"),
                                L.addClass(k.disabled)),
                                q.removeAttr("class").detach().prependTo(L)),
                                C.refresh()
                            },
                            menu: function(e) {
                                H.html(R.menu(e, T)),
                                W = H.find(j.item)
                            },
                            reference: function() {
                                C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),
                                L = L.parent(j.dropdown),
                                C.refresh(),
                                C.setup.returnedObject(),
                                h && (Q = C,
                                C.invoke(f))
                            },
                            returnedObject: function() {
                                var e = a.slice(0, g)
                                  , t = a.slice(g + 1);
                                a = e.add(L).add(t)
                            }
                        },
                        refresh: function() {
                            C.refreshSelectors(),
                            C.refreshData()
                        },
                        refreshItems: function() {
                            W = H.find(j.item)
                        },
                        refreshSelectors: function() {
                            C.verbose("Refreshing selector cache"),
                            N = L.find(j.text),
                            B = L.find(j.search),
                            q = L.find(j.input),
                            V = L.find(j.icon),
                            z = L.prev().find(j.text).length > 0 ? L.prev().find(j.text) : L.prev(),
                            H = L.children(j.menu),
                            W = H.find(j.item)
                        },
                        refreshData: function() {
                            C.verbose("Refreshing cached metadata"),
                            W.removeData(A.text).removeData(A.value)
                        },
                        clearData: function() {
                            C.verbose("Clearing metadata"),
                            W.removeData(A.text).removeData(A.value),
                            L.removeData(A.defaultText).removeData(A.defaultValue).removeData(A.placeholderText)
                        },
                        toggle: function() {
                            C.verbose("Toggling menu visibility"),
                            C.is.active() ? C.hide() : C.show()
                        },
                        show: function(t) {
                            if (t = e.isFunction(t) ? t : function() {}
                            ,
                            C.can.show() && !C.is.active()) {
                                if (C.debug("Showing dropdown"),
                                !C.has.message() || C.has.maxSelections() || C.has.allResultsFiltered() || C.remove.message(),
                                C.is.allFiltered())
                                    return !0;
                                !1 !== _.onShow.call(K) && C.animate.show(function() {
                                    C.can.click() && C.bind.intent(),
                                    C.has.menuSearch() && C.focusSearch(),
                                    C.set.visible(),
                                    t.call(K)
                                })
                            }
                        },
                        hide: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            C.is.active() && (C.debug("Hiding dropdown"),
                            !1 !== _.onHide.call(K) && C.animate.hide(function() {
                                C.remove.visible(),
                                t.call(K)
                            }))
                        },
                        hideOthers: function() {
                            C.verbose("Finding other dropdowns to hide"),
                            a.not(L).has(j.menu + "." + k.visible).dropdown("hide")
                        },
                        hideMenu: function() {
                            C.verbose("Hiding menu  instantaneously"),
                            C.remove.active(),
                            C.remove.visible(),
                            H.transition("hide")
                        },
                        hideSubMenus: function() {
                            var e = H.children(j.item).find(j.menu);
                            C.verbose("Hiding sub menus", e),
                            e.transition("hide")
                        },
                        bind: {
                            events: function() {
                                l && C.bind.touchEvents(),
                                C.bind.keyboardEvents(),
                                C.bind.inputEvents(),
                                C.bind.mouseEvents()
                            },
                            touchEvents: function() {
                                C.debug("Touch device detected binding additional touch events"),
                                C.is.searchSelection() || C.is.single() && L.on("touchstart" + M, C.event.test.toggle),
                                H.on("touchstart" + M, j.item, C.event.item.mouseenter)
                            },
                            keyboardEvents: function() {
                                C.verbose("Binding keyboard events"),
                                L.on("keydown" + M, C.event.keydown),
                                C.has.search() && L.on(C.get.inputEvent() + M, j.search, C.event.input),
                                C.is.multiple() && s.on("keydown" + b, C.event.document.keydown)
                            },
                            inputEvents: function() {
                                C.verbose("Binding input change events"),
                                L.on("change" + M, j.input, C.event.change)
                            },
                            mouseEvents: function() {
                                C.verbose("Binding mouse events"),
                                C.is.multiple() && L.on("click" + M, j.label, C.event.label.click).on("click" + M, j.remove, C.event.remove.click),
                                C.is.searchSelection() ? (L.on("mousedown" + M, C.event.mousedown).on("mouseup" + M, C.event.mouseup).on("mousedown" + M, j.menu, C.event.menu.mousedown).on("mouseup" + M, j.menu, C.event.menu.mouseup).on("click" + M, j.icon, C.event.icon.click).on("focus" + M, j.search, C.event.search.focus).on("click" + M, j.search, C.event.search.focus).on("blur" + M, j.search, C.event.search.blur).on("click" + M, j.text, C.event.text.focus),
                                C.is.multiple() && L.on("click" + M, C.event.click)) : ("click" == _.on ? L.on("click" + M, j.icon, C.event.icon.click).on("click" + M, C.event.test.toggle) : "hover" == _.on ? L.on("mouseenter" + M, C.delay.show).on("mouseleave" + M, C.delay.hide) : L.on(_.on + M, C.toggle),
                                L.on("mousedown" + M, C.event.mousedown).on("mouseup" + M, C.event.mouseup).on("focus" + M, C.event.focus).on("blur" + M, C.event.blur)),
                                H.on("mouseenter" + M, j.item, C.event.item.mouseenter).on("mouseleave" + M, j.item, C.event.item.mouseleave).on("click" + M, j.item, C.event.item.click)
                            },
                            intent: function() {
                                C.verbose("Binding hide intent event to document"),
                                l && s.on("touchstart" + b, C.event.test.touch).on("touchmove" + b, C.event.test.touch),
                                s.on("click" + b, C.event.test.hide)
                            }
                        },
                        unbind: {
                            intent: function() {
                                C.verbose("Removing hide intent event from document"),
                                l && s.off("touchstart" + b).off("touchmove" + b),
                                s.off("click" + b)
                            }
                        },
                        filter: function(e) {
                            var t = e !== r ? e : C.get.query()
                              , n = function() {
                                C.is.multiple() && C.filterActive(),
                                C.select.firstUnfiltered(),
                                C.has.allResultsFiltered() ? _.onNoResults.call(K, t) ? _.allowAdditions ? _.hideAdditions && (C.verbose("User addition with no menu, setting empty style"),
                                C.set.empty(),
                                C.hideMenu()) : (C.verbose("All items filtered, showing message", t),
                                C.add.message(E.noResults)) : (C.verbose("All items filtered, hiding dropdown", t),
                                C.hideMenu()) : (C.remove.empty(),
                                C.remove.message()),
                                _.allowAdditions && C.add.userSuggestion(e),
                                C.is.searchSelection() && C.can.show() && C.is.focusedOnSearch() && C.show()
                            };
                            _.useLabels && C.has.maxSelections() || (_.apiSettings ? C.can.useAPI() ? C.queryRemote(t, function() {
                                n()
                            }) : C.error(D.noAPI) : (C.filterItems(t),
                            n()))
                        },
                        queryRemote: function(t, n) {
                            var r = {
                                errorDuration: !1,
                                cache: "local",
                                throttle: _.throttle,
                                urlData: {
                                    query: t
                                },
                                onError: function() {
                                    C.add.message(E.serverError),
                                    n()
                                },
                                onFailure: function() {
                                    C.add.message(E.serverError),
                                    n()
                                },
                                onSuccess: function(e) {
                                    C.remove.message(),
                                    C.setup.menu({
                                        values: e[T.remoteValues]
                                    }),
                                    n()
                                }
                            };
                            L.api("get request") || C.setup.api(),
                            r = e.extend(!0, {}, r, _.apiSettings),
                            L.api("setting", r).api("query")
                        },
                        filterItems: function(t) {
                            var n = t !== r ? t : C.get.query()
                              , i = null
                              , o = C.escape.regExp(n)
                              , a = new RegExp("^" + o,"igm");
                            C.has.query() && (i = [],
                            C.verbose("Searching for matching values", n),
                            W.each(function() {
                                var t, r, o = e(this);
                                if ("both" == _.match || "text" == _.match) {
                                    if (-1 !== (t = String(C.get.choiceText(o, !1))).search(a))
                                        return i.push(this),
                                        !0;
                                    if ("exact" === _.fullTextSearch && C.exactSearch(n, t))
                                        return i.push(this),
                                        !0;
                                    if (!0 === _.fullTextSearch && C.fuzzySearch(n, t))
                                        return i.push(this),
                                        !0
                                }
                                if ("both" == _.match || "value" == _.match) {
                                    if (-1 !== (r = String(C.get.choiceValue(o, t))).search(a))
                                        return i.push(this),
                                        !0;
                                    if (_.fullTextSearch && C.fuzzySearch(n, r))
                                        return i.push(this),
                                        !0
                                }
                            })),
                            C.debug("Showing only matched items", n),
                            C.remove.filteredItem(),
                            i && W.not(i).addClass(k.filtered)
                        },
                        fuzzySearch: function(e, t) {
                            var n = t.length
                              , r = e.length;
                            if (e = e.toLowerCase(),
                            t = t.toLowerCase(),
                            r > n)
                                return !1;
                            if (r === n)
                                return e === t;
                            e: for (var i = 0, o = 0; i < r; i++) {
                                for (var a = e.charCodeAt(i); o < n; )
                                    if (t.charCodeAt(o++) === a)
                                        continue e;
                                return !1
                            }
                            return !0
                        },
                        exactSearch: function(e, t) {
                            return e = e.toLowerCase(),
                            (t = t.toLowerCase()).indexOf(e) > -1
                        },
                        filterActive: function() {
                            _.useLabels && W.filter("." + k.active).addClass(k.filtered)
                        },
                        focusSearch: function(e) {
                            C.has.search() && !C.is.focusedOnSearch() && (e ? (L.off("focus" + M, j.search),
                            B.focus(),
                            L.on("focus" + M, j.search, C.event.search.focus)) : B.focus())
                        },
                        forceSelection: function() {
                            var e = W.not(k.filtered).filter("." + k.selected).eq(0)
                              , t = W.not(k.filtered).filter("." + k.active).eq(0)
                              , n = e.length > 0 ? e : t;
                            return n.length > 0 ? (C.debug("Forcing partial selection to selected item", n),
                            void C.event.item.click.call(n, {}, !0)) : void (_.allowAdditions ? (C.set.selected(C.get.query()),
                            C.remove.searchTerm()) : C.remove.searchTerm())
                        },
                        event: {
                            change: function() {
                                Y || (C.debug("Input changed, updating selection"),
                                C.set.selected())
                            },
                            focus: function() {
                                _.showOnFocus && !G && C.is.hidden() && !v && C.show()
                            },
                            blur: function(e) {
                                v = n.activeElement === this,
                                G || v || (C.remove.activeLabel(),
                                C.hide())
                            },
                            mousedown: function() {
                                C.is.searchSelection() ? y = !0 : G = !0
                            },
                            mouseup: function() {
                                C.is.searchSelection() ? y = !1 : G = !1
                            },
                            click: function(t) {
                                e(t.target).is(L) && (C.is.focusedOnSearch() ? C.show() : C.focusSearch())
                            },
                            search: {
                                focus: function() {
                                    G = !0,
                                    C.is.multiple() && C.remove.activeLabel(),
                                    _.showOnFocus && C.search()
                                },
                                blur: function(e) {
                                    v = n.activeElement === this,
                                    y || X || v || (_.forceSelection && C.forceSelection(),
                                    C.hide()),
                                    y = !1
                                }
                            },
                            icon: {
                                click: function(e) {
                                    C.toggle()
                                }
                            },
                            text: {
                                focus: function(e) {
                                    G = !0,
                                    C.focusSearch()
                                }
                            },
                            input: function(e) {
                                (C.is.multiple() || C.is.searchSelection()) && C.set.filtered(),
                                clearTimeout(C.timer),
                                C.timer = setTimeout(C.search, _.delay.search)
                            },
                            label: {
                                click: function(t) {
                                    var n = e(this)
                                      , r = L.find(j.label)
                                      , i = r.filter("." + k.active)
                                      , o = n.nextAll("." + k.active)
                                      , a = n.prevAll("." + k.active)
                                      , s = o.length > 0 ? n.nextUntil(o).add(i).add(n) : n.prevUntil(a).add(i).add(n);
                                    t.shiftKey ? (i.removeClass(k.active),
                                    s.addClass(k.active)) : t.ctrlKey ? n.toggleClass(k.active) : (i.removeClass(k.active),
                                    n.addClass(k.active)),
                                    _.onLabelSelect.apply(this, r.filter("." + k.active))
                                }
                            },
                            remove: {
                                click: function() {
                                    var t = e(this).parent();
                                    t.hasClass(k.active) ? C.remove.activeLabels() : C.remove.activeLabels(t)
                                }
                            },
                            test: {
                                toggle: function(e) {
                                    var t = C.is.multiple() ? C.show : C.toggle;
                                    C.is.bubbledLabelClick(e) || C.is.bubbledIconClick(e) || C.determine.eventOnElement(e, t) && e.preventDefault()
                                },
                                touch: function(e) {
                                    C.determine.eventOnElement(e, function() {
                                        "touchstart" == e.type ? C.timer = setTimeout(function() {
                                            C.hide()
                                        }, _.delay.touch) : "touchmove" == e.type && clearTimeout(C.timer)
                                    }),
                                    e.stopPropagation()
                                },
                                hide: function(e) {
                                    C.determine.eventInModule(e, C.hide)
                                }
                            },
                            select: {
                                mutation: function(e) {
                                    C.debug("<select> modified, recreating menu"),
                                    C.setup.select()
                                }
                            },
                            menu: {
                                mutation: function(t) {
                                    var n = t[0]
                                      , r = e(!!n.addedNodes && n.addedNodes[0])
                                      , i = e(!!n.removedNodes && n.removedNodes[0])
                                      , o = r.add(i)
                                      , a = o.is(j.addition) || o.closest(j.addition).length > 0
                                      , s = o.is(j.message) || o.closest(j.message).length > 0;
                                    a || s ? (C.debug("Updating item selector cache"),
                                    C.refreshItems()) : (C.debug("Menu modified, updating selector cache"),
                                    C.refresh())
                                },
                                mousedown: function() {
                                    X = !0
                                },
                                mouseup: function() {
                                    X = !1
                                }
                            },
                            item: {
                                mouseenter: function(t) {
                                    var n = e(t.target)
                                      , r = e(this)
                                      , i = r.children(j.menu)
                                      , o = r.siblings(j.item).children(j.menu)
                                      , a = i.length > 0;
                                    !(i.find(n).length > 0) && a && (clearTimeout(C.itemTimer),
                                    C.itemTimer = setTimeout(function() {
                                        C.verbose("Showing sub-menu", i),
                                        e.each(o, function() {
                                            C.animate.hide(!1, e(this))
                                        }),
                                        C.animate.show(!1, i)
                                    }, _.delay.show),
                                    t.preventDefault())
                                },
                                mouseleave: function(t) {
                                    var n = e(this).children(j.menu);
                                    n.length > 0 && (clearTimeout(C.itemTimer),
                                    C.itemTimer = setTimeout(function() {
                                        C.verbose("Hiding sub-menu", n),
                                        C.animate.hide(!1, n)
                                    }, _.delay.hide))
                                },
                                click: function(t, n) {
                                    var r = e(this)
                                      , i = e(t ? t.target : "")
                                      , o = r.find(j.menu)
                                      , a = C.get.choiceText(r)
                                      , s = C.get.choiceValue(r, a)
                                      , c = o.length > 0;
                                    o.find(i).length > 0 || c && !_.allowCategorySelection || (C.is.searchSelection() && (_.allowAdditions && C.remove.userAddition(),
                                    C.remove.searchTerm(),
                                    C.is.focusedOnSearch() || 1 == n || C.focusSearch(!0)),
                                    _.useLabels || (C.remove.filteredItem(),
                                    C.set.scrollPosition(r)),
                                    C.determine.selectAction.call(this, a, s))
                                }
                            },
                            document: {
                                keydown: function(e) {
                                    var t = e.which;
                                    if (C.is.inObject(t, P)) {
                                        var n = L.find(j.label)
                                          , r = n.filter("." + k.active)
                                          , i = (r.data(A.value),
                                        n.index(r))
                                          , o = n.length
                                          , a = r.length > 0
                                          , s = r.length > 1
                                          , c = 0 === i
                                          , l = i + 1 == o
                                          , u = C.is.searchSelection()
                                          , d = C.is.focusedOnSearch()
                                          , f = C.is.focused()
                                          , h = d && 0 === C.get.caretPosition();
                                        if (u && !a && !d)
                                            return;
                                        t == P.leftArrow ? !f && !h || a ? a && (e.shiftKey ? C.verbose("Adding previous label to selection") : (C.verbose("Selecting previous label"),
                                        n.removeClass(k.active)),
                                        c && !s ? r.addClass(k.active) : r.prev(j.siblingLabel).addClass(k.active).end(),
                                        e.preventDefault()) : (C.verbose("Selecting previous label"),
                                        n.last().addClass(k.active)) : t == P.rightArrow ? (f && !a && n.first().addClass(k.active),
                                        a && (e.shiftKey ? C.verbose("Adding next label to selection") : (C.verbose("Selecting next label"),
                                        n.removeClass(k.active)),
                                        l ? u ? d ? n.removeClass(k.active) : C.focusSearch() : s ? r.next(j.siblingLabel).addClass(k.active) : r.addClass(k.active) : r.next(j.siblingLabel).addClass(k.active),
                                        e.preventDefault())) : t == P.deleteKey || t == P.backspace ? a ? (C.verbose("Removing active labels"),
                                        l && u && !d && C.focusSearch(),
                                        r.last().next(j.siblingLabel).addClass(k.active),
                                        C.remove.activeLabels(r),
                                        e.preventDefault()) : h && !a && t == P.backspace && (C.verbose("Removing last label on input backspace"),
                                        r = n.last().addClass(k.active),
                                        C.remove.activeLabels(r)) : r.removeClass(k.active)
                                    }
                                }
                            },
                            keydown: function(e) {
                                var t = e.which;
                                if (C.is.inObject(t, P)) {
                                    var n, r = W.not(j.unselectable).filter("." + k.selected).eq(0), i = H.children("." + k.active).eq(0), o = r.length > 0 ? r : i, a = o.length > 0 ? o.siblings(":not(." + k.filtered + ")").addBack() : H.children(":not(." + k.filtered + ")"), s = o.children(j.menu), c = o.closest(j.menu), l = c.hasClass(k.visible) || c.hasClass(k.animating) || c.parent(j.menu).length > 0, u = s.length > 0, d = o.length > 0, f = o.not(j.unselectable).length > 0, h = t == P.delimiter && _.allowAdditions && C.is.multiple();
                                    if (_.allowAdditions && _.hideAdditions && (t == P.enter || h) && f && (C.verbose("Selecting item from keyboard shortcut", o),
                                    C.event.item.click.call(o, e),
                                    C.is.searchSelection() && C.remove.searchTerm()),
                                    C.is.visible()) {
                                        if ((t == P.enter || h) && (t == P.enter && d && u && !_.allowCategorySelection ? (C.verbose("Pressed enter on unselectable category, opening sub menu"),
                                        t = P.rightArrow) : f && (C.verbose("Selecting item from keyboard shortcut", o),
                                        C.event.item.click.call(o, e),
                                        C.is.searchSelection() && C.remove.searchTerm()),
                                        e.preventDefault()),
                                        d && (t == P.leftArrow && c[0] !== H[0] && (C.verbose("Left key pressed, closing sub-menu"),
                                        C.animate.hide(!1, c),
                                        o.removeClass(k.selected),
                                        c.closest(j.item).addClass(k.selected),
                                        e.preventDefault()),
                                        t == P.rightArrow && u && (C.verbose("Right key pressed, opening sub-menu"),
                                        C.animate.show(!1, s),
                                        o.removeClass(k.selected),
                                        s.find(j.item).eq(0).addClass(k.selected),
                                        e.preventDefault())),
                                        t == P.upArrow) {
                                            if (n = d && l ? o.prevAll(j.item + ":not(" + j.unselectable + ")").eq(0) : W.eq(0),
                                            a.index(n) < 0)
                                                return C.verbose("Up key pressed but reached top of current menu"),
                                                void e.preventDefault();
                                            C.verbose("Up key pressed, changing active item"),
                                            o.removeClass(k.selected),
                                            n.addClass(k.selected),
                                            C.set.scrollPosition(n),
                                            _.selectOnKeydown && C.is.single() && C.set.selectedItem(n),
                                            e.preventDefault()
                                        }
                                        if (t == P.downArrow) {
                                            if (0 === (n = d && l ? n = o.nextAll(j.item + ":not(" + j.unselectable + ")").eq(0) : W.eq(0)).length)
                                                return C.verbose("Down key pressed but reached bottom of current menu"),
                                                void e.preventDefault();
                                            C.verbose("Down key pressed, changing active item"),
                                            W.removeClass(k.selected),
                                            n.addClass(k.selected),
                                            C.set.scrollPosition(n),
                                            _.selectOnKeydown && C.is.single() && C.set.selectedItem(n),
                                            e.preventDefault()
                                        }
                                        t == P.pageUp && (C.scrollPage("up"),
                                        e.preventDefault()),
                                        t == P.pageDown && (C.scrollPage("down"),
                                        e.preventDefault()),
                                        t == P.escape && (C.verbose("Escape key pressed, closing dropdown"),
                                        C.hide())
                                    } else
                                        h && e.preventDefault(),
                                        t != P.downArrow || C.is.visible() || (C.verbose("Down key pressed, showing dropdown"),
                                        C.select.firstUnfiltered(),
                                        C.show(),
                                        e.preventDefault())
                                } else
                                    C.has.search() || C.set.selectedLetter(String.fromCharCode(t))
                            }
                        },
                        trigger: {
                            change: function() {
                                var e = n.createEvent("HTMLEvents")
                                  , t = q[0];
                                t && (C.verbose("Triggering native change event"),
                                e.initEvent("change", !0, !1),
                                t.dispatchEvent(e))
                            }
                        },
                        determine: {
                            selectAction: function(t, n) {
                                C.verbose("Determining action", _.action),
                                e.isFunction(C.action[_.action]) ? (C.verbose("Triggering preset action", _.action, t, n),
                                C.action[_.action].call(K, t, n, this)) : e.isFunction(_.action) ? (C.verbose("Triggering user action", _.action, t, n),
                                _.action.call(K, t, n, this)) : C.error(D.action, _.action)
                            },
                            eventInModule: function(t, r) {
                                var i = e(t.target)
                                  , o = i.closest(n.documentElement).length > 0
                                  , a = i.closest(L).length > 0;
                                return r = e.isFunction(r) ? r : function() {}
                                ,
                                o && !a ? (C.verbose("Triggering event", r),
                                r(),
                                !0) : (C.verbose("Event occurred in dropdown, canceling callback"),
                                !1)
                            },
                            eventOnElement: function(t, r) {
                                var i = e(t.target)
                                  , o = i.closest(j.siblingLabel)
                                  , a = n.body.contains(t.target)
                                  , s = 0 === L.find(o).length
                                  , c = 0 === i.closest(H).length;
                                return r = e.isFunction(r) ? r : function() {}
                                ,
                                a && s && c ? (C.verbose("Triggering event", r),
                                r(),
                                !0) : (C.verbose("Event occurred in dropdown menu, canceling callback"),
                                !1)
                            }
                        },
                        action: {
                            nothing: function() {},
                            activate: function(t, n, i) {
                                if (n = n !== r ? n : t,
                                C.can.activate(e(i))) {
                                    if (C.set.selected(n, e(i)),
                                    C.is.multiple() && !C.is.allFiltered())
                                        return;
                                    C.hideAndClear()
                                }
                            },
                            select: function(t, n, i) {
                                if (n = n !== r ? n : t,
                                C.can.activate(e(i))) {
                                    if (C.set.value(n, e(i)),
                                    C.is.multiple() && !C.is.allFiltered())
                                        return;
                                    C.hideAndClear()
                                }
                            },
                            combo: function(t, n, i) {
                                n = n !== r ? n : t,
                                C.set.selected(n, e(i)),
                                C.hideAndClear()
                            },
                            hide: function(e, t, n) {
                                C.set.value(t, e),
                                C.hideAndClear()
                            }
                        },
                        get: {
                            id: function() {
                                return w
                            },
                            defaultText: function() {
                                return L.data(A.defaultText)
                            },
                            defaultValue: function() {
                                return L.data(A.defaultValue)
                            },
                            placeholderText: function() {
                                return L.data(A.placeholderText) || ""
                            },
                            text: function() {
                                return N.text()
                            },
                            query: function() {
                                return e.trim(B.val())
                            },
                            searchWidth: function(e) {
                                return e = e !== r ? e : B.val(),
                                U.text(e),
                                Math.ceil(U.width() + 1)
                            },
                            selectionCount: function() {
                                var t = C.get.values();
                                return C.is.multiple() ? e.isArray(t) ? t.length : 0 : "" !== C.get.value() ? 1 : 0
                            },
                            transition: function(e) {
                                return "auto" == _.transition ? C.is.upward(e) ? "slide up" : "slide down" : _.transition
                            },
                            userValues: function() {
                                var t = C.get.values();
                                return !!t && (t = e.isArray(t) ? t : [t],
                                e.grep(t, function(e) {
                                    return !1 === C.get.item(e)
                                }))
                            },
                            uniqueArray: function(t) {
                                return e.grep(t, function(n, r) {
                                    return e.inArray(n, t) === r
                                })
                            },
                            caretPosition: function() {
                                var e, t, r = B.get(0);
                                return "selectionStart"in r ? r.selectionStart : n.selection ? (r.focus(),
                                t = (e = n.selection.createRange()).text.length,
                                e.moveStart("character", -r.value.length),
                                e.text.length - t) : void 0
                            },
                            value: function() {
                                var t = q.length > 0 ? q.val() : L.data(A.value)
                                  , n = e.isArray(t) && 1 === t.length && "" === t[0];
                                return t === r || n ? "" : t
                            },
                            values: function() {
                                var e = C.get.value();
                                return "" === e ? "" : !C.has.selectInput() && C.is.multiple() ? "string" == typeof e ? e.split(_.delimiter) : "" : e
                            },
                            remoteValues: function() {
                                var t = C.get.values()
                                  , n = !1;
                                return t && ("string" == typeof t && (t = [t]),
                                e.each(t, function(e, t) {
                                    var r = C.read.remoteData(t);
                                    C.verbose("Restoring value from session data", r, t),
                                    r && (n || (n = {}),
                                    n[t] = r)
                                })),
                                n
                            },
                            choiceText: function(t, n) {
                                if (n = n !== r ? n : _.preserveHTML,
                                t)
                                    return t.find(j.menu).length > 0 && (C.verbose("Retrieving text of element with sub-menu"),
                                    (t = t.clone()).find(j.menu).remove(),
                                    t.find(j.menuIcon).remove()),
                                    t.data(A.text) !== r ? t.data(A.text) : n ? e.trim(t.html()) : e.trim(t.text())
                            },
                            choiceValue: function(t, n) {
                                return n = n || C.get.choiceText(t),
                                !!t && (t.data(A.value) !== r ? String(t.data(A.value)) : "string" == typeof n ? e.trim(n.toLowerCase()) : String(n))
                            },
                            inputEvent: function() {
                                var e = B[0];
                                return !!e && (e.oninput !== r ? "input" : e.onpropertychange !== r ? "propertychange" : "keyup")
                            },
                            selectValues: function() {
                                var t = {
                                    values: []
                                };
                                return L.find("option").each(function() {
                                    var n = e(this)
                                      , i = n.html()
                                      , o = n.attr("disabled")
                                      , a = n.attr("value") !== r ? n.attr("value") : i;
                                    "auto" === _.placeholder && "" === a ? t.placeholder = i : t.values.push({
                                        name: i,
                                        value: a,
                                        disabled: o
                                    })
                                }),
                                _.placeholder && "auto" !== _.placeholder && (C.debug("Setting placeholder value to", _.placeholder),
                                t.placeholder = _.placeholder),
                                _.sortSelect ? (t.values.sort(function(e, t) {
                                    return e.name > t.name ? 1 : -1
                                }),
                                C.debug("Retrieved and sorted values from select", t)) : C.debug("Retrieved values from select", t),
                                t
                            },
                            activeItem: function() {
                                return W.filter("." + k.active)
                            },
                            selectedItem: function() {
                                var e = W.not(j.unselectable).filter("." + k.selected);
                                return e.length > 0 ? e : W.eq(0)
                            },
                            itemWithAdditions: function(e) {
                                var t = C.get.item(e)
                                  , n = C.create.userChoice(e);
                                return n && n.length > 0 && (t = t.length > 0 ? t.add(n) : n),
                                t
                            },
                            item: function(t, n) {
                                var i, o, a = !1;
                                return t = t !== r ? t : C.get.values() !== r ? C.get.values() : C.get.text(),
                                i = o ? t.length > 0 : t !== r && null !== t,
                                o = C.is.multiple() && e.isArray(t),
                                n = "" === t || 0 === t || n || !1,
                                i && W.each(function() {
                                    var i = e(this)
                                      , s = C.get.choiceText(i)
                                      , c = C.get.choiceValue(i, s);
                                    if (null !== c && c !== r)
                                        if (o)
                                            -1 === e.inArray(String(c), t) && -1 === e.inArray(s, t) || (a = a ? a.add(i) : i);
                                        else if (n) {
                                            if (C.verbose("Ambiguous dropdown value using strict type check", i, t),
                                            c === t || s === t)
                                                return a = i,
                                                !0
                                        } else if (String(c) == String(t) || s == t)
                                            return C.verbose("Found select item by value", c, t),
                                            a = i,
                                            !0
                                }),
                                a
                            }
                        },
                        check: {
                            maxSelections: function(e) {
                                return !_.maxSelections || ((e = e !== r ? e : C.get.selectionCount()) >= _.maxSelections ? (C.debug("Maximum selection count reached"),
                                _.useLabels && (W.addClass(k.filtered),
                                C.add.message(E.maxSelections)),
                                !0) : (C.verbose("No longer at maximum selection count"),
                                C.remove.message(),
                                C.remove.filteredItem(),
                                C.is.searchSelection() && C.filterItems(),
                                !1))
                            }
                        },
                        restore: {
                            defaults: function() {
                                C.clear(),
                                C.restore.defaultText(),
                                C.restore.defaultValue()
                            },
                            defaultText: function() {
                                var e = C.get.defaultText();
                                e === C.get.placeholderText ? (C.debug("Restoring default placeholder text", e),
                                C.set.placeholderText(e)) : (C.debug("Restoring default text", e),
                                C.set.text(e))
                            },
                            placeholderText: function() {
                                C.set.placeholderText()
                            },
                            defaultValue: function() {
                                var e = C.get.defaultValue();
                                e !== r && (C.debug("Restoring default value", e),
                                "" !== e ? (C.set.value(e),
                                C.set.selected()) : (C.remove.activeItem(),
                                C.remove.selectedItem()))
                            },
                            labels: function() {
                                _.allowAdditions && (_.useLabels || (C.error(D.labels),
                                _.useLabels = !0),
                                C.debug("Restoring selected values"),
                                C.create.userLabels()),
                                C.check.maxSelections()
                            },
                            selected: function() {
                                C.restore.values(),
                                C.is.multiple() ? (C.debug("Restoring previously selected values and labels"),
                                C.restore.labels()) : C.debug("Restoring previously selected values")
                            },
                            values: function() {
                                C.set.initialLoad(),
                                _.apiSettings && _.saveRemoteData && C.get.remoteValues() ? C.restore.remoteValues() : C.set.selected(),
                                C.remove.initialLoad()
                            },
                            remoteValues: function() {
                                var t = C.get.remoteValues();
                                C.debug("Recreating selected from session data", t),
                                t && (C.is.single() ? e.each(t, function(e, t) {
                                    C.set.text(t)
                                }) : e.each(t, function(e, t) {
                                    C.add.label(e, t)
                                }))
                            }
                        },
                        read: {
                            remoteData: function(e) {
                                var n;
                                return t.Storage === r ? void C.error(D.noStorage) : (n = sessionStorage.getItem(e)) !== r && n
                            }
                        },
                        save: {
                            defaults: function() {
                                C.save.defaultText(),
                                C.save.placeholderText(),
                                C.save.defaultValue()
                            },
                            defaultValue: function() {
                                var e = C.get.value();
                                C.verbose("Saving default value as", e),
                                L.data(A.defaultValue, e)
                            },
                            defaultText: function() {
                                var e = C.get.text();
                                C.verbose("Saving default text as", e),
                                L.data(A.defaultText, e)
                            },
                            placeholderText: function() {
                                var e;
                                !1 !== _.placeholder && N.hasClass(k.placeholder) && (e = C.get.text(),
                                C.verbose("Saving placeholder text as", e),
                                L.data(A.placeholderText, e))
                            },
                            remoteData: function(e, n) {
                                return t.Storage === r ? void C.error(D.noStorage) : (C.verbose("Saving remote data to session storage", n, e),
                                void sessionStorage.setItem(n, e))
                            }
                        },
                        clear: function() {
                            C.is.multiple() && _.useLabels ? C.remove.labels() : (C.remove.activeItem(),
                            C.remove.selectedItem()),
                            C.set.placeholderText(),
                            C.clearValue()
                        },
                        clearValue: function() {
                            C.set.value("")
                        },
                        scrollPage: function(e, t) {
                            var n, r, i = t || C.get.selectedItem(), o = i.closest(j.menu), a = o.outerHeight(), s = o.scrollTop(), c = W.eq(0).outerHeight(), l = Math.floor(a / c), u = (o.prop("scrollHeight"),
                            "up" == e ? s - c * l : s + c * l), d = W.not(j.unselectable);
                            r = "up" == e ? d.index(i) - l : d.index(i) + l,
                            (n = ("up" == e ? r >= 0 : r < d.length) ? d.eq(r) : "up" == e ? d.first() : d.last()).length > 0 && (C.debug("Scrolling page", e, n),
                            i.removeClass(k.selected),
                            n.addClass(k.selected),
                            _.selectOnKeydown && C.is.single() && C.set.selectedItem(n),
                            o.scrollTop(u))
                        },
                        set: {
                            filtered: function() {
                                var e = C.is.multiple()
                                  , t = C.is.searchSelection()
                                  , n = e && t
                                  , r = t ? C.get.query() : ""
                                  , i = "string" == typeof r && r.length > 0
                                  , o = C.get.searchWidth()
                                  , a = "" !== r;
                                e && i && (C.verbose("Adjusting input width", o, _.glyphWidth),
                                B.css("width", o)),
                                i || n && a ? (C.verbose("Hiding placeholder text"),
                                N.addClass(k.filtered)) : (!e || n && !a) && (C.verbose("Showing placeholder text"),
                                N.removeClass(k.filtered))
                            },
                            empty: function() {
                                L.addClass(k.empty)
                            },
                            loading: function() {
                                L.addClass(k.loading)
                            },
                            placeholderText: function(e) {
                                e = e || C.get.placeholderText(),
                                C.debug("Setting placeholder text", e),
                                C.set.text(e),
                                N.addClass(k.placeholder)
                            },
                            tabbable: function() {
                                C.has.search() ? (C.debug("Added tabindex to searchable dropdown"),
                                B.val("").attr("tabindex", 0),
                                H.attr("tabindex", -1)) : (C.debug("Added tabindex to dropdown"),
                                L.attr("tabindex") === r && (L.attr("tabindex", 0),
                                H.attr("tabindex", -1)))
                            },
                            initialLoad: function() {
                                C.verbose("Setting initial load"),
                                m = !0
                            },
                            activeItem: function(e) {
                                _.allowAdditions && e.filter(j.addition).length > 0 ? e.addClass(k.filtered) : e.addClass(k.active)
                            },
                            partialSearch: function(e) {
                                var t = C.get.query().length;
                                B.val(e.substr(0, t))
                            },
                            scrollPosition: function(e, t) {
                                var n, i, o, a, s, c;
                                n = (e = e || C.get.selectedItem()).closest(j.menu),
                                i = e && e.length > 0,
                                t = t !== r && t,
                                e && n.length > 0 && i && (e.position().top,
                                n.addClass(k.loading),
                                o = (a = n.scrollTop()) - n.offset().top + e.offset().top,
                                t || (c = a + n.height() < o + 5,
                                s = o - 5 < a),
                                C.debug("Scrolling to active item", o),
                                (t || s || c) && n.scrollTop(o),
                                n.removeClass(k.loading))
                            },
                            text: function(e) {
                                "select" !== _.action && ("combo" == _.action ? (C.debug("Changing combo button text", e, z),
                                _.preserveHTML ? z.html(e) : z.text(e)) : (e !== C.get.placeholderText() && N.removeClass(k.placeholder),
                                C.debug("Changing text", e, N),
                                N.removeClass(k.filtered),
                                _.preserveHTML ? N.html(e) : N.text(e)))
                            },
                            selectedItem: function(e) {
                                var t = C.get.choiceValue(e)
                                  , n = C.get.choiceText(e, !1);
                                C.debug("Setting user selection to item", e),
                                C.remove.activeItem(),
                                C.set.partialSearch(n),
                                C.set.activeItem(e),
                                C.set.selected(t, e),
                                C.set.text(n)
                            },
                            selectedLetter: function(t) {
                                var n, r = W.filter("." + k.selected), i = !1;
                                r.length > 0 && C.has.firstLetter(r, t) && (n = r.nextAll(W).eq(0),
                                C.has.firstLetter(n, t) && (i = n)),
                                i || W.each(function() {
                                    if (C.has.firstLetter(e(this), t))
                                        return i = e(this),
                                        !1
                                }),
                                i && (C.verbose("Scrolling to next value with letter", t),
                                C.set.scrollPosition(i),
                                r.removeClass(k.selected),
                                i.addClass(k.selected),
                                _.selectOnKeydown && C.is.single() && C.set.selectedItem(i))
                            },
                            direction: function(e) {
                                "auto" == _.direction ? C.is.onScreen(e) ? C.remove.upward(e) : C.set.upward(e) : "upward" == _.direction && C.set.upward(e)
                            },
                            upward: function(e) {
                                (e || L).addClass(k.upward)
                            },
                            value: function(e, t, n) {
                                var i = C.escape.value(e)
                                  , o = q.length > 0
                                  , a = (C.has.value(e),
                                C.get.values())
                                  , s = e !== r ? String(e) : e;
                                if (o) {
                                    if (!_.allowReselection && s == a && (C.verbose("Skipping value update already same value", e, a),
                                    !C.is.initialLoad()))
                                        return;
                                    C.is.single() && C.has.selectInput() && C.can.extendSelect() && (C.debug("Adding user option", e),
                                    C.add.optionValue(e)),
                                    C.debug("Updating input value", i, a),
                                    Y = !0,
                                    q.val(i),
                                    !1 === _.fireOnInit && C.is.initialLoad() ? C.debug("Input native change event ignored on initial load") : C.trigger.change(),
                                    Y = !1
                                } else
                                    C.verbose("Storing value in metadata", i, q),
                                    i !== a && L.data(A.value, s);
                                !1 === _.fireOnInit && C.is.initialLoad() ? C.verbose("No callback on initial load", _.onChange) : _.onChange.call(K, e, t, n)
                            },
                            active: function() {
                                L.addClass(k.active)
                            },
                            multiple: function() {
                                L.addClass(k.multiple)
                            },
                            visible: function() {
                                L.addClass(k.visible)
                            },
                            exactly: function(e, t) {
                                C.debug("Setting selected to exact values"),
                                C.clear(),
                                C.set.selected(e, t)
                            },
                            selected: function(t, n) {
                                var r = C.is.multiple();
                                (n = _.allowAdditions ? n || C.get.itemWithAdditions(t) : n || C.get.item(t)) && (C.debug("Setting selected menu item to", n),
                                C.is.multiple() && C.remove.searchWidth(),
                                C.is.single() ? (C.remove.activeItem(),
                                C.remove.selectedItem()) : _.useLabels && C.remove.selectedItem(),
                                n.each(function() {
                                    var t = e(this)
                                      , i = C.get.choiceText(t)
                                      , o = C.get.choiceValue(t, i)
                                      , a = t.hasClass(k.filtered)
                                      , s = t.hasClass(k.active)
                                      , c = t.hasClass(k.addition)
                                      , l = r && 1 == n.length;
                                    r ? !s || c ? (_.apiSettings && _.saveRemoteData && C.save.remoteData(i, o),
                                    _.useLabels ? (C.add.value(o, i, t),
                                    C.add.label(o, i, l),
                                    C.set.activeItem(t),
                                    C.filterActive(),
                                    C.select.nextAvailable(n)) : (C.add.value(o, i, t),
                                    C.set.text(C.add.variables(E.count)),
                                    C.set.activeItem(t))) : a || (C.debug("Selected active value, removing label"),
                                    C.remove.selected(o)) : (_.apiSettings && _.saveRemoteData && C.save.remoteData(i, o),
                                    C.set.text(i),
                                    C.set.value(o, i, t),
                                    t.addClass(k.active).addClass(k.selected))
                                }))
                            }
                        },
                        add: {
                            label: function(t, n, r) {
                                var i, o = C.is.searchSelection() ? B : N, a = C.escape.value(t);
                                return i = e("<a />").addClass(k.label).attr("data-value", a).html(R.label(a, n)),
                                i = _.onLabelCreate.call(i, a, n),
                                C.has.label(t) ? void C.debug("Label already exists, skipping", a) : (_.label.variation && i.addClass(_.label.variation),
                                void (!0 === r ? (C.debug("Animating in label", i),
                                i.addClass(k.hidden).insertBefore(o).transition(_.label.transition, _.label.duration)) : (C.debug("Adding selection label", i),
                                i.insertBefore(o))))
                            },
                            message: function(t) {
                                var n = H.children(j.message)
                                  , r = _.templates.message(C.add.variables(t));
                                n.length > 0 ? n.html(r) : n = e("<div/>").html(r).addClass(k.message).appendTo(H)
                            },
                            optionValue: function(t) {
                                var n = C.escape.value(t);
                                q.find('option[value="' + n + '"]').length > 0 || (C.disconnect.selectObserver(),
                                C.is.single() && (C.verbose("Removing previous user addition"),
                                q.find("option." + k.addition).remove()),
                                e("<option/>").prop("value", n).addClass(k.addition).html(t).appendTo(q),
                                C.verbose("Adding user addition as an <option>", t),
                                C.observe.select())
                            },
                            userSuggestion: function(e) {
                                var t, n = H.children(j.addition), r = C.get.item(e), i = r && r.not(j.addition).length, o = n.length > 0;
                                if (!_.useLabels || !C.has.maxSelections()) {
                                    if ("" === e || i)
                                        return void n.remove();
                                    o ? (n.data(A.value, e).data(A.text, e).attr("data-" + A.value, e).attr("data-" + A.text, e).removeClass(k.filtered),
                                    _.hideAdditions || (t = _.templates.addition(C.add.variables(E.addResult, e)),
                                    n.html(t)),
                                    C.verbose("Replacing user suggestion with new value", n)) : ((n = C.create.userChoice(e)).prependTo(H),
                                    C.verbose("Adding item choice to menu corresponding with user choice addition", n)),
                                    _.hideAdditions && !C.is.allFiltered() || n.addClass(k.selected).siblings().removeClass(k.selected),
                                    C.refreshItems()
                                }
                            },
                            variables: function(e, t) {
                                var n, r, i = -1 !== e.search("{count}"), o = -1 !== e.search("{maxCount}"), a = -1 !== e.search("{term}");
                                return C.verbose("Adding templated variables to message", e),
                                i && (n = C.get.selectionCount(),
                                e = e.replace("{count}", n)),
                                o && (n = C.get.selectionCount(),
                                e = e.replace("{maxCount}", _.maxSelections)),
                                a && (r = t || C.get.query(),
                                e = e.replace("{term}", r)),
                                e
                            },
                            value: function(t, n, r) {
                                var i, o = C.get.values();
                                return "" === t ? void C.debug("Cannot select blank values from multiselect") : (e.isArray(o) ? (i = o.concat([t]),
                                i = C.get.uniqueArray(i)) : i = [t],
                                C.has.selectInput() ? C.can.extendSelect() && (C.debug("Adding value to select", t, i, q),
                                C.add.optionValue(t)) : (i = i.join(_.delimiter),
                                C.debug("Setting hidden input to delimited value", i, q)),
                                !1 === _.fireOnInit && C.is.initialLoad() ? C.verbose("Skipping onadd callback on initial load", _.onAdd) : _.onAdd.call(K, t, n, r),
                                C.set.value(i, t, n, r),
                                void C.check.maxSelections())
                            }
                        },
                        remove: {
                            active: function() {
                                L.removeClass(k.active)
                            },
                            activeLabel: function() {
                                L.find(j.label).removeClass(k.active)
                            },
                            empty: function() {
                                L.removeClass(k.empty)
                            },
                            loading: function() {
                                L.removeClass(k.loading)
                            },
                            initialLoad: function() {
                                m = !1
                            },
                            upward: function(e) {
                                (e || L).removeClass(k.upward)
                            },
                            visible: function() {
                                L.removeClass(k.visible)
                            },
                            activeItem: function() {
                                W.removeClass(k.active)
                            },
                            filteredItem: function() {
                                _.useLabels && C.has.maxSelections() || (_.useLabels && C.is.multiple() ? W.not("." + k.active).removeClass(k.filtered) : W.removeClass(k.filtered),
                                C.remove.empty())
                            },
                            optionValue: function(e) {
                                var t = C.escape.value(e)
                                  , n = q.find('option[value="' + t + '"]');
                                n.length > 0 && n.hasClass(k.addition) && (x && (x.disconnect(),
                                C.verbose("Temporarily disconnecting mutation observer")),
                                n.remove(),
                                C.verbose("Removing user addition as an <option>", t),
                                x && x.observe(q[0], {
                                    childList: !0,
                                    subtree: !0
                                }))
                            },
                            message: function() {
                                H.children(j.message).remove()
                            },
                            searchWidth: function() {
                                B.css("width", "")
                            },
                            searchTerm: function() {
                                C.verbose("Cleared search term"),
                                B.val(""),
                                C.set.filtered()
                            },
                            userAddition: function() {
                                W.filter(j.addition).remove()
                            },
                            selected: function(t, n) {
                                return !!(n = _.allowAdditions ? n || C.get.itemWithAdditions(t) : n || C.get.item(t)) && void n.each(function() {
                                    var t = e(this)
                                      , n = C.get.choiceText(t)
                                      , r = C.get.choiceValue(t, n);
                                    C.is.multiple() ? _.useLabels ? (C.remove.value(r, n, t),
                                    C.remove.label(r)) : (C.remove.value(r, n, t),
                                    0 === C.get.selectionCount() ? C.set.placeholderText() : C.set.text(C.add.variables(E.count))) : C.remove.value(r, n, t),
                                    t.removeClass(k.filtered).removeClass(k.active),
                                    _.useLabels && t.removeClass(k.selected)
                                })
                            },
                            selectedItem: function() {
                                W.removeClass(k.selected)
                            },
                            value: function(e, t, n) {
                                var r, i = C.get.values();
                                C.has.selectInput() ? (C.verbose("Input is <select> removing selected option", e),
                                r = C.remove.arrayValue(e, i),
                                C.remove.optionValue(e)) : (C.verbose("Removing from delimited values", e),
                                r = (r = C.remove.arrayValue(e, i)).join(_.delimiter)),
                                !1 === _.fireOnInit && C.is.initialLoad() ? C.verbose("No callback on initial load", _.onRemove) : _.onRemove.call(K, e, t, n),
                                C.set.value(r, t, n),
                                C.check.maxSelections()
                            },
                            arrayValue: function(t, n) {
                                return e.isArray(n) || (n = [n]),
                                n = e.grep(n, function(e) {
                                    return t != e
                                }),
                                C.verbose("Removed value from delimited string", t, n),
                                n
                            },
                            label: function(e, t) {
                                var n = L.find(j.label).filter('[data-value="' + e + '"]');
                                C.verbose("Removing label", n),
                                n.remove()
                            },
                            activeLabels: function(e) {
                                e = e || L.find(j.label).filter("." + k.active),
                                C.verbose("Removing active label selections", e),
                                C.remove.labels(e)
                            },
                            labels: function(t) {
                                t = t || L.find(j.label),
                                C.verbose("Removing labels", t),
                                t.each(function() {
                                    var t = e(this)
                                      , n = t.data(A.value)
                                      , i = n !== r ? String(n) : n
                                      , o = C.is.userValue(i);
                                    return !1 === _.onLabelRemove.call(t, n) ? void C.debug("Label remove callback cancelled removal") : (C.remove.message(),
                                    void (o ? (C.remove.value(i),
                                    C.remove.label(i)) : C.remove.selected(i)))
                                })
                            },
                            tabbable: function() {
                                C.has.search() ? (C.debug("Searchable dropdown initialized"),
                                B.removeAttr("tabindex"),
                                H.removeAttr("tabindex")) : (C.debug("Simple selection dropdown initialized"),
                                L.removeAttr("tabindex"),
                                H.removeAttr("tabindex"))
                            }
                        },
                        has: {
                            menuSearch: function() {
                                return C.has.search() && B.closest(H).length > 0
                            },
                            search: function() {
                                return B.length > 0
                            },
                            sizer: function() {
                                return U.length > 0
                            },
                            selectInput: function() {
                                return q.is("select")
                            },
                            minCharacters: function(e) {
                                return !_.minCharacters || (e = e !== r ? String(e) : String(C.get.query())).length >= _.minCharacters
                            },
                            firstLetter: function(e, t) {
                                var n;
                                return !(!e || 0 === e.length || "string" != typeof t) && (n = C.get.choiceText(e, !1),
                                (t = t.toLowerCase()) == String(n).charAt(0).toLowerCase())
                            },
                            input: function() {
                                return q.length > 0
                            },
                            items: function() {
                                return W.length > 0
                            },
                            menu: function() {
                                return H.length > 0
                            },
                            message: function() {
                                return 0 !== H.children(j.message).length
                            },
                            label: function(e) {
                                var t = C.escape.value(e);
                                return L.find(j.label).filter('[data-value="' + t + '"]').length > 0
                            },
                            maxSelections: function() {
                                return _.maxSelections && C.get.selectionCount() >= _.maxSelections
                            },
                            allResultsFiltered: function() {
                                var e = W.not(j.addition);
                                return e.filter(j.unselectable).length === e.length
                            },
                            userSuggestion: function() {
                                return H.children(j.addition).length > 0
                            },
                            query: function() {
                                return "" !== C.get.query()
                            },
                            value: function(t) {
                                var n = C.get.values();
                                return !!(e.isArray(n) ? n && -1 !== e.inArray(t, n) : n == t)
                            }
                        },
                        is: {
                            active: function() {
                                return L.hasClass(k.active)
                            },
                            bubbledLabelClick: function(t) {
                                return e(t.target).is("select, input") && L.closest("label").length > 0
                            },
                            bubbledIconClick: function(t) {
                                return e(t.target).closest(V).length > 0
                            },
                            alreadySetup: function() {
                                return L.is("select") && L.parent(j.dropdown).length > 0 && 0 === L.prev().length
                            },
                            animating: function(e) {
                                return e ? e.transition && e.transition("is animating") : H.transition && H.transition("is animating")
                            },
                            disabled: function() {
                                return L.hasClass(k.disabled)
                            },
                            focused: function() {
                                return n.activeElement === L[0]
                            },
                            focusedOnSearch: function() {
                                return n.activeElement === B[0]
                            },
                            allFiltered: function() {
                                return (C.is.multiple() || C.has.search()) && !(0 == _.hideAdditions && C.has.userSuggestion()) && !C.has.message() && C.has.allResultsFiltered()
                            },
                            hidden: function(e) {
                                return !C.is.visible(e)
                            },
                            initialLoad: function() {
                                return m
                            },
                            onScreen: function(e) {
                                var t, n, r = e || H, i = !0;
                                return r.addClass(k.loading),
                                (n = {
                                    above: (t = {
                                        context: {
                                            scrollTop: F.scrollTop(),
                                            height: F.outerHeight()
                                        },
                                        menu: {
                                            offset: r.offset(),
                                            height: r.outerHeight()
                                        }
                                    }).context.scrollTop <= t.menu.offset.top - t.menu.height,
                                    below: t.context.scrollTop + t.context.height >= t.menu.offset.top + t.menu.height
                                }).below ? (C.verbose("Dropdown can fit in context downward", n),
                                i = !0) : n.below || n.above ? (C.verbose("Dropdown cannot fit below, opening upward", n),
                                i = !1) : (C.verbose("Dropdown cannot fit in either direction, favoring downward", n),
                                i = !0),
                                r.removeClass(k.loading),
                                i
                            },
                            inObject: function(t, n) {
                                var r = !1;
                                return e.each(n, function(e, n) {
                                    if (n == t)
                                        return r = !0,
                                        !0
                                }),
                                r
                            },
                            multiple: function() {
                                return L.hasClass(k.multiple)
                            },
                            single: function() {
                                return !C.is.multiple()
                            },
                            selectMutation: function(t) {
                                var n = !1;
                                return e.each(t, function(t, r) {
                                    if (r.target && e(r.target).is("select"))
                                        return n = !0,
                                        !0
                                }),
                                n
                            },
                            search: function() {
                                return L.hasClass(k.search)
                            },
                            searchSelection: function() {
                                return C.has.search() && 1 === B.parent(j.dropdown).length
                            },
                            selection: function() {
                                return L.hasClass(k.selection)
                            },
                            userValue: function(t) {
                                return -1 !== e.inArray(t, C.get.userValues())
                            },
                            upward: function(e) {
                                return (e || L).hasClass(k.upward)
                            },
                            visible: function(e) {
                                return e ? e.hasClass(k.visible) : H.hasClass(k.visible)
                            }
                        },
                        can: {
                            activate: function(e) {
                                return !!_.useLabels || !C.has.maxSelections() || !(!C.has.maxSelections() || !e.hasClass(k.active))
                            },
                            click: function() {
                                return l || "click" == _.on
                            },
                            extendSelect: function() {
                                return _.allowAdditions || _.apiSettings
                            },
                            show: function() {
                                return !C.is.disabled() && (C.has.items() || C.has.message())
                            },
                            useAPI: function() {
                                return e.fn.api !== r
                            }
                        },
                        animate: {
                            show: function(t, n) {
                                var i, o = n || H, a = n ? function() {}
                                : function() {
                                    C.hideSubMenus(),
                                    C.hideOthers(),
                                    C.set.active()
                                }
                                ;
                                t = e.isFunction(t) ? t : function() {}
                                ,
                                C.verbose("Doing menu show animation", o),
                                C.set.direction(n),
                                i = C.get.transition(n),
                                C.is.selection() && C.set.scrollPosition(C.get.selectedItem(), !0),
                                (C.is.hidden(o) || C.is.animating(o)) && ("none" == i ? (a(),
                                o.transition("show"),
                                t.call(K)) : e.fn.transition !== r && L.transition("is supported") ? o.transition({
                                    animation: i + " in",
                                    debug: _.debug,
                                    verbose: _.verbose,
                                    duration: _.duration,
                                    queue: !0,
                                    onStart: a,
                                    onComplete: function() {
                                        t.call(K)
                                    }
                                }) : C.error(D.noTransition, i))
                            },
                            hide: function(t, n) {
                                var i = n || H
                                  , o = (_.duration,
                                n ? function() {}
                                : function() {
                                    C.can.click() && C.unbind.intent(),
                                    C.remove.active()
                                }
                                )
                                  , a = C.get.transition(n);
                                t = e.isFunction(t) ? t : function() {}
                                ,
                                (C.is.visible(i) || C.is.animating(i)) && (C.verbose("Doing menu hide animation", i),
                                "none" == a ? (o(),
                                i.transition("hide"),
                                t.call(K)) : e.fn.transition !== r && L.transition("is supported") ? i.transition({
                                    animation: a + " out",
                                    duration: _.duration,
                                    debug: _.debug,
                                    verbose: _.verbose,
                                    queue: !0,
                                    onStart: o,
                                    onComplete: function() {
                                        "auto" == _.direction && C.remove.upward(n),
                                        t.call(K)
                                    }
                                }) : C.error(D.transition))
                            }
                        },
                        hideAndClear: function() {
                            C.remove.searchTerm(),
                            C.has.maxSelections() || (C.has.search() ? C.hide(function() {
                                C.remove.filteredItem()
                            }) : C.hide())
                        },
                        delay: {
                            show: function() {
                                C.verbose("Delaying show event to ensure user intent"),
                                clearTimeout(C.timer),
                                C.timer = setTimeout(C.show, _.delay.show)
                            },
                            hide: function() {
                                C.verbose("Delaying hide event to ensure user intent"),
                                clearTimeout(C.timer),
                                C.timer = setTimeout(C.hide, _.delay.hide)
                            }
                        },
                        escape: {
                            value: function(t) {
                                var n = e.isArray(t)
                                  , r = "string" == typeof t
                                  , i = !r && !n
                                  , o = r && -1 !== t.search($.quote)
                                  , a = [];
                                return C.has.selectInput() && !i && o ? (C.debug("Encoding quote values for use in select", t),
                                n ? (e.each(t, function(e, t) {
                                    a.push(t.replace($.quote, "&quot;"))
                                }),
                                a) : t.replace($.quote, "&quot;")) : t
                            },
                            regExp: function(e) {
                                return (e = String(e)).replace($.escape, "\\$&")
                            }
                        },
                        setting: function(t, n) {
                            if (C.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, _, t);
                            else {
                                if (n === r)
                                    return _[t];
                                e.isPlainObject(_[t]) ? e.extend(!0, _[t], n) : _[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, C, t);
                            else {
                                if (n === r)
                                    return C[t];
                                C[t] = n
                            }
                        },
                        debug: function() {
                            !_.silent && _.debug && (_.performance ? C.performance.log(arguments) : (C.debug = Function.prototype.bind.call(console.info, console, _.name + ":"),
                            C.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !_.silent && _.verbose && _.debug && (_.performance ? C.performance.log(arguments) : (C.verbose = Function.prototype.bind.call(console.info, console, _.name + ":"),
                            C.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            _.silent || (C.error = Function.prototype.bind.call(console.error, console, _.name + ":"),
                            C.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                _.performance && (n = (t = (new Date).getTime()) - (u || t),
                                u = t,
                                d.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: K,
                                    "Execution Time": n
                                })),
                                clearTimeout(C.performance.timer),
                                C.performance.timer = setTimeout(C.performance.display, 500)
                            },
                            display: function() {
                                var t = _.name + ":"
                                  , n = 0;
                                u = !1,
                                clearTimeout(C.performance.timer),
                                e.each(d, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                c && (t += " '" + c + "'"),
                                (console.group !== r || console.table !== r) && d.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(d) : e.each(d, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                d = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = Q;
                            return n = n || p,
                            i = K || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (C.error(D.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    h ? (Q === r && C.initialize(),
                    C.invoke(f)) : (Q !== r && Q.invoke("destroy"),
                    C.initialize())
                }),
                o !== r ? o : a
            }
            ,
            e.fn.dropdown.settings = {
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                on: "click",
                action: "activate",
                apiSettings: !1,
                selectOnKeydown: !0,
                minCharacters: 0,
                saveRemoteData: !0,
                throttle: 200,
                context: t,
                direction: "auto",
                keepOnScreen: !0,
                match: "both",
                fullTextSearch: !1,
                placeholder: "auto",
                preserveHTML: !0,
                sortSelect: !1,
                forceSelection: !0,
                allowAdditions: !1,
                hideAdditions: !0,
                maxSelections: !1,
                useLabels: !0,
                delimiter: ",",
                showOnFocus: !0,
                allowReselection: !1,
                allowTab: !0,
                allowCategorySelection: !1,
                fireOnInit: !1,
                transition: "auto",
                duration: 200,
                glyphWidth: 1.037,
                label: {
                    transition: "scale",
                    duration: 200,
                    variation: !1
                },
                delay: {
                    hide: 300,
                    show: 200,
                    search: 20,
                    touch: 50
                },
                onChange: function(e, t, n) {},
                onAdd: function(e, t, n) {},
                onRemove: function(e, t, n) {},
                onLabelSelect: function(e) {},
                onLabelCreate: function(t, n) {
                    return e(this)
                },
                onLabelRemove: function(e) {
                    return !0
                },
                onNoResults: function(e) {
                    return !0
                },
                onShow: function() {},
                onHide: function() {},
                name: "Dropdown",
                namespace: "dropdown",
                message: {
                    addResult: "Add <b>{term}</b>",
                    count: "{count} selected",
                    maxSelections: "Max {maxCount} selections",
                    noResults: "No results found.",
                    serverError: "There was an error contacting the server"
                },
                error: {
                    action: "You called a dropdown action that was not defined",
                    alreadySetup: "Once a select has been initialized behaviors must be called on the created ui dropdown",
                    labels: "Allowing user additions currently requires the use of labels.",
                    missingMultiple: "<select> requires multiple property to be set to correctly preserve multiple values",
                    method: "The method you called is not defined.",
                    noAPI: "The API module is required to load resources remotely",
                    noStorage: "Saving remote data requires session storage",
                    noTransition: "This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"
                },
                regExp: {
                    escape: /[-[\]{}()*+?.,\\^$|#\s]/g,
                    quote: /"/g
                },
                metadata: {
                    defaultText: "defaultText",
                    defaultValue: "defaultValue",
                    placeholderText: "placeholder",
                    text: "text",
                    value: "value"
                },
                fields: {
                    remoteValues: "results",
                    values: "values",
                    disabled: "disabled",
                    name: "name",
                    value: "value",
                    text: "text"
                },
                keys: {
                    backspace: 8,
                    delimiter: 188,
                    deleteKey: 46,
                    enter: 13,
                    escape: 27,
                    pageUp: 33,
                    pageDown: 34,
                    leftArrow: 37,
                    upArrow: 38,
                    rightArrow: 39,
                    downArrow: 40
                },
                selector: {
                    addition: ".addition",
                    dropdown: ".ui.dropdown",
                    hidden: ".hidden",
                    icon: "> .dropdown.icon",
                    input: '> input[type="hidden"], > select',
                    item: ".item",
                    label: "> .label",
                    remove: "> .label > .delete.icon",
                    siblingLabel: ".label",
                    menu: ".menu",
                    message: ".message",
                    menuIcon: ".dropdown.icon",
                    search: "input.search, .menu > .search > input, .menu input.search",
                    sizer: "> input.sizer",
                    text: "> .text:not(.icon)",
                    unselectable: ".disabled, .filtered"
                },
                className: {
                    active: "active",
                    addition: "addition",
                    animating: "animating",
                    disabled: "disabled",
                    empty: "empty",
                    dropdown: "ui dropdown",
                    filtered: "filtered",
                    hidden: "hidden transition",
                    item: "item",
                    label: "ui label",
                    loading: "loading",
                    menu: "menu",
                    message: "message",
                    multiple: "multiple",
                    placeholder: "default",
                    sizer: "sizer",
                    search: "search",
                    selected: "selected",
                    selection: "selection",
                    upward: "upward",
                    visible: "visible"
                }
            },
            e.fn.dropdown.settings.templates = {
                dropdown: function(t) {
                    var n = t.placeholder || !1
                      , r = (t.values,
                    "");
                    return r += '<i class="dropdown icon"></i>',
                    r += t.placeholder ? '<div class="default text">' + n + "</div>" : '<div class="text"></div>',
                    r += '<div class="menu">',
                    e.each(t.values, function(e, t) {
                        r += t.disabled ? '<div class="disabled item" data-value="' + t.value + '">' + t.name + "</div>" : '<div class="item" data-value="' + t.value + '">' + t.name + "</div>"
                    }),
                    r += "</div>"
                },
                menu: function(t, n) {
                    var r = t[n.values] || {}
                      , i = "";
                    return e.each(r, function(e, t) {
                        var r = t[n.text] ? 'data-text="' + t[n.text] + '"' : ""
                          , o = t[n.disabled] ? "disabled " : "";
                        i += '<div class="' + o + 'item" data-value="' + t[n.value] + '"' + r + ">",
                        i += t[n.name],
                        i += "</div>"
                    }),
                    i
                },
                label: function(e, t) {
                    return t + '<i class="delete icon"></i>'
                },
                message: function(e) {
                    return e
                },
                addition: function(e) {
                    return e
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.embed = function(n) {
                var i, o = e(this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1);
                return o.each(function() {
                    var f, h = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.embed.settings, n) : e.extend({}, e.fn.embed.settings), p = h.selector, g = h.className, m = h.sources, v = h.error, y = h.metadata, b = h.namespace, w = h.templates, x = "." + b, S = "module-" + b, C = (e(t),
                    e(this)), _ = (C.find(p.placeholder),
                    C.find(p.icon),
                    C.find(p.embed)), k = this, E = C.data(S);
                    f = {
                        initialize: function() {
                            f.debug("Initializing embed"),
                            f.determine.autoplay(),
                            f.create(),
                            f.bind.events(),
                            f.instantiate()
                        },
                        instantiate: function() {
                            f.verbose("Storing instance of module", f),
                            E = f,
                            C.data(S, f)
                        },
                        destroy: function() {
                            f.verbose("Destroying previous instance of embed"),
                            f.reset(),
                            C.removeData(S).off(x)
                        },
                        refresh: function() {
                            f.verbose("Refreshing selector cache"),
                            C.find(p.placeholder),
                            C.find(p.icon),
                            _ = C.find(p.embed)
                        },
                        bind: {
                            events: function() {
                                f.has.placeholder() && (f.debug("Adding placeholder events"),
                                C.on("click" + x, p.placeholder, f.createAndShow).on("click" + x, p.icon, f.createAndShow))
                            }
                        },
                        create: function() {
                            f.get.placeholder() ? f.createPlaceholder() : f.createAndShow()
                        },
                        createPlaceholder: function(e) {
                            var t = f.get.icon()
                              , n = f.get.url();
                            f.generate.embed(n),
                            e = e || f.get.placeholder(),
                            C.html(w.placeholder(e, t)),
                            f.debug("Creating placeholder for embed", e, t)
                        },
                        createEmbed: function(t) {
                            f.refresh(),
                            t = t || f.get.url(),
                            _ = e("<div/>").addClass(g.embed).html(f.generate.embed(t)).appendTo(C),
                            h.onCreate.call(k, t),
                            f.debug("Creating embed object", _)
                        },
                        changeEmbed: function(e) {
                            _.html(f.generate.embed(e))
                        },
                        createAndShow: function() {
                            f.createEmbed(),
                            f.show()
                        },
                        change: function(e, t, n) {
                            f.debug("Changing video to ", e, t, n),
                            C.data(y.source, e).data(y.id, t),
                            n ? C.data(y.url, n) : C.removeData(y.url),
                            f.has.embed() ? f.changeEmbed() : f.create()
                        },
                        reset: function() {
                            f.debug("Clearing embed and showing placeholder"),
                            f.remove.active(),
                            f.remove.embed(),
                            f.showPlaceholder(),
                            h.onReset.call(k)
                        },
                        show: function() {
                            f.debug("Showing embed"),
                            f.set.active(),
                            h.onDisplay.call(k)
                        },
                        hide: function() {
                            f.debug("Hiding embed"),
                            f.showPlaceholder()
                        },
                        showPlaceholder: function() {
                            f.debug("Showing placeholder image"),
                            f.remove.active(),
                            h.onPlaceholderDisplay.call(k)
                        },
                        get: {
                            id: function() {
                                return h.id || C.data(y.id)
                            },
                            placeholder: function() {
                                return h.placeholder || C.data(y.placeholder)
                            },
                            icon: function() {
                                return h.icon ? h.icon : C.data(y.icon) !== r ? C.data(y.icon) : f.determine.icon()
                            },
                            source: function(e) {
                                return h.source ? h.source : C.data(y.source) !== r ? C.data(y.source) : f.determine.source()
                            },
                            type: function() {
                                var e = f.get.source();
                                return m[e] !== r && m[e].type
                            },
                            url: function() {
                                return h.url ? h.url : C.data(y.url) !== r ? C.data(y.url) : f.determine.url()
                            }
                        },
                        determine: {
                            autoplay: function() {
                                f.should.autoplay() && (h.autoplay = !0)
                            },
                            source: function(t) {
                                var n = !1;
                                return (t = t || f.get.url()) && e.each(m, function(e, r) {
                                    if (-1 !== t.search(r.domain))
                                        return n = e,
                                        !1
                                }),
                                n
                            },
                            icon: function() {
                                var e = f.get.source();
                                return m[e] !== r && m[e].icon
                            },
                            url: function() {
                                var e, t = h.id || C.data(y.id), n = h.source || C.data(y.source);
                                return (e = m[n] !== r && m[n].url.replace("{id}", t)) && C.data(y.url, e),
                                e
                            }
                        },
                        set: {
                            active: function() {
                                C.addClass(g.active)
                            }
                        },
                        remove: {
                            active: function() {
                                C.removeClass(g.active)
                            },
                            embed: function() {
                                _.empty()
                            }
                        },
                        encode: {
                            parameters: function(e) {
                                var t, n = [];
                                for (t in e)
                                    n.push(encodeURIComponent(t) + "=" + encodeURIComponent(e[t]));
                                return n.join("&amp;")
                            }
                        },
                        generate: {
                            embed: function(e) {
                                f.debug("Generating embed html");
                                var t, n, r = f.get.source();
                                return (e = f.get.url(e)) ? (n = f.generate.parameters(r),
                                t = w.iframe(e, n)) : f.error(v.noURL, C),
                                t
                            },
                            parameters: function(t, n) {
                                var i = m[t] && m[t].parameters !== r ? m[t].parameters(h) : {};
                                return (n = n || h.parameters) && (i = e.extend({}, i, n)),
                                i = h.onEmbed(i),
                                f.encode.parameters(i)
                            }
                        },
                        has: {
                            embed: function() {
                                return _.length > 0
                            },
                            placeholder: function() {
                                return h.placeholder || C.data(y.placeholder)
                            }
                        },
                        should: {
                            autoplay: function() {
                                return "auto" === h.autoplay ? h.placeholder || C.data(y.placeholder) !== r : h.autoplay
                            }
                        },
                        is: {
                            video: function() {
                                return "video" == f.get.type()
                            }
                        },
                        setting: function(t, n) {
                            if (f.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                e.isPlainObject(h[t]) ? e.extend(!0, h[t], n) : h[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, f, t);
                            else {
                                if (n === r)
                                    return f[t];
                                f[t] = n
                            }
                        },
                        debug: function() {
                            !h.silent && h.debug && (h.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !h.silent && h.verbose && h.debug && (h.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            h.silent || (f.error = Function.prototype.bind.call(console.error, console, h.name + ":"),
                            f.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                h.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: k,
                                    "Execution Time": n
                                })),
                                clearTimeout(f.performance.timer),
                                f.performance.timer = setTimeout(f.performance.display, 500)
                            },
                            display: function() {
                                var t = h.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(f.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                o.length > 1 && (t += " (" + o.length + ")"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = E;
                            return n = n || d,
                            o = k || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (f.error(v.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s
                        }
                    },
                    u ? (E === r && f.initialize(),
                    f.invoke(l)) : (E !== r && E.invoke("destroy"),
                    f.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.embed.settings = {
                name: "Embed",
                namespace: "embed",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                icon: !1,
                source: !1,
                url: !1,
                id: !1,
                autoplay: "auto",
                color: "#444444",
                hd: !0,
                brandedUI: !1,
                parameters: !1,
                onDisplay: function() {},
                onPlaceholderDisplay: function() {},
                onReset: function() {},
                onCreate: function(e) {},
                onEmbed: function(e) {
                    return e
                },
                metadata: {
                    id: "id",
                    icon: "icon",
                    placeholder: "placeholder",
                    source: "source",
                    url: "url"
                },
                error: {
                    noURL: "No URL specified",
                    method: "The method you called is not defined"
                },
                className: {
                    active: "active",
                    embed: "embed"
                },
                selector: {
                    embed: ".embed",
                    placeholder: ".placeholder",
                    icon: ".icon"
                },
                sources: {
                    youtube: {
                        name: "youtube",
                        type: "video",
                        icon: "video play",
                        domain: "youtube.com",
                        url: "//www.youtube.com/embed/{id}",
                        parameters: function(e) {
                            return {
                                autohide: !e.brandedUI,
                                autoplay: e.autoplay,
                                color: e.color || r,
                                hq: e.hd,
                                jsapi: e.api,
                                modestbranding: !e.brandedUI
                            }
                        }
                    },
                    vimeo: {
                        name: "vimeo",
                        type: "video",
                        icon: "video play",
                        domain: "vimeo.com",
                        url: "//player.vimeo.com/video/{id}",
                        parameters: function(e) {
                            return {
                                api: e.api,
                                autoplay: e.autoplay,
                                byline: e.brandedUI,
                                color: e.color || r,
                                portrait: e.brandedUI,
                                title: e.brandedUI
                            }
                        }
                    }
                },
                templates: {
                    iframe: function(e, t) {
                        var n = e;
                        return t && (n += "?" + t),
                        '<iframe src="' + n + '" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'
                    },
                    placeholder: function(e, t) {
                        var n = "";
                        return t && (n += '<i class="' + t + ' icon"></i>'),
                        e && (n += '<img class="placeholder" src="' + e + '">'),
                        n
                    }
                },
                api: !1,
                onPause: function() {},
                onPlay: function() {},
                onStop: function() {}
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.modal = function(i) {
                var o, a = e(this), s = e(t), c = e(n), l = e("body"), u = a.selector || "", d = (new Date).getTime(), f = [], h = arguments[0], p = "string" == typeof h, g = [].slice.call(arguments, 1), m = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
                    setTimeout(e, 0)
                }
                ;
                return a.each(function() {
                    var a, v, y, b, w, x, S, C, _, k = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.modal.settings, i) : e.extend({}, e.fn.modal.settings), E = k.selector, T = k.className, P = k.namespace, A = k.error, O = "." + P, $ = "module-" + P, j = e(this), D = e(k.context), R = j.find(E.close), M = this, I = j.data($);
                    _ = {
                        initialize: function() {
                            _.verbose("Initializing dimmer", D),
                            _.create.id(),
                            _.create.dimmer(),
                            _.refreshModals(),
                            _.bind.events(),
                            k.observeChanges && _.observeChanges(),
                            _.instantiate()
                        },
                        instantiate: function() {
                            _.verbose("Storing instance of modal"),
                            I = _,
                            j.data($, I)
                        },
                        create: {
                            dimmer: function() {
                                var t = {
                                    debug: k.debug,
                                    dimmerName: "modals",
                                    duration: {
                                        show: k.duration,
                                        hide: k.duration
                                    }
                                }
                                  , n = e.extend(!0, t, k.dimmerSettings);
                                return k.inverted && (n.variation = n.variation !== r ? n.variation + " inverted" : "inverted"),
                                e.fn.dimmer === r ? void _.error(A.dimmer) : (_.debug("Creating dimmer with settings", n),
                                b = D.dimmer(n),
                                k.detachable ? (_.verbose("Modal is detachable, moving content into dimmer"),
                                b.dimmer("add content", j)) : _.set.undetached(),
                                k.blurring && b.addClass(T.blurring),
                                void (w = b.dimmer("get dimmer")))
                            },
                            id: function() {
                                S = (Math.random().toString(16) + "000000000").substr(2, 8),
                                x = "." + S,
                                _.verbose("Creating unique id for element", S)
                            }
                        },
                        destroy: function() {
                            _.verbose("Destroying previous modal"),
                            j.removeData($).off(O),
                            s.off(x),
                            w.off(x),
                            R.off(O),
                            D.dimmer("destroy")
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && ((C = new MutationObserver(function(e) {
                                _.debug("DOM tree modified, refreshing"),
                                _.refresh()
                            }
                            )).observe(M, {
                                childList: !0,
                                subtree: !0
                            }),
                            _.debug("Setting up mutation observer", C))
                        },
                        refresh: function() {
                            _.remove.scrolling(),
                            _.cacheSizes(),
                            _.set.screenHeight(),
                            _.set.type(),
                            _.set.position()
                        },
                        refreshModals: function() {
                            v = j.siblings(E.modal),
                            a = v.add(j)
                        },
                        attachEvents: function(t, n) {
                            var r = e(t);
                            n = e.isFunction(_[n]) ? _[n] : _.toggle,
                            r.length > 0 ? (_.debug("Attaching modal events to element", t, n),
                            r.off(O).on("click" + O, n)) : _.error(A.notFound, t)
                        },
                        bind: {
                            events: function() {
                                _.verbose("Attaching events"),
                                j.on("click" + O, E.close, _.event.close).on("click" + O, E.approve, _.event.approve).on("click" + O, E.deny, _.event.deny),
                                s.on("resize" + x, _.event.resize)
                            }
                        },
                        get: {
                            id: function() {
                                return (Math.random().toString(16) + "000000000").substr(2, 8)
                            }
                        },
                        event: {
                            approve: function() {
                                return !1 === k.onApprove.call(M, e(this)) ? void _.verbose("Approve callback returned false cancelling hide") : void _.hide()
                            },
                            deny: function() {
                                return !1 === k.onDeny.call(M, e(this)) ? void _.verbose("Deny callback returned false cancelling hide") : void _.hide()
                            },
                            close: function() {
                                _.hide()
                            },
                            click: function(t) {
                                var r = e(t.target).closest(E.modal).length > 0
                                  , i = e.contains(n.documentElement, t.target);
                                !r && i && (_.debug("Dimmer clicked, hiding all modals"),
                                _.is.active() && (_.remove.clickaway(),
                                k.allowMultiple ? _.hide() : _.hideAll()))
                            },
                            debounce: function(e, t) {
                                clearTimeout(_.timer),
                                _.timer = setTimeout(e, t)
                            },
                            keyboard: function(e) {
                                27 == e.which && (k.closable ? (_.debug("Escape key pressed hiding modal"),
                                _.hide()) : _.debug("Escape key pressed, but closable is set to false"),
                                e.preventDefault())
                            },
                            resize: function() {
                                b.dimmer("is active") && m(_.refresh)
                            }
                        },
                        toggle: function() {
                            _.is.active() || _.is.animating() ? _.hide() : _.show()
                        },
                        show: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            _.refreshModals(),
                            _.showModal(t)
                        },
                        hide: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            _.refreshModals(),
                            _.hideModal(t)
                        },
                        showModal: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            _.is.animating() || !_.is.active() ? (_.showDimmer(),
                            _.cacheSizes(),
                            _.set.position(),
                            _.set.screenHeight(),
                            _.set.type(),
                            _.set.clickaway(),
                            !k.allowMultiple && _.others.active() ? _.hideOthers(_.showModal) : (k.onShow.call(M),
                            k.transition && e.fn.transition !== r && j.transition("is supported") ? (_.debug("Showing modal with css animations"),
                            j.transition({
                                debug: k.debug,
                                animation: k.transition + " in",
                                queue: k.queue,
                                duration: k.duration,
                                useFailSafe: !0,
                                onComplete: function() {
                                    k.onVisible.apply(M),
                                    k.keyboardShortcuts && _.add.keyboardShortcuts(),
                                    _.save.focus(),
                                    _.set.active(),
                                    k.autofocus && _.set.autofocus(),
                                    t()
                                }
                            })) : _.error(A.noTransition))) : _.debug("Modal is already visible")
                        },
                        hideModal: function(t, n) {
                            return t = e.isFunction(t) ? t : function() {}
                            ,
                            _.debug("Hiding modal"),
                            !1 === k.onHide.call(M, e(this)) ? void _.verbose("Hide callback returned false cancelling hide") : void ((_.is.animating() || _.is.active()) && (k.transition && e.fn.transition !== r && j.transition("is supported") ? (_.remove.active(),
                            j.transition({
                                debug: k.debug,
                                animation: k.transition + " out",
                                queue: k.queue,
                                duration: k.duration,
                                useFailSafe: !0,
                                onStart: function() {
                                    _.others.active() || n || _.hideDimmer(),
                                    k.keyboardShortcuts && _.remove.keyboardShortcuts()
                                },
                                onComplete: function() {
                                    k.onHidden.call(M),
                                    _.restore.focus(),
                                    t()
                                }
                            })) : _.error(A.noTransition)))
                        },
                        showDimmer: function() {
                            b.dimmer("is animating") || !b.dimmer("is active") ? (_.debug("Showing dimmer"),
                            b.dimmer("show")) : _.debug("Dimmer already visible")
                        },
                        hideDimmer: function() {
                            return b.dimmer("is animating") || b.dimmer("is active") ? void b.dimmer("hide", function() {
                                _.remove.clickaway(),
                                _.remove.screenHeight()
                            }) : void _.debug("Dimmer is not visible cannot hide")
                        },
                        hideAll: function(t) {
                            var n = a.filter("." + T.active + ", ." + T.animating);
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            n.length > 0 && (_.debug("Hiding all visible modals"),
                            _.hideDimmer(),
                            n.modal("hide modal", t))
                        },
                        hideOthers: function(t) {
                            var n = v.filter("." + T.active + ", ." + T.animating);
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            n.length > 0 && (_.debug("Hiding other modals", v),
                            n.modal("hide modal", t, !0))
                        },
                        others: {
                            active: function() {
                                return v.filter("." + T.active).length > 0
                            },
                            animating: function() {
                                return v.filter("." + T.animating).length > 0
                            }
                        },
                        add: {
                            keyboardShortcuts: function() {
                                _.verbose("Adding keyboard shortcuts"),
                                c.on("keyup" + O, _.event.keyboard)
                            }
                        },
                        save: {
                            focus: function() {
                                y = e(n.activeElement).blur()
                            }
                        },
                        restore: {
                            focus: function() {
                                y && y.length > 0 && y.focus()
                            }
                        },
                        remove: {
                            active: function() {
                                j.removeClass(T.active)
                            },
                            clickaway: function() {
                                k.closable && w.off("click" + x)
                            },
                            bodyStyle: function() {
                                "" === l.attr("style") && (_.verbose("Removing style attribute"),
                                l.removeAttr("style"))
                            },
                            screenHeight: function() {
                                _.debug("Removing page height"),
                                l.css("height", "")
                            },
                            keyboardShortcuts: function() {
                                _.verbose("Removing keyboard shortcuts"),
                                c.off("keyup" + O)
                            },
                            scrolling: function() {
                                b.removeClass(T.scrolling),
                                j.removeClass(T.scrolling)
                            }
                        },
                        cacheSizes: function() {
                            var i = j.outerHeight();
                            _.cache !== r && 0 === i || (_.cache = {
                                pageHeight: e(n).outerHeight(),
                                height: i + k.offset,
                                contextHeight: "body" == k.context ? e(t).height() : b.height()
                            }),
                            _.debug("Caching modal and container sizes", _.cache)
                        },
                        can: {
                            fit: function() {
                                return _.cache.height + 2 * k.padding < _.cache.contextHeight
                            }
                        },
                        is: {
                            active: function() {
                                return j.hasClass(T.active)
                            },
                            animating: function() {
                                return j.transition("is supported") ? j.transition("is animating") : j.is(":visible")
                            },
                            scrolling: function() {
                                return b.hasClass(T.scrolling)
                            },
                            modernBrowser: function() {
                                return !(t.ActiveXObject || "ActiveXObject"in t)
                            }
                        },
                        set: {
                            autofocus: function() {
                                var e = j.find("[tabindex], :input").filter(":visible")
                                  , t = e.filter("[autofocus]")
                                  , n = t.length > 0 ? t.first() : e.first();
                                n.length > 0 && n.focus()
                            },
                            clickaway: function() {
                                k.closable && w.on("click" + x, _.event.click)
                            },
                            screenHeight: function() {
                                _.can.fit() ? l.css("height", "") : (_.debug("Modal is taller than page content, resizing page height"),
                                l.css("height", _.cache.height + 2 * k.padding))
                            },
                            active: function() {
                                j.addClass(T.active)
                            },
                            scrolling: function() {
                                b.addClass(T.scrolling),
                                j.addClass(T.scrolling)
                            },
                            type: function() {
                                _.can.fit() ? (_.verbose("Modal fits on screen"),
                                _.others.active() || _.others.animating() || _.remove.scrolling()) : (_.verbose("Modal cannot fit on screen setting to scrolling"),
                                _.set.scrolling())
                            },
                            position: function() {
                                _.verbose("Centering modal on page", _.cache),
                                _.can.fit() ? j.css({
                                    top: "",
                                    marginTop: -_.cache.height / 2
                                }) : j.css({
                                    marginTop: "",
                                    top: c.scrollTop()
                                })
                            },
                            undetached: function() {
                                b.addClass(T.undetached)
                            }
                        },
                        setting: function(t, n) {
                            if (_.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, k, t);
                            else {
                                if (n === r)
                                    return k[t];
                                e.isPlainObject(k[t]) ? e.extend(!0, k[t], n) : k[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, _, t);
                            else {
                                if (n === r)
                                    return _[t];
                                _[t] = n
                            }
                        },
                        debug: function() {
                            !k.silent && k.debug && (k.performance ? _.performance.log(arguments) : (_.debug = Function.prototype.bind.call(console.info, console, k.name + ":"),
                            _.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !k.silent && k.verbose && k.debug && (k.performance ? _.performance.log(arguments) : (_.verbose = Function.prototype.bind.call(console.info, console, k.name + ":"),
                            _.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            k.silent || (_.error = Function.prototype.bind.call(console.error, console, k.name + ":"),
                            _.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                k.performance && (n = (t = (new Date).getTime()) - (d || t),
                                d = t,
                                f.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: M,
                                    "Execution Time": n
                                })),
                                clearTimeout(_.performance.timer),
                                _.performance.timer = setTimeout(_.performance.display, 500)
                            },
                            display: function() {
                                var t = k.name + ":"
                                  , n = 0;
                                d = !1,
                                clearTimeout(_.performance.timer),
                                e.each(f, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                u && (t += " '" + u + "'"),
                                (console.group !== r || console.table !== r) && f.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(f) : e.each(f, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                f = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = I;
                            return n = n || g,
                            i = M || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    p ? (I === r && _.initialize(),
                    _.invoke(h)) : (I !== r && I.invoke("destroy"),
                    _.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.modal.settings = {
                name: "Modal",
                namespace: "modal",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                observeChanges: !1,
                allowMultiple: !1,
                detachable: !0,
                closable: !0,
                autofocus: !0,
                inverted: !1,
                blurring: !1,
                dimmerSettings: {
                    closable: !1,
                    useCSS: !0
                },
                keyboardShortcuts: !0,
                context: "body",
                queue: !1,
                duration: 500,
                offset: 0,
                transition: "scale",
                padding: 50,
                onShow: function() {},
                onVisible: function() {},
                onHide: function() {
                    return !0
                },
                onHidden: function() {},
                onApprove: function() {
                    return !0
                },
                onDeny: function() {
                    return !0
                },
                selector: {
                    close: "> .close",
                    approve: ".actions .positive, .actions .approve, .actions .ok",
                    deny: ".actions .negative, .actions .deny, .actions .cancel",
                    modal: ".ui.modal"
                },
                error: {
                    dimmer: "UI Dimmer, a required component is not included in this page",
                    method: "The method you called is not defined.",
                    notFound: "The element you specified could not be found"
                },
                className: {
                    active: "active",
                    animating: "animating",
                    blurring: "blurring",
                    scrolling: "scrolling",
                    undetached: "undetached"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.nag = function(n) {
                var i, o = e(this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1);
                return o.each(function() {
                    var o, f = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.nag.settings, n) : e.extend({}, e.fn.nag.settings), h = (f.className,
                    f.selector), p = f.error, g = f.namespace, m = "." + g, v = g + "-module", y = e(this), b = (y.find(h.close),
                    e(f.context ? f.context : "body")), w = this, x = y.data(v);
                    t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame,
                    o = {
                        initialize: function() {
                            o.verbose("Initializing element"),
                            y.on("click" + m, h.close, o.dismiss).data(v, o),
                            f.detachable && y.parent()[0] !== b[0] && y.detach().prependTo(b),
                            f.displayTime > 0 && setTimeout(o.hide, f.displayTime),
                            o.show()
                        },
                        destroy: function() {
                            o.verbose("Destroying instance"),
                            y.removeData(v).off(m)
                        },
                        show: function() {
                            o.should.show() && !y.is(":visible") && (o.debug("Showing nag", f.animation.show),
                            "fade" == f.animation.show ? y.fadeIn(f.duration, f.easing) : y.slideDown(f.duration, f.easing))
                        },
                        hide: function() {
                            o.debug("Showing nag", f.animation.hide),
                            "fade" == f.animation.show ? y.fadeIn(f.duration, f.easing) : y.slideUp(f.duration, f.easing)
                        },
                        onHide: function() {
                            o.debug("Removing nag", f.animation.hide),
                            y.remove(),
                            f.onHide && f.onHide()
                        },
                        dismiss: function(e) {
                            f.storageMethod && o.storage.set(f.key, f.value),
                            o.hide(),
                            e.stopImmediatePropagation(),
                            e.preventDefault()
                        },
                        should: {
                            show: function() {
                                return f.persist ? (o.debug("Persistent nag is set, can show nag"),
                                !0) : o.storage.get(f.key) != f.value.toString() ? (o.debug("Stored value is not set, can show nag", o.storage.get(f.key)),
                                !0) : (o.debug("Stored value is set, cannot show nag", o.storage.get(f.key)),
                                !1)
                            }
                        },
                        get: {
                            storageOptions: function() {
                                var e = {};
                                return f.expires && (e.expires = f.expires),
                                f.domain && (e.domain = f.domain),
                                f.path && (e.path = f.path),
                                e
                            }
                        },
                        clear: function() {
                            o.storage.remove(f.key)
                        },
                        storage: {
                            set: function(n, i) {
                                var a = o.get.storageOptions();
                                if ("localstorage" == f.storageMethod && t.localStorage !== r)
                                    t.localStorage.setItem(n, i),
                                    o.debug("Value stored using local storage", n, i);
                                else if ("sessionstorage" == f.storageMethod && t.sessionStorage !== r)
                                    t.sessionStorage.setItem(n, i),
                                    o.debug("Value stored using session storage", n, i);
                                else {
                                    if (e.cookie === r)
                                        return void o.error(p.noCookieStorage);
                                    e.cookie(n, i, a),
                                    o.debug("Value stored using cookie", n, i, a)
                                }
                            },
                            get: function(n, i) {
                                var a;
                                return "localstorage" == f.storageMethod && t.localStorage !== r ? a = t.localStorage.getItem(n) : "sessionstorage" == f.storageMethod && t.sessionStorage !== r ? a = t.sessionStorage.getItem(n) : e.cookie !== r ? a = e.cookie(n) : o.error(p.noCookieStorage),
                                "undefined" != a && "null" != a && a !== r && null !== a || (a = r),
                                a
                            },
                            remove: function(n) {
                                var i = o.get.storageOptions();
                                "localstorage" == f.storageMethod && t.localStorage !== r ? t.localStorage.removeItem(n) : "sessionstorage" == f.storageMethod && t.sessionStorage !== r ? t.sessionStorage.removeItem(n) : e.cookie !== r ? e.removeCookie(n, i) : o.error(p.noStorage)
                            }
                        },
                        setting: function(t, n) {
                            if (o.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, f, t);
                            else {
                                if (n === r)
                                    return f[t];
                                e.isPlainObject(f[t]) ? e.extend(!0, f[t], n) : f[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, o, t);
                            else {
                                if (n === r)
                                    return o[t];
                                o[t] = n
                            }
                        },
                        debug: function() {
                            !f.silent && f.debug && (f.performance ? o.performance.log(arguments) : (o.debug = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            o.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !f.silent && f.verbose && f.debug && (f.performance ? o.performance.log(arguments) : (o.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            o.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            f.silent || (o.error = Function.prototype.bind.call(console.error, console, f.name + ":"),
                            o.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                f.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: w,
                                    "Execution Time": n
                                })),
                                clearTimeout(o.performance.timer),
                                o.performance.timer = setTimeout(o.performance.display, 500)
                            },
                            display: function() {
                                var t = f.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(o.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, a) {
                            var s, c, l, u = x;
                            return n = n || d,
                            a = w || a,
                            "string" == typeof t && u !== r && (t = t.split(/[\. ]/),
                            s = t.length - 1,
                            e.each(t, function(n, i) {
                                var a = n != s ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(u[a]) && n != s)
                                    u = u[a];
                                else {
                                    if (u[a] !== r)
                                        return c = u[a],
                                        !1;
                                    if (!e.isPlainObject(u[i]) || n == s)
                                        return u[i] !== r ? (c = u[i],
                                        !1) : (o.error(p.method, t),
                                        !1);
                                    u = u[i]
                                }
                            })),
                            e.isFunction(c) ? l = c.apply(a, n) : c !== r && (l = c),
                            e.isArray(i) ? i.push(l) : i !== r ? i = [i, l] : l !== r && (i = l),
                            c
                        }
                    },
                    u ? (x === r && o.initialize(),
                    o.invoke(l)) : (x !== r && x.invoke("destroy"),
                    o.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.nag.settings = {
                name: "Nag",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                namespace: "Nag",
                persist: !1,
                displayTime: 0,
                animation: {
                    show: "slide",
                    hide: "slide"
                },
                context: !1,
                detachable: !1,
                expires: 30,
                domain: !1,
                path: "/",
                storageMethod: "cookie",
                key: "nag",
                value: "dismiss",
                error: {
                    noCookieStorage: "$.cookie is not included. A storage solution is required.",
                    noStorage: "Neither $.cookie or store is defined. A storage solution is required for storing state",
                    method: "The method you called is not defined."
                },
                className: {
                    bottom: "bottom",
                    fixed: "fixed"
                },
                selector: {
                    close: ".close.icon"
                },
                speed: 500,
                easing: "easeOutQuad",
                onHide: function() {}
            },
            e.extend(e.easing, {
                easeOutQuad: function(e, t, n, r, i) {
                    return -r * (t /= i) * (t - 2) + n
                }
            })
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.popup = function(i) {
                var o, a = e(this), s = e(n), c = e(t), l = e("body"), u = a.selector || "", d = (new Date).getTime(), f = [], h = arguments[0], p = "string" == typeof h, g = [].slice.call(arguments, 1);
                return a.each(function() {
                    var a, m, v, y, b, w, x = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.popup.settings, i) : e.extend({}, e.fn.popup.settings), S = x.selector, C = x.className, _ = x.error, k = x.metadata, E = x.namespace, T = "." + x.namespace, P = "module-" + E, A = e(this), O = e(x.context), $ = e(x.scrollContext), j = e(x.boundary), D = x.target ? e(x.target) : A, R = 0, M = !1, I = !1, L = this, F = A.data(P);
                    w = {
                        initialize: function() {
                            w.debug("Initializing", A),
                            w.createID(),
                            w.bind.events(),
                            !w.exists() && x.preserve && w.create(),
                            x.observeChanges && w.observeChanges(),
                            w.instantiate()
                        },
                        instantiate: function() {
                            w.verbose("Storing instance", w),
                            F = w,
                            A.data(P, F)
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && ((v = new MutationObserver(w.event.documentChanged)).observe(n, {
                                childList: !0,
                                subtree: !0
                            }),
                            w.debug("Setting up mutation observer", v))
                        },
                        refresh: function() {
                            x.popup ? a = e(x.popup).eq(0) : x.inline && (a = D.nextAll(S.popup).eq(0),
                            x.popup = a),
                            x.popup ? (a.addClass(C.loading),
                            m = w.get.offsetParent(),
                            a.removeClass(C.loading),
                            x.movePopup && w.has.popup() && w.get.offsetParent(a)[0] !== m[0] && (w.debug("Moving popup to the same offset parent as activating element"),
                            a.detach().appendTo(m))) : m = x.inline ? w.get.offsetParent(D) : w.has.popup() ? w.get.offsetParent(a) : l,
                            m.is("html") && m[0] !== l[0] && (w.debug("Setting page as offset parent"),
                            m = l),
                            w.get.variation() && w.set.variation()
                        },
                        reposition: function() {
                            w.refresh(),
                            w.set.position()
                        },
                        destroy: function() {
                            w.debug("Destroying previous module"),
                            v && v.disconnect(),
                            a && !x.preserve && w.removePopup(),
                            clearTimeout(w.hideTimer),
                            clearTimeout(w.showTimer),
                            w.unbind.close(),
                            w.unbind.events(),
                            A.removeData(P)
                        },
                        event: {
                            start: function(t) {
                                var n = e.isPlainObject(x.delay) ? x.delay.show : x.delay;
                                clearTimeout(w.hideTimer),
                                I || (w.showTimer = setTimeout(w.show, n))
                            },
                            end: function() {
                                var t = e.isPlainObject(x.delay) ? x.delay.hide : x.delay;
                                clearTimeout(w.showTimer),
                                w.hideTimer = setTimeout(w.hide, t)
                            },
                            touchstart: function(e) {
                                I = !0,
                                w.show()
                            },
                            resize: function() {
                                w.is.visible() && w.set.position()
                            },
                            documentChanged: function(t) {
                                [].forEach.call(t, function(t) {
                                    t.removedNodes && [].forEach.call(t.removedNodes, function(t) {
                                        (t == L || e(t).find(L).length > 0) && (w.debug("Element removed from DOM, tearing down events"),
                                        w.destroy())
                                    })
                                })
                            },
                            hideGracefully: function(t) {
                                var r = e(t.target)
                                  , i = e.contains(n.documentElement, t.target)
                                  , o = r.closest(S.popup).length > 0;
                                t && !o && i ? (w.debug("Click occurred outside popup hiding popup"),
                                w.hide()) : w.debug("Click was inside popup, keeping popup open")
                            }
                        },
                        create: function() {
                            var t = w.get.html()
                              , n = w.get.title()
                              , r = w.get.content();
                            t || r || n ? (w.debug("Creating pop-up html"),
                            t || (t = x.templates.popup({
                                title: n,
                                content: r
                            })),
                            a = e("<div/>").addClass(C.popup).data(k.activator, A).html(t),
                            x.inline ? (w.verbose("Inserting popup element inline", a),
                            a.insertAfter(A)) : (w.verbose("Appending popup element to body", a),
                            a.appendTo(O)),
                            w.refresh(),
                            w.set.variation(),
                            x.hoverable && w.bind.popup(),
                            x.onCreate.call(a, L)) : 0 !== D.next(S.popup).length ? (w.verbose("Pre-existing popup found"),
                            x.inline = !0,
                            x.popup = D.next(S.popup).data(k.activator, A),
                            w.refresh(),
                            x.hoverable && w.bind.popup()) : x.popup ? (e(x.popup).data(k.activator, A),
                            w.verbose("Used popup specified in settings"),
                            w.refresh(),
                            x.hoverable && w.bind.popup()) : w.debug("No content specified skipping display", L)
                        },
                        createID: function() {
                            b = (Math.random().toString(16) + "000000000").substr(2, 8),
                            y = "." + b,
                            w.verbose("Creating unique id for element", b)
                        },
                        toggle: function() {
                            w.debug("Toggling pop-up"),
                            w.is.hidden() ? (w.debug("Popup is hidden, showing pop-up"),
                            w.unbind.close(),
                            w.show()) : (w.debug("Popup is visible, hiding pop-up"),
                            w.hide())
                        },
                        show: function(e) {
                            if (e = e || function() {}
                            ,
                            w.debug("Showing pop-up", x.transition),
                            w.is.hidden() && (!w.is.active() || !w.is.dropdown())) {
                                if (w.exists() || w.create(),
                                !1 === x.onShow.call(a, L))
                                    return void w.debug("onShow callback returned false, cancelling popup animation");
                                x.preserve || x.popup || w.refresh(),
                                a && w.set.position() && (w.save.conditions(),
                                x.exclusive && w.hideAll(),
                                w.animate.show(e))
                            }
                        },
                        hide: function(e) {
                            if (e = e || function() {}
                            ,
                            w.is.visible() || w.is.animating()) {
                                if (!1 === x.onHide.call(a, L))
                                    return void w.debug("onHide callback returned false, cancelling popup animation");
                                w.remove.visible(),
                                w.unbind.close(),
                                w.restore.conditions(),
                                w.animate.hide(e)
                            }
                        },
                        hideAll: function() {
                            e(S.popup).filter("." + C.visible).each(function() {
                                e(this).data(k.activator).popup("hide")
                            })
                        },
                        exists: function() {
                            return !!a && (x.inline || x.popup ? w.has.popup() : a.closest(O).length >= 1)
                        },
                        removePopup: function() {
                            w.has.popup() && !x.popup && (w.debug("Removing popup", a),
                            a.remove(),
                            a = r,
                            x.onRemove.call(a, L))
                        },
                        save: {
                            conditions: function() {
                                w.cache = {
                                    title: A.attr("title")
                                },
                                w.cache.title && A.removeAttr("title"),
                                w.verbose("Saving original attributes", w.cache.title)
                            }
                        },
                        restore: {
                            conditions: function() {
                                return w.cache && w.cache.title && (A.attr("title", w.cache.title),
                                w.verbose("Restoring original attributes", w.cache.title)),
                                !0
                            }
                        },
                        supports: {
                            svg: function() {
                                return typeof SVGGraphicsElement === r
                            }
                        },
                        animate: {
                            show: function(t) {
                                t = e.isFunction(t) ? t : function() {}
                                ,
                                x.transition && e.fn.transition !== r && A.transition("is supported") ? (w.set.visible(),
                                a.transition({
                                    animation: x.transition + " in",
                                    queue: !1,
                                    debug: x.debug,
                                    verbose: x.verbose,
                                    duration: x.duration,
                                    onComplete: function() {
                                        w.bind.close(),
                                        t.call(a, L),
                                        x.onVisible.call(a, L)
                                    }
                                })) : w.error(_.noTransition)
                            },
                            hide: function(t) {
                                return t = e.isFunction(t) ? t : function() {}
                                ,
                                w.debug("Hiding pop-up"),
                                !1 === x.onHide.call(a, L) ? void w.debug("onHide callback returned false, cancelling popup animation") : void (x.transition && e.fn.transition !== r && A.transition("is supported") ? a.transition({
                                    animation: x.transition + " out",
                                    queue: !1,
                                    duration: x.duration,
                                    debug: x.debug,
                                    verbose: x.verbose,
                                    onComplete: function() {
                                        w.reset(),
                                        t.call(a, L),
                                        x.onHidden.call(a, L)
                                    }
                                }) : w.error(_.noTransition))
                            }
                        },
                        change: {
                            content: function(e) {
                                a.html(e)
                            }
                        },
                        get: {
                            html: function() {
                                return A.removeData(k.html),
                                A.data(k.html) || x.html
                            },
                            title: function() {
                                return A.removeData(k.title),
                                A.data(k.title) || x.title
                            },
                            content: function() {
                                return A.removeData(k.content),
                                A.data(k.content) || A.attr("title") || x.content
                            },
                            variation: function() {
                                return A.removeData(k.variation),
                                A.data(k.variation) || x.variation
                            },
                            popup: function() {
                                return a
                            },
                            popupOffset: function() {
                                return a.offset()
                            },
                            calculations: function() {
                                var e, n = D[0], r = j[0] == t, i = x.inline || x.popup && x.movePopup ? D.position() : D.offset(), o = r ? {
                                    top: 0,
                                    left: 0
                                } : j.offset(), s = {}, l = r ? {
                                    top: c.scrollTop(),
                                    left: c.scrollLeft()
                                } : {
                                    top: 0,
                                    left: 0
                                };
                                return s = {
                                    target: {
                                        element: D[0],
                                        width: D.outerWidth(),
                                        height: D.outerHeight(),
                                        top: i.top,
                                        left: i.left,
                                        margin: {}
                                    },
                                    popup: {
                                        width: a.outerWidth(),
                                        height: a.outerHeight()
                                    },
                                    parent: {
                                        width: m.outerWidth(),
                                        height: m.outerHeight()
                                    },
                                    screen: {
                                        top: o.top,
                                        left: o.left,
                                        scroll: {
                                            top: l.top,
                                            left: l.left
                                        },
                                        width: j.width(),
                                        height: j.height()
                                    }
                                },
                                x.setFluidWidth && w.is.fluid() && (s.container = {
                                    width: a.parent().outerWidth()
                                },
                                s.popup.width = s.container.width),
                                s.target.margin.top = x.inline ? parseInt(t.getComputedStyle(n).getPropertyValue("margin-top"), 10) : 0,
                                s.target.margin.left = x.inline ? w.is.rtl() ? parseInt(t.getComputedStyle(n).getPropertyValue("margin-right"), 10) : parseInt(t.getComputedStyle(n).getPropertyValue("margin-left"), 10) : 0,
                                e = s.screen,
                                s.boundary = {
                                    top: e.top + e.scroll.top,
                                    bottom: e.top + e.scroll.top + e.height,
                                    left: e.left + e.scroll.left,
                                    right: e.left + e.scroll.left + e.width
                                },
                                s
                            },
                            id: function() {
                                return b
                            },
                            startEvent: function() {
                                return "hover" == x.on ? "mouseenter" : "focus" == x.on && "focus"
                            },
                            scrollEvent: function() {
                                return "scroll"
                            },
                            endEvent: function() {
                                return "hover" == x.on ? "mouseleave" : "focus" == x.on && "blur"
                            },
                            distanceFromBoundary: function(e, t) {
                                var n, r, i = {};
                                return n = (t = t || w.get.calculations()).popup,
                                r = t.boundary,
                                e && (i = {
                                    top: e.top - r.top,
                                    left: e.left - r.left,
                                    right: r.right - (e.left + n.width),
                                    bottom: r.bottom - (e.top + n.height)
                                },
                                w.verbose("Distance from boundaries determined", e, i)),
                                i
                            },
                            offsetParent: function(t) {
                                var n = (t !== r ? t[0] : A[0]).parentNode
                                  , i = e(n);
                                if (n)
                                    for (var o = "none" === i.css("transform"), a = "static" === i.css("position"), s = i.is("html"); n && !s && a && o; )
                                        n = n.parentNode,
                                        o = "none" === (i = e(n)).css("transform"),
                                        a = "static" === i.css("position"),
                                        s = i.is("html");
                                return i && i.length > 0 ? i : e()
                            },
                            positions: function() {
                                return {
                                    "top left": !1,
                                    "top center": !1,
                                    "top right": !1,
                                    "bottom left": !1,
                                    "bottom center": !1,
                                    "bottom right": !1,
                                    "left center": !1,
                                    "right center": !1
                                }
                            },
                            nextPosition: function(e) {
                                var t = e.split(" ")
                                  , n = t[0]
                                  , r = t[1]
                                  , i = "top" == n || "bottom" == n
                                  , o = !1
                                  , a = !1
                                  , s = !1;
                                return M || (w.verbose("All available positions available"),
                                M = w.get.positions()),
                                w.debug("Recording last position tried", e),
                                M[e] = !0,
                                "opposite" === x.prefer && (s = (s = [{
                                    top: "bottom",
                                    bottom: "top",
                                    left: "right",
                                    right: "left"
                                }[n], r]).join(" "),
                                o = !0 === M[s],
                                w.debug("Trying opposite strategy", s)),
                                "adjacent" === x.prefer && i && (s = (s = [n, {
                                    left: "center",
                                    center: "right",
                                    right: "left"
                                }[r]]).join(" "),
                                a = !0 === M[s],
                                w.debug("Trying adjacent strategy", s)),
                                (a || o) && (w.debug("Using backup position", s),
                                s = {
                                    "top left": "top center",
                                    "top center": "top right",
                                    "top right": "right center",
                                    "right center": "bottom right",
                                    "bottom right": "bottom center",
                                    "bottom center": "bottom left",
                                    "bottom left": "left center",
                                    "left center": "top left"
                                }[e]),
                                s
                            }
                        },
                        set: {
                            position: function(e, t) {
                                if (0 !== D.length && 0 !== a.length) {
                                    var n, i, o, s, c, l, u, d;
                                    if (t = t || w.get.calculations(),
                                    e = e || A.data(k.position) || x.position,
                                    n = A.data(k.offset) || x.offset,
                                    i = x.distanceAway,
                                    o = t.target,
                                    s = t.popup,
                                    c = t.parent,
                                    0 === o.width && 0 === o.height && !w.is.svg(o.element))
                                        return w.debug("Popup target is hidden, no action taken"),
                                        !1;
                                    switch (x.inline && (w.debug("Adding margin to calculation", o.margin),
                                    "left center" == e || "right center" == e ? (n += o.margin.top,
                                    i += -o.margin.left) : "top left" == e || "top center" == e || "top right" == e ? (n += o.margin.left,
                                    i -= o.margin.top) : (n += o.margin.left,
                                    i += o.margin.top)),
                                    w.debug("Determining popup position from calculations", e, t),
                                    w.is.rtl() && (e = e.replace(/left|right/g, function(e) {
                                        return "left" == e ? "right" : "left"
                                    }),
                                    w.debug("RTL: Popup position updated", e)),
                                    R == x.maxSearchDepth && "string" == typeof x.lastResort && (e = x.lastResort),
                                    e) {
                                    case "top left":
                                        l = {
                                            top: "auto",
                                            bottom: c.height - o.top + i,
                                            left: o.left + n,
                                            right: "auto"
                                        };
                                        break;
                                    case "top center":
                                        l = {
                                            bottom: c.height - o.top + i,
                                            left: o.left + o.width / 2 - s.width / 2 + n,
                                            top: "auto",
                                            right: "auto"
                                        };
                                        break;
                                    case "top right":
                                        l = {
                                            bottom: c.height - o.top + i,
                                            right: c.width - o.left - o.width - n,
                                            top: "auto",
                                            left: "auto"
                                        };
                                        break;
                                    case "left center":
                                        l = {
                                            top: o.top + o.height / 2 - s.height / 2 + n,
                                            right: c.width - o.left + i,
                                            left: "auto",
                                            bottom: "auto"
                                        };
                                        break;
                                    case "right center":
                                        l = {
                                            top: o.top + o.height / 2 - s.height / 2 + n,
                                            left: o.left + o.width + i,
                                            bottom: "auto",
                                            right: "auto"
                                        };
                                        break;
                                    case "bottom left":
                                        l = {
                                            top: o.top + o.height + i,
                                            left: o.left + n,
                                            bottom: "auto",
                                            right: "auto"
                                        };
                                        break;
                                    case "bottom center":
                                        l = {
                                            top: o.top + o.height + i,
                                            left: o.left + o.width / 2 - s.width / 2 + n,
                                            bottom: "auto",
                                            right: "auto"
                                        };
                                        break;
                                    case "bottom right":
                                        l = {
                                            top: o.top + o.height + i,
                                            right: c.width - o.left - o.width - n,
                                            left: "auto",
                                            bottom: "auto"
                                        }
                                    }
                                    if (l === r && w.error(_.invalidPosition, e),
                                    w.debug("Calculated popup positioning values", l),
                                    a.css(l).removeClass(C.position).addClass(e).addClass(C.loading),
                                    u = w.get.popupOffset(),
                                    d = w.get.distanceFromBoundary(u, t),
                                    w.is.offstage(d, e)) {
                                        if (w.debug("Position is outside viewport", e),
                                        R < x.maxSearchDepth)
                                            return R++,
                                            e = w.get.nextPosition(e),
                                            w.debug("Trying new position", e),
                                            !!a && w.set.position(e, t);
                                        if (!x.lastResort)
                                            return w.debug("Popup could not find a position to display", a),
                                            w.error(_.cannotPlace, L),
                                            w.remove.attempts(),
                                            w.remove.loading(),
                                            w.reset(),
                                            x.onUnplaceable.call(a, L),
                                            !1;
                                        w.debug("No position found, showing with last position")
                                    }
                                    return w.debug("Position is on stage", e),
                                    w.remove.attempts(),
                                    w.remove.loading(),
                                    x.setFluidWidth && w.is.fluid() && w.set.fluidWidth(t),
                                    !0
                                }
                                w.error(_.notFound)
                            },
                            fluidWidth: function(e) {
                                e = e || w.get.calculations(),
                                w.debug("Automatically setting element width to parent width", e.parent.width),
                                a.css("width", e.container.width)
                            },
                            variation: function(e) {
                                (e = e || w.get.variation()) && w.has.popup() && (w.verbose("Adding variation to popup", e),
                                a.addClass(e))
                            },
                            visible: function() {
                                A.addClass(C.visible)
                            }
                        },
                        remove: {
                            loading: function() {
                                a.removeClass(C.loading)
                            },
                            variation: function(e) {
                                (e = e || w.get.variation()) && (w.verbose("Removing variation", e),
                                a.removeClass(e))
                            },
                            visible: function() {
                                A.removeClass(C.visible)
                            },
                            attempts: function() {
                                w.verbose("Resetting all searched positions"),
                                R = 0,
                                M = !1
                            }
                        },
                        bind: {
                            events: function() {
                                w.debug("Binding popup events to module"),
                                "click" == x.on && A.on("click" + T, w.toggle),
                                "hover" == x.on && A.on("touchstart" + T, w.event.touchstart),
                                w.get.startEvent() && A.on(w.get.startEvent() + T, w.event.start).on(w.get.endEvent() + T, w.event.end),
                                x.target && w.debug("Target set to element", D),
                                c.on("resize" + y, w.event.resize)
                            },
                            popup: function() {
                                w.verbose("Allowing hover events on popup to prevent closing"),
                                a && w.has.popup() && a.on("mouseenter" + T, w.event.start).on("mouseleave" + T, w.event.end)
                            },
                            close: function() {
                                (!0 === x.hideOnScroll || "auto" == x.hideOnScroll && "click" != x.on) && $.one(w.get.scrollEvent() + y, w.event.hideGracefully),
                                "hover" == x.on && I && (w.verbose("Binding popup close event to document"),
                                s.on("touchstart" + y, function(e) {
                                    w.verbose("Touched away from popup"),
                                    w.event.hideGracefully.call(L, e)
                                })),
                                "click" == x.on && x.closable && (w.verbose("Binding popup close event to document"),
                                s.on("click" + y, function(e) {
                                    w.verbose("Clicked away from popup"),
                                    w.event.hideGracefully.call(L, e)
                                }))
                            }
                        },
                        unbind: {
                            events: function() {
                                c.off(y),
                                A.off(T)
                            },
                            close: function() {
                                s.off(y),
                                $.off(y)
                            }
                        },
                        has: {
                            popup: function() {
                                return a && a.length > 0
                            }
                        },
                        is: {
                            offstage: function(t, n) {
                                var r = [];
                                return e.each(t, function(e, t) {
                                    t < -x.jitter && (w.debug("Position exceeds allowable distance from edge", e, t, n),
                                    r.push(e))
                                }),
                                r.length > 0
                            },
                            svg: function(e) {
                                return w.supports.svg() && e instanceof SVGGraphicsElement
                            },
                            active: function() {
                                return A.hasClass(C.active)
                            },
                            animating: function() {
                                return a !== r && a.hasClass(C.animating)
                            },
                            fluid: function() {
                                return a !== r && a.hasClass(C.fluid)
                            },
                            visible: function() {
                                return a !== r && a.hasClass(C.visible)
                            },
                            dropdown: function() {
                                return A.hasClass(C.dropdown)
                            },
                            hidden: function() {
                                return !w.is.visible()
                            },
                            rtl: function() {
                                return "rtl" == A.css("direction")
                            }
                        },
                        reset: function() {
                            w.remove.visible(),
                            x.preserve ? e.fn.transition !== r && a.transition("remove transition") : w.removePopup()
                        },
                        setting: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, x, t);
                            else {
                                if (n === r)
                                    return x[t];
                                x[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, w, t);
                            else {
                                if (n === r)
                                    return w[t];
                                w[t] = n
                            }
                        },
                        debug: function() {
                            !x.silent && x.debug && (x.performance ? w.performance.log(arguments) : (w.debug = Function.prototype.bind.call(console.info, console, x.name + ":"),
                            w.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !x.silent && x.verbose && x.debug && (x.performance ? w.performance.log(arguments) : (w.verbose = Function.prototype.bind.call(console.info, console, x.name + ":"),
                            w.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            x.silent || (w.error = Function.prototype.bind.call(console.error, console, x.name + ":"),
                            w.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                x.performance && (n = (t = (new Date).getTime()) - (d || t),
                                d = t,
                                f.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: L,
                                    "Execution Time": n
                                })),
                                clearTimeout(w.performance.timer),
                                w.performance.timer = setTimeout(w.performance.display, 500)
                            },
                            display: function() {
                                var t = x.name + ":"
                                  , n = 0;
                                d = !1,
                                clearTimeout(w.performance.timer),
                                e.each(f, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                u && (t += " '" + u + "'"),
                                (console.group !== r || console.table !== r) && f.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(f) : e.each(f, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                f = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = F;
                            return n = n || g,
                            i = L || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    p ? (F === r && w.initialize(),
                    w.invoke(h)) : (F !== r && F.invoke("destroy"),
                    w.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.popup.settings = {
                name: "Popup",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                namespace: "popup",
                observeChanges: !0,
                onCreate: function() {},
                onRemove: function() {},
                onShow: function() {},
                onVisible: function() {},
                onHide: function() {},
                onUnplaceable: function() {},
                onHidden: function() {},
                on: "hover",
                boundary: t,
                addTouchEvents: !0,
                position: "top left",
                variation: "",
                movePopup: !0,
                target: !1,
                popup: !1,
                inline: !1,
                preserve: !1,
                hoverable: !1,
                content: !1,
                html: !1,
                title: !1,
                closable: !0,
                hideOnScroll: "auto",
                exclusive: !1,
                context: "body",
                scrollContext: t,
                prefer: "opposite",
                lastResort: !1,
                delay: {
                    show: 50,
                    hide: 70
                },
                setFluidWidth: !0,
                duration: 200,
                transition: "scale",
                distanceAway: 0,
                jitter: 2,
                offset: 0,
                maxSearchDepth: 15,
                error: {
                    invalidPosition: "The position you specified is not a valid position",
                    cannotPlace: "Popup does not fit within the boundaries of the viewport",
                    method: "The method you called is not defined.",
                    noTransition: "This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",
                    notFound: "The target or popup you specified does not exist on the page"
                },
                metadata: {
                    activator: "activator",
                    content: "content",
                    html: "html",
                    offset: "offset",
                    position: "position",
                    title: "title",
                    variation: "variation"
                },
                className: {
                    active: "active",
                    animating: "animating",
                    dropdown: "dropdown",
                    fluid: "fluid",
                    loading: "loading",
                    popup: "ui popup",
                    position: "top left center bottom right",
                    visible: "visible"
                },
                selector: {
                    popup: ".ui.popup"
                },
                templates: {
                    escape: function(e) {
                        var t = {
                            "&": "&amp;",
                            "<": "&lt;",
                            ">": "&gt;",
                            '"': "&quot;",
                            "'": "&#x27;",
                            "`": "&#x60;"
                        };
                        return /[&<>"'`]/.test(e) ? e.replace(/[&<>"'`]/g, function(e) {
                            return t[e]
                        }) : e
                    },
                    popup: function(t) {
                        var n = ""
                          , i = e.fn.popup.settings.templates.escape;
                        return typeof t !== r && (typeof t.title !== r && t.title && (t.title = i(t.title),
                        n += '<div class="header">' + t.title + "</div>"),
                        typeof t.content !== r && t.content && (t.content = i(t.content),
                        n += '<div class="content">' + t.content + "</div>")),
                        n
                    }
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            void 0 !== (t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")()) && t.Math == Math || ("undefined" != typeof self && self.Math == Math ? self : Function("return this")()),
            e.fn.progress = function(t) {
                var i, o = e(this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1);
                return o.each(function() {
                    var o, f = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.progress.settings, t) : e.extend({}, e.fn.progress.settings), h = f.className, p = f.metadata, g = f.namespace, m = f.selector, v = f.error, y = "." + g, b = "module-" + g, w = e(this), x = e(this).find(m.bar), S = e(this).find(m.progress), C = e(this).find(m.label), _ = this, k = w.data(b), E = !1;
                    o = {
                        initialize: function() {
                            o.debug("Initializing progress bar", f),
                            o.set.duration(),
                            o.set.transitionEvent(),
                            o.read.metadata(),
                            o.read.settings(),
                            o.instantiate()
                        },
                        instantiate: function() {
                            o.verbose("Storing instance of progress", o),
                            k = o,
                            w.data(b, o)
                        },
                        destroy: function() {
                            o.verbose("Destroying previous progress for", w),
                            clearInterval(k.interval),
                            o.remove.state(),
                            w.removeData(b),
                            k = r
                        },
                        reset: function() {
                            o.remove.nextValue(),
                            o.update.progress(0)
                        },
                        complete: function() {
                            (o.percent === r || o.percent < 100) && (o.remove.progressPoll(),
                            o.set.percent(100))
                        },
                        read: {
                            metadata: function() {
                                var e = {
                                    percent: w.data(p.percent),
                                    total: w.data(p.total),
                                    value: w.data(p.value)
                                };
                                e.percent && (o.debug("Current percent value set from metadata", e.percent),
                                o.set.percent(e.percent)),
                                e.total && (o.debug("Total value set from metadata", e.total),
                                o.set.total(e.total)),
                                e.value && (o.debug("Current value set from metadata", e.value),
                                o.set.value(e.value),
                                o.set.progress(e.value))
                            },
                            settings: function() {
                                !1 !== f.total && (o.debug("Current total set in settings", f.total),
                                o.set.total(f.total)),
                                !1 !== f.value && (o.debug("Current value set in settings", f.value),
                                o.set.value(f.value),
                                o.set.progress(o.value)),
                                !1 !== f.percent && (o.debug("Current percent set in settings", f.percent),
                                o.set.percent(f.percent))
                            }
                        },
                        bind: {
                            transitionEnd: function(e) {
                                var t = o.get.transitionEnd();
                                x.one(t + y, function(t) {
                                    clearTimeout(o.failSafeTimer),
                                    e.call(this, t)
                                }),
                                o.failSafeTimer = setTimeout(function() {
                                    x.triggerHandler(t)
                                }, f.duration + f.failSafeDelay),
                                o.verbose("Adding fail safe timer", o.timer)
                            }
                        },
                        increment: function(e) {
                            var t, n;
                            o.has.total() ? n = (t = o.get.value()) + (e = e || 1) : (n = (t = o.get.percent()) + (e = e || o.get.randomValue()),
                            o.debug("Incrementing percentage by", t, n)),
                            n = o.get.normalizedValue(n),
                            o.set.progress(n)
                        },
                        decrement: function(e) {
                            var t, n;
                            o.get.total() ? (n = (t = o.get.value()) - (e = e || 1),
                            o.debug("Decrementing value by", e, t)) : (n = (t = o.get.percent()) - (e = e || o.get.randomValue()),
                            o.debug("Decrementing percentage by", e, t)),
                            n = o.get.normalizedValue(n),
                            o.set.progress(n)
                        },
                        has: {
                            progressPoll: function() {
                                return o.progressPoll
                            },
                            total: function() {
                                return !1 !== o.get.total()
                            }
                        },
                        get: {
                            text: function(e) {
                                var t = o.value || 0
                                  , n = o.total || 0
                                  , r = E ? o.get.displayPercent() : o.percent || 0
                                  , i = o.total > 0 ? n - t : 100 - r;
                                return e = (e = e || "").replace("{value}", t).replace("{total}", n).replace("{left}", i).replace("{percent}", r),
                                o.verbose("Adding variables to progress bar text", e),
                                e
                            },
                            normalizedValue: function(e) {
                                if (e < 0)
                                    return o.debug("Value cannot decrement below 0"),
                                    0;
                                if (o.has.total()) {
                                    if (e > o.total)
                                        return o.debug("Value cannot increment above total", o.total),
                                        o.total
                                } else if (e > 100)
                                    return o.debug("Value cannot increment above 100 percent"),
                                    100;
                                return e
                            },
                            updateInterval: function() {
                                return "auto" == f.updateInterval ? f.duration : f.updateInterval
                            },
                            randomValue: function() {
                                return o.debug("Generating random increment percentage"),
                                Math.floor(Math.random() * f.random.max + f.random.min)
                            },
                            numericValue: function(e) {
                                return "string" == typeof e ? "" !== e.replace(/[^\d.]/g, "") && +e.replace(/[^\d.]/g, "") : e
                            },
                            transitionEnd: function() {
                                var e, t = n.createElement("element"), i = {
                                    transition: "transitionend",
                                    OTransition: "oTransitionEnd",
                                    MozTransition: "transitionend",
                                    WebkitTransition: "webkitTransitionEnd"
                                };
                                for (e in i)
                                    if (t.style[e] !== r)
                                        return i[e]
                            },
                            displayPercent: function() {
                                var e = x.width()
                                  , t = w.width()
                                  , n = e > parseInt(x.css("min-width"), 10) ? e / t * 100 : o.percent;
                                return f.precision > 0 ? Math.round(n * (10 * f.precision)) / (10 * f.precision) : Math.round(n)
                            },
                            percent: function() {
                                return o.percent || 0
                            },
                            value: function() {
                                return o.nextValue || o.value || 0
                            },
                            total: function() {
                                return o.total || !1
                            }
                        },
                        create: {
                            progressPoll: function() {
                                o.progressPoll = setTimeout(function() {
                                    o.update.toNextValue(),
                                    o.remove.progressPoll()
                                }, o.get.updateInterval())
                            }
                        },
                        is: {
                            complete: function() {
                                return o.is.success() || o.is.warning() || o.is.error()
                            },
                            success: function() {
                                return w.hasClass(h.success)
                            },
                            warning: function() {
                                return w.hasClass(h.warning)
                            },
                            error: function() {
                                return w.hasClass(h.error)
                            },
                            active: function() {
                                return w.hasClass(h.active)
                            },
                            visible: function() {
                                return w.is(":visible")
                            }
                        },
                        remove: {
                            progressPoll: function() {
                                o.verbose("Removing progress poll timer"),
                                o.progressPoll && (clearTimeout(o.progressPoll),
                                delete o.progressPoll)
                            },
                            nextValue: function() {
                                o.verbose("Removing progress value stored for next update"),
                                delete o.nextValue
                            },
                            state: function() {
                                o.verbose("Removing stored state"),
                                delete o.total,
                                delete o.percent,
                                delete o.value
                            },
                            active: function() {
                                o.verbose("Removing active state"),
                                w.removeClass(h.active)
                            },
                            success: function() {
                                o.verbose("Removing success state"),
                                w.removeClass(h.success)
                            },
                            warning: function() {
                                o.verbose("Removing warning state"),
                                w.removeClass(h.warning)
                            },
                            error: function() {
                                o.verbose("Removing error state"),
                                w.removeClass(h.error)
                            }
                        },
                        set: {
                            barWidth: function(e) {
                                e > 100 ? o.error(v.tooHigh, e) : e < 0 ? o.error(v.tooLow, e) : (x.css("width", e + "%"),
                                w.attr("data-percent", parseInt(e, 10)))
                            },
                            duration: function(e) {
                                e = "number" == typeof (e = e || f.duration) ? e + "ms" : e,
                                o.verbose("Setting progress bar transition duration", e),
                                x.css({
                                    "transition-duration": e
                                })
                            },
                            percent: function(e) {
                                e = "string" == typeof e ? +e.replace("%", "") : e,
                                e = f.precision > 0 ? Math.round(e * (10 * f.precision)) / (10 * f.precision) : Math.round(e),
                                o.percent = e,
                                o.has.total() || (o.value = f.precision > 0 ? Math.round(e / 100 * o.total * (10 * f.precision)) / (10 * f.precision) : Math.round(e / 100 * o.total * 10) / 10,
                                f.limitValues && (o.value = o.value > 100 ? 100 : o.value < 0 ? 0 : o.value)),
                                o.set.barWidth(e),
                                o.set.labelInterval(),
                                o.set.labels(),
                                f.onChange.call(_, e, o.value, o.total)
                            },
                            labelInterval: function() {
                                clearInterval(o.interval),
                                o.bind.transitionEnd(function() {
                                    o.verbose("Bar finished animating, removing continuous label updates"),
                                    clearInterval(o.interval),
                                    E = !1,
                                    o.set.labels()
                                }),
                                E = !0,
                                o.interval = setInterval(function() {
                                    e.contains(n.documentElement, _) || (clearInterval(o.interval),
                                    E = !1),
                                    o.set.labels()
                                }, f.framerate)
                            },
                            labels: function() {
                                o.verbose("Setting both bar progress and outer label text"),
                                o.set.barLabel(),
                                o.set.state()
                            },
                            label: function(e) {
                                (e = e || "") && (e = o.get.text(e),
                                o.verbose("Setting label to text", e),
                                C.text(e))
                            },
                            state: function(e) {
                                100 === (e = e !== r ? e : o.percent) ? f.autoSuccess && !(o.is.warning() || o.is.error() || o.is.success()) ? (o.set.success(),
                                o.debug("Automatically triggering success at 100%")) : (o.verbose("Reached 100% removing active state"),
                                o.remove.active(),
                                o.remove.progressPoll()) : e > 0 ? (o.verbose("Adjusting active progress bar label", e),
                                o.set.active()) : (o.remove.active(),
                                o.set.label(f.text.active))
                            },
                            barLabel: function(e) {
                                e !== r ? S.text(o.get.text(e)) : "ratio" == f.label && o.total ? (o.verbose("Adding ratio to bar label"),
                                S.text(o.get.text(f.text.ratio))) : "percent" == f.label && (o.verbose("Adding percentage to bar label"),
                                S.text(o.get.text(f.text.percent)))
                            },
                            active: function(e) {
                                e = e || f.text.active,
                                o.debug("Setting active state"),
                                f.showActivity && !o.is.active() && w.addClass(h.active),
                                o.remove.warning(),
                                o.remove.error(),
                                o.remove.success(),
                                (e = f.onLabelUpdate("active", e, o.value, o.total)) && o.set.label(e),
                                o.bind.transitionEnd(function() {
                                    f.onActive.call(_, o.value, o.total)
                                })
                            },
                            success: function(e) {
                                e = e || f.text.success || f.text.active,
                                o.debug("Setting success state"),
                                w.addClass(h.success),
                                o.remove.active(),
                                o.remove.warning(),
                                o.remove.error(),
                                o.complete(),
                                f.text.success ? (e = f.onLabelUpdate("success", e, o.value, o.total),
                                o.set.label(e)) : (e = f.onLabelUpdate("active", e, o.value, o.total),
                                o.set.label(e)),
                                o.bind.transitionEnd(function() {
                                    f.onSuccess.call(_, o.total)
                                })
                            },
                            warning: function(e) {
                                e = e || f.text.warning,
                                o.debug("Setting warning state"),
                                w.addClass(h.warning),
                                o.remove.active(),
                                o.remove.success(),
                                o.remove.error(),
                                o.complete(),
                                (e = f.onLabelUpdate("warning", e, o.value, o.total)) && o.set.label(e),
                                o.bind.transitionEnd(function() {
                                    f.onWarning.call(_, o.value, o.total)
                                })
                            },
                            error: function(e) {
                                e = e || f.text.error,
                                o.debug("Setting error state"),
                                w.addClass(h.error),
                                o.remove.active(),
                                o.remove.success(),
                                o.remove.warning(),
                                o.complete(),
                                (e = f.onLabelUpdate("error", e, o.value, o.total)) && o.set.label(e),
                                o.bind.transitionEnd(function() {
                                    f.onError.call(_, o.value, o.total)
                                })
                            },
                            transitionEvent: function() {
                                o.get.transitionEnd()
                            },
                            total: function(e) {
                                o.total = e
                            },
                            value: function(e) {
                                o.value = e
                            },
                            progress: function(e) {
                                o.has.progressPoll() ? (o.debug("Updated within interval, setting next update to use new value", e),
                                o.set.nextValue(e)) : (o.debug("First update in progress update interval, immediately updating", e),
                                o.update.progress(e),
                                o.create.progressPoll())
                            },
                            nextValue: function(e) {
                                o.nextValue = e
                            }
                        },
                        update: {
                            toNextValue: function() {
                                var e = o.nextValue;
                                e && (o.debug("Update interval complete using last updated value", e),
                                o.update.progress(e),
                                o.remove.nextValue())
                            },
                            progress: function(e) {
                                var t;
                                !1 === (e = o.get.numericValue(e)) && o.error(v.nonNumeric, e),
                                e = o.get.normalizedValue(e),
                                o.has.total() ? (o.set.value(e),
                                t = e / o.total * 100,
                                o.debug("Calculating percent complete from total", t),
                                o.set.percent(t)) : (t = e,
                                o.debug("Setting value to exact percentage value", t),
                                o.set.percent(t))
                            }
                        },
                        setting: function(t, n) {
                            if (o.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, f, t);
                            else {
                                if (n === r)
                                    return f[t];
                                e.isPlainObject(f[t]) ? e.extend(!0, f[t], n) : f[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, o, t);
                            else {
                                if (n === r)
                                    return o[t];
                                o[t] = n
                            }
                        },
                        debug: function() {
                            !f.silent && f.debug && (f.performance ? o.performance.log(arguments) : (o.debug = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            o.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !f.silent && f.verbose && f.debug && (f.performance ? o.performance.log(arguments) : (o.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            o.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            f.silent || (o.error = Function.prototype.bind.call(console.error, console, f.name + ":"),
                            o.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                f.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: _,
                                    "Execution Time": n
                                })),
                                clearTimeout(o.performance.timer),
                                o.performance.timer = setTimeout(o.performance.display, 500)
                            },
                            display: function() {
                                var t = f.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(o.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, a) {
                            var s, c, l, u = k;
                            return n = n || d,
                            a = _ || a,
                            "string" == typeof t && u !== r && (t = t.split(/[\. ]/),
                            s = t.length - 1,
                            e.each(t, function(n, i) {
                                var a = n != s ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(u[a]) && n != s)
                                    u = u[a];
                                else {
                                    if (u[a] !== r)
                                        return c = u[a],
                                        !1;
                                    if (!e.isPlainObject(u[i]) || n == s)
                                        return u[i] !== r ? (c = u[i],
                                        !1) : (o.error(v.method, t),
                                        !1);
                                    u = u[i]
                                }
                            })),
                            e.isFunction(c) ? l = c.apply(a, n) : c !== r && (l = c),
                            e.isArray(i) ? i.push(l) : i !== r ? i = [i, l] : l !== r && (i = l),
                            c
                        }
                    },
                    u ? (k === r && o.initialize(),
                    o.invoke(l)) : (k !== r && k.invoke("destroy"),
                    o.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.progress.settings = {
                name: "Progress",
                namespace: "progress",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                random: {
                    min: 2,
                    max: 5
                },
                duration: 300,
                updateInterval: "auto",
                autoSuccess: !0,
                showActivity: !0,
                limitValues: !0,
                label: "percent",
                precision: 0,
                framerate: 1e3 / 30,
                percent: !1,
                total: !1,
                value: !1,
                failSafeDelay: 100,
                onLabelUpdate: function(e, t, n, r) {
                    return t
                },
                onChange: function(e, t, n) {},
                onSuccess: function(e) {},
                onActive: function(e, t) {},
                onError: function(e, t) {},
                onWarning: function(e, t) {},
                error: {
                    method: "The method you called is not defined.",
                    nonNumeric: "Progress value is non numeric",
                    tooHigh: "Value specified is above 100%",
                    tooLow: "Value specified is below 0%"
                },
                regExp: {
                    variable: /\{\$*[A-z0-9]+\}/g
                },
                metadata: {
                    percent: "percent",
                    total: "total",
                    value: "value"
                },
                selector: {
                    bar: "> .bar",
                    label: "> .label",
                    progress: ".bar > .progress"
                },
                text: {
                    active: !1,
                    error: !1,
                    success: !1,
                    warning: !1,
                    percent: "{percent}%",
                    ratio: "{value} of {total}"
                },
                className: {
                    active: "active",
                    error: "error",
                    success: "success",
                    warning: "warning"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.rating = function(t) {
                var n, i = e(this), o = i.selector || "", a = (new Date).getTime(), s = [], c = arguments[0], l = "string" == typeof c, u = [].slice.call(arguments, 1);
                return i.each(function() {
                    var d, f, h = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.rating.settings, t) : e.extend({}, e.fn.rating.settings), p = h.namespace, g = h.className, m = h.metadata, v = h.selector, y = (h.error,
                    "." + p), b = "module-" + p, w = this, x = e(this).data(b), S = e(this), C = S.find(v.icon);
                    f = {
                        initialize: function() {
                            f.verbose("Initializing rating module", h),
                            0 === C.length && f.setup.layout(),
                            h.interactive ? f.enable() : f.disable(),
                            f.set.initialLoad(),
                            f.set.rating(f.get.initialRating()),
                            f.remove.initialLoad(),
                            f.instantiate()
                        },
                        instantiate: function() {
                            f.verbose("Instantiating module", h),
                            x = f,
                            S.data(b, f)
                        },
                        destroy: function() {
                            f.verbose("Destroying previous instance", x),
                            f.remove.events(),
                            S.removeData(b)
                        },
                        refresh: function() {
                            C = S.find(v.icon)
                        },
                        setup: {
                            layout: function() {
                                var t = f.get.maxRating()
                                  , n = e.fn.rating.settings.templates.icon(t);
                                f.debug("Generating icon html dynamically"),
                                S.html(n),
                                f.refresh()
                            }
                        },
                        event: {
                            mouseenter: function() {
                                var t = e(this);
                                t.nextAll().removeClass(g.selected),
                                S.addClass(g.selected),
                                t.addClass(g.selected).prevAll().addClass(g.selected)
                            },
                            mouseleave: function() {
                                S.removeClass(g.selected),
                                C.removeClass(g.selected)
                            },
                            click: function() {
                                var t = e(this)
                                  , n = f.get.rating()
                                  , r = C.index(t) + 1;
                                ("auto" == h.clearable ? 1 === C.length : h.clearable) && n == r ? f.clearRating() : f.set.rating(r)
                            }
                        },
                        clearRating: function() {
                            f.debug("Clearing current rating"),
                            f.set.rating(0)
                        },
                        bind: {
                            events: function() {
                                f.verbose("Binding events"),
                                S.on("mouseenter" + y, v.icon, f.event.mouseenter).on("mouseleave" + y, v.icon, f.event.mouseleave).on("click" + y, v.icon, f.event.click)
                            }
                        },
                        remove: {
                            events: function() {
                                f.verbose("Removing events"),
                                S.off(y)
                            },
                            initialLoad: function() {
                                d = !1
                            }
                        },
                        enable: function() {
                            f.debug("Setting rating to interactive mode"),
                            f.bind.events(),
                            S.removeClass(g.disabled)
                        },
                        disable: function() {
                            f.debug("Setting rating to read-only mode"),
                            f.remove.events(),
                            S.addClass(g.disabled)
                        },
                        is: {
                            initialLoad: function() {
                                return d
                            }
                        },
                        get: {
                            initialRating: function() {
                                return S.data(m.rating) !== r ? (S.removeData(m.rating),
                                S.data(m.rating)) : h.initialRating
                            },
                            maxRating: function() {
                                return S.data(m.maxRating) !== r ? (S.removeData(m.maxRating),
                                S.data(m.maxRating)) : h.maxRating
                            },
                            rating: function() {
                                var e = C.filter("." + g.active).length;
                                return f.verbose("Current rating retrieved", e),
                                e
                            }
                        },
                        set: {
                            rating: function(e) {
                                var t = e - 1 >= 0 ? e - 1 : 0
                                  , n = C.eq(t);
                                S.removeClass(g.selected),
                                C.removeClass(g.selected).removeClass(g.active),
                                e > 0 && (f.verbose("Setting current rating to", e),
                                n.prevAll().addBack().addClass(g.active)),
                                f.is.initialLoad() || h.onRate.call(w, e)
                            },
                            initialLoad: function() {
                                d = !0
                            }
                        },
                        setting: function(t, n) {
                            if (f.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                e.isPlainObject(h[t]) ? e.extend(!0, h[t], n) : h[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, f, t);
                            else {
                                if (n === r)
                                    return f[t];
                                f[t] = n
                            }
                        },
                        debug: function() {
                            !h.silent && h.debug && (h.performance ? f.performance.log(arguments) : (f.debug = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !h.silent && h.verbose && h.debug && (h.performance ? f.performance.log(arguments) : (f.verbose = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            f.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            h.silent || (f.error = Function.prototype.bind.call(console.error, console, h.name + ":"),
                            f.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                h.performance && (n = (t = (new Date).getTime()) - (a || t),
                                a = t,
                                s.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: w,
                                    "Execution Time": n
                                })),
                                clearTimeout(f.performance.timer),
                                f.performance.timer = setTimeout(f.performance.display, 500)
                            },
                            display: function() {
                                var t = h.name + ":"
                                  , n = 0;
                                a = !1,
                                clearTimeout(f.performance.timer),
                                e.each(s, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                o && (t += " '" + o + "'"),
                                i.length > 1 && (t += " (" + i.length + ")"),
                                (console.group !== r || console.table !== r) && s.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(s) : e.each(s, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                s = []
                            }
                        },
                        invoke: function(t, i, o) {
                            var a, s, c, l = x;
                            return i = i || u,
                            o = w || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, i) : s !== r && (c = s),
                            e.isArray(n) ? n.push(c) : n !== r ? n = [n, c] : c !== r && (n = c),
                            s
                        }
                    },
                    l ? (x === r && f.initialize(),
                    f.invoke(c)) : (x !== r && x.invoke("destroy"),
                    f.initialize())
                }),
                n !== r ? n : this
            }
            ,
            e.fn.rating.settings = {
                name: "Rating",
                namespace: "rating",
                slent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                initialRating: 0,
                interactive: !0,
                maxRating: 4,
                clearable: "auto",
                fireOnInit: !1,
                onRate: function(e) {},
                error: {
                    method: "The method you called is not defined",
                    noMaximum: "No maximum rating specified. Cannot generate HTML automatically"
                },
                metadata: {
                    rating: "rating",
                    maxRating: "maxRating"
                },
                className: {
                    active: "active",
                    disabled: "disabled",
                    selected: "selected",
                    loading: "loading"
                },
                selector: {
                    icon: ".icon"
                },
                templates: {
                    icon: function(e) {
                        for (var t = 1, n = ""; t <= e; )
                            n += '<i class="icon"></i>',
                            t++;
                        return n
                    }
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.search = function(i) {
                var o, a = e(this), s = a.selector || "", c = (new Date).getTime(), l = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1);
                return e(this).each(function() {
                    var h, p = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.search.settings, i) : e.extend({}, e.fn.search.settings), g = p.className, m = p.metadata, v = p.regExp, y = p.fields, b = p.selector, w = p.error, x = p.namespace, S = "." + x, C = x + "-module", _ = e(this), k = _.find(b.prompt), E = _.find(b.searchButton), T = _.find(b.results), P = _.find(b.result), A = (_.find(b.category),
                    this), O = _.data(C), $ = !1;
                    h = {
                        initialize: function() {
                            h.verbose("Initializing module"),
                            h.determine.searchFields(),
                            h.bind.events(),
                            h.set.type(),
                            h.create.results(),
                            h.instantiate()
                        },
                        instantiate: function() {
                            h.verbose("Storing instance of module", h),
                            O = h,
                            _.data(C, h)
                        },
                        destroy: function() {
                            h.verbose("Destroying instance"),
                            _.off(S).removeData(C)
                        },
                        refresh: function() {
                            h.debug("Refreshing selector cache"),
                            k = _.find(b.prompt),
                            E = _.find(b.searchButton),
                            _.find(b.category),
                            T = _.find(b.results),
                            P = _.find(b.result)
                        },
                        refreshResults: function() {
                            T = _.find(b.results),
                            P = _.find(b.result)
                        },
                        bind: {
                            events: function() {
                                h.verbose("Binding events to search"),
                                p.automatic && (_.on(h.get.inputEvent() + S, b.prompt, h.event.input),
                                k.attr("autocomplete", "off")),
                                _.on("focus" + S, b.prompt, h.event.focus).on("blur" + S, b.prompt, h.event.blur).on("keydown" + S, b.prompt, h.handleKeyboard).on("click" + S, b.searchButton, h.query).on("mousedown" + S, b.results, h.event.result.mousedown).on("mouseup" + S, b.results, h.event.result.mouseup).on("click" + S, b.result, h.event.result.click)
                            }
                        },
                        determine: {
                            searchFields: function() {
                                i && i.searchFields !== r && (p.searchFields = i.searchFields)
                            }
                        },
                        event: {
                            input: function() {
                                clearTimeout(h.timer),
                                h.timer = setTimeout(h.query, p.searchDelay)
                            },
                            focus: function() {
                                h.set.focus(),
                                h.has.minimumCharacters() && (h.query(),
                                h.can.show() && h.showResults())
                            },
                            blur: function(e) {
                                var t = function() {
                                    h.cancel.query(),
                                    h.remove.focus(),
                                    h.timer = setTimeout(h.hideResults, p.hideDelay)
                                };
                                n.activeElement === this || (h.resultsClicked ? (h.debug("Determining if user action caused search to close"),
                                _.one("click.close" + S, b.results, function(e) {
                                    return h.is.inMessage(e) || $ ? void k.focus() : ($ = !1,
                                    void (h.is.animating() || h.is.hidden() || t()))
                                })) : (h.debug("Input blurred without user action, closing results"),
                                t()))
                            },
                            result: {
                                mousedown: function() {
                                    h.resultsClicked = !0
                                },
                                mouseup: function() {
                                    h.resultsClicked = !1
                                },
                                click: function(n) {
                                    h.debug("Search result selected");
                                    var r = e(this)
                                      , i = r.find(b.title).eq(0)
                                      , o = r.is("a[href]") ? r : r.find("a[href]").eq(0)
                                      , a = o.attr("href") || !1
                                      , s = o.attr("target") || !1
                                      , c = (i.html(),
                                    i.length > 0 && i.text())
                                      , l = h.get.results()
                                      , u = r.data(m.result) || h.get.result(c, l);
                                    return e.isFunction(p.onSelect) && !1 === p.onSelect.call(A, u, l) ? (h.debug("Custom onSelect callback cancelled default select action"),
                                    void ($ = !0)) : (h.hideResults(),
                                    c && h.set.value(c),
                                    void (a && (h.verbose("Opening search link found in result", o),
                                    "_blank" == s || n.ctrlKey ? t.open(a) : t.location.href = a)))
                                }
                            }
                        },
                        handleKeyboard: function(e) {
                            var t, n = _.find(b.result), r = _.find(b.category), i = n.filter("." + g.active), o = n.index(i), a = n.length, s = i.length > 0, c = e.which;
                            if (27 == c && (h.verbose("Escape key pressed, blurring search field"),
                            h.trigger.blur()),
                            h.is.visible())
                                if (13 == c) {
                                    if (h.verbose("Enter key pressed, selecting active result"),
                                    n.filter("." + g.active).length > 0)
                                        return h.event.result.click.call(n.filter("." + g.active), e),
                                        e.preventDefault(),
                                        !1
                                } else
                                    38 == c && s ? (h.verbose("Up key pressed, changing active result"),
                                    t = o - 1 < 0 ? o : o - 1,
                                    r.removeClass(g.active),
                                    n.removeClass(g.active).eq(t).addClass(g.active).closest(r).addClass(g.active),
                                    e.preventDefault()) : 40 == c && (h.verbose("Down key pressed, changing active result"),
                                    t = o + 1 >= a ? o : o + 1,
                                    r.removeClass(g.active),
                                    n.removeClass(g.active).eq(t).addClass(g.active).closest(r).addClass(g.active),
                                    e.preventDefault());
                            else
                                13 == c && (h.verbose("Enter key pressed, executing query"),
                                h.query(),
                                h.set.buttonPressed(),
                                k.one("keyup", h.remove.buttonFocus))
                        },
                        setup: {
                            api: function(t) {
                                var n = {
                                    debug: p.debug,
                                    on: !1,
                                    cache: !0,
                                    action: "search",
                                    urlData: {
                                        query: t
                                    },
                                    onSuccess: function(e) {
                                        h.parse.response.call(A, e, t)
                                    },
                                    onAbort: function(e) {},
                                    onFailure: function() {
                                        h.displayMessage(w.serverError)
                                    },
                                    onError: h.error
                                };
                                e.extend(!0, n, p.apiSettings),
                                h.verbose("Setting up API request", n),
                                _.api(n)
                            }
                        },
                        can: {
                            useAPI: function() {
                                return e.fn.api !== r
                            },
                            show: function() {
                                return h.is.focused() && !h.is.visible() && !h.is.empty()
                            },
                            transition: function() {
                                return p.transition && e.fn.transition !== r && _.transition("is supported")
                            }
                        },
                        is: {
                            animating: function() {
                                return T.hasClass(g.animating)
                            },
                            hidden: function() {
                                return T.hasClass(g.hidden)
                            },
                            inMessage: function(t) {
                                if (t.target) {
                                    var r = e(t.target);
                                    return e.contains(n.documentElement, t.target) && r.closest(b.message).length > 0
                                }
                            },
                            empty: function() {
                                return "" === T.html()
                            },
                            visible: function() {
                                return T.filter(":visible").length > 0
                            },
                            focused: function() {
                                return k.filter(":focus").length > 0
                            }
                        },
                        trigger: {
                            blur: function() {
                                var e = n.createEvent("HTMLEvents")
                                  , t = k[0];
                                t && (h.verbose("Triggering native blur event"),
                                e.initEvent("blur", !1, !1),
                                t.dispatchEvent(e))
                            }
                        },
                        get: {
                            inputEvent: function() {
                                var e = k[0];
                                return e !== r && e.oninput !== r ? "input" : e !== r && e.onpropertychange !== r ? "propertychange" : "keyup"
                            },
                            value: function() {
                                return k.val()
                            },
                            results: function() {
                                return _.data(m.results)
                            },
                            result: function(t, n) {
                                var i = ["title", "id"]
                                  , o = !1;
                                return t = t !== r ? t : h.get.value(),
                                n = n !== r ? n : h.get.results(),
                                "category" === p.type ? (h.debug("Finding result that matches", t),
                                e.each(n, function(n, r) {
                                    if (e.isArray(r.results) && (o = h.search.object(t, r.results, i)[0]))
                                        return !1
                                })) : (h.debug("Finding result in results object", t),
                                o = h.search.object(t, n, i)[0]),
                                o || !1
                            }
                        },
                        select: {
                            firstResult: function() {
                                h.verbose("Selecting first result"),
                                P.first().addClass(g.active)
                            }
                        },
                        set: {
                            focus: function() {
                                _.addClass(g.focus)
                            },
                            loading: function() {
                                _.addClass(g.loading)
                            },
                            value: function(e) {
                                h.verbose("Setting search input value", e),
                                k.val(e)
                            },
                            type: function(e) {
                                e = e || p.type,
                                "category" == p.type && _.addClass(p.type)
                            },
                            buttonPressed: function() {
                                E.addClass(g.pressed)
                            }
                        },
                        remove: {
                            loading: function() {
                                _.removeClass(g.loading)
                            },
                            focus: function() {
                                _.removeClass(g.focus)
                            },
                            buttonPressed: function() {
                                E.removeClass(g.pressed)
                            }
                        },
                        query: function() {
                            var t = h.get.value()
                              , n = h.read.cache(t);
                            h.has.minimumCharacters() ? (n ? (h.debug("Reading result from cache", t),
                            h.save.results(n.results),
                            h.addResults(n.html),
                            h.inject.id(n.results)) : (h.debug("Querying for", t),
                            e.isPlainObject(p.source) || e.isArray(p.source) ? h.search.local(t) : h.can.useAPI() ? h.search.remote(t) : h.error(w.source)),
                            p.onSearchQuery.call(A, t)) : h.hideResults()
                        },
                        search: {
                            local: function(e) {
                                var t, n = h.search.object(e, p.content);
                                h.set.loading(),
                                h.save.results(n),
                                h.debug("Returned local search results", n),
                                t = h.generateResults({
                                    results: n
                                }),
                                h.remove.loading(),
                                h.addResults(t),
                                h.inject.id(n),
                                h.write.cache(e, {
                                    html: t,
                                    results: n
                                })
                            },
                            remote: function(e) {
                                _.api("is loading") && _.api("abort"),
                                h.setup.api(e),
                                _.api("query")
                            },
                            object: function(t, n, i) {
                                var o = []
                                  , a = []
                                  , s = t.toString().replace(v.escape, "\\$&")
                                  , c = new RegExp(v.beginsWith + s,"i")
                                  , l = function(t, n) {
                                    var r = -1 == e.inArray(n, o)
                                      , i = -1 == e.inArray(n, a);
                                    r && i && t.push(n)
                                };
                                return n = n || p.source,
                                i = i !== r ? i : p.searchFields,
                                e.isArray(i) || (i = [i]),
                                n === r || !1 === n ? (h.error(w.source),
                                []) : (e.each(i, function(r, i) {
                                    e.each(n, function(e, n) {
                                        "string" == typeof n[i] && (-1 !== n[i].search(c) ? l(o, n) : p.searchFullText && h.fuzzySearch(t, n[i]) && l(a, n))
                                    })
                                }),
                                e.merge(o, a))
                            }
                        },
                        fuzzySearch: function(e, t) {
                            var n = t.length
                              , r = e.length;
                            if ("string" != typeof e)
                                return !1;
                            if (e = e.toLowerCase(),
                            t = t.toLowerCase(),
                            r > n)
                                return !1;
                            if (r === n)
                                return e === t;
                            e: for (var i = 0, o = 0; i < r; i++) {
                                for (var a = e.charCodeAt(i); o < n; )
                                    if (t.charCodeAt(o++) === a)
                                        continue e;
                                return !1
                            }
                            return !0
                        },
                        parse: {
                            response: function(e, t) {
                                var n = h.generateResults(e);
                                h.verbose("Parsing server response", e),
                                e !== r && t !== r && e[y.results] !== r && (h.addResults(n),
                                h.inject.id(e[y.results]),
                                h.write.cache(t, {
                                    html: n,
                                    results: e[y.results]
                                }),
                                h.save.results(e[y.results]))
                            }
                        },
                        cancel: {
                            query: function() {
                                h.can.useAPI() && _.api("abort")
                            }
                        },
                        has: {
                            minimumCharacters: function() {
                                return h.get.value().length >= p.minCharacters
                            }
                        },
                        clear: {
                            cache: function(e) {
                                var t = _.data(m.cache);
                                e ? e && t && t[e] && (h.debug("Removing value from cache", e),
                                delete t[e],
                                _.data(m.cache, t)) : (h.debug("Clearing cache", e),
                                _.removeData(m.cache))
                            }
                        },
                        read: {
                            cache: function(e) {
                                var t = _.data(m.cache);
                                return !!p.cache && (h.verbose("Checking cache for generated html for query", e),
                                "object" == typeof t && t[e] !== r && t[e])
                            }
                        },
                        create: {
                            id: function(e, t) {
                                var n, i = e + 1;
                                return t !== r ? (n = String.fromCharCode(97 + t) + i,
                                h.verbose("Creating category result id", n)) : (n = i,
                                h.verbose("Creating result id", n)),
                                n
                            },
                            results: function() {
                                0 === T.length && (T = e("<div />").addClass(g.results).appendTo(_))
                            }
                        },
                        inject: {
                            result: function(e, t, n) {
                                h.verbose("Injecting result into results");
                                var i = n !== r ? T.children().eq(n).children(b.result).eq(t) : T.children(b.result).eq(t);
                                h.verbose("Injecting results metadata", i),
                                i.data(m.result, e)
                            },
                            id: function(t) {
                                h.debug("Injecting unique ids into results");
                                var n = 0
                                  , i = 0;
                                return "category" === p.type ? e.each(t, function(t, o) {
                                    i = 0,
                                    e.each(o.results, function(e, t) {
                                        var a = o.results[e];
                                        a.id === r && (a.id = h.create.id(i, n)),
                                        h.inject.result(a, i, n),
                                        i++
                                    }),
                                    n++
                                }) : e.each(t, function(e, n) {
                                    var o = t[e];
                                    o.id === r && (o.id = h.create.id(i)),
                                    h.inject.result(o, i),
                                    i++
                                }),
                                t
                            }
                        },
                        save: {
                            results: function(e) {
                                h.verbose("Saving current search results to metadata", e),
                                _.data(m.results, e)
                            }
                        },
                        write: {
                            cache: function(e, t) {
                                var n = _.data(m.cache) !== r ? _.data(m.cache) : {};
                                p.cache && (h.verbose("Writing generated html to cache", e, t),
                                n[e] = t,
                                _.data(m.cache, n))
                            }
                        },
                        addResults: function(t) {
                            return e.isFunction(p.onResultsAdd) && !1 === p.onResultsAdd.call(T, t) ? (h.debug("onResultsAdd callback cancelled default action"),
                            !1) : void (t ? (T.html(t),
                            h.refreshResults(),
                            p.selectFirstResult && h.select.firstResult(),
                            h.showResults()) : h.hideResults())
                        },
                        showResults: function() {
                            h.is.visible() || (h.can.transition() ? (h.debug("Showing results with css animations"),
                            T.transition({
                                animation: p.transition + " in",
                                debug: p.debug,
                                verbose: p.verbose,
                                duration: p.duration,
                                queue: !0
                            })) : (h.debug("Showing results with javascript"),
                            T.stop().fadeIn(p.duration, p.easing)),
                            p.onResultsOpen.call(T))
                        },
                        hideResults: function() {
                            h.is.visible() && (h.can.transition() ? (h.debug("Hiding results with css animations"),
                            T.transition({
                                animation: p.transition + " out",
                                debug: p.debug,
                                verbose: p.verbose,
                                duration: p.duration,
                                queue: !0
                            })) : (h.debug("Hiding results with javascript"),
                            T.stop().fadeOut(p.duration, p.easing)),
                            p.onResultsClose.call(T))
                        },
                        generateResults: function(t) {
                            h.debug("Generating html from response", t);
                            var n = p.templates[p.type]
                              , r = e.isPlainObject(t[y.results]) && !e.isEmptyObject(t[y.results])
                              , i = e.isArray(t[y.results]) && t[y.results].length > 0
                              , o = "";
                            return r || i ? (p.maxResults > 0 && (r ? "standard" == p.type && h.error(w.maxResults) : t[y.results] = t[y.results].slice(0, p.maxResults)),
                            e.isFunction(n) ? o = n(t, y) : h.error(w.noTemplate, !1)) : p.showNoResults && (o = h.displayMessage(w.noResults, "empty")),
                            p.onResults.call(A, t),
                            o
                        },
                        displayMessage: function(e, t) {
                            return t = t || "standard",
                            h.debug("Displaying message", e, t),
                            h.addResults(p.templates.message(e, t)),
                            p.templates.message(e, t)
                        },
                        setting: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, p, t);
                            else {
                                if (n === r)
                                    return p[t];
                                p[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                h[t] = n
                            }
                        },
                        debug: function() {
                            !p.silent && p.debug && (p.performance ? h.performance.log(arguments) : (h.debug = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !p.silent && p.verbose && p.debug && (p.performance ? h.performance.log(arguments) : (h.verbose = Function.prototype.bind.call(console.info, console, p.name + ":"),
                            h.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            p.silent || (h.error = Function.prototype.bind.call(console.error, console, p.name + ":"),
                            h.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                p.performance && (n = (t = (new Date).getTime()) - (c || t),
                                c = t,
                                l.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: A,
                                    "Execution Time": n
                                })),
                                clearTimeout(h.performance.timer),
                                h.performance.timer = setTimeout(h.performance.display, 500)
                            },
                            display: function() {
                                var t = p.name + ":"
                                  , n = 0;
                                c = !1,
                                clearTimeout(h.performance.timer),
                                e.each(l, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                s && (t += " '" + s + "'"),
                                a.length > 1 && (t += " (" + a.length + ")"),
                                (console.group !== r || console.table !== r) && l.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(l) : e.each(l, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                l = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = O;
                            return n = n || f,
                            i = A || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    d ? (O === r && h.initialize(),
                    h.invoke(u)) : (O !== r && O.invoke("destroy"),
                    h.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.search.settings = {
                name: "Search",
                namespace: "search",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                type: "standard",
                minCharacters: 1,
                selectFirstResult: !1,
                apiSettings: !1,
                source: !1,
                searchFields: ["title", "description"],
                displayField: "",
                searchFullText: !0,
                automatic: !0,
                hideDelay: 0,
                searchDelay: 200,
                maxResults: 7,
                cache: !0,
                showNoResults: !0,
                transition: "scale",
                duration: 200,
                easing: "easeOutExpo",
                onSelect: !1,
                onResultsAdd: !1,
                onSearchQuery: function(e) {},
                onResults: function(e) {},
                onResultsOpen: function() {},
                onResultsClose: function() {},
                className: {
                    animating: "animating",
                    active: "active",
                    empty: "empty",
                    focus: "focus",
                    hidden: "hidden",
                    loading: "loading",
                    results: "results",
                    pressed: "down"
                },
                error: {
                    source: "Cannot search. No source used, and Semantic API module was not included",
                    noResults: "Your search returned no results",
                    logging: "Error in debug logging, exiting.",
                    noEndpoint: "No search endpoint was specified",
                    noTemplate: "A valid template name was not specified.",
                    serverError: "There was an issue querying the server.",
                    maxResults: "Results must be an array to use maxResults setting",
                    method: "The method you called is not defined."
                },
                metadata: {
                    cache: "cache",
                    results: "results",
                    result: "result"
                },
                regExp: {
                    escape: /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
                    beginsWith: "(?:s|^)"
                },
                fields: {
                    categories: "results",
                    categoryName: "name",
                    categoryResults: "results",
                    description: "description",
                    image: "image",
                    price: "price",
                    results: "results",
                    title: "title",
                    url: "url",
                    action: "action",
                    actionText: "text",
                    actionURL: "url"
                },
                selector: {
                    prompt: ".prompt",
                    searchButton: ".search.button",
                    results: ".results",
                    message: ".results > .message",
                    category: ".category",
                    result: ".result",
                    title: ".title, .name"
                },
                templates: {
                    escape: function(e) {
                        var t = {
                            "&": "&amp;",
                            "<": "&lt;",
                            ">": "&gt;",
                            '"': "&quot;",
                            "'": "&#x27;",
                            "`": "&#x60;"
                        };
                        return /[&<>"'`]/.test(e) ? e.replace(/[&<>"'`]/g, function(e) {
                            return t[e]
                        }) : e
                    },
                    message: function(e, t) {
                        var n = "";
                        return e !== r && t !== r && (n += '<div class="message ' + t + '">',
                        n += "empty" == t ? '<div class="header">No Results</div class="header"><div class="description">' + e + '</div class="description">' : ' <div class="description">' + e + "</div>",
                        n += "</div>"),
                        n
                    },
                    category: function(t, n) {
                        var i = "";
                        return e.fn.search.settings.templates.escape,
                        t[n.categoryResults] !== r && (e.each(t[n.categoryResults], function(t, o) {
                            o[n.results] !== r && o.results.length > 0 && (i += '<div class="category">',
                            o[n.categoryName] !== r && (i += '<div class="name">' + o[n.categoryName] + "</div>"),
                            e.each(o.results, function(e, t) {
                                i += t[n.url] ? '<a class="result" href="' + t[n.url] + '">' : '<a class="result">',
                                t[n.image] !== r && (i += '<div class="image"> <img src="' + t[n.image] + '"></div>'),
                                i += '<div class="content">',
                                t[n.price] !== r && (i += '<div class="price">' + t[n.price] + "</div>"),
                                t[n.title] !== r && (i += '<div class="title">' + t[n.title] + "</div>"),
                                t[n.description] !== r && (i += '<div class="description">' + t[n.description] + "</div>"),
                                i += "</div>",
                                i += "</a>"
                            }),
                            i += "</div>")
                        }),
                        t[n.action] && (i += '<a href="' + t[n.action][n.actionURL] + '" class="action">' + t[n.action][n.actionText] + "</a>"),
                        i)
                    },
                    standard: function(t, n) {
                        var i = "";
                        return t[n.results] !== r && (e.each(t[n.results], function(e, t) {
                            i += t[n.url] ? '<a class="result" href="' + t[n.url] + '">' : '<a class="result">',
                            t[n.image] !== r && (i += '<div class="image"> <img src="' + t[n.image] + '"></div>'),
                            i += '<div class="content">',
                            t[n.price] !== r && (i += '<div class="price">' + t[n.price] + "</div>"),
                            t[n.title] !== r && (i += '<div class="title">' + t[n.title] + "</div>"),
                            t[n.description] !== r && (i += '<div class="description">' + t[n.description] + "</div>"),
                            i += "</div>",
                            i += "</a>"
                        }),
                        t[n.action] && (i += '<a href="' + t[n.action][n.actionURL] + '" class="action">' + t[n.action][n.actionText] + "</a>"),
                        i)
                    }
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.shape = function(i) {
                var o, a = e(this), s = (e("body"),
                (new Date).getTime()), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1), f = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
                    setTimeout(e, 0)
                }
                ;
                return a.each(function() {
                    var t, h, p, g = a.selector || "", m = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.shape.settings, i) : e.extend({}, e.fn.shape.settings), v = m.namespace, y = m.selector, b = m.error, w = m.className, x = "." + v, S = "module-" + v, C = e(this), _ = C.find(y.sides), k = C.find(y.side), E = !1, T = this, P = C.data(S);
                    p = {
                        initialize: function() {
                            p.verbose("Initializing module for", T),
                            p.set.defaultSide(),
                            p.instantiate()
                        },
                        instantiate: function() {
                            p.verbose("Storing instance of module", p),
                            P = p,
                            C.data(S, P)
                        },
                        destroy: function() {
                            p.verbose("Destroying previous module for", T),
                            C.removeData(S).off(x)
                        },
                        refresh: function() {
                            p.verbose("Refreshing selector cache for", T),
                            C = e(T),
                            _ = e(this).find(y.shape),
                            k = e(this).find(y.side)
                        },
                        repaint: function() {
                            p.verbose("Forcing repaint event"),
                            (_[0] || n.createElement("div")).offsetWidth
                        },
                        animate: function(e, n) {
                            p.verbose("Animating box with properties", e),
                            n = n || function(e) {
                                p.verbose("Executing animation callback"),
                                e !== r && e.stopPropagation(),
                                p.reset(),
                                p.set.active()
                            }
                            ,
                            m.beforeChange.call(h[0]),
                            p.get.transitionEvent() ? (p.verbose("Starting CSS animation"),
                            C.addClass(w.animating),
                            _.css(e).one(p.get.transitionEvent(), n),
                            p.set.duration(m.duration),
                            f(function() {
                                C.addClass(w.animating),
                                t.addClass(w.hidden)
                            })) : n()
                        },
                        queue: function(e) {
                            p.debug("Queueing animation of", e),
                            _.one(p.get.transitionEvent(), function() {
                                p.debug("Executing queued animation"),
                                setTimeout(function() {
                                    C.shape(e)
                                }, 0)
                            })
                        },
                        reset: function() {
                            p.verbose("Animating states reset"),
                            C.removeClass(w.animating).attr("style", "").removeAttr("style"),
                            _.attr("style", "").removeAttr("style"),
                            k.attr("style", "").removeAttr("style").removeClass(w.hidden),
                            h.removeClass(w.animating).attr("style", "").removeAttr("style")
                        },
                        is: {
                            complete: function() {
                                return k.filter("." + w.active)[0] == h[0]
                            },
                            animating: function() {
                                return C.hasClass(w.animating)
                            }
                        },
                        set: {
                            defaultSide: function() {
                                t = C.find("." + m.className.active),
                                h = t.next(y.side).length > 0 ? t.next(y.side) : C.find(y.side).first(),
                                E = !1,
                                p.verbose("Active side set to", t),
                                p.verbose("Next side set to", h)
                            },
                            duration: function(e) {
                                e = "number" == typeof (e = e || m.duration) ? e + "ms" : e,
                                p.verbose("Setting animation duration", e),
                                (m.duration || 0 === m.duration) && _.add(k).css({
                                    "-webkit-transition-duration": e,
                                    "-moz-transition-duration": e,
                                    "-ms-transition-duration": e,
                                    "-o-transition-duration": e,
                                    "transition-duration": e
                                })
                            },
                            currentStageSize: function() {
                                var e = C.find("." + m.className.active)
                                  , t = e.outerWidth(!0)
                                  , n = e.outerHeight(!0);
                                C.css({
                                    width: t,
                                    height: n
                                })
                            },
                            stageSize: function() {
                                var e = C.clone().addClass(w.loading)
                                  , t = e.find("." + m.className.active)
                                  , n = E ? e.find(y.side).eq(E) : t.next(y.side).length > 0 ? t.next(y.side) : e.find(y.side).first()
                                  , r = "next" == m.width ? n.outerWidth(!0) : "initial" == m.width ? C.width() : m.width
                                  , i = "next" == m.height ? n.outerHeight(!0) : "initial" == m.height ? C.height() : m.height;
                                t.removeClass(w.active),
                                n.addClass(w.active),
                                e.insertAfter(C),
                                e.remove(),
                                "auto" != m.width && (C.css("width", r + m.jitter),
                                p.verbose("Specifying width during animation", r)),
                                "auto" != m.height && (C.css("height", i + m.jitter),
                                p.verbose("Specifying height during animation", i))
                            },
                            nextSide: function(e) {
                                E = e,
                                h = k.filter(e),
                                E = k.index(h),
                                0 === h.length && (p.set.defaultSide(),
                                p.error(b.side)),
                                p.verbose("Next side manually set to", h)
                            },
                            active: function() {
                                p.verbose("Setting new side to active", h),
                                k.removeClass(w.active),
                                h.addClass(w.active),
                                m.onChange.call(h[0]),
                                p.set.defaultSide()
                            }
                        },
                        flip: {
                            up: function() {
                                if (!p.is.complete() || p.is.animating() || m.allowRepeats)
                                    if (p.is.animating())
                                        p.queue("flip up");
                                    else {
                                        p.debug("Flipping up", h);
                                        var e = p.get.transform.up();
                                        p.set.stageSize(),
                                        p.stage.above(),
                                        p.animate(e)
                                    }
                                else
                                    p.debug("Side already visible", h)
                            },
                            down: function() {
                                if (!p.is.complete() || p.is.animating() || m.allowRepeats)
                                    if (p.is.animating())
                                        p.queue("flip down");
                                    else {
                                        p.debug("Flipping down", h);
                                        var e = p.get.transform.down();
                                        p.set.stageSize(),
                                        p.stage.below(),
                                        p.animate(e)
                                    }
                                else
                                    p.debug("Side already visible", h)
                            },
                            left: function() {
                                if (!p.is.complete() || p.is.animating() || m.allowRepeats)
                                    if (p.is.animating())
                                        p.queue("flip left");
                                    else {
                                        p.debug("Flipping left", h);
                                        var e = p.get.transform.left();
                                        p.set.stageSize(),
                                        p.stage.left(),
                                        p.animate(e)
                                    }
                                else
                                    p.debug("Side already visible", h)
                            },
                            right: function() {
                                if (!p.is.complete() || p.is.animating() || m.allowRepeats)
                                    if (p.is.animating())
                                        p.queue("flip right");
                                    else {
                                        p.debug("Flipping right", h);
                                        var e = p.get.transform.right();
                                        p.set.stageSize(),
                                        p.stage.right(),
                                        p.animate(e)
                                    }
                                else
                                    p.debug("Side already visible", h)
                            },
                            over: function() {
                                return !p.is.complete() || p.is.animating() || m.allowRepeats ? void (p.is.animating() ? p.queue("flip over") : (p.debug("Flipping over", h),
                                p.set.stageSize(),
                                p.stage.behind(),
                                p.animate(p.get.transform.over()))) : void p.debug("Side already visible", h)
                            },
                            back: function() {
                                return !p.is.complete() || p.is.animating() || m.allowRepeats ? void (p.is.animating() ? p.queue("flip back") : (p.debug("Flipping back", h),
                                p.set.stageSize(),
                                p.stage.behind(),
                                p.animate(p.get.transform.back()))) : void p.debug("Side already visible", h)
                            }
                        },
                        get: {
                            transform: {
                                up: function() {
                                    return {
                                        transform: "translateY(" + -(t.outerHeight(!0) - h.outerHeight(!0)) / 2 + "px) translateZ(" + -t.outerHeight(!0) / 2 + "px) rotateX(-90deg)"
                                    }
                                },
                                down: function() {
                                    return {
                                        transform: "translateY(" + -(t.outerHeight(!0) - h.outerHeight(!0)) / 2 + "px) translateZ(" + -t.outerHeight(!0) / 2 + "px) rotateX(90deg)"
                                    }
                                },
                                left: function() {
                                    return {
                                        transform: "translateX(" + -(t.outerWidth(!0) - h.outerWidth(!0)) / 2 + "px) translateZ(" + -t.outerWidth(!0) / 2 + "px) rotateY(90deg)"
                                    }
                                },
                                right: function() {
                                    return {
                                        transform: "translateX(" + -(t.outerWidth(!0) - h.outerWidth(!0)) / 2 + "px) translateZ(" + -t.outerWidth(!0) / 2 + "px) rotateY(-90deg)"
                                    }
                                },
                                over: function() {
                                    return {
                                        transform: "translateX(" + -(t.outerWidth(!0) - h.outerWidth(!0)) / 2 + "px) rotateY(180deg)"
                                    }
                                },
                                back: function() {
                                    return {
                                        transform: "translateX(" + -(t.outerWidth(!0) - h.outerWidth(!0)) / 2 + "px) rotateY(-180deg)"
                                    }
                                }
                            },
                            transitionEvent: function() {
                                var e, t = n.createElement("element"), i = {
                                    transition: "transitionend",
                                    OTransition: "oTransitionEnd",
                                    MozTransition: "transitionend",
                                    WebkitTransition: "webkitTransitionEnd"
                                };
                                for (e in i)
                                    if (t.style[e] !== r)
                                        return i[e]
                            },
                            nextSide: function() {
                                return t.next(y.side).length > 0 ? t.next(y.side) : C.find(y.side).first()
                            }
                        },
                        stage: {
                            above: function() {
                                var e = {
                                    origin: (t.outerHeight(!0) - h.outerHeight(!0)) / 2,
                                    depth: {
                                        active: h.outerHeight(!0) / 2,
                                        next: t.outerHeight(!0) / 2
                                    }
                                };
                                p.verbose("Setting the initial animation position as above", h, e),
                                _.css({
                                    transform: "translateZ(-" + e.depth.active + "px)"
                                }),
                                t.css({
                                    transform: "rotateY(0deg) translateZ(" + e.depth.active + "px)"
                                }),
                                h.addClass(w.animating).css({
                                    top: e.origin + "px",
                                    transform: "rotateX(90deg) translateZ(" + e.depth.next + "px)"
                                })
                            },
                            below: function() {
                                var e = {
                                    origin: (t.outerHeight(!0) - h.outerHeight(!0)) / 2,
                                    depth: {
                                        active: h.outerHeight(!0) / 2,
                                        next: t.outerHeight(!0) / 2
                                    }
                                };
                                p.verbose("Setting the initial animation position as below", h, e),
                                _.css({
                                    transform: "translateZ(-" + e.depth.active + "px)"
                                }),
                                t.css({
                                    transform: "rotateY(0deg) translateZ(" + e.depth.active + "px)"
                                }),
                                h.addClass(w.animating).css({
                                    top: e.origin + "px",
                                    transform: "rotateX(-90deg) translateZ(" + e.depth.next + "px)"
                                })
                            },
                            left: function() {
                                var e = t.outerWidth(!0)
                                  , n = h.outerWidth(!0)
                                  , r = {
                                    origin: (e - n) / 2,
                                    depth: {
                                        active: n / 2,
                                        next: e / 2
                                    }
                                };
                                p.verbose("Setting the initial animation position as left", h, r),
                                _.css({
                                    transform: "translateZ(-" + r.depth.active + "px)"
                                }),
                                t.css({
                                    transform: "rotateY(0deg) translateZ(" + r.depth.active + "px)"
                                }),
                                h.addClass(w.animating).css({
                                    left: r.origin + "px",
                                    transform: "rotateY(-90deg) translateZ(" + r.depth.next + "px)"
                                })
                            },
                            right: function() {
                                var e = t.outerWidth(!0)
                                  , n = h.outerWidth(!0)
                                  , r = {
                                    origin: (e - n) / 2,
                                    depth: {
                                        active: n / 2,
                                        next: e / 2
                                    }
                                };
                                p.verbose("Setting the initial animation position as left", h, r),
                                _.css({
                                    transform: "translateZ(-" + r.depth.active + "px)"
                                }),
                                t.css({
                                    transform: "rotateY(0deg) translateZ(" + r.depth.active + "px)"
                                }),
                                h.addClass(w.animating).css({
                                    left: r.origin + "px",
                                    transform: "rotateY(90deg) translateZ(" + r.depth.next + "px)"
                                })
                            },
                            behind: function() {
                                var e = t.outerWidth(!0)
                                  , n = h.outerWidth(!0)
                                  , r = {
                                    origin: (e - n) / 2,
                                    depth: {
                                        active: n / 2,
                                        next: e / 2
                                    }
                                };
                                p.verbose("Setting the initial animation position as behind", h, r),
                                t.css({
                                    transform: "rotateY(0deg)"
                                }),
                                h.addClass(w.animating).css({
                                    left: r.origin + "px",
                                    transform: "rotateY(-180deg)"
                                })
                            }
                        },
                        setting: function(t, n) {
                            if (p.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, m, t);
                            else {
                                if (n === r)
                                    return m[t];
                                e.isPlainObject(m[t]) ? e.extend(!0, m[t], n) : m[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, p, t);
                            else {
                                if (n === r)
                                    return p[t];
                                p[t] = n
                            }
                        },
                        debug: function() {
                            !m.silent && m.debug && (m.performance ? p.performance.log(arguments) : (p.debug = Function.prototype.bind.call(console.info, console, m.name + ":"),
                            p.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !m.silent && m.verbose && m.debug && (m.performance ? p.performance.log(arguments) : (p.verbose = Function.prototype.bind.call(console.info, console, m.name + ":"),
                            p.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            m.silent || (p.error = Function.prototype.bind.call(console.error, console, m.name + ":"),
                            p.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                m.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: T,
                                    "Execution Time": n
                                })),
                                clearTimeout(p.performance.timer),
                                p.performance.timer = setTimeout(p.performance.display, 500)
                            },
                            display: function() {
                                var t = m.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(p.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                g && (t += " '" + g + "'"),
                                a.length > 1 && (t += " (" + a.length + ")"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = P;
                            return n = n || d,
                            i = T || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    u ? (P === r && p.initialize(),
                    p.invoke(l)) : (P !== r && P.invoke("destroy"),
                    p.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.shape.settings = {
                name: "Shape",
                silent: !1,
                debug: !1,
                verbose: !1,
                jitter: 0,
                performance: !0,
                namespace: "shape",
                width: "initial",
                height: "initial",
                beforeChange: function() {},
                onChange: function() {},
                allowRepeats: !1,
                duration: !1,
                error: {
                    side: "You tried to switch to a side that does not exist.",
                    method: "The method you called is not defined"
                },
                className: {
                    animating: "animating",
                    hidden: "hidden",
                    loading: "loading",
                    active: "active"
                },
                selector: {
                    sides: ".sides",
                    side: ".side"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.sidebar = function(i) {
                var o, a = e(this), s = e(t), c = e(n), l = e("html"), u = e("head"), d = a.selector || "", f = (new Date).getTime(), h = [], p = arguments[0], g = "string" == typeof p, m = [].slice.call(arguments, 1), v = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
                    setTimeout(e, 0)
                }
                ;
                return a.each(function() {
                    var a, y, b, w, x, S, C = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.sidebar.settings, i) : e.extend({}, e.fn.sidebar.settings), _ = C.selector, k = C.className, E = C.namespace, T = C.regExp, P = C.error, A = "." + E, O = "module-" + E, $ = e(this), j = e(C.context), D = $.children(_.sidebar), R = (j.children(_.fixed),
                    j.children(_.pusher)), M = this, I = $.data(O);
                    S = {
                        initialize: function() {
                            S.debug("Initializing sidebar", i),
                            S.create.id(),
                            x = S.get.transitionEvent(),
                            S.is.ios() && S.set.ios(),
                            C.delaySetup ? v(S.setup.layout) : S.setup.layout(),
                            v(function() {
                                S.setup.cache()
                            }),
                            S.instantiate()
                        },
                        instantiate: function() {
                            S.verbose("Storing instance of module", S),
                            I = S,
                            $.data(O, S)
                        },
                        create: {
                            id: function() {
                                b = (Math.random().toString(16) + "000000000").substr(2, 8),
                                y = "." + b,
                                S.verbose("Creating unique id for element", b)
                            }
                        },
                        destroy: function() {
                            S.verbose("Destroying previous module for", $),
                            $.off(A).removeData(O),
                            S.is.ios() && S.remove.ios(),
                            j.off(y),
                            s.off(y),
                            c.off(y)
                        },
                        event: {
                            clickaway: function(e) {
                                var t = R.find(e.target).length > 0 || R.is(e.target)
                                  , n = j.is(e.target);
                                t && (S.verbose("User clicked on dimmed page"),
                                S.hide()),
                                n && (S.verbose("User clicked on dimmable context (scaled out page)"),
                                S.hide())
                            },
                            touch: function(e) {},
                            containScroll: function(e) {
                                M.scrollTop <= 0 && (M.scrollTop = 1),
                                M.scrollTop + M.offsetHeight >= M.scrollHeight && (M.scrollTop = M.scrollHeight - M.offsetHeight - 1)
                            },
                            scroll: function(t) {
                                0 === e(t.target).closest(_.sidebar).length && t.preventDefault()
                            }
                        },
                        bind: {
                            clickaway: function() {
                                S.verbose("Adding clickaway events to context", j),
                                C.closable && j.on("click" + y, S.event.clickaway).on("touchend" + y, S.event.clickaway)
                            },
                            scrollLock: function() {
                                C.scrollLock && (S.debug("Disabling page scroll"),
                                s.on("DOMMouseScroll" + y, S.event.scroll)),
                                S.verbose("Adding events to contain sidebar scroll"),
                                c.on("touchmove" + y, S.event.touch),
                                $.on("scroll" + A, S.event.containScroll)
                            }
                        },
                        unbind: {
                            clickaway: function() {
                                S.verbose("Removing clickaway events from context", j),
                                j.off(y)
                            },
                            scrollLock: function() {
                                S.verbose("Removing scroll lock from page"),
                                c.off(y),
                                s.off(y),
                                $.off("scroll" + A)
                            }
                        },
                        add: {
                            inlineCSS: function() {
                                var t, n = S.cache.width || $.outerWidth(), r = S.cache.height || $.outerHeight(), i = S.is.rtl(), o = S.get.direction(), s = {
                                    left: n,
                                    right: -n,
                                    top: r,
                                    bottom: -r
                                };
                                i && (S.verbose("RTL detected, flipping widths"),
                                s.left = -n,
                                s.right = n),
                                t = "<style>",
                                "left" === o || "right" === o ? (S.debug("Adding CSS rules for animation distance", n),
                                t += " .ui.visible." + o + ".sidebar ~ .fixed, .ui.visible." + o + ".sidebar ~ .pusher {   -webkit-transform: translate3d(" + s[o] + "px, 0, 0);           transform: translate3d(" + s[o] + "px, 0, 0); }") : "top" !== o && "bottom" != o || (t += " .ui.visible." + o + ".sidebar ~ .fixed, .ui.visible." + o + ".sidebar ~ .pusher {   -webkit-transform: translate3d(0, " + s[o] + "px, 0);           transform: translate3d(0, " + s[o] + "px, 0); }"),
                                S.is.ie() && ("left" === o || "right" === o ? (S.debug("Adding CSS rules for animation distance", n),
                                t += " body.pushable > .ui.visible." + o + ".sidebar ~ .pusher:after {   -webkit-transform: translate3d(" + s[o] + "px, 0, 0);           transform: translate3d(" + s[o] + "px, 0, 0); }") : "top" !== o && "bottom" != o || (t += " body.pushable > .ui.visible." + o + ".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, " + s[o] + "px, 0);           transform: translate3d(0, " + s[o] + "px, 0); }"),
                                t += " body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),
                                a = e(t += "</style>").appendTo(u),
                                S.debug("Adding sizing css to head", a)
                            }
                        },
                        refresh: function() {
                            S.verbose("Refreshing selector cache"),
                            j = e(C.context),
                            D = j.children(_.sidebar),
                            R = j.children(_.pusher),
                            j.children(_.fixed),
                            S.clear.cache()
                        },
                        refreshSidebars: function() {
                            S.verbose("Refreshing other sidebars"),
                            D = j.children(_.sidebar)
                        },
                        repaint: function() {
                            S.verbose("Forcing repaint event"),
                            M.style.display = "none",
                            M.offsetHeight,
                            M.scrollTop = M.scrollTop,
                            M.style.display = ""
                        },
                        setup: {
                            cache: function() {
                                S.cache = {
                                    width: $.outerWidth(),
                                    height: $.outerHeight(),
                                    rtl: "rtl" == $.css("direction")
                                }
                            },
                            layout: function() {
                                0 === j.children(_.pusher).length && (S.debug("Adding wrapper element for sidebar"),
                                S.error(P.pusher),
                                R = e('<div class="pusher" />'),
                                j.children().not(_.omitted).not(D).wrapAll(R),
                                S.refresh()),
                                0 !== $.nextAll(_.pusher).length && $.nextAll(_.pusher)[0] === R[0] || (S.debug("Moved sidebar to correct parent element"),
                                S.error(P.movedSidebar, M),
                                $.detach().prependTo(j),
                                S.refresh()),
                                S.clear.cache(),
                                S.set.pushable(),
                                S.set.direction()
                            }
                        },
                        attachEvents: function(t, n) {
                            var r = e(t);
                            n = e.isFunction(S[n]) ? S[n] : S.toggle,
                            r.length > 0 ? (S.debug("Attaching sidebar events to element", t, n),
                            r.on("click" + A, n)) : S.error(P.notFound, t)
                        },
                        show: function(t) {
                            if (t = e.isFunction(t) ? t : function() {}
                            ,
                            S.is.hidden()) {
                                if (S.refreshSidebars(),
                                C.overlay && (S.error(P.overlay),
                                C.transition = "overlay"),
                                S.refresh(),
                                S.othersActive())
                                    if (S.debug("Other sidebars currently visible"),
                                    C.exclusive) {
                                        if ("overlay" != C.transition)
                                            return void S.hideOthers(S.show);
                                        S.hideOthers()
                                    } else
                                        C.transition = "overlay";
                                S.pushPage(function() {
                                    t.call(M),
                                    C.onShow.call(M)
                                }),
                                C.onChange.call(M),
                                C.onVisible.call(M)
                            } else
                                S.debug("Sidebar is already visible")
                        },
                        hide: function(t) {
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            (S.is.visible() || S.is.animating()) && (S.debug("Hiding sidebar", t),
                            S.refreshSidebars(),
                            S.pullPage(function() {
                                t.call(M),
                                C.onHidden.call(M)
                            }),
                            C.onChange.call(M),
                            C.onHide.call(M))
                        },
                        othersAnimating: function() {
                            return D.not($).filter("." + k.animating).length > 0
                        },
                        othersVisible: function() {
                            return D.not($).filter("." + k.visible).length > 0
                        },
                        othersActive: function() {
                            return S.othersVisible() || S.othersAnimating()
                        },
                        hideOthers: function(e) {
                            var t = D.not($).filter("." + k.visible)
                              , n = t.length
                              , r = 0;
                            e = e || function() {}
                            ,
                            t.sidebar("hide", function() {
                                ++r == n && e()
                            })
                        },
                        toggle: function() {
                            S.verbose("Determining toggled direction"),
                            S.is.hidden() ? S.show() : S.hide()
                        },
                        pushPage: function(t) {
                            var n, r, i, o = S.get.transition(), a = "overlay" === o || S.othersActive() ? $ : R;
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            "scale down" == C.transition && S.scrollToTop(),
                            S.set.transition(o),
                            S.repaint(),
                            n = function() {
                                S.bind.clickaway(),
                                S.add.inlineCSS(),
                                S.set.animating(),
                                S.set.visible()
                            }
                            ,
                            r = function() {
                                S.set.dimmed()
                            }
                            ,
                            i = function(e) {
                                e.target == a[0] && (a.off(x + y, i),
                                S.remove.animating(),
                                S.bind.scrollLock(),
                                t.call(M))
                            }
                            ,
                            a.off(x + y),
                            a.on(x + y, i),
                            v(n),
                            C.dimPage && !S.othersVisible() && v(r)
                        },
                        pullPage: function(t) {
                            var n, r, i = S.get.transition(), o = "overlay" == i || S.othersActive() ? $ : R;
                            t = e.isFunction(t) ? t : function() {}
                            ,
                            S.verbose("Removing context push state", S.get.direction()),
                            S.unbind.clickaway(),
                            S.unbind.scrollLock(),
                            n = function() {
                                S.set.transition(i),
                                S.set.animating(),
                                S.remove.visible(),
                                C.dimPage && !S.othersVisible() && R.removeClass(k.dimmed)
                            }
                            ,
                            r = function(e) {
                                e.target == o[0] && (o.off(x + y, r),
                                S.remove.animating(),
                                S.remove.transition(),
                                S.remove.inlineCSS(),
                                ("scale down" == i || C.returnScroll && S.is.mobile()) && S.scrollBack(),
                                t.call(M))
                            }
                            ,
                            o.off(x + y),
                            o.on(x + y, r),
                            v(n)
                        },
                        scrollToTop: function() {
                            S.verbose("Scrolling to top of page to avoid animation issues"),
                            w = e(t).scrollTop(),
                            $.scrollTop(0),
                            t.scrollTo(0, 0)
                        },
                        scrollBack: function() {
                            S.verbose("Scrolling back to original page position"),
                            t.scrollTo(0, w)
                        },
                        clear: {
                            cache: function() {
                                S.verbose("Clearing cached dimensions"),
                                S.cache = {}
                            }
                        },
                        set: {
                            ios: function() {
                                l.addClass(k.ios)
                            },
                            pushed: function() {
                                j.addClass(k.pushed)
                            },
                            pushable: function() {
                                j.addClass(k.pushable)
                            },
                            dimmed: function() {
                                R.addClass(k.dimmed)
                            },
                            active: function() {
                                $.addClass(k.active)
                            },
                            animating: function() {
                                $.addClass(k.animating)
                            },
                            transition: function(e) {
                                e = e || S.get.transition(),
                                $.addClass(e)
                            },
                            direction: function(e) {
                                e = e || S.get.direction(),
                                $.addClass(k[e])
                            },
                            visible: function() {
                                $.addClass(k.visible)
                            },
                            overlay: function() {
                                $.addClass(k.overlay)
                            }
                        },
                        remove: {
                            inlineCSS: function() {
                                S.debug("Removing inline css styles", a),
                                a && a.length > 0 && a.remove()
                            },
                            ios: function() {
                                l.removeClass(k.ios)
                            },
                            pushed: function() {
                                j.removeClass(k.pushed)
                            },
                            pushable: function() {
                                j.removeClass(k.pushable)
                            },
                            active: function() {
                                $.removeClass(k.active)
                            },
                            animating: function() {
                                $.removeClass(k.animating)
                            },
                            transition: function(e) {
                                e = e || S.get.transition(),
                                $.removeClass(e)
                            },
                            direction: function(e) {
                                e = e || S.get.direction(),
                                $.removeClass(k[e])
                            },
                            visible: function() {
                                $.removeClass(k.visible)
                            },
                            overlay: function() {
                                $.removeClass(k.overlay)
                            }
                        },
                        get: {
                            direction: function() {
                                return $.hasClass(k.top) ? k.top : $.hasClass(k.right) ? k.right : $.hasClass(k.bottom) ? k.bottom : k.left
                            },
                            transition: function() {
                                var e, t = S.get.direction();
                                return e = S.is.mobile() ? "auto" == C.mobileTransition ? C.defaultTransition.mobile[t] : C.mobileTransition : "auto" == C.transition ? C.defaultTransition.computer[t] : C.transition,
                                S.verbose("Determined transition", e),
                                e
                            },
                            transitionEvent: function() {
                                var e, t = n.createElement("element"), i = {
                                    transition: "transitionend",
                                    OTransition: "oTransitionEnd",
                                    MozTransition: "transitionend",
                                    WebkitTransition: "webkitTransitionEnd"
                                };
                                for (e in i)
                                    if (t.style[e] !== r)
                                        return i[e]
                            }
                        },
                        is: {
                            ie: function() {
                                return !t.ActiveXObject && "ActiveXObject"in t || "ActiveXObject"in t
                            },
                            ios: function() {
                                var e = navigator.userAgent
                                  , t = e.match(T.ios)
                                  , n = e.match(T.mobileChrome);
                                return !(!t || n || (S.verbose("Browser was found to be iOS", e),
                                0))
                            },
                            mobile: function() {
                                var e = navigator.userAgent;
                                return e.match(T.mobile) ? (S.verbose("Browser was found to be mobile", e),
                                !0) : (S.verbose("Browser is not mobile, using regular transition", e),
                                !1)
                            },
                            hidden: function() {
                                return !S.is.visible()
                            },
                            visible: function() {
                                return $.hasClass(k.visible)
                            },
                            open: function() {
                                return S.is.visible()
                            },
                            closed: function() {
                                return S.is.hidden()
                            },
                            vertical: function() {
                                return $.hasClass(k.top)
                            },
                            animating: function() {
                                return j.hasClass(k.animating)
                            },
                            rtl: function() {
                                return S.cache.rtl === r && (S.cache.rtl = "rtl" == $.css("direction")),
                                S.cache.rtl
                            }
                        },
                        setting: function(t, n) {
                            if (S.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, C, t);
                            else {
                                if (n === r)
                                    return C[t];
                                e.isPlainObject(C[t]) ? e.extend(!0, C[t], n) : C[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, S, t);
                            else {
                                if (n === r)
                                    return S[t];
                                S[t] = n
                            }
                        },
                        debug: function() {
                            !C.silent && C.debug && (C.performance ? S.performance.log(arguments) : (S.debug = Function.prototype.bind.call(console.info, console, C.name + ":"),
                            S.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !C.silent && C.verbose && C.debug && (C.performance ? S.performance.log(arguments) : (S.verbose = Function.prototype.bind.call(console.info, console, C.name + ":"),
                            S.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            C.silent || (S.error = Function.prototype.bind.call(console.error, console, C.name + ":"),
                            S.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                C.performance && (n = (t = (new Date).getTime()) - (f || t),
                                f = t,
                                h.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: M,
                                    "Execution Time": n
                                })),
                                clearTimeout(S.performance.timer),
                                S.performance.timer = setTimeout(S.performance.display, 500)
                            },
                            display: function() {
                                var t = C.name + ":"
                                  , n = 0;
                                f = !1,
                                clearTimeout(S.performance.timer),
                                e.each(h, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                d && (t += " '" + d + "'"),
                                (console.group !== r || console.table !== r) && h.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(h) : e.each(h, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                h = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = I;
                            return n = n || m,
                            i = M || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (S.error(P.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    g ? (I === r && S.initialize(),
                    S.invoke(p)) : (I !== r && S.invoke("destroy"),
                    S.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.sidebar.settings = {
                name: "Sidebar",
                namespace: "sidebar",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                transition: "auto",
                mobileTransition: "auto",
                defaultTransition: {
                    computer: {
                        left: "uncover",
                        right: "uncover",
                        top: "overlay",
                        bottom: "overlay"
                    },
                    mobile: {
                        left: "uncover",
                        right: "uncover",
                        top: "overlay",
                        bottom: "overlay"
                    }
                },
                context: "body",
                exclusive: !1,
                closable: !0,
                dimPage: !0,
                scrollLock: !1,
                returnScroll: !1,
                delaySetup: !1,
                duration: 500,
                onChange: function() {},
                onShow: function() {},
                onHide: function() {},
                onHidden: function() {},
                onVisible: function() {},
                className: {
                    active: "active",
                    animating: "animating",
                    dimmed: "dimmed",
                    ios: "ios",
                    pushable: "pushable",
                    pushed: "pushed",
                    right: "right",
                    top: "top",
                    left: "left",
                    bottom: "bottom",
                    visible: "visible"
                },
                selector: {
                    fixed: ".fixed",
                    omitted: "script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",
                    pusher: ".pusher",
                    sidebar: ".ui.sidebar"
                },
                regExp: {
                    ios: /(iPad|iPhone|iPod)/g,
                    mobileChrome: /(CriOS)/g,
                    mobile: /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g
                },
                error: {
                    method: "The method you called is not defined.",
                    pusher: "Had to add pusher element. For optimal performance make sure body content is inside a pusher element",
                    movedSidebar: "Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",
                    overlay: "The overlay setting is no longer supported, use animation: overlay",
                    notFound: "There were no elements that matched the specified selector"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.sticky = function(i) {
                var o, a = e(this), s = a.selector || "", c = (new Date).getTime(), l = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1);
                return a.each(function() {
                    var a, h, p, g, m, v = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.sticky.settings, i) : e.extend({}, e.fn.sticky.settings), y = v.className, b = v.namespace, w = v.error, x = "." + b, S = "module-" + b, C = e(this), _ = e(t), k = e(v.scrollContext), E = (C.selector,
                    C.data(S)), T = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
                        setTimeout(e, 0)
                    }
                    , P = this;
                    m = {
                        initialize: function() {
                            m.determineContainer(),
                            m.determineContext(),
                            m.verbose("Initializing sticky", v, a),
                            m.save.positions(),
                            m.checkErrors(),
                            m.bind.events(),
                            v.observeChanges && m.observeChanges(),
                            m.instantiate()
                        },
                        instantiate: function() {
                            m.verbose("Storing instance of module", m),
                            E = m,
                            C.data(S, m)
                        },
                        destroy: function() {
                            m.verbose("Destroying previous instance"),
                            m.reset(),
                            p && p.disconnect(),
                            g && g.disconnect(),
                            _.off("load" + x, m.event.load).off("resize" + x, m.event.resize),
                            k.off("scrollchange" + x, m.event.scrollchange),
                            C.removeData(S)
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && (p = new MutationObserver(m.event.documentChanged),
                            g = new MutationObserver(m.event.changed),
                            p.observe(n, {
                                childList: !0,
                                subtree: !0
                            }),
                            g.observe(P, {
                                childList: !0,
                                subtree: !0
                            }),
                            g.observe(h[0], {
                                childList: !0,
                                subtree: !0
                            }),
                            m.debug("Setting up mutation observer", g))
                        },
                        determineContainer: function() {
                            a = v.container ? e(v.container) : C.offsetParent()
                        },
                        determineContext: function() {
                            0 !== (h = v.context ? e(v.context) : a).length || m.error(w.invalidContext, v.context, C)
                        },
                        checkErrors: function() {
                            if (m.is.hidden() && m.error(w.visible, C),
                            m.cache.element.height > m.cache.context.height)
                                return m.reset(),
                                void m.error(w.elementSize, C)
                        },
                        bind: {
                            events: function() {
                                _.on("load" + x, m.event.load).on("resize" + x, m.event.resize),
                                k.off("scroll" + x).on("scroll" + x, m.event.scroll).on("scrollchange" + x, m.event.scrollchange)
                            }
                        },
                        event: {
                            changed: function(e) {
                                clearTimeout(m.timer),
                                m.timer = setTimeout(function() {
                                    m.verbose("DOM tree modified, updating sticky menu", e),
                                    m.refresh()
                                }, 100)
                            },
                            documentChanged: function(t) {
                                [].forEach.call(t, function(t) {
                                    t.removedNodes && [].forEach.call(t.removedNodes, function(t) {
                                        (t == P || e(t).find(P).length > 0) && (m.debug("Element removed from DOM, tearing down events"),
                                        m.destroy())
                                    })
                                })
                            },
                            load: function() {
                                m.verbose("Page contents finished loading"),
                                T(m.refresh)
                            },
                            resize: function() {
                                m.verbose("Window resized"),
                                T(m.refresh)
                            },
                            scroll: function() {
                                T(function() {
                                    k.triggerHandler("scrollchange" + x, k.scrollTop())
                                })
                            },
                            scrollchange: function(e, t) {
                                m.stick(t),
                                v.onScroll.call(P)
                            }
                        },
                        refresh: function(e) {
                            m.reset(),
                            v.context || m.determineContext(),
                            e && m.determineContainer(),
                            m.save.positions(),
                            m.stick(),
                            v.onReposition.call(P)
                        },
                        supports: {
                            sticky: function() {
                                var t = e("<div/>");
                                return t[0],
                                t.addClass(y.supported),
                                t.css("position").match("sticky")
                            }
                        },
                        save: {
                            lastScroll: function(e) {
                                m.lastScroll = e
                            },
                            elementScroll: function(e) {
                                m.elementScroll = e
                            },
                            positions: function() {
                                var e = {
                                    height: k.height()
                                }
                                  , t = {
                                    margin: {
                                        top: parseInt(C.css("margin-top"), 10),
                                        bottom: parseInt(C.css("margin-bottom"), 10)
                                    },
                                    offset: C.offset(),
                                    width: C.outerWidth(),
                                    height: C.outerHeight()
                                }
                                  , n = {
                                    offset: h.offset(),
                                    height: h.outerHeight()
                                };
                                a.outerHeight(),
                                m.is.standardScroll() || (m.debug("Non-standard scroll. Removing scroll offset from element offset"),
                                e.top = k.scrollTop(),
                                e.left = k.scrollLeft(),
                                t.offset.top += e.top,
                                n.offset.top += e.top,
                                t.offset.left += e.left,
                                n.offset.left += e.left),
                                m.cache = {
                                    fits: t.height < e.height,
                                    scrollContext: {
                                        height: e.height
                                    },
                                    element: {
                                        margin: t.margin,
                                        top: t.offset.top - t.margin.top,
                                        left: t.offset.left,
                                        width: t.width,
                                        height: t.height,
                                        bottom: t.offset.top + t.height
                                    },
                                    context: {
                                        top: n.offset.top,
                                        height: n.height,
                                        bottom: n.offset.top + n.height
                                    }
                                },
                                m.set.containerSize(),
                                m.set.size(),
                                m.stick(),
                                m.debug("Caching element positions", m.cache)
                            }
                        },
                        get: {
                            direction: function(e) {
                                var t = "down";
                                return e = e || k.scrollTop(),
                                m.lastScroll !== r && (m.lastScroll < e ? t = "down" : m.lastScroll > e && (t = "up")),
                                t
                            },
                            scrollChange: function(e) {
                                return e = e || k.scrollTop(),
                                m.lastScroll ? e - m.lastScroll : 0
                            },
                            currentElementScroll: function() {
                                return m.elementScroll ? m.elementScroll : m.is.top() ? Math.abs(parseInt(C.css("top"), 10)) || 0 : Math.abs(parseInt(C.css("bottom"), 10)) || 0
                            },
                            elementScroll: function(e) {
                                e = e || k.scrollTop();
                                var t = m.cache.element
                                  , n = m.cache.scrollContext
                                  , r = m.get.scrollChange(e)
                                  , i = t.height - n.height + v.offset
                                  , o = m.get.currentElementScroll() + r;
                                return m.cache.fits || o < 0 ? 0 : o > i ? i : o
                            }
                        },
                        remove: {
                            lastScroll: function() {
                                delete m.lastScroll
                            },
                            elementScroll: function(e) {
                                delete m.elementScroll
                            },
                            offset: function() {
                                C.css("margin-top", "")
                            }
                        },
                        set: {
                            offset: function() {
                                m.verbose("Setting offset on element", v.offset),
                                C.css("margin-top", v.offset)
                            },
                            containerSize: function() {
                                var e = a.get(0).tagName;
                                "HTML" === e || "body" == e ? m.determineContainer() : Math.abs(a.outerHeight() - m.cache.context.height) > v.jitter && (m.debug("Context has padding, specifying exact height for container", m.cache.context.height),
                                a.css({
                                    height: m.cache.context.height
                                }))
                            },
                            minimumSize: function() {
                                var e = m.cache.element;
                                a.css("min-height", e.height)
                            },
                            scroll: function(e) {
                                m.debug("Setting scroll on element", e),
                                m.elementScroll != e && (m.is.top() && C.css("bottom", "").css("top", -e),
                                m.is.bottom() && C.css("top", "").css("bottom", e))
                            },
                            size: function() {
                                0 !== m.cache.element.height && 0 !== m.cache.element.width && (P.style.setProperty("width", m.cache.element.width + "px", "important"),
                                P.style.setProperty("height", m.cache.element.height + "px", "important"))
                            }
                        },
                        is: {
                            standardScroll: function() {
                                return k[0] == t
                            },
                            top: function() {
                                return C.hasClass(y.top)
                            },
                            bottom: function() {
                                return C.hasClass(y.bottom)
                            },
                            initialPosition: function() {
                                return !m.is.fixed() && !m.is.bound()
                            },
                            hidden: function() {
                                return !C.is(":visible")
                            },
                            bound: function() {
                                return C.hasClass(y.bound)
                            },
                            fixed: function() {
                                return C.hasClass(y.fixed)
                            }
                        },
                        stick: function(e) {
                            var t = e || k.scrollTop()
                              , n = m.cache
                              , r = n.fits
                              , i = n.element
                              , o = n.scrollContext
                              , a = n.context
                              , s = m.is.bottom() && v.pushing ? v.bottomOffset : v.offset
                              , c = (e = {
                                top: t + s,
                                bottom: t + s + o.height
                            },
                            m.get.direction(e.top),
                            r ? 0 : m.get.elementScroll(e.top))
                              , l = !r;
                            0 !== i.height && (m.is.initialPosition() ? e.top >= a.bottom ? (m.debug("Initial element position is bottom of container"),
                            m.bindBottom()) : e.top > i.top && (i.height + e.top - c >= a.bottom ? (m.debug("Initial element position is bottom of container"),
                            m.bindBottom()) : (m.debug("Initial element position is fixed"),
                            m.fixTop())) : m.is.fixed() ? m.is.top() ? e.top <= i.top ? (m.debug("Fixed element reached top of container"),
                            m.setInitialPosition()) : i.height + e.top - c >= a.bottom ? (m.debug("Fixed element reached bottom of container"),
                            m.bindBottom()) : l && (m.set.scroll(c),
                            m.save.lastScroll(e.top),
                            m.save.elementScroll(c)) : m.is.bottom() && (e.bottom - i.height <= i.top ? (m.debug("Bottom fixed rail has reached top of container"),
                            m.setInitialPosition()) : e.bottom >= a.bottom ? (m.debug("Bottom fixed rail has reached bottom of container"),
                            m.bindBottom()) : l && (m.set.scroll(c),
                            m.save.lastScroll(e.top),
                            m.save.elementScroll(c))) : m.is.bottom() && (e.top <= i.top ? (m.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),
                            m.setInitialPosition()) : v.pushing ? m.is.bound() && e.bottom <= a.bottom && (m.debug("Fixing bottom attached element to bottom of browser."),
                            m.fixBottom()) : m.is.bound() && e.top <= a.bottom - i.height && (m.debug("Fixing bottom attached element to top of browser."),
                            m.fixTop())))
                        },
                        bindTop: function() {
                            m.debug("Binding element to top of parent container"),
                            m.remove.offset(),
                            C.css({
                                left: "",
                                top: "",
                                marginBottom: ""
                            }).removeClass(y.fixed).removeClass(y.bottom).addClass(y.bound).addClass(y.top),
                            v.onTop.call(P),
                            v.onUnstick.call(P)
                        },
                        bindBottom: function() {
                            m.debug("Binding element to bottom of parent container"),
                            m.remove.offset(),
                            C.css({
                                left: "",
                                top: ""
                            }).removeClass(y.fixed).removeClass(y.top).addClass(y.bound).addClass(y.bottom),
                            v.onBottom.call(P),
                            v.onUnstick.call(P)
                        },
                        setInitialPosition: function() {
                            m.debug("Returning to initial position"),
                            m.unfix(),
                            m.unbind()
                        },
                        fixTop: function() {
                            m.debug("Fixing element to top of page"),
                            m.set.minimumSize(),
                            m.set.offset(),
                            C.css({
                                left: m.cache.element.left,
                                bottom: "",
                                marginBottom: ""
                            }).removeClass(y.bound).removeClass(y.bottom).addClass(y.fixed).addClass(y.top),
                            v.onStick.call(P)
                        },
                        fixBottom: function() {
                            m.debug("Sticking element to bottom of page"),
                            m.set.minimumSize(),
                            m.set.offset(),
                            C.css({
                                left: m.cache.element.left,
                                bottom: "",
                                marginBottom: ""
                            }).removeClass(y.bound).removeClass(y.top).addClass(y.fixed).addClass(y.bottom),
                            v.onStick.call(P)
                        },
                        unbind: function() {
                            m.is.bound() && (m.debug("Removing container bound position on element"),
                            m.remove.offset(),
                            C.removeClass(y.bound).removeClass(y.top).removeClass(y.bottom))
                        },
                        unfix: function() {
                            m.is.fixed() && (m.debug("Removing fixed position on element"),
                            m.remove.offset(),
                            C.removeClass(y.fixed).removeClass(y.top).removeClass(y.bottom),
                            v.onUnstick.call(P))
                        },
                        reset: function() {
                            m.debug("Resetting elements position"),
                            m.unbind(),
                            m.unfix(),
                            m.resetCSS(),
                            m.remove.offset(),
                            m.remove.lastScroll()
                        },
                        resetCSS: function() {
                            C.css({
                                width: "",
                                height: ""
                            }),
                            a.css({
                                height: ""
                            })
                        },
                        setting: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, v, t);
                            else {
                                if (n === r)
                                    return v[t];
                                v[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, m, t);
                            else {
                                if (n === r)
                                    return m[t];
                                m[t] = n
                            }
                        },
                        debug: function() {
                            !v.silent && v.debug && (v.performance ? m.performance.log(arguments) : (m.debug = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            m.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !v.silent && v.verbose && v.debug && (v.performance ? m.performance.log(arguments) : (m.verbose = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            m.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            v.silent || (m.error = Function.prototype.bind.call(console.error, console, v.name + ":"),
                            m.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                v.performance && (n = (t = (new Date).getTime()) - (c || t),
                                c = t,
                                l.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: P,
                                    "Execution Time": n
                                })),
                                clearTimeout(m.performance.timer),
                                m.performance.timer = setTimeout(m.performance.display, 0)
                            },
                            display: function() {
                                var t = v.name + ":"
                                  , n = 0;
                                c = !1,
                                clearTimeout(m.performance.timer),
                                e.each(l, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                s && (t += " '" + s + "'"),
                                (console.group !== r || console.table !== r) && l.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(l) : e.each(l, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                l = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = E;
                            return n = n || f,
                            i = P || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    d ? (E === r && m.initialize(),
                    m.invoke(u)) : (E !== r && E.invoke("destroy"),
                    m.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.sticky.settings = {
                name: "Sticky",
                namespace: "sticky",
                silent: !1,
                debug: !1,
                verbose: !0,
                performance: !0,
                pushing: !1,
                context: !1,
                container: !1,
                scrollContext: t,
                offset: 0,
                bottomOffset: 0,
                jitter: 5,
                observeChanges: !1,
                onReposition: function() {},
                onScroll: function() {},
                onStick: function() {},
                onUnstick: function() {},
                onTop: function() {},
                onBottom: function() {},
                error: {
                    container: "Sticky element must be inside a relative container",
                    visible: "Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",
                    method: "The method you called is not defined.",
                    invalidContext: "Context specified does not exist",
                    elementSize: "Sticky element is larger than its container, cannot create sticky."
                },
                className: {
                    bound: "bound",
                    fixed: "fixed",
                    supported: "native",
                    top: "top",
                    bottom: "bottom"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.tab = function(i) {
                var o, a = e(e.isFunction(this) ? t : this), s = a.selector || "", c = (new Date).getTime(), l = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1), h = !1;
                return a.each(function() {
                    var p, g, m, v, y, b, w = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.tab.settings, i) : e.extend({}, e.fn.tab.settings), x = w.className, S = w.metadata, C = w.selector, _ = w.error, k = "." + w.namespace, E = "module-" + w.namespace, T = e(this), P = {}, A = !0, O = 0, $ = this, j = T.data(E);
                    y = {
                        initialize: function() {
                            y.debug("Initializing tab menu item", T),
                            y.fix.callbacks(),
                            y.determineTabs(),
                            y.debug("Determining tabs", w.context, g),
                            w.auto && y.set.auto(),
                            y.bind.events(),
                            w.history && !h && (y.initializeHistory(),
                            h = !0),
                            y.instantiate()
                        },
                        instantiate: function() {
                            y.verbose("Storing instance of module", y),
                            j = y,
                            T.data(E, y)
                        },
                        destroy: function() {
                            y.debug("Destroying tabs", T),
                            T.removeData(E).off(k)
                        },
                        bind: {
                            events: function() {
                                e.isWindow($) || (y.debug("Attaching tab activation events to element", T),
                                T.on("click" + k, y.event.click))
                            }
                        },
                        determineTabs: function() {
                            var t;
                            "parent" === w.context ? (T.closest(C.ui).length > 0 ? (t = T.closest(C.ui),
                            y.verbose("Using closest UI element as parent", t)) : t = T,
                            p = t.parent(),
                            y.verbose("Determined parent element for creating context", p)) : w.context ? (p = e(w.context),
                            y.verbose("Using selector for tab context", w.context, p)) : p = e("body"),
                            w.childrenOnly ? (g = p.children(C.tabs),
                            y.debug("Searching tab context children for tabs", p, g)) : (g = p.find(C.tabs),
                            y.debug("Searching tab context for tabs", p, g))
                        },
                        fix: {
                            callbacks: function() {
                                e.isPlainObject(i) && (i.onTabLoad || i.onTabInit) && (i.onTabLoad && (i.onLoad = i.onTabLoad,
                                delete i.onTabLoad,
                                y.error(_.legacyLoad, i.onLoad)),
                                i.onTabInit && (i.onFirstLoad = i.onTabInit,
                                delete i.onTabInit,
                                y.error(_.legacyInit, i.onFirstLoad)),
                                w = e.extend(!0, {}, e.fn.tab.settings, i))
                            }
                        },
                        initializeHistory: function() {
                            if (y.debug("Initializing page state"),
                            e.address === r)
                                return y.error(_.state),
                                !1;
                            if ("state" == w.historyType) {
                                if (y.debug("Using HTML5 to manage state"),
                                !1 === w.path)
                                    return y.error(_.path),
                                    !1;
                                e.address.history(!0).state(w.path)
                            }
                            e.address.bind("change", y.event.history.change)
                        },
                        event: {
                            click: function(t) {
                                var n = e(this).data(S.tab);
                                n !== r ? (w.history ? (y.verbose("Updating page state", t),
                                e.address.value(n)) : (y.verbose("Changing tab", t),
                                y.changeTab(n)),
                                t.preventDefault()) : y.debug("No tab specified")
                            },
                            history: {
                                change: function(t) {
                                    var n = t.pathNames.join("/") || y.get.initialPath()
                                      , i = w.templates.determineTitle(n) || !1;
                                    y.performance.display(),
                                    y.debug("History change event", n, t),
                                    b = t,
                                    n !== r && y.changeTab(n),
                                    i && e.address.title(i)
                                }
                            }
                        },
                        refresh: function() {
                            m && (y.debug("Refreshing tab", m),
                            y.changeTab(m))
                        },
                        cache: {
                            read: function(e) {
                                return e !== r && P[e]
                            },
                            add: function(e, t) {
                                e = e || m,
                                y.debug("Adding cached content for", e),
                                P[e] = t
                            },
                            remove: function(e) {
                                e = e || m,
                                y.debug("Removing cached content for", e),
                                delete P[e]
                            }
                        },
                        set: {
                            auto: function() {
                                var t = "string" == typeof w.path ? w.path.replace(/\/$/, "") + "/{$tab}" : "/{$tab}";
                                y.verbose("Setting up automatic tab retrieval from server", t),
                                e.isPlainObject(w.apiSettings) ? w.apiSettings.url = t : w.apiSettings = {
                                    url: t
                                }
                            },
                            loading: function(e) {
                                var t = y.get.tabElement(e);
                                t.hasClass(x.loading) || (y.verbose("Setting loading state for", t),
                                t.addClass(x.loading).siblings(g).removeClass(x.active + " " + x.loading),
                                t.length > 0 && w.onRequest.call(t[0], e))
                            },
                            state: function(t) {
                                e.address.value(t)
                            }
                        },
                        changeTab: function(n) {
                            var r = t.history && t.history.pushState && w.ignoreFirstLoad && A
                              , i = w.auto || e.isPlainObject(w.apiSettings)
                              , o = i && !r ? y.utilities.pathToArray(n) : y.get.defaultPathArray(n);
                            n = y.utilities.arrayToPath(o),
                            e.each(o, function(t, a) {
                                var s, c, l, u, d = o.slice(0, t + 1), f = y.utilities.arrayToPath(d), h = y.is.tab(f), g = t + 1 == o.length, C = y.get.tabElement(f);
                                if (y.verbose("Looking for tab", a),
                                h) {
                                    if (y.verbose("Tab was found", a),
                                    m = f,
                                    v = y.utilities.filterArray(o, d),
                                    g ? u = !0 : (c = o.slice(0, t + 2),
                                    l = y.utilities.arrayToPath(c),
                                    (u = !y.is.tab(l)) && y.verbose("Tab parameters found", c)),
                                    u && i)
                                        return r ? (y.debug("Ignoring remote content on first tab load", f),
                                        A = !1,
                                        y.cache.add(n, C.html()),
                                        y.activate.all(f),
                                        w.onFirstLoad.call(C[0], f, v, b),
                                        w.onLoad.call(C[0], f, v, b)) : (y.activate.navigation(f),
                                        y.fetch.content(f, n)),
                                        !1;
                                    y.debug("Opened local tab", f),
                                    y.activate.all(f),
                                    y.cache.read(f) || (y.cache.add(f, !0),
                                    y.debug("First time tab loaded calling tab init"),
                                    w.onFirstLoad.call(C[0], f, v, b)),
                                    w.onLoad.call(C[0], f, v, b)
                                } else {
                                    if (-1 != n.search("/") || "" === n)
                                        return y.error(_.missingTab, T, p, f),
                                        !1;
                                    if (f = (s = e("#" + n + ', a[name="' + n + '"]')).closest("[data-tab]").data(S.tab),
                                    C = y.get.tabElement(f),
                                    s && s.length > 0 && f)
                                        return y.debug("Anchor link used, opening parent tab", C, s),
                                        C.hasClass(x.active) || setTimeout(function() {
                                            y.scrollTo(s)
                                        }, 0),
                                        y.activate.all(f),
                                        y.cache.read(f) || (y.cache.add(f, !0),
                                        y.debug("First time tab loaded calling tab init"),
                                        w.onFirstLoad.call(C[0], f, v, b)),
                                        w.onLoad.call(C[0], f, v, b),
                                        !1
                                }
                            })
                        },
                        scrollTo: function(t) {
                            var r = !!(t && t.length > 0) && t.offset().top;
                            !1 !== r && (y.debug("Forcing scroll to an in-page link in a hidden tab", r, t),
                            e(n).scrollTop(r))
                        },
                        update: {
                            content: function(t, n, i) {
                                var o = y.get.tabElement(t)
                                  , a = o[0];
                                i = i !== r ? i : w.evaluateScripts,
                                "string" == typeof w.cacheType && "dom" == w.cacheType.toLowerCase() && "string" != typeof n ? o.empty().append(e(n).clone(!0)) : i ? (y.debug("Updating HTML and evaluating inline scripts", t, n),
                                o.html(n)) : (y.debug("Updating HTML", t, n),
                                a.innerHTML = n)
                            }
                        },
                        fetch: {
                            content: function(t, n) {
                                var i, o, a = y.get.tabElement(t), s = {
                                    dataType: "html",
                                    encodeParameters: !1,
                                    on: "now",
                                    cache: w.alwaysRefresh,
                                    headers: {
                                        "X-Remote": !0
                                    },
                                    onSuccess: function(e) {
                                        "response" == w.cacheType && y.cache.add(n, e),
                                        y.update.content(t, e),
                                        t == m ? (y.debug("Content loaded", t),
                                        y.activate.tab(t)) : y.debug("Content loaded in background", t),
                                        w.onFirstLoad.call(a[0], t, v, b),
                                        w.onLoad.call(a[0], t, v, b),
                                        "string" == typeof w.cacheType && "dom" == w.cacheType.toLowerCase() && a.children().length > 0 ? setTimeout(function() {
                                            var e = a.children().clone(!0);
                                            e = e.not("script"),
                                            y.cache.add(n, e)
                                        }, 0) : y.cache.add(n, a.html())
                                    },
                                    urlData: {
                                        tab: n
                                    }
                                }, c = a.api("get request") || !1, l = c && "pending" === c.state();
                                n = n || t,
                                o = y.cache.read(n),
                                w.cache && o ? (y.activate.tab(t),
                                y.debug("Adding cached content", n),
                                "once" == w.evaluateScripts ? y.update.content(t, o, !1) : y.update.content(t, o),
                                w.onLoad.call(a[0], t, v, b)) : l ? (y.set.loading(t),
                                y.debug("Content is already loading", n)) : e.api !== r ? (i = e.extend(!0, {}, w.apiSettings, s),
                                y.debug("Retrieving remote content", n, i),
                                y.set.loading(t),
                                a.api(i)) : y.error(_.api)
                            }
                        },
                        activate: {
                            all: function(e) {
                                y.activate.tab(e),
                                y.activate.navigation(e)
                            },
                            tab: function(e) {
                                var t = y.get.tabElement(e)
                                  , n = "siblings" == w.deactivate ? t.siblings(g) : g.not(t)
                                  , r = t.hasClass(x.active);
                                y.verbose("Showing tab content for", t),
                                r || (t.addClass(x.active),
                                n.removeClass(x.active + " " + x.loading),
                                t.length > 0 && w.onVisible.call(t[0], e))
                            },
                            navigation: function(e) {
                                var t = y.get.navElement(e)
                                  , n = "siblings" == w.deactivate ? t.siblings(a) : a.not(t)
                                  , r = t.hasClass(x.active);
                                y.verbose("Activating tab navigation for", t, e),
                                r || (t.addClass(x.active),
                                n.removeClass(x.active + " " + x.loading))
                            }
                        },
                        deactivate: {
                            all: function() {
                                y.deactivate.navigation(),
                                y.deactivate.tabs()
                            },
                            navigation: function() {
                                a.removeClass(x.active)
                            },
                            tabs: function() {
                                g.removeClass(x.active + " " + x.loading)
                            }
                        },
                        is: {
                            tab: function(e) {
                                return e !== r && y.get.tabElement(e).length > 0
                            }
                        },
                        get: {
                            initialPath: function() {
                                return a.eq(0).data(S.tab) || g.eq(0).data(S.tab)
                            },
                            path: function() {
                                return e.address.value()
                            },
                            defaultPathArray: function(e) {
                                return y.utilities.pathToArray(y.get.defaultPath(e))
                            },
                            defaultPath: function(e) {
                                var t = a.filter("[data-" + S.tab + '^="' + e + '/"]').eq(0).data(S.tab) || !1;
                                if (t) {
                                    if (y.debug("Found default tab", t),
                                    O < w.maxDepth)
                                        return O++,
                                        y.get.defaultPath(t);
                                    y.error(_.recursion)
                                } else
                                    y.debug("No default tabs found for", e, g);
                                return O = 0,
                                e
                            },
                            navElement: function(e) {
                                return e = e || m,
                                a.filter("[data-" + S.tab + '="' + e + '"]')
                            },
                            tabElement: function(e) {
                                var t, n, r, i;
                                return e = e || m,
                                r = y.utilities.pathToArray(e),
                                i = y.utilities.last(r),
                                t = g.filter("[data-" + S.tab + '="' + e + '"]'),
                                n = g.filter("[data-" + S.tab + '="' + i + '"]'),
                                t.length > 0 ? t : n
                            },
                            tab: function() {
                                return m
                            }
                        },
                        utilities: {
                            filterArray: function(t, n) {
                                return e.grep(t, function(t) {
                                    return -1 == e.inArray(t, n)
                                })
                            },
                            last: function(t) {
                                return !!e.isArray(t) && t[t.length - 1]
                            },
                            pathToArray: function(e) {
                                return e === r && (e = m),
                                "string" == typeof e ? e.split("/") : [e]
                            },
                            arrayToPath: function(t) {
                                return !!e.isArray(t) && t.join("/")
                            }
                        },
                        setting: function(t, n) {
                            if (y.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, w, t);
                            else {
                                if (n === r)
                                    return w[t];
                                e.isPlainObject(w[t]) ? e.extend(!0, w[t], n) : w[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, y, t);
                            else {
                                if (n === r)
                                    return y[t];
                                y[t] = n
                            }
                        },
                        debug: function() {
                            !w.silent && w.debug && (w.performance ? y.performance.log(arguments) : (y.debug = Function.prototype.bind.call(console.info, console, w.name + ":"),
                            y.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !w.silent && w.verbose && w.debug && (w.performance ? y.performance.log(arguments) : (y.verbose = Function.prototype.bind.call(console.info, console, w.name + ":"),
                            y.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            w.silent || (y.error = Function.prototype.bind.call(console.error, console, w.name + ":"),
                            y.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                w.performance && (n = (t = (new Date).getTime()) - (c || t),
                                c = t,
                                l.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: $,
                                    "Execution Time": n
                                })),
                                clearTimeout(y.performance.timer),
                                y.performance.timer = setTimeout(y.performance.display, 500)
                            },
                            display: function() {
                                var t = w.name + ":"
                                  , n = 0;
                                c = !1,
                                clearTimeout(y.performance.timer),
                                e.each(l, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                s && (t += " '" + s + "'"),
                                (console.group !== r || console.table !== r) && l.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(l) : e.each(l, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                l = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = j;
                            return n = n || f,
                            i = $ || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (y.error(_.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    d ? (j === r && y.initialize(),
                    y.invoke(u)) : (j !== r && j.invoke("destroy"),
                    y.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.tab = function() {
                e(t).tab.apply(this, arguments)
            }
            ,
            e.fn.tab.settings = {
                name: "Tab",
                namespace: "tab",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                auto: !1,
                history: !1,
                historyType: "hash",
                path: !1,
                context: !1,
                childrenOnly: !1,
                maxDepth: 25,
                deactivate: "siblings",
                alwaysRefresh: !1,
                cache: !0,
                cacheType: "response",
                ignoreFirstLoad: !1,
                apiSettings: !1,
                evaluateScripts: "once",
                onFirstLoad: function(e, t, n) {},
                onLoad: function(e, t, n) {},
                onVisible: function(e, t, n) {},
                onRequest: function(e, t, n) {},
                templates: {
                    determineTitle: function(e) {}
                },
                error: {
                    api: "You attempted to load content without API module",
                    method: "The method you called is not defined",
                    missingTab: "Activated tab cannot be found. Tabs are case-sensitive.",
                    noContent: "The tab you specified is missing a content url.",
                    path: "History enabled, but no path was specified",
                    recursion: "Max recursive depth reached",
                    legacyInit: "onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",
                    legacyLoad: "onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",
                    state: "History requires Asual's Address library <https://github.com/asual/jquery-address>"
                },
                metadata: {
                    tab: "tab",
                    loaded: "loaded",
                    promise: "promise"
                },
                className: {
                    loading: "loading",
                    active: "active"
                },
                selector: {
                    tabs: ".ui.tab",
                    ui: ".ui"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.transition = function() {
                var i, o = e(this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments, u = l[0], d = [].slice.call(arguments, 1), f = "string" == typeof u;
                return t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame,
                o.each(function(t) {
                    var h, p, g, m, v, y, b, w, x, S = e(this), C = this;
                    (x = {
                        initialize: function() {
                            h = x.get.settings.apply(C, l),
                            m = h.className,
                            g = h.error,
                            v = h.metadata,
                            w = "." + h.namespace,
                            b = "module-" + h.namespace,
                            p = S.data(b) || x,
                            y = x.get.animationEndEvent(),
                            f && (f = x.invoke(u)),
                            !1 === f && (x.verbose("Converted arguments into settings object", h),
                            h.interval ? x.delay(h.animate) : x.animate(),
                            x.instantiate())
                        },
                        instantiate: function() {
                            x.verbose("Storing instance of module", x),
                            p = x,
                            S.data(b, p)
                        },
                        destroy: function() {
                            x.verbose("Destroying previous module for", C),
                            S.removeData(b)
                        },
                        refresh: function() {
                            x.verbose("Refreshing display type on next animation"),
                            delete x.displayType
                        },
                        forceRepaint: function() {
                            x.verbose("Forcing element repaint");
                            var e = S.parent()
                              , t = S.next();
                            0 === t.length ? S.detach().appendTo(e) : S.detach().insertBefore(t)
                        },
                        repaint: function() {
                            x.verbose("Repainting element"),
                            C.offsetWidth
                        },
                        delay: function(e) {
                            var n, i = x.get.animationDirection();
                            i || (i = x.can.transition() ? x.get.direction() : "static"),
                            e = e !== r ? e : h.interval,
                            n = "auto" == h.reverse && i == m.outward || 1 == h.reverse ? (o.length - t) * h.interval : t * h.interval,
                            x.debug("Delaying animation by", n),
                            setTimeout(x.animate, n)
                        },
                        animate: function(e) {
                            if (h = e || h,
                            !x.is.supported())
                                return x.error(g.support),
                                !1;
                            if (x.debug("Preparing animation", h.animation),
                            x.is.animating()) {
                                if (h.queue)
                                    return !h.allowRepeats && x.has.direction() && x.is.occurring() && !0 !== x.queuing ? x.debug("Animation is currently occurring, preventing queueing same animation", h.animation) : x.queue(h.animation),
                                    !1;
                                if (!h.allowRepeats && x.is.occurring())
                                    return x.debug("Animation is already occurring, will not execute repeated animation", h.animation),
                                    !1;
                                x.debug("New animation started, completing previous early", h.animation),
                                p.complete()
                            }
                            x.can.animate() ? x.set.animating(h.animation) : x.error(g.noAnimation, h.animation, C)
                        },
                        reset: function() {
                            x.debug("Resetting animation to beginning conditions"),
                            x.remove.animationCallbacks(),
                            x.restore.conditions(),
                            x.remove.animating()
                        },
                        queue: function(e) {
                            x.debug("Queueing animation of", e),
                            x.queuing = !0,
                            S.one(y + ".queue" + w, function() {
                                x.queuing = !1,
                                x.repaint(),
                                x.animate.apply(this, h)
                            })
                        },
                        complete: function(e) {
                            x.debug("Animation complete", h.animation),
                            x.remove.completeCallback(),
                            x.remove.failSafe(),
                            x.is.looping() || (x.is.outward() ? (x.verbose("Animation is outward, hiding element"),
                            x.restore.conditions(),
                            x.hide()) : x.is.inward() ? (x.verbose("Animation is outward, showing element"),
                            x.restore.conditions(),
                            x.show()) : (x.verbose("Static animation completed"),
                            x.restore.conditions(),
                            h.onComplete.call(C)))
                        },
                        force: {
                            visible: function() {
                                var e = S.attr("style")
                                  , t = x.get.userStyle()
                                  , n = x.get.displayType()
                                  , i = t + "display: " + n + " !important;"
                                  , o = S.css("display")
                                  , a = e === r || "" === e;
                                o !== n ? (x.verbose("Overriding default display to show element", n),
                                S.attr("style", i)) : a && S.removeAttr("style")
                            },
                            hidden: function() {
                                var e = S.attr("style")
                                  , t = S.css("display")
                                  , n = e === r || "" === e;
                                "none" === t || x.is.hidden() ? n && S.removeAttr("style") : (x.verbose("Overriding default display to hide element"),
                                S.css("display", "none"))
                            }
                        },
                        has: {
                            direction: function(t) {
                                var n = !1;
                                return "string" == typeof (t = t || h.animation) && (t = t.split(" "),
                                e.each(t, function(e, t) {
                                    t !== m.inward && t !== m.outward || (n = !0)
                                })),
                                n
                            },
                            inlineDisplay: function() {
                                var t = S.attr("style") || "";
                                return e.isArray(t.match(/display.*?;/, ""))
                            }
                        },
                        set: {
                            animating: function(e) {
                                var t;
                                x.remove.completeCallback(),
                                e = e || h.animation,
                                t = x.get.animationClass(e),
                                x.save.animation(t),
                                x.force.visible(),
                                x.remove.hidden(),
                                x.remove.direction(),
                                x.start.animation(t)
                            },
                            duration: function(e, t) {
                                ((t = "number" == typeof (t = t || h.duration) ? t + "ms" : t) || 0 === t) && (x.verbose("Setting animation duration", t),
                                S.css({
                                    "animation-duration": t
                                }))
                            },
                            direction: function(e) {
                                (e = e || x.get.direction()) == m.inward ? x.set.inward() : x.set.outward()
                            },
                            looping: function() {
                                x.debug("Transition set to loop"),
                                S.addClass(m.looping)
                            },
                            hidden: function() {
                                S.addClass(m.transition).addClass(m.hidden)
                            },
                            inward: function() {
                                x.debug("Setting direction to inward"),
                                S.removeClass(m.outward).addClass(m.inward)
                            },
                            outward: function() {
                                x.debug("Setting direction to outward"),
                                S.removeClass(m.inward).addClass(m.outward)
                            },
                            visible: function() {
                                S.addClass(m.transition).addClass(m.visible)
                            }
                        },
                        start: {
                            animation: function(e) {
                                e = e || x.get.animationClass(),
                                x.debug("Starting tween", e),
                                S.addClass(e).one(y + ".complete" + w, x.complete),
                                h.useFailSafe && x.add.failSafe(),
                                x.set.duration(h.duration),
                                h.onStart.call(C)
                            }
                        },
                        save: {
                            animation: function(e) {
                                x.cache || (x.cache = {}),
                                x.cache.animation = e
                            },
                            displayType: function(e) {
                                "none" !== e && S.data(v.displayType, e)
                            },
                            transitionExists: function(t, n) {
                                e.fn.transition.exists[t] = n,
                                x.verbose("Saving existence of transition", t, n)
                            }
                        },
                        restore: {
                            conditions: function() {
                                var e = x.get.currentAnimation();
                                e && (S.removeClass(e),
                                x.verbose("Removing animation class", x.cache)),
                                x.remove.duration()
                            }
                        },
                        add: {
                            failSafe: function() {
                                var e = x.get.duration();
                                x.timer = setTimeout(function() {
                                    S.triggerHandler(y)
                                }, e + h.failSafeDelay),
                                x.verbose("Adding fail safe timer", x.timer)
                            }
                        },
                        remove: {
                            animating: function() {
                                S.removeClass(m.animating)
                            },
                            animationCallbacks: function() {
                                x.remove.queueCallback(),
                                x.remove.completeCallback()
                            },
                            queueCallback: function() {
                                S.off(".queue" + w)
                            },
                            completeCallback: function() {
                                S.off(".complete" + w)
                            },
                            display: function() {
                                S.css("display", "")
                            },
                            direction: function() {
                                S.removeClass(m.inward).removeClass(m.outward)
                            },
                            duration: function() {
                                S.css("animation-duration", "")
                            },
                            failSafe: function() {
                                x.verbose("Removing fail safe timer", x.timer),
                                x.timer && clearTimeout(x.timer)
                            },
                            hidden: function() {
                                S.removeClass(m.hidden)
                            },
                            visible: function() {
                                S.removeClass(m.visible)
                            },
                            looping: function() {
                                x.debug("Transitions are no longer looping"),
                                x.is.looping() && (x.reset(),
                                S.removeClass(m.looping))
                            },
                            transition: function() {
                                S.removeClass(m.visible).removeClass(m.hidden)
                            }
                        },
                        get: {
                            settings: function(t, n, r) {
                                return "object" == typeof t ? e.extend(!0, {}, e.fn.transition.settings, t) : "function" == typeof r ? e.extend({}, e.fn.transition.settings, {
                                    animation: t,
                                    onComplete: r,
                                    duration: n
                                }) : "string" == typeof n || "number" == typeof n ? e.extend({}, e.fn.transition.settings, {
                                    animation: t,
                                    duration: n
                                }) : "object" == typeof n ? e.extend({}, e.fn.transition.settings, n, {
                                    animation: t
                                }) : "function" == typeof n ? e.extend({}, e.fn.transition.settings, {
                                    animation: t,
                                    onComplete: n
                                }) : e.extend({}, e.fn.transition.settings, {
                                    animation: t
                                })
                            },
                            animationClass: function(e) {
                                var t = e || h.animation
                                  , n = x.can.transition() && !x.has.direction() ? x.get.direction() + " " : "";
                                return m.animating + " " + m.transition + " " + n + t
                            },
                            currentAnimation: function() {
                                return !(!x.cache || x.cache.animation === r) && x.cache.animation
                            },
                            currentDirection: function() {
                                return x.is.inward() ? m.inward : m.outward
                            },
                            direction: function() {
                                return x.is.hidden() || !x.is.visible() ? m.inward : m.outward
                            },
                            animationDirection: function(t) {
                                var n;
                                return "string" == typeof (t = t || h.animation) && (t = t.split(" "),
                                e.each(t, function(e, t) {
                                    t === m.inward ? n = m.inward : t === m.outward && (n = m.outward)
                                })),
                                !!n && n
                            },
                            duration: function(e) {
                                return !1 === (e = e || h.duration) && (e = S.css("animation-duration") || 0),
                                "string" == typeof e ? e.indexOf("ms") > -1 ? parseFloat(e) : 1e3 * parseFloat(e) : e
                            },
                            displayType: function(e) {
                                return e = e === r || e,
                                h.displayType ? h.displayType : (e && S.data(v.displayType) === r && x.can.transition(!0),
                                S.data(v.displayType))
                            },
                            userStyle: function(e) {
                                return (e = e || S.attr("style") || "").replace(/display.*?;/, "")
                            },
                            transitionExists: function(t) {
                                return e.fn.transition.exists[t]
                            },
                            animationStartEvent: function() {
                                var e, t = n.createElement("div"), i = {
                                    animation: "animationstart",
                                    OAnimation: "oAnimationStart",
                                    MozAnimation: "mozAnimationStart",
                                    WebkitAnimation: "webkitAnimationStart"
                                };
                                for (e in i)
                                    if (t.style[e] !== r)
                                        return i[e];
                                return !1
                            },
                            animationEndEvent: function() {
                                var e, t = n.createElement("div"), i = {
                                    animation: "animationend",
                                    OAnimation: "oAnimationEnd",
                                    MozAnimation: "mozAnimationEnd",
                                    WebkitAnimation: "webkitAnimationEnd"
                                };
                                for (e in i)
                                    if (t.style[e] !== r)
                                        return i[e];
                                return !1
                            }
                        },
                        can: {
                            transition: function(t) {
                                var n, i, o, a, s, c, l = h.animation, u = x.get.transitionExists(l), d = x.get.displayType(!1);
                                if (u === r || t) {
                                    if (x.verbose("Determining whether animation exists"),
                                    n = S.attr("class"),
                                    i = S.prop("tagName"),
                                    a = (o = e("<" + i + " />").addClass(n).insertAfter(S)).addClass(l).removeClass(m.inward).removeClass(m.outward).addClass(m.animating).addClass(m.transition).css("animationName"),
                                    s = o.addClass(m.inward).css("animationName"),
                                    d || (d = o.attr("class", n).removeAttr("style").removeClass(m.hidden).removeClass(m.visible).show().css("display"),
                                    x.verbose("Determining final display state", d),
                                    x.save.displayType(d)),
                                    o.remove(),
                                    a != s)
                                        x.debug("Direction exists for animation", l),
                                        c = !0;
                                    else {
                                        if ("none" == a || !a)
                                            return void x.debug("No animation defined in css", l);
                                        x.debug("Static animation found", l, d),
                                        c = !1
                                    }
                                    x.save.transitionExists(l, c)
                                }
                                return u !== r ? u : c
                            },
                            animate: function() {
                                return x.can.transition() !== r
                            }
                        },
                        is: {
                            animating: function() {
                                return S.hasClass(m.animating)
                            },
                            inward: function() {
                                return S.hasClass(m.inward)
                            },
                            outward: function() {
                                return S.hasClass(m.outward)
                            },
                            looping: function() {
                                return S.hasClass(m.looping)
                            },
                            occurring: function(e) {
                                return e = "." + (e = e || h.animation).replace(" ", "."),
                                S.filter(e).length > 0
                            },
                            visible: function() {
                                return S.is(":visible")
                            },
                            hidden: function() {
                                return "hidden" === S.css("visibility")
                            },
                            supported: function() {
                                return !1 !== y
                            }
                        },
                        hide: function() {
                            x.verbose("Hiding element"),
                            x.is.animating() && x.reset(),
                            C.blur(),
                            x.remove.display(),
                            x.remove.visible(),
                            x.set.hidden(),
                            x.force.hidden(),
                            h.onHide.call(C),
                            h.onComplete.call(C)
                        },
                        show: function(e) {
                            x.verbose("Showing element", e),
                            x.remove.hidden(),
                            x.set.visible(),
                            x.force.visible(),
                            h.onShow.call(C),
                            h.onComplete.call(C)
                        },
                        toggle: function() {
                            x.is.visible() ? x.hide() : x.show()
                        },
                        stop: function() {
                            x.debug("Stopping current animation"),
                            S.triggerHandler(y)
                        },
                        stopAll: function() {
                            x.debug("Stopping all animation"),
                            x.remove.queueCallback(),
                            S.triggerHandler(y)
                        },
                        clear: {
                            queue: function() {
                                x.debug("Clearing animation queue"),
                                x.remove.queueCallback()
                            }
                        },
                        enable: function() {
                            x.verbose("Starting animation"),
                            S.removeClass(m.disabled)
                        },
                        disable: function() {
                            x.debug("Stopping animation"),
                            S.addClass(m.disabled)
                        },
                        setting: function(t, n) {
                            if (x.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, h, t);
                            else {
                                if (n === r)
                                    return h[t];
                                e.isPlainObject(h[t]) ? e.extend(!0, h[t], n) : h[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, x, t);
                            else {
                                if (n === r)
                                    return x[t];
                                x[t] = n
                            }
                        },
                        debug: function() {
                            !h.silent && h.debug && (h.performance ? x.performance.log(arguments) : (x.debug = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            x.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !h.silent && h.verbose && h.debug && (h.performance ? x.performance.log(arguments) : (x.verbose = Function.prototype.bind.call(console.info, console, h.name + ":"),
                            x.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            h.silent || (x.error = Function.prototype.bind.call(console.error, console, h.name + ":"),
                            x.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                h.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: C,
                                    "Execution Time": n
                                })),
                                clearTimeout(x.performance.timer),
                                x.performance.timer = setTimeout(x.performance.display, 500)
                            },
                            display: function() {
                                var t = h.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(x.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                o.length > 1 && (t += " (" + o.length + ")"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = p;
                            return n = n || d,
                            o = C || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r && (s = l[i],
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s !== r && s
                        }
                    }).initialize()
                }),
                i !== r ? i : this
            }
            ,
            e.fn.transition.exists = {},
            e.fn.transition.settings = {
                name: "Transition",
                silent: !1,
                debug: !1,
                verbose: !1,
                performance: !0,
                namespace: "transition",
                interval: 0,
                reverse: "auto",
                onStart: function() {},
                onComplete: function() {},
                onShow: function() {},
                onHide: function() {},
                useFailSafe: !0,
                failSafeDelay: 100,
                allowRepeats: !1,
                displayType: !1,
                animation: "fade",
                duration: !1,
                queue: !0,
                metadata: {
                    displayType: "display"
                },
                className: {
                    animating: "animating",
                    disabled: "disabled",
                    hidden: "hidden",
                    inward: "in",
                    loading: "loading",
                    looping: "looping",
                    outward: "out",
                    transition: "transition",
                    visible: "visible"
                },
                error: {
                    noAnimation: "Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",
                    repeated: "That animation is already occurring, cancelling repeated animation",
                    method: "The method you called is not defined",
                    support: "This browser does not support CSS animations"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.api = e.fn.api = function(n) {
                var i, o = e(e.isFunction(this) ? t : this), a = o.selector || "", s = (new Date).getTime(), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1);
                return o.each(function() {
                    var o, f, h, p, g, m, v = e.isPlainObject(n) ? e.extend(!0, {}, e.fn.api.settings, n) : e.extend({}, e.fn.api.settings), y = v.namespace, b = v.metadata, w = v.selector, x = v.error, S = v.className, C = "." + y, _ = "module-" + y, k = e(this), E = k.closest(w.form), T = v.stateContext ? e(v.stateContext) : k, P = this, A = T[0], O = k.data(_);
                    m = {
                        initialize: function() {
                            u || m.bind.events(),
                            m.instantiate()
                        },
                        instantiate: function() {
                            m.verbose("Storing instance of module", m),
                            O = m,
                            k.data(_, O)
                        },
                        destroy: function() {
                            m.verbose("Destroying previous module for", P),
                            k.removeData(_).off(C)
                        },
                        bind: {
                            events: function() {
                                var e = m.get.event();
                                e ? (m.verbose("Attaching API events to element", e),
                                k.on(e + C, m.event.trigger)) : "now" == v.on && (m.debug("Querying API endpoint immediately"),
                                m.query())
                            }
                        },
                        decode: {
                            json: function(e) {
                                if (e !== r && "string" == typeof e)
                                    try {
                                        e = JSON.parse(e)
                                    } catch (e) {}
                                return e
                            }
                        },
                        read: {
                            cachedResponse: function(e) {
                                var n;
                                return t.Storage === r ? void m.error(x.noStorage) : (n = sessionStorage.getItem(e),
                                m.debug("Using cached response", e, n),
                                n = m.decode.json(n))
                            }
                        },
                        write: {
                            cachedResponse: function(n, i) {
                                return i && "" === i ? void m.debug("Response empty, not caching", i) : t.Storage === r ? void m.error(x.noStorage) : (e.isPlainObject(i) && (i = JSON.stringify(i)),
                                sessionStorage.setItem(n, i),
                                void m.verbose("Storing cached response for url", n, i))
                            }
                        },
                        query: function() {
                            if (!m.is.disabled()) {
                                if (m.is.loading()) {
                                    if (!v.interruptRequests)
                                        return void m.debug("Cancelling request, previous request is still pending");
                                    m.debug("Interrupting previous request"),
                                    m.abort()
                                }
                                return v.defaultData && e.extend(!0, v.urlData, m.get.defaultData()),
                                v.serializeForm && (v.data = m.add.formData(v.data)),
                                !1 === (f = m.get.settings()) ? (m.cancelled = !0,
                                void m.error(x.beforeSend)) : (m.cancelled = !1,
                                (h = m.get.templatedURL()) || m.is.mocked() ? (h = m.add.urlData(h)) || m.is.mocked() ? (f.url = v.base + h,
                                o = e.extend(!0, {}, v, {
                                    type: v.method || v.type,
                                    data: p,
                                    url: v.base + h,
                                    beforeSend: v.beforeXHR,
                                    success: function() {},
                                    failure: function() {},
                                    complete: function() {}
                                }),
                                m.debug("Querying URL", o.url),
                                m.verbose("Using AJAX settings", o),
                                "local" === v.cache && m.read.cachedResponse(h) ? (m.debug("Response returned from local cache"),
                                m.request = m.create.request(),
                                void m.request.resolveWith(A, [m.read.cachedResponse(h)])) : void (v.throttle ? v.throttleFirstRequest || m.timer ? (m.debug("Throttling request", v.throttle),
                                clearTimeout(m.timer),
                                m.timer = setTimeout(function() {
                                    m.timer && delete m.timer,
                                    m.debug("Sending throttled request", p, o.method),
                                    m.send.request()
                                }, v.throttle)) : (m.debug("Sending request", p, o.method),
                                m.send.request(),
                                m.timer = setTimeout(function() {}, v.throttle)) : (m.debug("Sending request", p, o.method),
                                m.send.request()))) : void 0 : void m.error(x.missingURL))
                            }
                            m.debug("Element is disabled API request aborted")
                        },
                        should: {
                            removeError: function() {
                                return !0 === v.hideError || "auto" === v.hideError && !m.is.form()
                            }
                        },
                        is: {
                            disabled: function() {
                                return k.filter(w.disabled).length > 0
                            },
                            expectingJSON: function() {
                                return "json" === v.dataType || "jsonp" === v.dataType
                            },
                            form: function() {
                                return k.is("form") || T.is("form")
                            },
                            mocked: function() {
                                return v.mockResponse || v.mockResponseAsync || v.response || v.responseAsync
                            },
                            input: function() {
                                return k.is("input")
                            },
                            loading: function() {
                                return !!m.request && "pending" == m.request.state()
                            },
                            abortedRequest: function(e) {
                                return e && e.readyState !== r && 0 === e.readyState ? (m.verbose("XHR request determined to be aborted"),
                                !0) : (m.verbose("XHR request was not aborted"),
                                !1)
                            },
                            validResponse: function(t) {
                                return m.is.expectingJSON() && e.isFunction(v.successTest) ? (m.debug("Checking JSON returned success", v.successTest, t),
                                v.successTest(t) ? (m.debug("Response passed success test", t),
                                !0) : (m.debug("Response failed success test", t),
                                !1)) : (m.verbose("Response is not JSON, skipping validation", v.successTest, t),
                                !0)
                            }
                        },
                        was: {
                            cancelled: function() {
                                return m.cancelled || !1
                            },
                            succesful: function() {
                                return m.request && "resolved" == m.request.state()
                            },
                            failure: function() {
                                return m.request && "rejected" == m.request.state()
                            },
                            complete: function() {
                                return m.request && ("resolved" == m.request.state() || "rejected" == m.request.state())
                            }
                        },
                        add: {
                            urlData: function(t, n) {
                                var i, o;
                                return t && (i = t.match(v.regExp.required),
                                o = t.match(v.regExp.optional),
                                n = n || v.urlData,
                                i && (m.debug("Looking for required URL variables", i),
                                e.each(i, function(i, o) {
                                    var a = -1 !== o.indexOf("$") ? o.substr(2, o.length - 3) : o.substr(1, o.length - 2)
                                      , s = e.isPlainObject(n) && n[a] !== r ? n[a] : k.data(a) !== r ? k.data(a) : T.data(a) !== r ? T.data(a) : n[a];
                                    return s === r ? (m.error(x.requiredParameter, a, t),
                                    t = !1,
                                    !1) : (m.verbose("Found required variable", a, s),
                                    s = v.encodeParameters ? m.get.urlEncodedValue(s) : s,
                                    void (t = t.replace(o, s)))
                                })),
                                o && (m.debug("Looking for optional URL variables", i),
                                e.each(o, function(i, o) {
                                    var a = -1 !== o.indexOf("$") ? o.substr(3, o.length - 4) : o.substr(2, o.length - 3)
                                      , s = e.isPlainObject(n) && n[a] !== r ? n[a] : k.data(a) !== r ? k.data(a) : T.data(a) !== r ? T.data(a) : n[a];
                                    s !== r ? (m.verbose("Optional variable Found", a, s),
                                    t = t.replace(o, s)) : (m.verbose("Optional variable not found", a),
                                    t = -1 !== t.indexOf("/" + o) ? t.replace("/" + o, "") : t.replace(o, ""))
                                }))),
                                t
                            },
                            formData: function(t) {
                                var n = e.fn.serializeObject !== r
                                  , i = n ? E.serializeObject() : E.serialize();
                                return t = t || v.data,
                                e.isPlainObject(t) ? n ? (m.debug("Extending existing data with form data", t, i),
                                t = e.extend(!0, {}, t, i)) : (m.error(x.missingSerialize),
                                m.debug("Cant extend data. Replacing data with form data", t, i),
                                t = i) : (m.debug("Adding form data", i),
                                t = i),
                                t
                            }
                        },
                        send: {
                            request: function() {
                                m.set.loading(),
                                m.request = m.create.request(),
                                m.is.mocked() ? m.mockedXHR = m.create.mockedXHR() : m.xhr = m.create.xhr(),
                                v.onRequest.call(A, m.request, m.xhr)
                            }
                        },
                        event: {
                            trigger: function(e) {
                                m.query(),
                                "submit" != e.type && "click" != e.type || e.preventDefault()
                            },
                            xhr: {
                                always: function() {},
                                done: function(t, n, r) {
                                    var i = this
                                      , o = (new Date).getTime() - g
                                      , a = v.loadingDuration - o
                                      , s = !!e.isFunction(v.onResponse) && (m.is.expectingJSON() ? v.onResponse.call(i, e.extend(!0, {}, t)) : v.onResponse.call(i, t));
                                    a = a > 0 ? a : 0,
                                    s && (m.debug("Modified API response in onResponse callback", v.onResponse, s, t),
                                    t = s),
                                    a > 0 && m.debug("Response completed early delaying state change by", a),
                                    setTimeout(function() {
                                        m.is.validResponse(t) ? m.request.resolveWith(i, [t, r]) : m.request.rejectWith(i, [r, "invalid"])
                                    }, a)
                                },
                                fail: function(e, t, n) {
                                    var r = this
                                      , i = (new Date).getTime() - g
                                      , o = v.loadingDuration - i;
                                    (o = o > 0 ? o : 0) > 0 && m.debug("Response completed early delaying state change by", o),
                                    setTimeout(function() {
                                        m.is.abortedRequest(e) ? m.request.rejectWith(r, [e, "aborted", n]) : m.request.rejectWith(r, [e, "error", t, n])
                                    }, o)
                                }
                            },
                            request: {
                                done: function(e, t) {
                                    m.debug("Successful API Response", e),
                                    "local" === v.cache && h && (m.write.cachedResponse(h, e),
                                    m.debug("Saving server response locally", m.cache)),
                                    v.onSuccess.call(A, e, k, t)
                                },
                                complete: function(e, t) {
                                    var n, r;
                                    m.was.succesful() ? (r = e,
                                    n = t) : (n = e,
                                    r = m.get.responseFromXHR(n)),
                                    m.remove.loading(),
                                    v.onComplete.call(A, r, k, n)
                                },
                                fail: function(e, t, n) {
                                    var i = m.get.responseFromXHR(e)
                                      , a = m.get.errorFromRequest(i, t, n);
                                    return "aborted" == t ? (m.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)", t, n),
                                    v.onAbort.call(A, t, k, e),
                                    !0) : ("invalid" == t ? m.debug("JSON did not pass success test. A server-side error has most likely occurred", i) : "error" == t && e !== r && (m.debug("XHR produced a server error", t, n),
                                    200 != e.status && n !== r && "" !== n && m.error(x.statusMessage + n, o.url),
                                    v.onError.call(A, a, k, e)),
                                    v.errorDuration && "aborted" !== t && (m.debug("Adding error state"),
                                    m.set.error(),
                                    m.should.removeError() && setTimeout(m.remove.error, v.errorDuration)),
                                    m.debug("API Request failed", a, e),
                                    void v.onFailure.call(A, i, k, e))
                                }
                            }
                        },
                        create: {
                            request: function() {
                                return e.Deferred().always(m.event.request.complete).done(m.event.request.done).fail(m.event.request.fail)
                            },
                            mockedXHR: function() {
                                var t, n, r, i = v.mockResponse || v.response, o = v.mockResponseAsync || v.responseAsync;
                                return r = e.Deferred().always(m.event.xhr.complete).done(m.event.xhr.done).fail(m.event.xhr.fail),
                                i ? (e.isFunction(i) ? (m.debug("Using specified synchronous callback", i),
                                n = i.call(A, f)) : (m.debug("Using settings specified response", i),
                                n = i),
                                r.resolveWith(A, [n, !1, {
                                    responseText: n
                                }])) : e.isFunction(o) && (t = function(e) {
                                    m.debug("Async callback returned response", e),
                                    e ? r.resolveWith(A, [e, !1, {
                                        responseText: e
                                    }]) : r.rejectWith(A, [{
                                        responseText: e
                                    }, !1, !1])
                                }
                                ,
                                m.debug("Using specified async response callback", o),
                                o.call(A, f, t)),
                                r
                            },
                            xhr: function() {
                                var t;
                                return t = e.ajax(o).always(m.event.xhr.always).done(m.event.xhr.done).fail(m.event.xhr.fail),
                                m.verbose("Created server request", t, o),
                                t
                            }
                        },
                        set: {
                            error: function() {
                                m.verbose("Adding error state to element", T),
                                T.addClass(S.error)
                            },
                            loading: function() {
                                m.verbose("Adding loading state to element", T),
                                T.addClass(S.loading),
                                g = (new Date).getTime()
                            }
                        },
                        remove: {
                            error: function() {
                                m.verbose("Removing error state from element", T),
                                T.removeClass(S.error)
                            },
                            loading: function() {
                                m.verbose("Removing loading state from element", T),
                                T.removeClass(S.loading)
                            }
                        },
                        get: {
                            responseFromXHR: function(t) {
                                return !!e.isPlainObject(t) && (m.is.expectingJSON() ? m.decode.json(t.responseText) : t.responseText)
                            },
                            errorFromRequest: function(t, n, i) {
                                return e.isPlainObject(t) && t.error !== r ? t.error : v.error[n] !== r ? v.error[n] : i
                            },
                            request: function() {
                                return m.request || !1
                            },
                            xhr: function() {
                                return m.xhr || !1
                            },
                            settings: function() {
                                var t;
                                return (t = v.beforeSend.call(A, v)) && (t.success !== r && (m.debug("Legacy success callback detected", t),
                                m.error(x.legacyParameters, t.success),
                                t.onSuccess = t.success),
                                t.failure !== r && (m.debug("Legacy failure callback detected", t),
                                m.error(x.legacyParameters, t.failure),
                                t.onFailure = t.failure),
                                t.complete !== r && (m.debug("Legacy complete callback detected", t),
                                m.error(x.legacyParameters, t.complete),
                                t.onComplete = t.complete)),
                                t === r && m.error(x.noReturnedValue),
                                !1 === t ? t : t !== r ? e.extend(!0, {}, t) : e.extend(!0, {}, v)
                            },
                            urlEncodedValue: function(e) {
                                var n = t.decodeURIComponent(e)
                                  , r = t.encodeURIComponent(e);
                                return n !== e ? (m.debug("URL value is already encoded, avoiding double encoding", e),
                                e) : (m.verbose("Encoding value using encodeURIComponent", e, r),
                                r)
                            },
                            defaultData: function() {
                                var t = {};
                                return e.isWindow(P) || (m.is.input() ? t.value = k.val() : m.is.form() || (t.text = k.text())),
                                t
                            },
                            event: function() {
                                return e.isWindow(P) || "now" == v.on ? (m.debug("API called without element, no events attached"),
                                !1) : "auto" == v.on ? k.is("input") ? P.oninput !== r ? "input" : P.onpropertychange !== r ? "propertychange" : "keyup" : k.is("form") ? "submit" : "click" : v.on
                            },
                            templatedURL: function(e) {
                                if (e = e || k.data(b.action) || v.action || !1,
                                h = k.data(b.url) || v.url || !1)
                                    return m.debug("Using specified url", h),
                                    h;
                                if (e) {
                                    if (m.debug("Looking up url for action", e, v.api),
                                    v.api[e] === r && !m.is.mocked())
                                        return void m.error(x.missingAction, v.action, v.api);
                                    h = v.api[e]
                                } else
                                    m.is.form() && (h = k.attr("action") || T.attr("action") || !1,
                                    m.debug("No url or action specified, defaulting to form action", h));
                                return h
                            }
                        },
                        abort: function() {
                            var e = m.get.xhr();
                            e && "resolved" !== e.state() && (m.debug("Cancelling API request"),
                            e.abort())
                        },
                        reset: function() {
                            m.remove.error(),
                            m.remove.loading()
                        },
                        setting: function(t, n) {
                            if (m.debug("Changing setting", t, n),
                            e.isPlainObject(t))
                                e.extend(!0, v, t);
                            else {
                                if (n === r)
                                    return v[t];
                                e.isPlainObject(v[t]) ? e.extend(!0, v[t], n) : v[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, m, t);
                            else {
                                if (n === r)
                                    return m[t];
                                m[t] = n
                            }
                        },
                        debug: function() {
                            !v.silent && v.debug && (v.performance ? m.performance.log(arguments) : (m.debug = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            m.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !v.silent && v.verbose && v.debug && (v.performance ? m.performance.log(arguments) : (m.verbose = Function.prototype.bind.call(console.info, console, v.name + ":"),
                            m.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            v.silent || (m.error = Function.prototype.bind.call(console.error, console, v.name + ":"),
                            m.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                v.performance && (n = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    "Execution Time": n
                                })),
                                clearTimeout(m.performance.timer),
                                m.performance.timer = setTimeout(m.performance.display, 500)
                            },
                            display: function() {
                                var t = v.name + ":"
                                  , n = 0;
                                s = !1,
                                clearTimeout(m.performance.timer),
                                e.each(c, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                a && (t += " '" + a + "'"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, n, o) {
                            var a, s, c, l = O;
                            return n = n || d,
                            o = P || o,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (m.error(x.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(o, n) : s !== r && (c = s),
                            e.isArray(i) ? i.push(c) : i !== r ? i = [i, c] : c !== r && (i = c),
                            s
                        }
                    },
                    u ? (O === r && m.initialize(),
                    m.invoke(l)) : (O !== r && O.invoke("destroy"),
                    m.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.api.settings = {
                name: "API",
                namespace: "api",
                debug: !1,
                verbose: !1,
                performance: !0,
                api: {},
                cache: !0,
                interruptRequests: !0,
                on: "auto",
                stateContext: !1,
                loadingDuration: 0,
                hideError: "auto",
                errorDuration: 2e3,
                encodeParameters: !0,
                action: !1,
                url: !1,
                base: "",
                urlData: {},
                defaultData: !0,
                serializeForm: !1,
                throttle: 0,
                throttleFirstRequest: !0,
                method: "get",
                data: {},
                dataType: "json",
                mockResponse: !1,
                mockResponseAsync: !1,
                response: !1,
                responseAsync: !1,
                beforeSend: function(e) {
                    return e
                },
                beforeXHR: function(e) {},
                onRequest: function(e, t) {},
                onResponse: !1,
                onSuccess: function(e, t) {},
                onComplete: function(e, t) {},
                onFailure: function(e, t) {},
                onError: function(e, t) {},
                onAbort: function(e, t) {},
                successTest: !1,
                error: {
                    beforeSend: "The before send function has aborted the request",
                    error: "There was an error with your request",
                    exitConditions: "API Request Aborted. Exit conditions met",
                    JSONParse: "JSON could not be parsed during error handling",
                    legacyParameters: "You are using legacy API success callback names",
                    method: "The method you called is not defined",
                    missingAction: "API action used but no url was defined",
                    missingSerialize: "jquery-serialize-object is required to add form data to an existing data object",
                    missingURL: "No URL specified for api event",
                    noReturnedValue: "The beforeSend callback must return a settings object, beforeSend ignored.",
                    noStorage: "Caching responses locally requires session storage",
                    parseError: "There was an error parsing your request",
                    requiredParameter: "Missing a required URL parameter: ",
                    statusMessage: "Server gave an error: ",
                    timeout: "Your request timed out"
                },
                regExp: {
                    required: /\{\$*[A-z0-9]+\}/g,
                    optional: /\{\/\$*[A-z0-9]+\}/g
                },
                className: {
                    loading: "loading",
                    error: "error"
                },
                selector: {
                    disabled: ".disabled",
                    form: "form"
                },
                metadata: {
                    action: "action",
                    url: "url"
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.state = function(t) {
                var i, o = e(this), a = o.selector || "", s = (n.documentElement,
                (new Date).getTime()), c = [], l = arguments[0], u = "string" == typeof l, d = [].slice.call(arguments, 1);
                return o.each(function() {
                    var n, f = e.isPlainObject(t) ? e.extend(!0, {}, e.fn.state.settings, t) : e.extend({}, e.fn.state.settings), h = f.error, p = f.metadata, g = f.className, m = f.namespace, v = f.states, y = f.text, b = "." + m, w = m + "-module", x = e(this), S = this, C = x.data(w);
                    n = {
                        initialize: function() {
                            n.verbose("Initializing module"),
                            f.automatic && n.add.defaults(),
                            f.context && "" !== a ? e(f.context).on(a, "mouseenter" + b, n.change.text).on(a, "mouseleave" + b, n.reset.text).on(a, "click" + b, n.toggle.state) : x.on("mouseenter" + b, n.change.text).on("mouseleave" + b, n.reset.text).on("click" + b, n.toggle.state),
                            n.instantiate()
                        },
                        instantiate: function() {
                            n.verbose("Storing instance of module", n),
                            C = n,
                            x.data(w, n)
                        },
                        destroy: function() {
                            n.verbose("Destroying previous module", C),
                            x.off(b).removeData(w)
                        },
                        refresh: function() {
                            n.verbose("Refreshing selector cache"),
                            x = e(S)
                        },
                        add: {
                            defaults: function() {
                                var i = t && e.isPlainObject(t.states) ? t.states : {};
                                e.each(f.defaults, function(t, o) {
                                    n.is[t] !== r && n.is[t]() && (n.verbose("Adding default states", t, S),
                                    e.extend(f.states, o, i))
                                })
                            }
                        },
                        is: {
                            active: function() {
                                return x.hasClass(g.active)
                            },
                            loading: function() {
                                return x.hasClass(g.loading)
                            },
                            inactive: function() {
                                return !x.hasClass(g.active)
                            },
                            state: function(e) {
                                return g[e] !== r && x.hasClass(g[e])
                            },
                            enabled: function() {
                                return !x.is(f.filter.active)
                            },
                            disabled: function() {
                                return x.is(f.filter.active)
                            },
                            textEnabled: function() {
                                return !x.is(f.filter.text)
                            },
                            button: function() {
                                return x.is(".button:not(a, .submit)")
                            },
                            input: function() {
                                return x.is("input")
                            },
                            progress: function() {
                                return x.is(".ui.progress")
                            }
                        },
                        allow: function(e) {
                            n.debug("Now allowing state", e),
                            v[e] = !0
                        },
                        disallow: function(e) {
                            n.debug("No longer allowing", e),
                            v[e] = !1
                        },
                        allows: function(e) {
                            return v[e] || !1
                        },
                        enable: function() {
                            x.removeClass(g.disabled)
                        },
                        disable: function() {
                            x.addClass(g.disabled)
                        },
                        setState: function(e) {
                            n.allows(e) && x.addClass(g[e])
                        },
                        removeState: function(e) {
                            n.allows(e) && x.removeClass(g[e])
                        },
                        toggle: {
                            state: function() {
                                var t;
                                if (n.allows("active") && n.is.enabled()) {
                                    if (n.refresh(),
                                    e.fn.api !== r)
                                        if (t = x.api("get request"),
                                        x.api("was cancelled"))
                                            n.debug("API Request cancelled by beforesend"),
                                            f.activateTest = function() {
                                                return !1
                                            }
                                            ,
                                            f.deactivateTest = function() {
                                                return !1
                                            }
                                            ;
                                        else if (t)
                                            return void n.listenTo(t);
                                    n.change.state()
                                }
                            }
                        },
                        listenTo: function(t) {
                            n.debug("API request detected, waiting for state signal", t),
                            t && (y.loading && n.update.text(y.loading),
                            e.when(t).then(function() {
                                "resolved" == t.state() ? (n.debug("API request succeeded"),
                                f.activateTest = function() {
                                    return !0
                                }
                                ,
                                f.deactivateTest = function() {
                                    return !0
                                }
                                ) : (n.debug("API request failed"),
                                f.activateTest = function() {
                                    return !1
                                }
                                ,
                                f.deactivateTest = function() {
                                    return !1
                                }
                                ),
                                n.change.state()
                            }))
                        },
                        change: {
                            state: function() {
                                n.debug("Determining state change direction"),
                                n.is.inactive() ? n.activate() : n.deactivate(),
                                f.sync && n.sync(),
                                f.onChange.call(S)
                            },
                            text: function() {
                                n.is.textEnabled() && (n.is.disabled() ? (n.verbose("Changing text to disabled text", y.hover),
                                n.update.text(y.disabled)) : n.is.active() ? y.hover ? (n.verbose("Changing text to hover text", y.hover),
                                n.update.text(y.hover)) : y.deactivate && (n.verbose("Changing text to deactivating text", y.deactivate),
                                n.update.text(y.deactivate)) : y.hover ? (n.verbose("Changing text to hover text", y.hover),
                                n.update.text(y.hover)) : y.activate && (n.verbose("Changing text to activating text", y.activate),
                                n.update.text(y.activate)))
                            }
                        },
                        activate: function() {
                            f.activateTest.call(S) && (n.debug("Setting state to active"),
                            x.addClass(g.active),
                            n.update.text(y.active),
                            f.onActivate.call(S))
                        },
                        deactivate: function() {
                            f.deactivateTest.call(S) && (n.debug("Setting state to inactive"),
                            x.removeClass(g.active),
                            n.update.text(y.inactive),
                            f.onDeactivate.call(S))
                        },
                        sync: function() {
                            n.verbose("Syncing other buttons to current state"),
                            n.is.active() ? o.not(x).state("activate") : o.not(x).state("deactivate")
                        },
                        get: {
                            text: function() {
                                return f.selector.text ? x.find(f.selector.text).text() : x.html()
                            },
                            textFor: function(e) {
                                return y[e] || !1
                            }
                        },
                        flash: {
                            text: function(e, t, r) {
                                var i = n.get.text();
                                n.debug("Flashing text message", e, t),
                                e = e || f.text.flash,
                                t = t || f.flashDuration,
                                r = r || function() {}
                                ,
                                n.update.text(e),
                                setTimeout(function() {
                                    n.update.text(i),
                                    r.call(S)
                                }, t)
                            }
                        },
                        reset: {
                            text: function() {
                                var e = y.active || x.data(p.storedText)
                                  , t = y.inactive || x.data(p.storedText);
                                n.is.textEnabled() && (n.is.active() && e ? (n.verbose("Resetting active text", e),
                                n.update.text(e)) : t && (n.verbose("Resetting inactive text", e),
                                n.update.text(t)))
                            }
                        },
                        update: {
                            text: function(e) {
                                var t = n.get.text();
                                e && e !== t ? (n.debug("Updating text", e),
                                f.selector.text ? x.data(p.storedText, e).find(f.selector.text).text(e) : x.data(p.storedText, e).html(e)) : n.debug("Text is already set, ignoring update", e)
                            }
                        },
                        setting: function(t, i) {
                            if (n.debug("Changing setting", t, i),
                            e.isPlainObject(t))
                                e.extend(!0, f, t);
                            else {
                                if (i === r)
                                    return f[t];
                                e.isPlainObject(f[t]) ? e.extend(!0, f[t], i) : f[t] = i
                            }
                        },
                        internal: function(t, i) {
                            if (e.isPlainObject(t))
                                e.extend(!0, n, t);
                            else {
                                if (i === r)
                                    return n[t];
                                n[t] = i
                            }
                        },
                        debug: function() {
                            !f.silent && f.debug && (f.performance ? n.performance.log(arguments) : (n.debug = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            n.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !f.silent && f.verbose && f.debug && (f.performance ? n.performance.log(arguments) : (n.verbose = Function.prototype.bind.call(console.info, console, f.name + ":"),
                            n.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            f.silent || (n.error = Function.prototype.bind.call(console.error, console, f.name + ":"),
                            n.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, r;
                                f.performance && (r = (t = (new Date).getTime()) - (s || t),
                                s = t,
                                c.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: S,
                                    "Execution Time": r
                                })),
                                clearTimeout(n.performance.timer),
                                n.performance.timer = setTimeout(n.performance.display, 500)
                            },
                            display: function() {
                                var t = f.name + ":"
                                  , i = 0;
                                s = !1,
                                clearTimeout(n.performance.timer),
                                e.each(c, function(e, t) {
                                    i += t["Execution Time"]
                                }),
                                t += " " + i + "ms",
                                a && (t += " '" + a + "'"),
                                (console.group !== r || console.table !== r) && c.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(c) : e.each(c, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                c = []
                            }
                        },
                        invoke: function(t, o, a) {
                            var s, c, l, u = C;
                            return o = o || d,
                            a = S || a,
                            "string" == typeof t && u !== r && (t = t.split(/[\. ]/),
                            s = t.length - 1,
                            e.each(t, function(i, o) {
                                var a = i != s ? o + t[i + 1].charAt(0).toUpperCase() + t[i + 1].slice(1) : t;
                                if (e.isPlainObject(u[a]) && i != s)
                                    u = u[a];
                                else {
                                    if (u[a] !== r)
                                        return c = u[a],
                                        !1;
                                    if (!e.isPlainObject(u[o]) || i == s)
                                        return u[o] !== r ? (c = u[o],
                                        !1) : (n.error(h.method, t),
                                        !1);
                                    u = u[o]
                                }
                            })),
                            e.isFunction(c) ? l = c.apply(a, o) : c !== r && (l = c),
                            e.isArray(i) ? i.push(l) : i !== r ? i = [i, l] : l !== r && (i = l),
                            c
                        }
                    },
                    u ? (C === r && n.initialize(),
                    n.invoke(l)) : (C !== r && C.invoke("destroy"),
                    n.initialize())
                }),
                i !== r ? i : this
            }
            ,
            e.fn.state.settings = {
                name: "State",
                debug: !1,
                verbose: !1,
                namespace: "state",
                performance: !0,
                onActivate: function() {},
                onDeactivate: function() {},
                onChange: function() {},
                activateTest: function() {
                    return !0
                },
                deactivateTest: function() {
                    return !0
                },
                automatic: !0,
                sync: !1,
                flashDuration: 1e3,
                filter: {
                    text: ".loading, .disabled",
                    active: ".disabled"
                },
                context: !1,
                error: {
                    beforeSend: "The before send function has cancelled state change",
                    method: "The method you called is not defined."
                },
                metadata: {
                    promise: "promise",
                    storedText: "stored-text"
                },
                className: {
                    active: "active",
                    disabled: "disabled",
                    error: "error",
                    loading: "loading",
                    success: "success",
                    warning: "warning"
                },
                selector: {
                    text: !1
                },
                defaults: {
                    input: {
                        disabled: !0,
                        loading: !0,
                        active: !0
                    },
                    button: {
                        disabled: !0,
                        loading: !0,
                        active: !0
                    },
                    progress: {
                        active: !0,
                        success: !0,
                        warning: !0,
                        error: !0
                    }
                },
                states: {
                    active: !0,
                    disabled: !0,
                    error: !0,
                    loading: !0,
                    success: !0,
                    warning: !0
                },
                text: {
                    disabled: !1,
                    flash: !1,
                    hover: !1,
                    active: !1,
                    inactive: !1,
                    activate: !1,
                    deactivate: !1
                }
            }
        }(e, window, document),
        function(e, t, n, r) {
            "use strict";
            t = void 0 !== t && t.Math == Math ? t : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(),
            e.fn.visibility = function(i) {
                var o, a = e(this), s = a.selector || "", c = (new Date).getTime(), l = [], u = arguments[0], d = "string" == typeof u, f = [].slice.call(arguments, 1), h = a.length, p = 0;
                return a.each(function() {
                    var a, g, m, v, y = e.isPlainObject(i) ? e.extend(!0, {}, e.fn.visibility.settings, i) : e.extend({}, e.fn.visibility.settings), b = y.className, w = y.namespace, x = y.error, S = y.metadata, C = "." + w, _ = "module-" + w, k = e(t), E = e(this), T = e(y.context), P = (E.selector,
                    E.data(_)), A = t.requestAnimationFrame || t.mozRequestAnimationFrame || t.webkitRequestAnimationFrame || t.msRequestAnimationFrame || function(e) {
                        setTimeout(e, 0)
                    }
                    , O = this, $ = !1;
                    v = {
                        initialize: function() {
                            v.debug("Initializing", y),
                            v.setup.cache(),
                            v.should.trackChanges() && ("image" == y.type && v.setup.image(),
                            "fixed" == y.type && v.setup.fixed(),
                            y.observeChanges && v.observeChanges(),
                            v.bind.events()),
                            v.save.position(),
                            v.is.visible() || v.error(x.visible, E),
                            y.initialCheck && v.checkVisibility(),
                            v.instantiate()
                        },
                        instantiate: function() {
                            v.debug("Storing instance", v),
                            E.data(_, v),
                            P = v
                        },
                        destroy: function() {
                            v.verbose("Destroying previous module"),
                            m && m.disconnect(),
                            g && g.disconnect(),
                            k.off("load" + C, v.event.load).off("resize" + C, v.event.resize),
                            T.off("scroll" + C, v.event.scroll).off("scrollchange" + C, v.event.scrollchange),
                            "fixed" == y.type && (v.resetFixed(),
                            v.remove.placeholder()),
                            E.off(C).removeData(_)
                        },
                        observeChanges: function() {
                            "MutationObserver"in t && (g = new MutationObserver(v.event.contextChanged),
                            m = new MutationObserver(v.event.changed),
                            g.observe(n, {
                                childList: !0,
                                subtree: !0
                            }),
                            m.observe(O, {
                                childList: !0,
                                subtree: !0
                            }),
                            v.debug("Setting up mutation observer", m))
                        },
                        bind: {
                            events: function() {
                                v.verbose("Binding visibility events to scroll and resize"),
                                y.refreshOnLoad && k.on("load" + C, v.event.load),
                                k.on("resize" + C, v.event.resize),
                                T.off("scroll" + C).on("scroll" + C, v.event.scroll).on("scrollchange" + C, v.event.scrollchange)
                            }
                        },
                        event: {
                            changed: function(e) {
                                v.verbose("DOM tree modified, updating visibility calculations"),
                                v.timer = setTimeout(function() {
                                    v.verbose("DOM tree modified, updating sticky menu"),
                                    v.refresh()
                                }, 100)
                            },
                            contextChanged: function(t) {
                                [].forEach.call(t, function(t) {
                                    t.removedNodes && [].forEach.call(t.removedNodes, function(t) {
                                        (t == O || e(t).find(O).length > 0) && (v.debug("Element removed from DOM, tearing down events"),
                                        v.destroy())
                                    })
                                })
                            },
                            resize: function() {
                                v.debug("Window resized"),
                                y.refreshOnResize && A(v.refresh)
                            },
                            load: function() {
                                v.debug("Page finished loading"),
                                A(v.refresh)
                            },
                            scroll: function() {
                                y.throttle ? (clearTimeout(v.timer),
                                v.timer = setTimeout(function() {
                                    T.triggerHandler("scrollchange" + C, [T.scrollTop()])
                                }, y.throttle)) : A(function() {
                                    T.triggerHandler("scrollchange" + C, [T.scrollTop()])
                                })
                            },
                            scrollchange: function(e, t) {
                                v.checkVisibility(t)
                            }
                        },
                        precache: function(t, r) {
                            t instanceof Array || (t = [t]);
                            for (var i = t.length, o = 0, a = [], s = n.createElement("img"), c = function() {
                                ++o >= t.length && e.isFunction(r) && r()
                            }; i--; )
                                (s = n.createElement("img")).onload = c,
                                s.onerror = c,
                                s.src = t[i],
                                a.push(s)
                        },
                        enableCallbacks: function() {
                            v.debug("Allowing callbacks to occur"),
                            $ = !1
                        },
                        disableCallbacks: function() {
                            v.debug("Disabling all callbacks temporarily"),
                            $ = !0
                        },
                        should: {
                            trackChanges: function() {
                                return d ? (v.debug("One time query, no need to bind events"),
                                !1) : (v.debug("Callbacks being attached"),
                                !0)
                            }
                        },
                        setup: {
                            cache: function() {
                                v.cache = {
                                    occurred: {},
                                    screen: {},
                                    element: {}
                                }
                            },
                            image: function() {
                                var e = E.data(S.src);
                                e && (v.verbose("Lazy loading image", e),
                                y.once = !0,
                                y.observeChanges = !1,
                                y.onOnScreen = function() {
                                    v.debug("Image on screen", O),
                                    v.precache(e, function() {
                                        v.set.image(e, function() {
                                            ++p == h && y.onAllLoaded.call(this),
                                            y.onLoad.call(this)
                                        })
                                    })
                                }
                                )
                            },
                            fixed: function() {
                                v.debug("Setting up fixed"),
                                y.once = !1,
                                y.observeChanges = !1,
                                y.initialCheck = !0,
                                y.refreshOnLoad = !0,
                                i.transition || (y.transition = !1),
                                v.create.placeholder(),
                                v.debug("Added placeholder", a),
                                y.onTopPassed = function() {
                                    v.debug("Element passed, adding fixed position", E),
                                    v.show.placeholder(),
                                    v.set.fixed(),
                                    y.transition && e.fn.transition !== r && E.transition(y.transition, y.duration)
                                }
                                ,
                                y.onTopPassedReverse = function() {
                                    v.debug("Element returned to position, removing fixed", E),
                                    v.hide.placeholder(),
                                    v.remove.fixed()
                                }
                            }
                        },
                        create: {
                            placeholder: function() {
                                v.verbose("Creating fixed position placeholder"),
                                a = E.clone(!1).css("display", "none").addClass(b.placeholder).insertAfter(E)
                            }
                        },
                        show: {
                            placeholder: function() {
                                v.verbose("Showing placeholder"),
                                a.css("display", "block").css("visibility", "hidden")
                            }
                        },
                        hide: {
                            placeholder: function() {
                                v.verbose("Hiding placeholder"),
                                a.css("display", "none").css("visibility", "")
                            }
                        },
                        set: {
                            fixed: function() {
                                v.verbose("Setting element to fixed position"),
                                E.addClass(b.fixed).css({
                                    position: "fixed",
                                    top: y.offset + "px",
                                    left: "auto",
                                    zIndex: y.zIndex
                                }),
                                y.onFixed.call(O)
                            },
                            image: function(t, n) {
                                E.attr("src", t),
                                y.transition ? e.fn.transition !== r ? E.transition(y.transition, y.duration, n) : E.fadeIn(y.duration, n) : E.show()
                            }
                        },
                        is: {
                            onScreen: function() {
                                return v.get.elementCalculations().onScreen
                            },
                            offScreen: function() {
                                return v.get.elementCalculations().offScreen
                            },
                            visible: function() {
                                return !(!v.cache || !v.cache.element || 0 === v.cache.element.width && 0 === v.cache.element.offset.top)
                            }
                        },
                        refresh: function() {
                            v.debug("Refreshing constants (width/height)"),
                            "fixed" == y.type && v.resetFixed(),
                            v.reset(),
                            v.save.position(),
                            y.checkOnRefresh && v.checkVisibility(),
                            y.onRefresh.call(O)
                        },
                        resetFixed: function() {
                            v.remove.fixed(),
                            v.remove.occurred()
                        },
                        reset: function() {
                            v.verbose("Resetting all cached values"),
                            e.isPlainObject(v.cache) && (v.cache.screen = {},
                            v.cache.element = {})
                        },
                        checkVisibility: function(e) {
                            v.verbose("Checking visibility of element", v.cache.element),
                            !$ && v.is.visible() && (v.save.scroll(e),
                            v.save.calculations(),
                            v.passed(),
                            v.passingReverse(),
                            v.topVisibleReverse(),
                            v.bottomVisibleReverse(),
                            v.topPassedReverse(),
                            v.bottomPassedReverse(),
                            v.onScreen(),
                            v.offScreen(),
                            v.passing(),
                            v.topVisible(),
                            v.bottomVisible(),
                            v.topPassed(),
                            v.bottomPassed(),
                            y.onUpdate && y.onUpdate.call(O, v.get.elementCalculations()))
                        },
                        passed: function(t, n) {
                            var i = v.get.elementCalculations();
                            if (t && n)
                                y.onPassed[t] = n;
                            else {
                                if (t !== r)
                                    return v.get.pixelsPassed(t) > i.pixelsPassed;
                                i.passing && e.each(y.onPassed, function(e, t) {
                                    i.bottomVisible || i.pixelsPassed > v.get.pixelsPassed(e) ? v.execute(t, e) : y.once || v.remove.occurred(t)
                                })
                            }
                        },
                        onScreen: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onOnScreen
                              , i = "onScreen";
                            if (e && (v.debug("Adding callback for onScreen", e),
                            y.onOnScreen = e),
                            t.onScreen ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e !== r)
                                return t.onOnScreen
                        },
                        offScreen: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onOffScreen
                              , i = "offScreen";
                            if (e && (v.debug("Adding callback for offScreen", e),
                            y.onOffScreen = e),
                            t.offScreen ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e !== r)
                                return t.onOffScreen
                        },
                        passing: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onPassing
                              , i = "passing";
                            if (e && (v.debug("Adding callback for passing", e),
                            y.onPassing = e),
                            t.passing ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e !== r)
                                return t.passing
                        },
                        topVisible: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onTopVisible
                              , i = "topVisible";
                            if (e && (v.debug("Adding callback for top visible", e),
                            y.onTopVisible = e),
                            t.topVisible ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e === r)
                                return t.topVisible
                        },
                        bottomVisible: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onBottomVisible
                              , i = "bottomVisible";
                            if (e && (v.debug("Adding callback for bottom visible", e),
                            y.onBottomVisible = e),
                            t.bottomVisible ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e === r)
                                return t.bottomVisible
                        },
                        topPassed: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onTopPassed
                              , i = "topPassed";
                            if (e && (v.debug("Adding callback for top passed", e),
                            y.onTopPassed = e),
                            t.topPassed ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e === r)
                                return t.topPassed
                        },
                        bottomPassed: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onBottomPassed
                              , i = "bottomPassed";
                            if (e && (v.debug("Adding callback for bottom passed", e),
                            y.onBottomPassed = e),
                            t.bottomPassed ? v.execute(n, i) : y.once || v.remove.occurred(i),
                            e === r)
                                return t.bottomPassed
                        },
                        passingReverse: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onPassingReverse
                              , i = "passingReverse";
                            if (e && (v.debug("Adding callback for passing reverse", e),
                            y.onPassingReverse = e),
                            t.passing ? y.once || v.remove.occurred(i) : v.get.occurred("passing") && v.execute(n, i),
                            e !== r)
                                return !t.passing
                        },
                        topVisibleReverse: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onTopVisibleReverse
                              , i = "topVisibleReverse";
                            if (e && (v.debug("Adding callback for top visible reverse", e),
                            y.onTopVisibleReverse = e),
                            t.topVisible ? y.once || v.remove.occurred(i) : v.get.occurred("topVisible") && v.execute(n, i),
                            e === r)
                                return !t.topVisible
                        },
                        bottomVisibleReverse: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onBottomVisibleReverse
                              , i = "bottomVisibleReverse";
                            if (e && (v.debug("Adding callback for bottom visible reverse", e),
                            y.onBottomVisibleReverse = e),
                            t.bottomVisible ? y.once || v.remove.occurred(i) : v.get.occurred("bottomVisible") && v.execute(n, i),
                            e === r)
                                return !t.bottomVisible
                        },
                        topPassedReverse: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onTopPassedReverse
                              , i = "topPassedReverse";
                            if (e && (v.debug("Adding callback for top passed reverse", e),
                            y.onTopPassedReverse = e),
                            t.topPassed ? y.once || v.remove.occurred(i) : v.get.occurred("topPassed") && v.execute(n, i),
                            e === r)
                                return !t.onTopPassed
                        },
                        bottomPassedReverse: function(e) {
                            var t = v.get.elementCalculations()
                              , n = e || y.onBottomPassedReverse
                              , i = "bottomPassedReverse";
                            if (e && (v.debug("Adding callback for bottom passed reverse", e),
                            y.onBottomPassedReverse = e),
                            t.bottomPassed ? y.once || v.remove.occurred(i) : v.get.occurred("bottomPassed") && v.execute(n, i),
                            e === r)
                                return !t.bottomPassed
                        },
                        execute: function(e, t) {
                            var n = v.get.elementCalculations()
                              , r = v.get.screenCalculations();
                            (e = e || !1) && (y.continuous ? (v.debug("Callback being called continuously", t, n),
                            e.call(O, n, r)) : v.get.occurred(t) || (v.debug("Conditions met", t, n),
                            e.call(O, n, r))),
                            v.save.occurred(t)
                        },
                        remove: {
                            fixed: function() {
                                v.debug("Removing fixed position"),
                                E.removeClass(b.fixed).css({
                                    position: "",
                                    top: "",
                                    left: "",
                                    zIndex: ""
                                }),
                                y.onUnfixed.call(O)
                            },
                            placeholder: function() {
                                v.debug("Removing placeholder content"),
                                a && a.remove()
                            },
                            occurred: function(e) {
                                if (e) {
                                    var t = v.cache.occurred;
                                    t[e] !== r && !0 === t[e] && (v.debug("Callback can now be called again", e),
                                    v.cache.occurred[e] = !1)
                                } else
                                    v.cache.occurred = {}
                            }
                        },
                        save: {
                            calculations: function() {
                                v.verbose("Saving all calculations necessary to determine positioning"),
                                v.save.direction(),
                                v.save.screenCalculations(),
                                v.save.elementCalculations()
                            },
                            occurred: function(e) {
                                e && (v.cache.occurred[e] !== r && !0 === v.cache.occurred[e] || (v.verbose("Saving callback occurred", e),
                                v.cache.occurred[e] = !0))
                            },
                            scroll: function(e) {
                                e = e + y.offset || T.scrollTop() + y.offset,
                                v.cache.scroll = e
                            },
                            direction: function() {
                                var e, t = v.get.scroll(), n = v.get.lastScroll();
                                return e = t > n && n ? "down" : t < n && n ? "up" : "static",
                                v.cache.direction = e,
                                v.cache.direction
                            },
                            elementPosition: function() {
                                var e = v.cache.element
                                  , t = v.get.screenSize();
                                return v.verbose("Saving element position"),
                                e.fits = e.height < t.height,
                                e.offset = E.offset(),
                                e.width = E.outerWidth(),
                                e.height = E.outerHeight(),
                                v.cache.element = e,
                                e
                            },
                            elementCalculations: function() {
                                var e = v.get.screenCalculations()
                                  , t = v.get.elementPosition();
                                return y.includeMargin ? (t.margin = {},
                                t.margin.top = parseInt(E.css("margin-top"), 10),
                                t.margin.bottom = parseInt(E.css("margin-bottom"), 10),
                                t.top = t.offset.top - t.margin.top,
                                t.bottom = t.offset.top + t.height + t.margin.bottom) : (t.top = t.offset.top,
                                t.bottom = t.offset.top + t.height),
                                t.topVisible = e.bottom >= t.top,
                                t.topPassed = e.top >= t.top,
                                t.bottomVisible = e.bottom >= t.bottom,
                                t.bottomPassed = e.top >= t.bottom,
                                t.pixelsPassed = 0,
                                t.percentagePassed = 0,
                                t.onScreen = t.topVisible && !t.bottomPassed,
                                t.passing = t.topPassed && !t.bottomPassed,
                                t.offScreen = !t.onScreen,
                                t.passing && (t.pixelsPassed = e.top - t.top,
                                t.percentagePassed = (e.top - t.top) / t.height),
                                v.cache.element = t,
                                v.verbose("Updated element calculations", t),
                                t
                            },
                            screenCalculations: function() {
                                var e = v.get.scroll();
                                return v.save.direction(),
                                v.cache.screen.top = e,
                                v.cache.screen.bottom = e + v.cache.screen.height,
                                v.cache.screen
                            },
                            screenSize: function() {
                                v.verbose("Saving window position"),
                                v.cache.screen = {
                                    height: T.height()
                                }
                            },
                            position: function() {
                                v.save.screenSize(),
                                v.save.elementPosition()
                            }
                        },
                        get: {
                            pixelsPassed: function(e) {
                                var t = v.get.elementCalculations();
                                return e.search("%") > -1 ? t.height * (parseInt(e, 10) / 100) : parseInt(e, 10)
                            },
                            occurred: function(e) {
                                return v.cache.occurred !== r && (v.cache.occurred[e] || !1)
                            },
                            direction: function() {
                                return v.cache.direction === r && v.save.direction(),
                                v.cache.direction
                            },
                            elementPosition: function() {
                                return v.cache.element === r && v.save.elementPosition(),
                                v.cache.element
                            },
                            elementCalculations: function() {
                                return v.cache.element === r && v.save.elementCalculations(),
                                v.cache.element
                            },
                            screenCalculations: function() {
                                return v.cache.screen === r && v.save.screenCalculations(),
                                v.cache.screen
                            },
                            screenSize: function() {
                                return v.cache.screen === r && v.save.screenSize(),
                                v.cache.screen
                            },
                            scroll: function() {
                                return v.cache.scroll === r && v.save.scroll(),
                                v.cache.scroll
                            },
                            lastScroll: function() {
                                return v.cache.screen === r ? (v.debug("First scroll event, no last scroll could be found"),
                                !1) : v.cache.screen.top
                            }
                        },
                        setting: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, y, t);
                            else {
                                if (n === r)
                                    return y[t];
                                y[t] = n
                            }
                        },
                        internal: function(t, n) {
                            if (e.isPlainObject(t))
                                e.extend(!0, v, t);
                            else {
                                if (n === r)
                                    return v[t];
                                v[t] = n
                            }
                        },
                        debug: function() {
                            !y.silent && y.debug && (y.performance ? v.performance.log(arguments) : (v.debug = Function.prototype.bind.call(console.info, console, y.name + ":"),
                            v.debug.apply(console, arguments)))
                        },
                        verbose: function() {
                            !y.silent && y.verbose && y.debug && (y.performance ? v.performance.log(arguments) : (v.verbose = Function.prototype.bind.call(console.info, console, y.name + ":"),
                            v.verbose.apply(console, arguments)))
                        },
                        error: function() {
                            y.silent || (v.error = Function.prototype.bind.call(console.error, console, y.name + ":"),
                            v.error.apply(console, arguments))
                        },
                        performance: {
                            log: function(e) {
                                var t, n;
                                y.performance && (n = (t = (new Date).getTime()) - (c || t),
                                c = t,
                                l.push({
                                    Name: e[0],
                                    Arguments: [].slice.call(e, 1) || "",
                                    Element: O,
                                    "Execution Time": n
                                })),
                                clearTimeout(v.performance.timer),
                                v.performance.timer = setTimeout(v.performance.display, 500)
                            },
                            display: function() {
                                var t = y.name + ":"
                                  , n = 0;
                                c = !1,
                                clearTimeout(v.performance.timer),
                                e.each(l, function(e, t) {
                                    n += t["Execution Time"]
                                }),
                                t += " " + n + "ms",
                                s && (t += " '" + s + "'"),
                                (console.group !== r || console.table !== r) && l.length > 0 && (console.groupCollapsed(t),
                                console.table ? console.table(l) : e.each(l, function(e, t) {
                                    console.log(t.Name + ": " + t["Execution Time"] + "ms")
                                }),
                                console.groupEnd()),
                                l = []
                            }
                        },
                        invoke: function(t, n, i) {
                            var a, s, c, l = P;
                            return n = n || f,
                            i = O || i,
                            "string" == typeof t && l !== r && (t = t.split(/[\. ]/),
                            a = t.length - 1,
                            e.each(t, function(n, i) {
                                var o = n != a ? i + t[n + 1].charAt(0).toUpperCase() + t[n + 1].slice(1) : t;
                                if (e.isPlainObject(l[o]) && n != a)
                                    l = l[o];
                                else {
                                    if (l[o] !== r)
                                        return s = l[o],
                                        !1;
                                    if (!e.isPlainObject(l[i]) || n == a)
                                        return l[i] !== r ? (s = l[i],
                                        !1) : (v.error(x.method, t),
                                        !1);
                                    l = l[i]
                                }
                            })),
                            e.isFunction(s) ? c = s.apply(i, n) : s !== r && (c = s),
                            e.isArray(o) ? o.push(c) : o !== r ? o = [o, c] : c !== r && (o = c),
                            s
                        }
                    },
                    d ? (P === r && v.initialize(),
                    P.save.scroll(),
                    P.save.calculations(),
                    v.invoke(u)) : (P !== r && P.invoke("destroy"),
                    v.initialize())
                }),
                o !== r ? o : this
            }
            ,
            e.fn.visibility.settings = {
                name: "Visibility",
                namespace: "visibility",
                debug: !1,
                verbose: !1,
                performance: !0,
                observeChanges: !0,
                initialCheck: !0,
                refreshOnLoad: !0,
                refreshOnResize: !0,
                checkOnRefresh: !0,
                once: !0,
                continuous: !1,
                offset: 0,
                includeMargin: !1,
                context: t,
                throttle: !1,
                type: !1,
                zIndex: "10",
                transition: "fade in",
                duration: 1e3,
                onPassed: {},
                onOnScreen: !1,
                onOffScreen: !1,
                onPassing: !1,
                onTopVisible: !1,
                onBottomVisible: !1,
                onTopPassed: !1,
                onBottomPassed: !1,
                onPassingReverse: !1,
                onTopVisibleReverse: !1,
                onBottomVisibleReverse: !1,
                onTopPassedReverse: !1,
                onBottomPassedReverse: !1,
                onLoad: function() {},
                onAllLoaded: function() {},
                onFixed: function() {},
                onUnfixed: function() {},
                onUpdate: !1,
                onRefresh: function() {},
                metadata: {
                    src: "src"
                },
                className: {
                    fixed: "fixed",
                    placeholder: "placeholder"
                },
                error: {
                    method: "The method you called is not defined.",
                    visible: "Element is hidden, you must call refresh after element becomes visible"
                }
            }
        }(e, window, document)
    }
    ).call(this, n(1))
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.jQuery = n(43)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    var r;
    /*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
    /*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
    !function(t, n) {
        "use strict";
        "object" == typeof e && "object" == typeof e.exports ? e.exports = t.document ? n(t, !0) : function(e) {
            if (!e.document)
                throw new Error("jQuery requires a window with a document");
            return n(e)
        }
        : n(t)
    }("undefined" != typeof window ? window : this, function(n, i) {
        "use strict";
        var o = []
          , a = n.document
          , s = Object.getPrototypeOf
          , c = o.slice
          , l = o.concat
          , u = o.push
          , d = o.indexOf
          , f = {}
          , h = f.toString
          , p = f.hasOwnProperty
          , g = p.toString
          , m = g.call(Object)
          , v = {}
          , y = function(e) {
            return "function" == typeof e && "number" != typeof e.nodeType
        }
          , b = function(e) {
            return null != e && e === e.window
        }
          , w = {
            type: !0,
            src: !0,
            nonce: !0,
            noModule: !0
        };
        function x(e, t, n) {
            var r, i, o = (n = n || a).createElement("script");
            if (o.text = e,
            t)
                for (r in w)
                    (i = t[r] || t.getAttribute && t.getAttribute(r)) && o.setAttribute(r, i);
            n.head.appendChild(o).parentNode.removeChild(o)
        }
        function S(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? f[h.call(e)] || "object" : typeof e
        }
        var C = function(e, t) {
            return new C.fn.init(e,t)
        }
          , _ = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
        function k(e) {
            var t = !!e && "length"in e && e.length
              , n = S(e);
            return !y(e) && !b(e) && ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e)
        }
        C.fn = C.prototype = {
            jquery: "3.4.0",
            constructor: C,
            length: 0,
            toArray: function() {
                return c.call(this)
            },
            get: function(e) {
                return null == e ? c.call(this) : e < 0 ? this[e + this.length] : this[e]
            },
            pushStack: function(e) {
                var t = C.merge(this.constructor(), e);
                return t.prevObject = this,
                t
            },
            each: function(e) {
                return C.each(this, e)
            },
            map: function(e) {
                return this.pushStack(C.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            slice: function() {
                return this.pushStack(c.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length
                  , n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: u,
            sort: o.sort,
            splice: o.splice
        },
        C.extend = C.fn.extend = function() {
            var e, t, n, r, i, o, a = arguments[0] || {}, s = 1, c = arguments.length, l = !1;
            for ("boolean" == typeof a && (l = a,
            a = arguments[s] || {},
            s++),
            "object" == typeof a || y(a) || (a = {}),
            s === c && (a = this,
            s--); s < c; s++)
                if (null != (e = arguments[s]))
                    for (t in e)
                        r = e[t],
                        "__proto__" !== t && a !== r && (l && r && (C.isPlainObject(r) || (i = Array.isArray(r))) ? (n = a[t],
                        o = i && !Array.isArray(n) ? [] : i || C.isPlainObject(n) ? n : {},
                        i = !1,
                        a[t] = C.extend(l, o, r)) : void 0 !== r && (a[t] = r));
            return a
        }
        ,
        C.extend({
            expando: "jQuery" + ("3.4.0" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(e) {
                throw new Error(e)
            },
            noop: function() {},
            isPlainObject: function(e) {
                var t, n;
                return !(!e || "[object Object]" !== h.call(e) || (t = s(e)) && ("function" != typeof (n = p.call(t, "constructor") && t.constructor) || g.call(n) !== m))
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e)
                    return !1;
                return !0
            },
            globalEval: function(e, t) {
                x(e, {
                    nonce: t && t.nonce
                })
            },
            each: function(e, t) {
                var n, r = 0;
                if (k(e))
                    for (n = e.length; r < n && !1 !== t.call(e[r], r, e[r]); r++)
                        ;
                else
                    for (r in e)
                        if (!1 === t.call(e[r], r, e[r]))
                            break;
                return e
            },
            trim: function(e) {
                return null == e ? "" : (e + "").replace(_, "")
            },
            makeArray: function(e, t) {
                var n = t || [];
                return null != e && (k(Object(e)) ? C.merge(n, "string" == typeof e ? [e] : e) : u.call(n, e)),
                n
            },
            inArray: function(e, t, n) {
                return null == t ? -1 : d.call(t, e, n)
            },
            merge: function(e, t) {
                for (var n = +t.length, r = 0, i = e.length; r < n; r++)
                    e[i++] = t[r];
                return e.length = i,
                e
            },
            grep: function(e, t, n) {
                for (var r = [], i = 0, o = e.length, a = !n; i < o; i++)
                    !t(e[i], i) !== a && r.push(e[i]);
                return r
            },
            map: function(e, t, n) {
                var r, i, o = 0, a = [];
                if (k(e))
                    for (r = e.length; o < r; o++)
                        null != (i = t(e[o], o, n)) && a.push(i);
                else
                    for (o in e)
                        null != (i = t(e[o], o, n)) && a.push(i);
                return l.apply([], a)
            },
            guid: 1,
            support: v
        }),
        "function" == typeof Symbol && (C.fn[Symbol.iterator] = o[Symbol.iterator]),
        C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
            f["[object " + t + "]"] = t.toLowerCase()
        });
        var E = /*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
        function(e) {
            var t, n, r, i, o, a, s, c, l, u, d, f, h, p, g, m, v, y, b, w = "sizzle" + 1 * new Date, x = e.document, S = 0, C = 0, _ = ce(), k = ce(), E = ce(), T = ce(), P = function(e, t) {
                return e === t && (d = !0),
                0
            }, A = {}.hasOwnProperty, O = [], $ = O.pop, j = O.push, D = O.push, R = O.slice, M = function(e, t) {
                for (var n = 0, r = e.length; n < r; n++)
                    if (e[n] === t)
                        return n;
                return -1
            }, I = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", F = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", N = "\\[" + L + "*(" + F + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + F + "))|)" + L + "*\\]", B = ":(" + F + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)", U = new RegExp(L + "+","g"), q = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$","g"), V = new RegExp("^" + L + "*," + L + "*"), z = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), H = new RegExp(L + "|>"), W = new RegExp(B), G = new RegExp("^" + F + "$"), X = {
                ID: new RegExp("^#(" + F + ")"),
                CLASS: new RegExp("^\\.(" + F + ")"),
                TAG: new RegExp("^(" + F + "|[*])"),
                ATTR: new RegExp("^" + N),
                PSEUDO: new RegExp("^" + B),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)","i"),
                bool: new RegExp("^(?:" + I + ")$","i"),
                needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)","i")
            }, Y = /HTML$/i, K = /^(?:input|select|textarea|button)$/i, Q = /^h\d$/i, J = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ee = /[+~]/, te = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)","ig"), ne = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
            }, re = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ie = function(e, t) {
                return t ? "\0" === e ? "" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
            }, oe = function() {
                f()
            }, ae = we(function(e) {
                return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
            }, {
                dir: "parentNode",
                next: "legend"
            });
            try {
                D.apply(O = R.call(x.childNodes), x.childNodes),
                O[x.childNodes.length].nodeType
            } catch (e) {
                D = {
                    apply: O.length ? function(e, t) {
                        j.apply(e, R.call(t))
                    }
                    : function(e, t) {
                        for (var n = e.length, r = 0; e[n++] = t[r++]; )
                            ;
                        e.length = n - 1
                    }
                }
            }
            function se(e, t, r, i) {
                var o, s, l, u, d, p, v, y = t && t.ownerDocument, S = t ? t.nodeType : 9;
                if (r = r || [],
                "string" != typeof e || !e || 1 !== S && 9 !== S && 11 !== S)
                    return r;
                if (!i && ((t ? t.ownerDocument || t : x) !== h && f(t),
                t = t || h,
                g)) {
                    if (11 !== S && (d = Z.exec(e)))
                        if (o = d[1]) {
                            if (9 === S) {
                                if (!(l = t.getElementById(o)))
                                    return r;
                                if (l.id === o)
                                    return r.push(l),
                                    r
                            } else if (y && (l = y.getElementById(o)) && b(t, l) && l.id === o)
                                return r.push(l),
                                r
                        } else {
                            if (d[2])
                                return D.apply(r, t.getElementsByTagName(e)),
                                r;
                            if ((o = d[3]) && n.getElementsByClassName && t.getElementsByClassName)
                                return D.apply(r, t.getElementsByClassName(o)),
                                r
                        }
                    if (n.qsa && !T[e + " "] && (!m || !m.test(e)) && (1 !== S || "object" !== t.nodeName.toLowerCase())) {
                        if (v = e,
                        y = t,
                        1 === S && H.test(e)) {
                            for ((u = t.getAttribute("id")) ? u = u.replace(re, ie) : t.setAttribute("id", u = w),
                            s = (p = a(e)).length; s--; )
                                p[s] = "#" + u + " " + be(p[s]);
                            v = p.join(","),
                            y = ee.test(e) && ve(t.parentNode) || t
                        }
                        try {
                            return D.apply(r, y.querySelectorAll(v)),
                            r
                        } catch (t) {
                            T(e, !0)
                        } finally {
                            u === w && t.removeAttribute("id")
                        }
                    }
                }
                return c(e.replace(q, "$1"), t, r, i)
            }
            function ce() {
                var e = [];
                return function t(n, i) {
                    return e.push(n + " ") > r.cacheLength && delete t[e.shift()],
                    t[n + " "] = i
                }
            }
            function le(e) {
                return e[w] = !0,
                e
            }
            function ue(e) {
                var t = h.createElement("fieldset");
                try {
                    return !!e(t)
                } catch (e) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t),
                    t = null
                }
            }
            function de(e, t) {
                for (var n = e.split("|"), i = n.length; i--; )
                    r.attrHandle[n[i]] = t
            }
            function fe(e, t) {
                var n = t && e
                  , r = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
                if (r)
                    return r;
                if (n)
                    for (; n = n.nextSibling; )
                        if (n === t)
                            return -1;
                return e ? 1 : -1
            }
            function he(e) {
                return function(t) {
                    return "input" === t.nodeName.toLowerCase() && t.type === e
                }
            }
            function pe(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return ("input" === n || "button" === n) && t.type === e
                }
            }
            function ge(e) {
                return function(t) {
                    return "form"in t ? t.parentNode && !1 === t.disabled ? "label"in t ? "label"in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && ae(t) === e : t.disabled === e : "label"in t && t.disabled === e
                }
            }
            function me(e) {
                return le(function(t) {
                    return t = +t,
                    le(function(n, r) {
                        for (var i, o = e([], n.length, t), a = o.length; a--; )
                            n[i = o[a]] && (n[i] = !(r[i] = n[i]))
                    })
                })
            }
            function ve(e) {
                return e && void 0 !== e.getElementsByTagName && e
            }
            for (t in n = se.support = {},
            o = se.isXML = function(e) {
                var t = e.namespaceURI
                  , n = (e.ownerDocument || e).documentElement;
                return !Y.test(t || n && n.nodeName || "HTML")
            }
            ,
            f = se.setDocument = function(e) {
                var t, i, a = e ? e.ownerDocument || e : x;
                return a !== h && 9 === a.nodeType && a.documentElement ? (p = (h = a).documentElement,
                g = !o(h),
                x !== h && (i = h.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", oe, !1) : i.attachEvent && i.attachEvent("onunload", oe)),
                n.attributes = ue(function(e) {
                    return e.className = "i",
                    !e.getAttribute("className")
                }),
                n.getElementsByTagName = ue(function(e) {
                    return e.appendChild(h.createComment("")),
                    !e.getElementsByTagName("*").length
                }),
                n.getElementsByClassName = J.test(h.getElementsByClassName),
                n.getById = ue(function(e) {
                    return p.appendChild(e).id = w,
                    !h.getElementsByName || !h.getElementsByName(w).length
                }),
                n.getById ? (r.filter.ID = function(e) {
                    var t = e.replace(te, ne);
                    return function(e) {
                        return e.getAttribute("id") === t
                    }
                }
                ,
                r.find.ID = function(e, t) {
                    if (void 0 !== t.getElementById && g) {
                        var n = t.getElementById(e);
                        return n ? [n] : []
                    }
                }
                ) : (r.filter.ID = function(e) {
                    var t = e.replace(te, ne);
                    return function(e) {
                        var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                        return n && n.value === t
                    }
                }
                ,
                r.find.ID = function(e, t) {
                    if (void 0 !== t.getElementById && g) {
                        var n, r, i, o = t.getElementById(e);
                        if (o) {
                            if ((n = o.getAttributeNode("id")) && n.value === e)
                                return [o];
                            for (i = t.getElementsByName(e),
                            r = 0; o = i[r++]; )
                                if ((n = o.getAttributeNode("id")) && n.value === e)
                                    return [o]
                        }
                        return []
                    }
                }
                ),
                r.find.TAG = n.getElementsByTagName ? function(e, t) {
                    return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : n.qsa ? t.querySelectorAll(e) : void 0
                }
                : function(e, t) {
                    var n, r = [], i = 0, o = t.getElementsByTagName(e);
                    if ("*" === e) {
                        for (; n = o[i++]; )
                            1 === n.nodeType && r.push(n);
                        return r
                    }
                    return o
                }
                ,
                r.find.CLASS = n.getElementsByClassName && function(e, t) {
                    if (void 0 !== t.getElementsByClassName && g)
                        return t.getElementsByClassName(e)
                }
                ,
                v = [],
                m = [],
                (n.qsa = J.test(h.querySelectorAll)) && (ue(function(e) {
                    p.appendChild(e).innerHTML = "<a id='" + w + "'></a><select id='" + w + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                    e.querySelectorAll("[msallowcapture^='']").length && m.push("[*^$]=" + L + "*(?:''|\"\")"),
                    e.querySelectorAll("[selected]").length || m.push("\\[" + L + "*(?:value|" + I + ")"),
                    e.querySelectorAll("[id~=" + w + "-]").length || m.push("~="),
                    e.querySelectorAll(":checked").length || m.push(":checked"),
                    e.querySelectorAll("a#" + w + "+*").length || m.push(".#.+[+~]")
                }),
                ue(function(e) {
                    e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                    var t = h.createElement("input");
                    t.setAttribute("type", "hidden"),
                    e.appendChild(t).setAttribute("name", "D"),
                    e.querySelectorAll("[name=d]").length && m.push("name" + L + "*[*^$|!~]?="),
                    2 !== e.querySelectorAll(":enabled").length && m.push(":enabled", ":disabled"),
                    p.appendChild(e).disabled = !0,
                    2 !== e.querySelectorAll(":disabled").length && m.push(":enabled", ":disabled"),
                    e.querySelectorAll("*,:x"),
                    m.push(",.*:")
                })),
                (n.matchesSelector = J.test(y = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.oMatchesSelector || p.msMatchesSelector)) && ue(function(e) {
                    n.disconnectedMatch = y.call(e, "*"),
                    y.call(e, "[s!='']:x"),
                    v.push("!=", B)
                }),
                m = m.length && new RegExp(m.join("|")),
                v = v.length && new RegExp(v.join("|")),
                t = J.test(p.compareDocumentPosition),
                b = t || J.test(p.contains) ? function(e, t) {
                    var n = 9 === e.nodeType ? e.documentElement : e
                      , r = t && t.parentNode;
                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                }
                : function(e, t) {
                    if (t)
                        for (; t = t.parentNode; )
                            if (t === e)
                                return !0;
                    return !1
                }
                ,
                P = t ? function(e, t) {
                    if (e === t)
                        return d = !0,
                        0;
                    var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                    return r || (1 & (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !n.sortDetached && t.compareDocumentPosition(e) === r ? e === h || e.ownerDocument === x && b(x, e) ? -1 : t === h || t.ownerDocument === x && b(x, t) ? 1 : u ? M(u, e) - M(u, t) : 0 : 4 & r ? -1 : 1)
                }
                : function(e, t) {
                    if (e === t)
                        return d = !0,
                        0;
                    var n, r = 0, i = e.parentNode, o = t.parentNode, a = [e], s = [t];
                    if (!i || !o)
                        return e === h ? -1 : t === h ? 1 : i ? -1 : o ? 1 : u ? M(u, e) - M(u, t) : 0;
                    if (i === o)
                        return fe(e, t);
                    for (n = e; n = n.parentNode; )
                        a.unshift(n);
                    for (n = t; n = n.parentNode; )
                        s.unshift(n);
                    for (; a[r] === s[r]; )
                        r++;
                    return r ? fe(a[r], s[r]) : a[r] === x ? -1 : s[r] === x ? 1 : 0
                }
                ,
                h) : h
            }
            ,
            se.matches = function(e, t) {
                return se(e, null, null, t)
            }
            ,
            se.matchesSelector = function(e, t) {
                if ((e.ownerDocument || e) !== h && f(e),
                n.matchesSelector && g && !T[t + " "] && (!v || !v.test(t)) && (!m || !m.test(t)))
                    try {
                        var r = y.call(e, t);
                        if (r || n.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                            return r
                    } catch (e) {
                        T(t, !0)
                    }
                return se(t, h, null, [e]).length > 0
            }
            ,
            se.contains = function(e, t) {
                return (e.ownerDocument || e) !== h && f(e),
                b(e, t)
            }
            ,
            se.attr = function(e, t) {
                (e.ownerDocument || e) !== h && f(e);
                var i = r.attrHandle[t.toLowerCase()]
                  , o = i && A.call(r.attrHandle, t.toLowerCase()) ? i(e, t, !g) : void 0;
                return void 0 !== o ? o : n.attributes || !g ? e.getAttribute(t) : (o = e.getAttributeNode(t)) && o.specified ? o.value : null
            }
            ,
            se.escape = function(e) {
                return (e + "").replace(re, ie)
            }
            ,
            se.error = function(e) {
                throw new Error("Syntax error, unrecognized expression: " + e)
            }
            ,
            se.uniqueSort = function(e) {
                var t, r = [], i = 0, o = 0;
                if (d = !n.detectDuplicates,
                u = !n.sortStable && e.slice(0),
                e.sort(P),
                d) {
                    for (; t = e[o++]; )
                        t === e[o] && (i = r.push(o));
                    for (; i--; )
                        e.splice(r[i], 1)
                }
                return u = null,
                e
            }
            ,
            i = se.getText = function(e) {
                var t, n = "", r = 0, o = e.nodeType;
                if (o) {
                    if (1 === o || 9 === o || 11 === o) {
                        if ("string" == typeof e.textContent)
                            return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling)
                            n += i(e)
                    } else if (3 === o || 4 === o)
                        return e.nodeValue
                } else
                    for (; t = e[r++]; )
                        n += i(t);
                return n
            }
            ,
            (r = se.selectors = {
                cacheLength: 50,
                createPseudo: le,
                match: X,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(e) {
                        return e[1] = e[1].replace(te, ne),
                        e[3] = (e[3] || e[4] || e[5] || "").replace(te, ne),
                        "~=" === e[2] && (e[3] = " " + e[3] + " "),
                        e.slice(0, 4)
                    },
                    CHILD: function(e) {
                        return e[1] = e[1].toLowerCase(),
                        "nth" === e[1].slice(0, 3) ? (e[3] || se.error(e[0]),
                        e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                        e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && se.error(e[0]),
                        e
                    },
                    PSEUDO: function(e) {
                        var t, n = !e[6] && e[2];
                        return X.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && W.test(n) && (t = a(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t),
                        e[2] = n.slice(0, t)),
                        e.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(e) {
                        var t = e.replace(te, ne).toLowerCase();
                        return "*" === e ? function() {
                            return !0
                        }
                        : function(e) {
                            return e.nodeName && e.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(e) {
                        var t = _[e + " "];
                        return t || (t = new RegExp("(^|" + L + ")" + e + "(" + L + "|$)")) && _(e, function(e) {
                            return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(e, t, n) {
                        return function(r) {
                            var i = se.attr(r, e);
                            return null == i ? "!=" === t : !t || (i += "",
                            "=" === t ? i === n : "!=" === t ? i !== n : "^=" === t ? n && 0 === i.indexOf(n) : "*=" === t ? n && i.indexOf(n) > -1 : "$=" === t ? n && i.slice(-n.length) === n : "~=" === t ? (" " + i.replace(U, " ") + " ").indexOf(n) > -1 : "|=" === t && (i === n || i.slice(0, n.length + 1) === n + "-"))
                        }
                    },
                    CHILD: function(e, t, n, r, i) {
                        var o = "nth" !== e.slice(0, 3)
                          , a = "last" !== e.slice(-4)
                          , s = "of-type" === t;
                        return 1 === r && 0 === i ? function(e) {
                            return !!e.parentNode
                        }
                        : function(t, n, c) {
                            var l, u, d, f, h, p, g = o !== a ? "nextSibling" : "previousSibling", m = t.parentNode, v = s && t.nodeName.toLowerCase(), y = !c && !s, b = !1;
                            if (m) {
                                if (o) {
                                    for (; g; ) {
                                        for (f = t; f = f[g]; )
                                            if (s ? f.nodeName.toLowerCase() === v : 1 === f.nodeType)
                                                return !1;
                                        p = g = "only" === e && !p && "nextSibling"
                                    }
                                    return !0
                                }
                                if (p = [a ? m.firstChild : m.lastChild],
                                a && y) {
                                    for (b = (h = (l = (u = (d = (f = m)[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] || [])[0] === S && l[1]) && l[2],
                                    f = h && m.childNodes[h]; f = ++h && f && f[g] || (b = h = 0) || p.pop(); )
                                        if (1 === f.nodeType && ++b && f === t) {
                                            u[e] = [S, h, b];
                                            break
                                        }
                                } else if (y && (b = h = (l = (u = (d = (f = t)[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] || [])[0] === S && l[1]),
                                !1 === b)
                                    for (; (f = ++h && f && f[g] || (b = h = 0) || p.pop()) && ((s ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++b || (y && ((u = (d = f[w] || (f[w] = {}))[f.uniqueID] || (d[f.uniqueID] = {}))[e] = [S, b]),
                                    f !== t)); )
                                        ;
                                return (b -= i) === r || b % r == 0 && b / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(e, t) {
                        var n, i = r.pseudos[e] || r.setFilters[e.toLowerCase()] || se.error("unsupported pseudo: " + e);
                        return i[w] ? i(t) : i.length > 1 ? (n = [e, e, "", t],
                        r.setFilters.hasOwnProperty(e.toLowerCase()) ? le(function(e, n) {
                            for (var r, o = i(e, t), a = o.length; a--; )
                                e[r = M(e, o[a])] = !(n[r] = o[a])
                        }) : function(e) {
                            return i(e, 0, n)
                        }
                        ) : i
                    }
                },
                pseudos: {
                    not: le(function(e) {
                        var t = []
                          , n = []
                          , r = s(e.replace(q, "$1"));
                        return r[w] ? le(function(e, t, n, i) {
                            for (var o, a = r(e, null, i, []), s = e.length; s--; )
                                (o = a[s]) && (e[s] = !(t[s] = o))
                        }) : function(e, i, o) {
                            return t[0] = e,
                            r(t, null, o, n),
                            t[0] = null,
                            !n.pop()
                        }
                    }),
                    has: le(function(e) {
                        return function(t) {
                            return se(e, t).length > 0
                        }
                    }),
                    contains: le(function(e) {
                        return e = e.replace(te, ne),
                        function(t) {
                            return (t.textContent || i(t)).indexOf(e) > -1
                        }
                    }),
                    lang: le(function(e) {
                        return G.test(e || "") || se.error("unsupported lang: " + e),
                        e = e.replace(te, ne).toLowerCase(),
                        function(t) {
                            var n;
                            do {
                                if (n = g ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                    return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
                            } while ((t = t.parentNode) && 1 === t.nodeType);
                            return !1
                        }
                    }),
                    target: function(t) {
                        var n = e.location && e.location.hash;
                        return n && n.slice(1) === t.id
                    },
                    root: function(e) {
                        return e === p
                    },
                    focus: function(e) {
                        return e === h.activeElement && (!h.hasFocus || h.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                    },
                    enabled: ge(!1),
                    disabled: ge(!0),
                    checked: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && !!e.checked || "option" === t && !!e.selected
                    },
                    selected: function(e) {
                        return e.parentNode && e.parentNode.selectedIndex,
                        !0 === e.selected
                    },
                    empty: function(e) {
                        for (e = e.firstChild; e; e = e.nextSibling)
                            if (e.nodeType < 6)
                                return !1;
                        return !0
                    },
                    parent: function(e) {
                        return !r.pseudos.empty(e)
                    },
                    header: function(e) {
                        return Q.test(e.nodeName)
                    },
                    input: function(e) {
                        return K.test(e.nodeName)
                    },
                    button: function(e) {
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "button" === e.type || "button" === t
                    },
                    text: function(e) {
                        var t;
                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                    },
                    first: me(function() {
                        return [0]
                    }),
                    last: me(function(e, t) {
                        return [t - 1]
                    }),
                    eq: me(function(e, t, n) {
                        return [n < 0 ? n + t : n]
                    }),
                    even: me(function(e, t) {
                        for (var n = 0; n < t; n += 2)
                            e.push(n);
                        return e
                    }),
                    odd: me(function(e, t) {
                        for (var n = 1; n < t; n += 2)
                            e.push(n);
                        return e
                    }),
                    lt: me(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n > t ? t : n; --r >= 0; )
                            e.push(r);
                        return e
                    }),
                    gt: me(function(e, t, n) {
                        for (var r = n < 0 ? n + t : n; ++r < t; )
                            e.push(r);
                        return e
                    })
                }
            }).pseudos.nth = r.pseudos.eq,
            {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            })
                r.pseudos[t] = he(t);
            for (t in {
                submit: !0,
                reset: !0
            })
                r.pseudos[t] = pe(t);
            function ye() {}
            function be(e) {
                for (var t = 0, n = e.length, r = ""; t < n; t++)
                    r += e[t].value;
                return r
            }
            function we(e, t, n) {
                var r = t.dir
                  , i = t.next
                  , o = i || r
                  , a = n && "parentNode" === o
                  , s = C++;
                return t.first ? function(t, n, i) {
                    for (; t = t[r]; )
                        if (1 === t.nodeType || a)
                            return e(t, n, i);
                    return !1
                }
                : function(t, n, c) {
                    var l, u, d, f = [S, s];
                    if (c) {
                        for (; t = t[r]; )
                            if ((1 === t.nodeType || a) && e(t, n, c))
                                return !0
                    } else
                        for (; t = t[r]; )
                            if (1 === t.nodeType || a)
                                if (u = (d = t[w] || (t[w] = {}))[t.uniqueID] || (d[t.uniqueID] = {}),
                                i && i === t.nodeName.toLowerCase())
                                    t = t[r] || t;
                                else {
                                    if ((l = u[o]) && l[0] === S && l[1] === s)
                                        return f[2] = l[2];
                                    if (u[o] = f,
                                    f[2] = e(t, n, c))
                                        return !0
                                }
                    return !1
                }
            }
            function xe(e) {
                return e.length > 1 ? function(t, n, r) {
                    for (var i = e.length; i--; )
                        if (!e[i](t, n, r))
                            return !1;
                    return !0
                }
                : e[0]
            }
            function Se(e, t, n, r, i) {
                for (var o, a = [], s = 0, c = e.length, l = null != t; s < c; s++)
                    (o = e[s]) && (n && !n(o, r, i) || (a.push(o),
                    l && t.push(s)));
                return a
            }
            function Ce(e, t, n, r, i, o) {
                return r && !r[w] && (r = Ce(r)),
                i && !i[w] && (i = Ce(i, o)),
                le(function(o, a, s, c) {
                    var l, u, d, f = [], h = [], p = a.length, g = o || function(e, t, n) {
                        for (var r = 0, i = t.length; r < i; r++)
                            se(e, t[r], n);
                        return n
                    }(t || "*", s.nodeType ? [s] : s, []), m = !e || !o && t ? g : Se(g, f, e, s, c), v = n ? i || (o ? e : p || r) ? [] : a : m;
                    if (n && n(m, v, s, c),
                    r)
                        for (l = Se(v, h),
                        r(l, [], s, c),
                        u = l.length; u--; )
                            (d = l[u]) && (v[h[u]] = !(m[h[u]] = d));
                    if (o) {
                        if (i || e) {
                            if (i) {
                                for (l = [],
                                u = v.length; u--; )
                                    (d = v[u]) && l.push(m[u] = d);
                                i(null, v = [], l, c)
                            }
                            for (u = v.length; u--; )
                                (d = v[u]) && (l = i ? M(o, d) : f[u]) > -1 && (o[l] = !(a[l] = d))
                        }
                    } else
                        v = Se(v === a ? v.splice(p, v.length) : v),
                        i ? i(null, a, v, c) : D.apply(a, v)
                })
            }
            function _e(e) {
                for (var t, n, i, o = e.length, a = r.relative[e[0].type], s = a || r.relative[" "], c = a ? 1 : 0, u = we(function(e) {
                    return e === t
                }, s, !0), d = we(function(e) {
                    return M(t, e) > -1
                }, s, !0), f = [function(e, n, r) {
                    var i = !a && (r || n !== l) || ((t = n).nodeType ? u(e, n, r) : d(e, n, r));
                    return t = null,
                    i
                }
                ]; c < o; c++)
                    if (n = r.relative[e[c].type])
                        f = [we(xe(f), n)];
                    else {
                        if ((n = r.filter[e[c].type].apply(null, e[c].matches))[w]) {
                            for (i = ++c; i < o && !r.relative[e[i].type]; i++)
                                ;
                            return Ce(c > 1 && xe(f), c > 1 && be(e.slice(0, c - 1).concat({
                                value: " " === e[c - 2].type ? "*" : ""
                            })).replace(q, "$1"), n, c < i && _e(e.slice(c, i)), i < o && _e(e = e.slice(i)), i < o && be(e))
                        }
                        f.push(n)
                    }
                return xe(f)
            }
            return ye.prototype = r.filters = r.pseudos,
            r.setFilters = new ye,
            a = se.tokenize = function(e, t) {
                var n, i, o, a, s, c, l, u = k[e + " "];
                if (u)
                    return t ? 0 : u.slice(0);
                for (s = e,
                c = [],
                l = r.preFilter; s; ) {
                    for (a in n && !(i = V.exec(s)) || (i && (s = s.slice(i[0].length) || s),
                    c.push(o = [])),
                    n = !1,
                    (i = z.exec(s)) && (n = i.shift(),
                    o.push({
                        value: n,
                        type: i[0].replace(q, " ")
                    }),
                    s = s.slice(n.length)),
                    r.filter)
                        !(i = X[a].exec(s)) || l[a] && !(i = l[a](i)) || (n = i.shift(),
                        o.push({
                            value: n,
                            type: a,
                            matches: i
                        }),
                        s = s.slice(n.length));
                    if (!n)
                        break
                }
                return t ? s.length : s ? se.error(e) : k(e, c).slice(0)
            }
            ,
            s = se.compile = function(e, t) {
                var n, i = [], o = [], s = E[e + " "];
                if (!s) {
                    for (t || (t = a(e)),
                    n = t.length; n--; )
                        (s = _e(t[n]))[w] ? i.push(s) : o.push(s);
                    (s = E(e, function(e, t) {
                        var n = t.length > 0
                          , i = e.length > 0
                          , o = function(o, a, s, c, u) {
                            var d, p, m, v = 0, y = "0", b = o && [], w = [], x = l, C = o || i && r.find.TAG("*", u), _ = S += null == x ? 1 : Math.random() || .1, k = C.length;
                            for (u && (l = a === h || a || u); y !== k && null != (d = C[y]); y++) {
                                if (i && d) {
                                    for (p = 0,
                                    a || d.ownerDocument === h || (f(d),
                                    s = !g); m = e[p++]; )
                                        if (m(d, a || h, s)) {
                                            c.push(d);
                                            break
                                        }
                                    u && (S = _)
                                }
                                n && ((d = !m && d) && v--,
                                o && b.push(d))
                            }
                            if (v += y,
                            n && y !== v) {
                                for (p = 0; m = t[p++]; )
                                    m(b, w, a, s);
                                if (o) {
                                    if (v > 0)
                                        for (; y--; )
                                            b[y] || w[y] || (w[y] = $.call(c));
                                    w = Se(w)
                                }
                                D.apply(c, w),
                                u && !o && w.length > 0 && v + t.length > 1 && se.uniqueSort(c)
                            }
                            return u && (S = _,
                            l = x),
                            b
                        };
                        return n ? le(o) : o
                    }(o, i))).selector = e
                }
                return s
            }
            ,
            c = se.select = function(e, t, n, i) {
                var o, c, l, u, d, f = "function" == typeof e && e, h = !i && a(e = f.selector || e);
                if (n = n || [],
                1 === h.length) {
                    if ((c = h[0] = h[0].slice(0)).length > 2 && "ID" === (l = c[0]).type && 9 === t.nodeType && g && r.relative[c[1].type]) {
                        if (!(t = (r.find.ID(l.matches[0].replace(te, ne), t) || [])[0]))
                            return n;
                        f && (t = t.parentNode),
                        e = e.slice(c.shift().value.length)
                    }
                    for (o = X.needsContext.test(e) ? 0 : c.length; o-- && (l = c[o],
                    !r.relative[u = l.type]); )
                        if ((d = r.find[u]) && (i = d(l.matches[0].replace(te, ne), ee.test(c[0].type) && ve(t.parentNode) || t))) {
                            if (c.splice(o, 1),
                            !(e = i.length && be(c)))
                                return D.apply(n, i),
                                n;
                            break
                        }
                }
                return (f || s(e, h))(i, t, !g, n, !t || ee.test(e) && ve(t.parentNode) || t),
                n
            }
            ,
            n.sortStable = w.split("").sort(P).join("") === w,
            n.detectDuplicates = !!d,
            f(),
            n.sortDetached = ue(function(e) {
                return 1 & e.compareDocumentPosition(h.createElement("fieldset"))
            }),
            ue(function(e) {
                return e.innerHTML = "<a href='#'></a>",
                "#" === e.firstChild.getAttribute("href")
            }) || de("type|href|height|width", function(e, t, n) {
                if (!n)
                    return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
            }),
            n.attributes && ue(function(e) {
                return e.innerHTML = "<input/>",
                e.firstChild.setAttribute("value", ""),
                "" === e.firstChild.getAttribute("value")
            }) || de("value", function(e, t, n) {
                if (!n && "input" === e.nodeName.toLowerCase())
                    return e.defaultValue
            }),
            ue(function(e) {
                return null == e.getAttribute("disabled")
            }) || de(I, function(e, t, n) {
                var r;
                if (!n)
                    return !0 === e[t] ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
            }),
            se
        }(n);
        C.find = E,
        C.expr = E.selectors,
        C.expr[":"] = C.expr.pseudos,
        C.uniqueSort = C.unique = E.uniqueSort,
        C.text = E.getText,
        C.isXMLDoc = E.isXML,
        C.contains = E.contains,
        C.escapeSelector = E.escape;
        var T = function(e, t, n) {
            for (var r = [], i = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; )
                if (1 === e.nodeType) {
                    if (i && C(e).is(n))
                        break;
                    r.push(e)
                }
            return r
        }
          , P = function(e, t) {
            for (var n = []; e; e = e.nextSibling)
                1 === e.nodeType && e !== t && n.push(e);
            return n
        }
          , A = C.expr.match.needsContext;
        function O(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        }
        var $ = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
        function j(e, t, n) {
            return y(t) ? C.grep(e, function(e, r) {
                return !!t.call(e, r, e) !== n
            }) : t.nodeType ? C.grep(e, function(e) {
                return e === t !== n
            }) : "string" != typeof t ? C.grep(e, function(e) {
                return d.call(t, e) > -1 !== n
            }) : C.filter(t, e, n)
        }
        C.filter = function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"),
            1 === t.length && 1 === r.nodeType ? C.find.matchesSelector(r, e) ? [r] : [] : C.find.matches(e, C.grep(t, function(e) {
                return 1 === e.nodeType
            }))
        }
        ,
        C.fn.extend({
            find: function(e) {
                var t, n, r = this.length, i = this;
                if ("string" != typeof e)
                    return this.pushStack(C(e).filter(function() {
                        for (t = 0; t < r; t++)
                            if (C.contains(i[t], this))
                                return !0
                    }));
                for (n = this.pushStack([]),
                t = 0; t < r; t++)
                    C.find(e, i[t], n);
                return r > 1 ? C.uniqueSort(n) : n
            },
            filter: function(e) {
                return this.pushStack(j(this, e || [], !1))
            },
            not: function(e) {
                return this.pushStack(j(this, e || [], !0))
            },
            is: function(e) {
                return !!j(this, "string" == typeof e && A.test(e) ? C(e) : e || [], !1).length
            }
        });
        var D, R = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (C.fn.init = function(e, t, n) {
            var r, i;
            if (!e)
                return this;
            if (n = n || D,
            "string" == typeof e) {
                if (!(r = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : R.exec(e)) || !r[1] && t)
                    return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
                if (r[1]) {
                    if (t = t instanceof C ? t[0] : t,
                    C.merge(this, C.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : a, !0)),
                    $.test(r[1]) && C.isPlainObject(t))
                        for (r in t)
                            y(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
                    return this
                }
                return (i = a.getElementById(r[2])) && (this[0] = i,
                this.length = 1),
                this
            }
            return e.nodeType ? (this[0] = e,
            this.length = 1,
            this) : y(e) ? void 0 !== n.ready ? n.ready(e) : e(C) : C.makeArray(e, this)
        }
        ).prototype = C.fn,
        D = C(a);
        var M = /^(?:parents|prev(?:Until|All))/
          , I = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        function L(e, t) {
            for (; (e = e[t]) && 1 !== e.nodeType; )
                ;
            return e
        }
        C.fn.extend({
            has: function(e) {
                var t = C(e, this)
                  , n = t.length;
                return this.filter(function() {
                    for (var e = 0; e < n; e++)
                        if (C.contains(this, t[e]))
                            return !0
                })
            },
            closest: function(e, t) {
                var n, r = 0, i = this.length, o = [], a = "string" != typeof e && C(e);
                if (!A.test(e))
                    for (; r < i; r++)
                        for (n = this[r]; n && n !== t; n = n.parentNode)
                            if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && C.find.matchesSelector(n, e))) {
                                o.push(n);
                                break
                            }
                return this.pushStack(o.length > 1 ? C.uniqueSort(o) : o)
            },
            index: function(e) {
                return e ? "string" == typeof e ? d.call(C(e), this[0]) : d.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(e, t) {
                return this.pushStack(C.uniqueSort(C.merge(this.get(), C(e, t))))
            },
            addBack: function(e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }
        }),
        C.each({
            parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(e) {
                return T(e, "parentNode")
            },
            parentsUntil: function(e, t, n) {
                return T(e, "parentNode", n)
            },
            next: function(e) {
                return L(e, "nextSibling")
            },
            prev: function(e) {
                return L(e, "previousSibling")
            },
            nextAll: function(e) {
                return T(e, "nextSibling")
            },
            prevAll: function(e) {
                return T(e, "previousSibling")
            },
            nextUntil: function(e, t, n) {
                return T(e, "nextSibling", n)
            },
            prevUntil: function(e, t, n) {
                return T(e, "previousSibling", n)
            },
            siblings: function(e) {
                return P((e.parentNode || {}).firstChild, e)
            },
            children: function(e) {
                return P(e.firstChild)
            },
            contents: function(e) {
                return void 0 !== e.contentDocument ? e.contentDocument : (O(e, "template") && (e = e.content || e),
                C.merge([], e.childNodes))
            }
        }, function(e, t) {
            C.fn[e] = function(n, r) {
                var i = C.map(this, t, n);
                return "Until" !== e.slice(-5) && (r = n),
                r && "string" == typeof r && (i = C.filter(r, i)),
                this.length > 1 && (I[e] || C.uniqueSort(i),
                M.test(e) && i.reverse()),
                this.pushStack(i)
            }
        });
        var F = /[^\x20\t\r\n\f]+/g;
        function N(e) {
            return e
        }
        function B(e) {
            throw e
        }
        function U(e, t, n, r) {
            var i;
            try {
                e && y(i = e.promise) ? i.call(e).done(t).fail(n) : e && y(i = e.then) ? i.call(e, t, n) : t.apply(void 0, [e].slice(r))
            } catch (e) {
                n.apply(void 0, [e])
            }
        }
        C.Callbacks = function(e) {
            e = "string" == typeof e ? function(e) {
                var t = {};
                return C.each(e.match(F) || [], function(e, n) {
                    t[n] = !0
                }),
                t
            }(e) : C.extend({}, e);
            var t, n, r, i, o = [], a = [], s = -1, c = function() {
                for (i = i || e.once,
                r = t = !0; a.length; s = -1)
                    for (n = a.shift(); ++s < o.length; )
                        !1 === o[s].apply(n[0], n[1]) && e.stopOnFalse && (s = o.length,
                        n = !1);
                e.memory || (n = !1),
                t = !1,
                i && (o = n ? [] : "")
            }, l = {
                add: function() {
                    return o && (n && !t && (s = o.length - 1,
                    a.push(n)),
                    function t(n) {
                        C.each(n, function(n, r) {
                            y(r) ? e.unique && l.has(r) || o.push(r) : r && r.length && "string" !== S(r) && t(r)
                        })
                    }(arguments),
                    n && !t && c()),
                    this
                },
                remove: function() {
                    return C.each(arguments, function(e, t) {
                        for (var n; (n = C.inArray(t, o, n)) > -1; )
                            o.splice(n, 1),
                            n <= s && s--
                    }),
                    this
                },
                has: function(e) {
                    return e ? C.inArray(e, o) > -1 : o.length > 0
                },
                empty: function() {
                    return o && (o = []),
                    this
                },
                disable: function() {
                    return i = a = [],
                    o = n = "",
                    this
                },
                disabled: function() {
                    return !o
                },
                lock: function() {
                    return i = a = [],
                    n || t || (o = n = ""),
                    this
                },
                locked: function() {
                    return !!i
                },
                fireWith: function(e, n) {
                    return i || (n = [e, (n = n || []).slice ? n.slice() : n],
                    a.push(n),
                    t || c()),
                    this
                },
                fire: function() {
                    return l.fireWith(this, arguments),
                    this
                },
                fired: function() {
                    return !!r
                }
            };
            return l
        }
        ,
        C.extend({
            Deferred: function(e) {
                var t = [["notify", "progress", C.Callbacks("memory"), C.Callbacks("memory"), 2], ["resolve", "done", C.Callbacks("once memory"), C.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", C.Callbacks("once memory"), C.Callbacks("once memory"), 1, "rejected"]]
                  , r = "pending"
                  , i = {
                    state: function() {
                        return r
                    },
                    always: function() {
                        return o.done(arguments).fail(arguments),
                        this
                    },
                    catch: function(e) {
                        return i.then(null, e)
                    },
                    pipe: function() {
                        var e = arguments;
                        return C.Deferred(function(n) {
                            C.each(t, function(t, r) {
                                var i = y(e[r[4]]) && e[r[4]];
                                o[r[1]](function() {
                                    var e = i && i.apply(this, arguments);
                                    e && y(e.promise) ? e.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this, i ? [e] : arguments)
                                })
                            }),
                            e = null
                        }).promise()
                    },
                    then: function(e, r, i) {
                        var o = 0;
                        function a(e, t, r, i) {
                            return function() {
                                var s = this
                                  , c = arguments
                                  , l = function() {
                                    var n, l;
                                    if (!(e < o)) {
                                        if ((n = r.apply(s, c)) === t.promise())
                                            throw new TypeError("Thenable self-resolution");
                                        l = n && ("object" == typeof n || "function" == typeof n) && n.then,
                                        y(l) ? i ? l.call(n, a(o, t, N, i), a(o, t, B, i)) : (o++,
                                        l.call(n, a(o, t, N, i), a(o, t, B, i), a(o, t, N, t.notifyWith))) : (r !== N && (s = void 0,
                                        c = [n]),
                                        (i || t.resolveWith)(s, c))
                                    }
                                }
                                  , u = i ? l : function() {
                                    try {
                                        l()
                                    } catch (n) {
                                        C.Deferred.exceptionHook && C.Deferred.exceptionHook(n, u.stackTrace),
                                        e + 1 >= o && (r !== B && (s = void 0,
                                        c = [n]),
                                        t.rejectWith(s, c))
                                    }
                                }
                                ;
                                e ? u() : (C.Deferred.getStackHook && (u.stackTrace = C.Deferred.getStackHook()),
                                n.setTimeout(u))
                            }
                        }
                        return C.Deferred(function(n) {
                            t[0][3].add(a(0, n, y(i) ? i : N, n.notifyWith)),
                            t[1][3].add(a(0, n, y(e) ? e : N)),
                            t[2][3].add(a(0, n, y(r) ? r : B))
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? C.extend(e, i) : i
                    }
                }
                  , o = {};
                return C.each(t, function(e, n) {
                    var a = n[2]
                      , s = n[5];
                    i[n[1]] = a.add,
                    s && a.add(function() {
                        r = s
                    }, t[3 - e][2].disable, t[3 - e][3].disable, t[0][2].lock, t[0][3].lock),
                    a.add(n[3].fire),
                    o[n[0]] = function() {
                        return o[n[0] + "With"](this === o ? void 0 : this, arguments),
                        this
                    }
                    ,
                    o[n[0] + "With"] = a.fireWith
                }),
                i.promise(o),
                e && e.call(o, o),
                o
            },
            when: function(e) {
                var t = arguments.length
                  , n = t
                  , r = Array(n)
                  , i = c.call(arguments)
                  , o = C.Deferred()
                  , a = function(e) {
                    return function(n) {
                        r[e] = this,
                        i[e] = arguments.length > 1 ? c.call(arguments) : n,
                        --t || o.resolveWith(r, i)
                    }
                };
                if (t <= 1 && (U(e, o.done(a(n)).resolve, o.reject, !t),
                "pending" === o.state() || y(i[n] && i[n].then)))
                    return o.then();
                for (; n--; )
                    U(i[n], a(n), o.reject);
                return o.promise()
            }
        });
        var q = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        C.Deferred.exceptionHook = function(e, t) {
            n.console && n.console.warn && e && q.test(e.name) && n.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
        }
        ,
        C.readyException = function(e) {
            n.setTimeout(function() {
                throw e
            })
        }
        ;
        var V = C.Deferred();
        function z() {
            a.removeEventListener("DOMContentLoaded", z),
            n.removeEventListener("load", z),
            C.ready()
        }
        C.fn.ready = function(e) {
            return V.then(e).catch(function(e) {
                C.readyException(e)
            }),
            this
        }
        ,
        C.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(e) {
                (!0 === e ? --C.readyWait : C.isReady) || (C.isReady = !0,
                !0 !== e && --C.readyWait > 0 || V.resolveWith(a, [C]))
            }
        }),
        C.ready.then = V.then,
        "complete" === a.readyState || "loading" !== a.readyState && !a.documentElement.doScroll ? n.setTimeout(C.ready) : (a.addEventListener("DOMContentLoaded", z),
        n.addEventListener("load", z));
        var H = function(e, t, n, r, i, o, a) {
            var s = 0
              , c = e.length
              , l = null == n;
            if ("object" === S(n))
                for (s in i = !0,
                n)
                    H(e, t, s, n[s], !0, o, a);
            else if (void 0 !== r && (i = !0,
            y(r) || (a = !0),
            l && (a ? (t.call(e, r),
            t = null) : (l = t,
            t = function(e, t, n) {
                return l.call(C(e), n)
            }
            )),
            t))
                for (; s < c; s++)
                    t(e[s], n, a ? r : r.call(e[s], s, t(e[s], n)));
            return i ? e : l ? t.call(e) : c ? t(e[0], n) : o
        }
          , W = /^-ms-/
          , G = /-([a-z])/g;
        function X(e, t) {
            return t.toUpperCase()
        }
        function Y(e) {
            return e.replace(W, "ms-").replace(G, X)
        }
        var K = function(e) {
            return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
        };
        function Q() {
            this.expando = C.expando + Q.uid++
        }
        Q.uid = 1,
        Q.prototype = {
            cache: function(e) {
                var t = e[this.expando];
                return t || (t = {},
                K(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                    value: t,
                    configurable: !0
                }))),
                t
            },
            set: function(e, t, n) {
                var r, i = this.cache(e);
                if ("string" == typeof t)
                    i[Y(t)] = n;
                else
                    for (r in t)
                        i[Y(r)] = t[r];
                return i
            },
            get: function(e, t) {
                return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][Y(t)]
            },
            access: function(e, t, n) {
                return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n),
                void 0 !== n ? n : t)
            },
            remove: function(e, t) {
                var n, r = e[this.expando];
                if (void 0 !== r) {
                    if (void 0 !== t) {
                        n = (t = Array.isArray(t) ? t.map(Y) : (t = Y(t))in r ? [t] : t.match(F) || []).length;
                        for (; n--; )
                            delete r[t[n]]
                    }
                    (void 0 === t || C.isEmptyObject(r)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
                }
            },
            hasData: function(e) {
                var t = e[this.expando];
                return void 0 !== t && !C.isEmptyObject(t)
            }
        };
        var J = new Q
          , Z = new Q
          , ee = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
          , te = /[A-Z]/g;
        function ne(e, t, n) {
            var r;
            if (void 0 === n && 1 === e.nodeType)
                if (r = "data-" + t.replace(te, "-$&").toLowerCase(),
                "string" == typeof (n = e.getAttribute(r))) {
                    try {
                        n = function(e) {
                            return "true" === e || "false" !== e && ("null" === e ? null : e === +e + "" ? +e : ee.test(e) ? JSON.parse(e) : e)
                        }(n)
                    } catch (e) {}
                    Z.set(e, t, n)
                } else
                    n = void 0;
            return n
        }
        C.extend({
            hasData: function(e) {
                return Z.hasData(e) || J.hasData(e)
            },
            data: function(e, t, n) {
                return Z.access(e, t, n)
            },
            removeData: function(e, t) {
                Z.remove(e, t)
            },
            _data: function(e, t, n) {
                return J.access(e, t, n)
            },
            _removeData: function(e, t) {
                J.remove(e, t)
            }
        }),
        C.fn.extend({
            data: function(e, t) {
                var n, r, i, o = this[0], a = o && o.attributes;
                if (void 0 === e) {
                    if (this.length && (i = Z.get(o),
                    1 === o.nodeType && !J.get(o, "hasDataAttrs"))) {
                        for (n = a.length; n--; )
                            a[n] && 0 === (r = a[n].name).indexOf("data-") && (r = Y(r.slice(5)),
                            ne(o, r, i[r]));
                        J.set(o, "hasDataAttrs", !0)
                    }
                    return i
                }
                return "object" == typeof e ? this.each(function() {
                    Z.set(this, e)
                }) : H(this, function(t) {
                    var n;
                    if (o && void 0 === t)
                        return void 0 !== (n = Z.get(o, e)) ? n : void 0 !== (n = ne(o, e)) ? n : void 0;
                    this.each(function() {
                        Z.set(this, e, t)
                    })
                }, null, t, arguments.length > 1, null, !0)
            },
            removeData: function(e) {
                return this.each(function() {
                    Z.remove(this, e)
                })
            }
        }),
        C.extend({
            queue: function(e, t, n) {
                var r;
                if (e)
                    return t = (t || "fx") + "queue",
                    r = J.get(e, t),
                    n && (!r || Array.isArray(n) ? r = J.access(e, t, C.makeArray(n)) : r.push(n)),
                    r || []
            },
            dequeue: function(e, t) {
                t = t || "fx";
                var n = C.queue(e, t)
                  , r = n.length
                  , i = n.shift()
                  , o = C._queueHooks(e, t);
                "inprogress" === i && (i = n.shift(),
                r--),
                i && ("fx" === t && n.unshift("inprogress"),
                delete o.stop,
                i.call(e, function() {
                    C.dequeue(e, t)
                }, o)),
                !r && o && o.empty.fire()
            },
            _queueHooks: function(e, t) {
                var n = t + "queueHooks";
                return J.get(e, n) || J.access(e, n, {
                    empty: C.Callbacks("once memory").add(function() {
                        J.remove(e, [t + "queue", n])
                    })
                })
            }
        }),
        C.fn.extend({
            queue: function(e, t) {
                var n = 2;
                return "string" != typeof e && (t = e,
                e = "fx",
                n--),
                arguments.length < n ? C.queue(this[0], e) : void 0 === t ? this : this.each(function() {
                    var n = C.queue(this, e, t);
                    C._queueHooks(this, e),
                    "fx" === e && "inprogress" !== n[0] && C.dequeue(this, e)
                })
            },
            dequeue: function(e) {
                return this.each(function() {
                    C.dequeue(this, e)
                })
            },
            clearQueue: function(e) {
                return this.queue(e || "fx", [])
            },
            promise: function(e, t) {
                var n, r = 1, i = C.Deferred(), o = this, a = this.length, s = function() {
                    --r || i.resolveWith(o, [o])
                };
                for ("string" != typeof e && (t = e,
                e = void 0),
                e = e || "fx"; a--; )
                    (n = J.get(o[a], e + "queueHooks")) && n.empty && (r++,
                    n.empty.add(s));
                return s(),
                i.promise(t)
            }
        });
        var re = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
          , ie = new RegExp("^(?:([+-])=|)(" + re + ")([a-z%]*)$","i")
          , oe = ["Top", "Right", "Bottom", "Left"]
          , ae = a.documentElement
          , se = function(e) {
            return C.contains(e.ownerDocument, e)
        }
          , ce = {
            composed: !0
        };
        ae.attachShadow && (se = function(e) {
            return C.contains(e.ownerDocument, e) || e.getRootNode(ce) === e.ownerDocument
        }
        );
        var le = function(e, t) {
            return "none" === (e = t || e).style.display || "" === e.style.display && se(e) && "none" === C.css(e, "display")
        }
          , ue = function(e, t, n, r) {
            var i, o, a = {};
            for (o in t)
                a[o] = e.style[o],
                e.style[o] = t[o];
            for (o in i = n.apply(e, r || []),
            t)
                e.style[o] = a[o];
            return i
        };
        function de(e, t, n, r) {
            var i, o, a = 20, s = r ? function() {
                return r.cur()
            }
            : function() {
                return C.css(e, t, "")
            }
            , c = s(), l = n && n[3] || (C.cssNumber[t] ? "" : "px"), u = e.nodeType && (C.cssNumber[t] || "px" !== l && +c) && ie.exec(C.css(e, t));
            if (u && u[3] !== l) {
                for (c /= 2,
                l = l || u[3],
                u = +c || 1; a--; )
                    C.style(e, t, u + l),
                    (1 - o) * (1 - (o = s() / c || .5)) <= 0 && (a = 0),
                    u /= o;
                u *= 2,
                C.style(e, t, u + l),
                n = n || []
            }
            return n && (u = +u || +c || 0,
            i = n[1] ? u + (n[1] + 1) * n[2] : +n[2],
            r && (r.unit = l,
            r.start = u,
            r.end = i)),
            i
        }
        var fe = {};
        function he(e) {
            var t, n = e.ownerDocument, r = e.nodeName, i = fe[r];
            return i || (t = n.body.appendChild(n.createElement(r)),
            i = C.css(t, "display"),
            t.parentNode.removeChild(t),
            "none" === i && (i = "block"),
            fe[r] = i,
            i)
        }
        function pe(e, t) {
            for (var n, r, i = [], o = 0, a = e.length; o < a; o++)
                (r = e[o]).style && (n = r.style.display,
                t ? ("none" === n && (i[o] = J.get(r, "display") || null,
                i[o] || (r.style.display = "")),
                "" === r.style.display && le(r) && (i[o] = he(r))) : "none" !== n && (i[o] = "none",
                J.set(r, "display", n)));
            for (o = 0; o < a; o++)
                null != i[o] && (e[o].style.display = i[o]);
            return e
        }
        C.fn.extend({
            show: function() {
                return pe(this, !0)
            },
            hide: function() {
                return pe(this)
            },
            toggle: function(e) {
                return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                    le(this) ? C(this).show() : C(this).hide()
                })
            }
        });
        var ge = /^(?:checkbox|radio)$/i
          , me = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i
          , ve = /^$|^module$|\/(?:java|ecma)script/i
          , ye = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
        function be(e, t) {
            var n;
            return n = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [],
            void 0 === t || t && O(e, t) ? C.merge([e], n) : n
        }
        function we(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
                J.set(e[n], "globalEval", !t || J.get(t[n], "globalEval"))
        }
        ye.optgroup = ye.option,
        ye.tbody = ye.tfoot = ye.colgroup = ye.caption = ye.thead,
        ye.th = ye.td;
        var xe, Se, Ce = /<|&#?\w+;/;
        function _e(e, t, n, r, i) {
            for (var o, a, s, c, l, u, d = t.createDocumentFragment(), f = [], h = 0, p = e.length; h < p; h++)
                if ((o = e[h]) || 0 === o)
                    if ("object" === S(o))
                        C.merge(f, o.nodeType ? [o] : o);
                    else if (Ce.test(o)) {
                        for (a = a || d.appendChild(t.createElement("div")),
                        s = (me.exec(o) || ["", ""])[1].toLowerCase(),
                        c = ye[s] || ye._default,
                        a.innerHTML = c[1] + C.htmlPrefilter(o) + c[2],
                        u = c[0]; u--; )
                            a = a.lastChild;
                        C.merge(f, a.childNodes),
                        (a = d.firstChild).textContent = ""
                    } else
                        f.push(t.createTextNode(o));
            for (d.textContent = "",
            h = 0; o = f[h++]; )
                if (r && C.inArray(o, r) > -1)
                    i && i.push(o);
                else if (l = se(o),
                a = be(d.appendChild(o), "script"),
                l && we(a),
                n)
                    for (u = 0; o = a[u++]; )
                        ve.test(o.type || "") && n.push(o);
            return d
        }
        xe = a.createDocumentFragment().appendChild(a.createElement("div")),
        (Se = a.createElement("input")).setAttribute("type", "radio"),
        Se.setAttribute("checked", "checked"),
        Se.setAttribute("name", "t"),
        xe.appendChild(Se),
        v.checkClone = xe.cloneNode(!0).cloneNode(!0).lastChild.checked,
        xe.innerHTML = "<textarea>x</textarea>",
        v.noCloneChecked = !!xe.cloneNode(!0).lastChild.defaultValue;
        var ke = /^key/
          , Ee = /^(?:mouse|pointer|contextmenu|drag|drop)|click/
          , Te = /^([^.]*)(?:\.(.+)|)/;
        function Pe() {
            return !0
        }
        function Ae() {
            return !1
        }
        function Oe(e, t) {
            return e === function() {
                try {
                    return a.activeElement
                } catch (e) {}
            }() == ("focus" === t)
        }
        function $e(e, t, n, r, i, o) {
            var a, s;
            if ("object" == typeof t) {
                for (s in "string" != typeof n && (r = r || n,
                n = void 0),
                t)
                    $e(e, s, n, r, t[s], o);
                return e
            }
            if (null == r && null == i ? (i = n,
            r = n = void 0) : null == i && ("string" == typeof n ? (i = r,
            r = void 0) : (i = r,
            r = n,
            n = void 0)),
            !1 === i)
                i = Ae;
            else if (!i)
                return e;
            return 1 === o && (a = i,
            (i = function(e) {
                return C().off(e),
                a.apply(this, arguments)
            }
            ).guid = a.guid || (a.guid = C.guid++)),
            e.each(function() {
                C.event.add(this, t, i, r, n)
            })
        }
        function je(e, t, n) {
            n ? (J.set(e, t, !1),
            C.event.add(e, t, {
                namespace: !1,
                handler: function(e) {
                    var r, i, o = J.get(this, t);
                    if (1 & e.isTrigger && this[t]) {
                        if (o)
                            (C.event.special[t] || {}).delegateType && e.stopPropagation();
                        else if (o = c.call(arguments),
                        J.set(this, t, o),
                        r = n(this, t),
                        this[t](),
                        o !== (i = J.get(this, t)) || r ? J.set(this, t, !1) : i = void 0,
                        o !== i)
                            return e.stopImmediatePropagation(),
                            e.preventDefault(),
                            i
                    } else
                        o && (J.set(this, t, C.event.trigger(C.extend(o.shift(), C.Event.prototype), o, this)),
                        e.stopImmediatePropagation())
                }
            })) : C.event.add(e, t, Pe)
        }
        C.event = {
            global: {},
            add: function(e, t, n, r, i) {
                var o, a, s, c, l, u, d, f, h, p, g, m = J.get(e);
                if (m)
                    for (n.handler && (n = (o = n).handler,
                    i = o.selector),
                    i && C.find.matchesSelector(ae, i),
                    n.guid || (n.guid = C.guid++),
                    (c = m.events) || (c = m.events = {}),
                    (a = m.handle) || (a = m.handle = function(t) {
                        return void 0 !== C && C.event.triggered !== t.type ? C.event.dispatch.apply(e, arguments) : void 0
                    }
                    ),
                    l = (t = (t || "").match(F) || [""]).length; l--; )
                        h = g = (s = Te.exec(t[l]) || [])[1],
                        p = (s[2] || "").split(".").sort(),
                        h && (d = C.event.special[h] || {},
                        h = (i ? d.delegateType : d.bindType) || h,
                        d = C.event.special[h] || {},
                        u = C.extend({
                            type: h,
                            origType: g,
                            data: r,
                            handler: n,
                            guid: n.guid,
                            selector: i,
                            needsContext: i && C.expr.match.needsContext.test(i),
                            namespace: p.join(".")
                        }, o),
                        (f = c[h]) || ((f = c[h] = []).delegateCount = 0,
                        d.setup && !1 !== d.setup.call(e, r, p, a) || e.addEventListener && e.addEventListener(h, a)),
                        d.add && (d.add.call(e, u),
                        u.handler.guid || (u.handler.guid = n.guid)),
                        i ? f.splice(f.delegateCount++, 0, u) : f.push(u),
                        C.event.global[h] = !0)
            },
            remove: function(e, t, n, r, i) {
                var o, a, s, c, l, u, d, f, h, p, g, m = J.hasData(e) && J.get(e);
                if (m && (c = m.events)) {
                    for (l = (t = (t || "").match(F) || [""]).length; l--; )
                        if (h = g = (s = Te.exec(t[l]) || [])[1],
                        p = (s[2] || "").split(".").sort(),
                        h) {
                            for (d = C.event.special[h] || {},
                            f = c[h = (r ? d.delegateType : d.bindType) || h] || [],
                            s = s[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                            a = o = f.length; o--; )
                                u = f[o],
                                !i && g !== u.origType || n && n.guid !== u.guid || s && !s.test(u.namespace) || r && r !== u.selector && ("**" !== r || !u.selector) || (f.splice(o, 1),
                                u.selector && f.delegateCount--,
                                d.remove && d.remove.call(e, u));
                            a && !f.length && (d.teardown && !1 !== d.teardown.call(e, p, m.handle) || C.removeEvent(e, h, m.handle),
                            delete c[h])
                        } else
                            for (h in c)
                                C.event.remove(e, h + t[l], n, r, !0);
                    C.isEmptyObject(c) && J.remove(e, "handle events")
                }
            },
            dispatch: function(e) {
                var t, n, r, i, o, a, s = C.event.fix(e), c = new Array(arguments.length), l = (J.get(this, "events") || {})[s.type] || [], u = C.event.special[s.type] || {};
                for (c[0] = s,
                t = 1; t < arguments.length; t++)
                    c[t] = arguments[t];
                if (s.delegateTarget = this,
                !u.preDispatch || !1 !== u.preDispatch.call(this, s)) {
                    for (a = C.event.handlers.call(this, s, l),
                    t = 0; (i = a[t++]) && !s.isPropagationStopped(); )
                        for (s.currentTarget = i.elem,
                        n = 0; (o = i.handlers[n++]) && !s.isImmediatePropagationStopped(); )
                            s.rnamespace && !1 !== o.namespace && !s.rnamespace.test(o.namespace) || (s.handleObj = o,
                            s.data = o.data,
                            void 0 !== (r = ((C.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, c)) && !1 === (s.result = r) && (s.preventDefault(),
                            s.stopPropagation()));
                    return u.postDispatch && u.postDispatch.call(this, s),
                    s.result
                }
            },
            handlers: function(e, t) {
                var n, r, i, o, a, s = [], c = t.delegateCount, l = e.target;
                if (c && l.nodeType && !("click" === e.type && e.button >= 1))
                    for (; l !== this; l = l.parentNode || this)
                        if (1 === l.nodeType && ("click" !== e.type || !0 !== l.disabled)) {
                            for (o = [],
                            a = {},
                            n = 0; n < c; n++)
                                void 0 === a[i = (r = t[n]).selector + " "] && (a[i] = r.needsContext ? C(i, this).index(l) > -1 : C.find(i, this, null, [l]).length),
                                a[i] && o.push(r);
                            o.length && s.push({
                                elem: l,
                                handlers: o
                            })
                        }
                return l = this,
                c < t.length && s.push({
                    elem: l,
                    handlers: t.slice(c)
                }),
                s
            },
            addProp: function(e, t) {
                Object.defineProperty(C.Event.prototype, e, {
                    enumerable: !0,
                    configurable: !0,
                    get: y(t) ? function() {
                        if (this.originalEvent)
                            return t(this.originalEvent)
                    }
                    : function() {
                        if (this.originalEvent)
                            return this.originalEvent[e]
                    }
                    ,
                    set: function(t) {
                        Object.defineProperty(this, e, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: t
                        })
                    }
                })
            },
            fix: function(e) {
                return e[C.expando] ? e : new C.Event(e)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(e) {
                        var t = this || e;
                        return ge.test(t.type) && t.click && O(t, "input") && void 0 === J.get(t, "click") && je(t, "click", Pe),
                        !1
                    },
                    trigger: function(e) {
                        var t = this || e;
                        return ge.test(t.type) && t.click && O(t, "input") && void 0 === J.get(t, "click") && je(t, "click"),
                        !0
                    },
                    _default: function(e) {
                        var t = e.target;
                        return ge.test(t.type) && t.click && O(t, "input") && J.get(t, "click") || O(t, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                    }
                }
            }
        },
        C.removeEvent = function(e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n)
        }
        ,
        C.Event = function(e, t) {
            if (!(this instanceof C.Event))
                return new C.Event(e,t);
            e && e.type ? (this.originalEvent = e,
            this.type = e.type,
            this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? Pe : Ae,
            this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target,
            this.currentTarget = e.currentTarget,
            this.relatedTarget = e.relatedTarget) : this.type = e,
            t && C.extend(this, t),
            this.timeStamp = e && e.timeStamp || Date.now(),
            this[C.expando] = !0
        }
        ,
        C.Event.prototype = {
            constructor: C.Event,
            isDefaultPrevented: Ae,
            isPropagationStopped: Ae,
            isImmediatePropagationStopped: Ae,
            isSimulated: !1,
            preventDefault: function() {
                var e = this.originalEvent;
                this.isDefaultPrevented = Pe,
                e && !this.isSimulated && e.preventDefault()
            },
            stopPropagation: function() {
                var e = this.originalEvent;
                this.isPropagationStopped = Pe,
                e && !this.isSimulated && e.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var e = this.originalEvent;
                this.isImmediatePropagationStopped = Pe,
                e && !this.isSimulated && e.stopImmediatePropagation(),
                this.stopPropagation()
            }
        },
        C.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function(e) {
                var t = e.button;
                return null == e.which && ke.test(e.type) ? null != e.charCode ? e.charCode : e.keyCode : !e.which && void 0 !== t && Ee.test(e.type) ? 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0 : e.which
            }
        }, C.event.addProp),
        C.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            C.event.special[e] = {
                setup: function() {
                    return je(this, e, Oe),
                    !1
                },
                trigger: function() {
                    return je(this, e),
                    !0
                },
                delegateType: t
            }
        }),
        C.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(e, t) {
            C.event.special[e] = {
                delegateType: t,
                bindType: t,
                handle: function(e) {
                    var n, r = e.relatedTarget, i = e.handleObj;
                    return r && (r === this || C.contains(this, r)) || (e.type = i.origType,
                    n = i.handler.apply(this, arguments),
                    e.type = t),
                    n
                }
            }
        }),
        C.fn.extend({
            on: function(e, t, n, r) {
                return $e(this, e, t, n, r)
            },
            one: function(e, t, n, r) {
                return $e(this, e, t, n, r, 1)
            },
            off: function(e, t, n) {
                var r, i;
                if (e && e.preventDefault && e.handleObj)
                    return r = e.handleObj,
                    C(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler),
                    this;
                if ("object" == typeof e) {
                    for (i in e)
                        this.off(i, t, e[i]);
                    return this
                }
                return !1 !== t && "function" != typeof t || (n = t,
                t = void 0),
                !1 === n && (n = Ae),
                this.each(function() {
                    C.event.remove(this, e, n, t)
                })
            }
        });
        var De = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi
          , Re = /<script|<style|<link/i
          , Me = /checked\s*(?:[^=]|=\s*.checked.)/i
          , Ie = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
        function Le(e, t) {
            return O(e, "table") && O(11 !== t.nodeType ? t : t.firstChild, "tr") && C(e).children("tbody")[0] || e
        }
        function Fe(e) {
            return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
            e
        }
        function Ne(e) {
            return "true/" === (e.type || "").slice(0, 5) ? e.type = e.type.slice(5) : e.removeAttribute("type"),
            e
        }
        function Be(e, t) {
            var n, r, i, o, a, s, c, l;
            if (1 === t.nodeType) {
                if (J.hasData(e) && (o = J.access(e),
                a = J.set(t, o),
                l = o.events))
                    for (i in delete a.handle,
                    a.events = {},
                    l)
                        for (n = 0,
                        r = l[i].length; n < r; n++)
                            C.event.add(t, i, l[i][n]);
                Z.hasData(e) && (s = Z.access(e),
                c = C.extend({}, s),
                Z.set(t, c))
            }
        }
        function Ue(e, t, n, r) {
            t = l.apply([], t);
            var i, o, a, s, c, u, d = 0, f = e.length, h = f - 1, p = t[0], g = y(p);
            if (g || f > 1 && "string" == typeof p && !v.checkClone && Me.test(p))
                return e.each(function(i) {
                    var o = e.eq(i);
                    g && (t[0] = p.call(this, i, o.html())),
                    Ue(o, t, n, r)
                });
            if (f && (o = (i = _e(t, e[0].ownerDocument, !1, e, r)).firstChild,
            1 === i.childNodes.length && (i = o),
            o || r)) {
                for (s = (a = C.map(be(i, "script"), Fe)).length; d < f; d++)
                    c = i,
                    d !== h && (c = C.clone(c, !0, !0),
                    s && C.merge(a, be(c, "script"))),
                    n.call(e[d], c, d);
                if (s)
                    for (u = a[a.length - 1].ownerDocument,
                    C.map(a, Ne),
                    d = 0; d < s; d++)
                        c = a[d],
                        ve.test(c.type || "") && !J.access(c, "globalEval") && C.contains(u, c) && (c.src && "module" !== (c.type || "").toLowerCase() ? C._evalUrl && !c.noModule && C._evalUrl(c.src, {
                            nonce: c.nonce || c.getAttribute("nonce")
                        }) : x(c.textContent.replace(Ie, ""), c, u))
            }
            return e
        }
        function qe(e, t, n) {
            for (var r, i = t ? C.filter(t, e) : e, o = 0; null != (r = i[o]); o++)
                n || 1 !== r.nodeType || C.cleanData(be(r)),
                r.parentNode && (n && se(r) && we(be(r, "script")),
                r.parentNode.removeChild(r));
            return e
        }
        C.extend({
            htmlPrefilter: function(e) {
                return e.replace(De, "<$1></$2>")
            },
            clone: function(e, t, n) {
                var r, i, o, a, s, c, l, u = e.cloneNode(!0), d = se(e);
                if (!(v.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || C.isXMLDoc(e)))
                    for (a = be(u),
                    r = 0,
                    i = (o = be(e)).length; r < i; r++)
                        s = o[r],
                        "input" === (l = (c = a[r]).nodeName.toLowerCase()) && ge.test(s.type) ? c.checked = s.checked : "input" !== l && "textarea" !== l || (c.defaultValue = s.defaultValue);
                if (t)
                    if (n)
                        for (o = o || be(e),
                        a = a || be(u),
                        r = 0,
                        i = o.length; r < i; r++)
                            Be(o[r], a[r]);
                    else
                        Be(e, u);
                return (a = be(u, "script")).length > 0 && we(a, !d && be(e, "script")),
                u
            },
            cleanData: function(e) {
                for (var t, n, r, i = C.event.special, o = 0; void 0 !== (n = e[o]); o++)
                    if (K(n)) {
                        if (t = n[J.expando]) {
                            if (t.events)
                                for (r in t.events)
                                    i[r] ? C.event.remove(n, r) : C.removeEvent(n, r, t.handle);
                            n[J.expando] = void 0
                        }
                        n[Z.expando] && (n[Z.expando] = void 0)
                    }
            }
        }),
        C.fn.extend({
            detach: function(e) {
                return qe(this, e, !0)
            },
            remove: function(e) {
                return qe(this, e)
            },
            text: function(e) {
                return H(this, function(e) {
                    return void 0 === e ? C.text(this) : this.empty().each(function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                    })
                }, null, e, arguments.length)
            },
            append: function() {
                return Ue(this, arguments, function(e) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Le(this, e).appendChild(e)
                })
            },
            prepend: function() {
                return Ue(this, arguments, function(e) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = Le(this, e);
                        t.insertBefore(e, t.firstChild)
                    }
                })
            },
            before: function() {
                return Ue(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this)
                })
            },
            after: function() {
                return Ue(this, arguments, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                })
            },
            empty: function() {
                for (var e, t = 0; null != (e = this[t]); t++)
                    1 === e.nodeType && (C.cleanData(be(e, !1)),
                    e.textContent = "");
                return this
            },
            clone: function(e, t) {
                return e = null != e && e,
                t = null == t ? e : t,
                this.map(function() {
                    return C.clone(this, e, t)
                })
            },
            html: function(e) {
                return H(this, function(e) {
                    var t = this[0] || {}
                      , n = 0
                      , r = this.length;
                    if (void 0 === e && 1 === t.nodeType)
                        return t.innerHTML;
                    if ("string" == typeof e && !Re.test(e) && !ye[(me.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = C.htmlPrefilter(e);
                        try {
                            for (; n < r; n++)
                                1 === (t = this[n] || {}).nodeType && (C.cleanData(be(t, !1)),
                                t.innerHTML = e);
                            t = 0
                        } catch (e) {}
                    }
                    t && this.empty().append(e)
                }, null, e, arguments.length)
            },
            replaceWith: function() {
                var e = [];
                return Ue(this, arguments, function(t) {
                    var n = this.parentNode;
                    C.inArray(this, e) < 0 && (C.cleanData(be(this)),
                    n && n.replaceChild(t, this))
                }, e)
            }
        }),
        C.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(e, t) {
            C.fn[e] = function(e) {
                for (var n, r = [], i = C(e), o = i.length - 1, a = 0; a <= o; a++)
                    n = a === o ? this : this.clone(!0),
                    C(i[a])[t](n),
                    u.apply(r, n.get());
                return this.pushStack(r)
            }
        });
        var Ve = new RegExp("^(" + re + ")(?!px)[a-z%]+$","i")
          , ze = function(e) {
            var t = e.ownerDocument.defaultView;
            return t && t.opener || (t = n),
            t.getComputedStyle(e)
        }
          , He = new RegExp(oe.join("|"),"i");
        function We(e, t, n) {
            var r, i, o, a, s = e.style;
            return (n = n || ze(e)) && ("" !== (a = n.getPropertyValue(t) || n[t]) || se(e) || (a = C.style(e, t)),
            !v.pixelBoxStyles() && Ve.test(a) && He.test(t) && (r = s.width,
            i = s.minWidth,
            o = s.maxWidth,
            s.minWidth = s.maxWidth = s.width = a,
            a = n.width,
            s.width = r,
            s.minWidth = i,
            s.maxWidth = o)),
            void 0 !== a ? a + "" : a
        }
        function Ge(e, t) {
            return {
                get: function() {
                    if (!e())
                        return (this.get = t).apply(this, arguments);
                    delete this.get
                }
            }
        }
        !function() {
            function e() {
                if (u) {
                    l.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",
                    u.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",
                    ae.appendChild(l).appendChild(u);
                    var e = n.getComputedStyle(u);
                    r = "1%" !== e.top,
                    c = 12 === t(e.marginLeft),
                    u.style.right = "60%",
                    s = 36 === t(e.right),
                    i = 36 === t(e.width),
                    u.style.position = "absolute",
                    o = 12 === t(u.offsetWidth / 3),
                    ae.removeChild(l),
                    u = null
                }
            }
            function t(e) {
                return Math.round(parseFloat(e))
            }
            var r, i, o, s, c, l = a.createElement("div"), u = a.createElement("div");
            u.style && (u.style.backgroundClip = "content-box",
            u.cloneNode(!0).style.backgroundClip = "",
            v.clearCloneStyle = "content-box" === u.style.backgroundClip,
            C.extend(v, {
                boxSizingReliable: function() {
                    return e(),
                    i
                },
                pixelBoxStyles: function() {
                    return e(),
                    s
                },
                pixelPosition: function() {
                    return e(),
                    r
                },
                reliableMarginLeft: function() {
                    return e(),
                    c
                },
                scrollboxSize: function() {
                    return e(),
                    o
                }
            }))
        }();
        var Xe = ["Webkit", "Moz", "ms"]
          , Ye = a.createElement("div").style
          , Ke = {};
        function Qe(e) {
            return C.cssProps[e] || Ke[e] || (e in Ye ? e : Ke[e] = function(e) {
                for (var t = e[0].toUpperCase() + e.slice(1), n = Xe.length; n--; )
                    if ((e = Xe[n] + t)in Ye)
                        return e
            }(e) || e)
        }
        var Je = /^(none|table(?!-c[ea]).+)/
          , Ze = /^--/
          , et = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        }
          , tt = {
            letterSpacing: "0",
            fontWeight: "400"
        };
        function nt(e, t, n) {
            var r = ie.exec(t);
            return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t
        }
        function rt(e, t, n, r, i, o) {
            var a = "width" === t ? 1 : 0
              , s = 0
              , c = 0;
            if (n === (r ? "border" : "content"))
                return 0;
            for (; a < 4; a += 2)
                "margin" === n && (c += C.css(e, n + oe[a], !0, i)),
                r ? ("content" === n && (c -= C.css(e, "padding" + oe[a], !0, i)),
                "margin" !== n && (c -= C.css(e, "border" + oe[a] + "Width", !0, i))) : (c += C.css(e, "padding" + oe[a], !0, i),
                "padding" !== n ? c += C.css(e, "border" + oe[a] + "Width", !0, i) : s += C.css(e, "border" + oe[a] + "Width", !0, i));
            return !r && o >= 0 && (c += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - o - c - s - .5)) || 0),
            c
        }
        function it(e, t, n) {
            var r = ze(e)
              , i = (!v.boxSizingReliable() || n) && "border-box" === C.css(e, "boxSizing", !1, r)
              , o = i
              , a = We(e, t, r)
              , s = "offset" + t[0].toUpperCase() + t.slice(1);
            if (Ve.test(a)) {
                if (!n)
                    return a;
                a = "auto"
            }
            return (!v.boxSizingReliable() && i || "auto" === a || !parseFloat(a) && "inline" === C.css(e, "display", !1, r)) && e.getClientRects().length && (i = "border-box" === C.css(e, "boxSizing", !1, r),
            (o = s in e) && (a = e[s])),
            (a = parseFloat(a) || 0) + rt(e, t, n || (i ? "border" : "content"), o, r, a) + "px"
        }
        function ot(e, t, n, r, i) {
            return new ot.prototype.init(e,t,n,r,i)
        }
        C.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = We(e, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(e, t, n, r) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var i, o, a, s = Y(t), c = Ze.test(t), l = e.style;
                    if (c || (t = Qe(s)),
                    a = C.cssHooks[t] || C.cssHooks[s],
                    void 0 === n)
                        return a && "get"in a && void 0 !== (i = a.get(e, !1, r)) ? i : l[t];
                    "string" == (o = typeof n) && (i = ie.exec(n)) && i[1] && (n = de(e, t, i),
                    o = "number"),
                    null != n && n == n && ("number" !== o || c || (n += i && i[3] || (C.cssNumber[s] ? "" : "px")),
                    v.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (l[t] = "inherit"),
                    a && "set"in a && void 0 === (n = a.set(e, n, r)) || (c ? l.setProperty(t, n) : l[t] = n))
                }
            },
            css: function(e, t, n, r) {
                var i, o, a, s = Y(t);
                return Ze.test(t) || (t = Qe(s)),
                (a = C.cssHooks[t] || C.cssHooks[s]) && "get"in a && (i = a.get(e, !0, n)),
                void 0 === i && (i = We(e, t, r)),
                "normal" === i && t in tt && (i = tt[t]),
                "" === n || n ? (o = parseFloat(i),
                !0 === n || isFinite(o) ? o || 0 : i) : i
            }
        }),
        C.each(["height", "width"], function(e, t) {
            C.cssHooks[t] = {
                get: function(e, n, r) {
                    if (n)
                        return !Je.test(C.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? it(e, t, r) : ue(e, et, function() {
                            return it(e, t, r)
                        })
                },
                set: function(e, n, r) {
                    var i, o = ze(e), a = !v.scrollboxSize() && "absolute" === o.position, s = (a || r) && "border-box" === C.css(e, "boxSizing", !1, o), c = r ? rt(e, t, r, s, o) : 0;
                    return s && a && (c -= Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - parseFloat(o[t]) - rt(e, t, "border", !1, o) - .5)),
                    c && (i = ie.exec(n)) && "px" !== (i[3] || "px") && (e.style[t] = n,
                    n = C.css(e, t)),
                    nt(0, n, c)
                }
            }
        }),
        C.cssHooks.marginLeft = Ge(v.reliableMarginLeft, function(e, t) {
            if (t)
                return (parseFloat(We(e, "marginLeft")) || e.getBoundingClientRect().left - ue(e, {
                    marginLeft: 0
                }, function() {
                    return e.getBoundingClientRect().left
                })) + "px"
        }),
        C.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(e, t) {
            C.cssHooks[e + t] = {
                expand: function(n) {
                    for (var r = 0, i = {}, o = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++)
                        i[e + oe[r] + t] = o[r] || o[r - 2] || o[0];
                    return i
                }
            },
            "margin" !== e && (C.cssHooks[e + t].set = nt)
        }),
        C.fn.extend({
            css: function(e, t) {
                return H(this, function(e, t, n) {
                    var r, i, o = {}, a = 0;
                    if (Array.isArray(t)) {
                        for (r = ze(e),
                        i = t.length; a < i; a++)
                            o[t[a]] = C.css(e, t[a], !1, r);
                        return o
                    }
                    return void 0 !== n ? C.style(e, t, n) : C.css(e, t)
                }, e, t, arguments.length > 1)
            }
        }),
        C.Tween = ot,
        ot.prototype = {
            constructor: ot,
            init: function(e, t, n, r, i, o) {
                this.elem = e,
                this.prop = n,
                this.easing = i || C.easing._default,
                this.options = t,
                this.start = this.now = this.cur(),
                this.end = r,
                this.unit = o || (C.cssNumber[n] ? "" : "px")
            },
            cur: function() {
                var e = ot.propHooks[this.prop];
                return e && e.get ? e.get(this) : ot.propHooks._default.get(this)
            },
            run: function(e) {
                var t, n = ot.propHooks[this.prop];
                return this.options.duration ? this.pos = t = C.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
                this.now = (this.end - this.start) * t + this.start,
                this.options.step && this.options.step.call(this.elem, this.now, this),
                n && n.set ? n.set(this) : ot.propHooks._default.set(this),
                this
            }
        },
        ot.prototype.init.prototype = ot.prototype,
        ot.propHooks = {
            _default: {
                get: function(e) {
                    var t;
                    return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = C.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
                },
                set: function(e) {
                    C.fx.step[e.prop] ? C.fx.step[e.prop](e) : 1 !== e.elem.nodeType || !C.cssHooks[e.prop] && null == e.elem.style[Qe(e.prop)] ? e.elem[e.prop] = e.now : C.style(e.elem, e.prop, e.now + e.unit)
                }
            }
        },
        ot.propHooks.scrollTop = ot.propHooks.scrollLeft = {
            set: function(e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        },
        C.easing = {
            linear: function(e) {
                return e
            },
            swing: function(e) {
                return .5 - Math.cos(e * Math.PI) / 2
            },
            _default: "swing"
        },
        C.fx = ot.prototype.init,
        C.fx.step = {};
        var at, st, ct = /^(?:toggle|show|hide)$/, lt = /queueHooks$/;
        function ut() {
            st && (!1 === a.hidden && n.requestAnimationFrame ? n.requestAnimationFrame(ut) : n.setTimeout(ut, C.fx.interval),
            C.fx.tick())
        }
        function dt() {
            return n.setTimeout(function() {
                at = void 0
            }),
            at = Date.now()
        }
        function ft(e, t) {
            var n, r = 0, i = {
                height: e
            };
            for (t = t ? 1 : 0; r < 4; r += 2 - t)
                i["margin" + (n = oe[r])] = i["padding" + n] = e;
            return t && (i.opacity = i.width = e),
            i
        }
        function ht(e, t, n) {
            for (var r, i = (pt.tweeners[t] || []).concat(pt.tweeners["*"]), o = 0, a = i.length; o < a; o++)
                if (r = i[o].call(n, t, e))
                    return r
        }
        function pt(e, t, n) {
            var r, i, o = 0, a = pt.prefilters.length, s = C.Deferred().always(function() {
                delete c.elem
            }), c = function() {
                if (i)
                    return !1;
                for (var t = at || dt(), n = Math.max(0, l.startTime + l.duration - t), r = 1 - (n / l.duration || 0), o = 0, a = l.tweens.length; o < a; o++)
                    l.tweens[o].run(r);
                return s.notifyWith(e, [l, r, n]),
                r < 1 && a ? n : (a || s.notifyWith(e, [l, 1, 0]),
                s.resolveWith(e, [l]),
                !1)
            }, l = s.promise({
                elem: e,
                props: C.extend({}, t),
                opts: C.extend(!0, {
                    specialEasing: {},
                    easing: C.easing._default
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: at || dt(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = C.Tween(e, l.opts, t, n, l.opts.specialEasing[t] || l.opts.easing);
                    return l.tweens.push(r),
                    r
                },
                stop: function(t) {
                    var n = 0
                      , r = t ? l.tweens.length : 0;
                    if (i)
                        return this;
                    for (i = !0; n < r; n++)
                        l.tweens[n].run(1);
                    return t ? (s.notifyWith(e, [l, 1, 0]),
                    s.resolveWith(e, [l, t])) : s.rejectWith(e, [l, t]),
                    this
                }
            }), u = l.props;
            for (function(e, t) {
                var n, r, i, o, a;
                for (n in e)
                    if (i = t[r = Y(n)],
                    o = e[n],
                    Array.isArray(o) && (i = o[1],
                    o = e[n] = o[0]),
                    n !== r && (e[r] = o,
                    delete e[n]),
                    (a = C.cssHooks[r]) && "expand"in a)
                        for (n in o = a.expand(o),
                        delete e[r],
                        o)
                            n in e || (e[n] = o[n],
                            t[n] = i);
                    else
                        t[r] = i
            }(u, l.opts.specialEasing); o < a; o++)
                if (r = pt.prefilters[o].call(l, e, u, l.opts))
                    return y(r.stop) && (C._queueHooks(l.elem, l.opts.queue).stop = r.stop.bind(r)),
                    r;
            return C.map(u, ht, l),
            y(l.opts.start) && l.opts.start.call(e, l),
            l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always),
            C.fx.timer(C.extend(c, {
                elem: e,
                anim: l,
                queue: l.opts.queue
            })),
            l
        }
        C.Animation = C.extend(pt, {
            tweeners: {
                "*": [function(e, t) {
                    var n = this.createTween(e, t);
                    return de(n.elem, e, ie.exec(t), n),
                    n
                }
                ]
            },
            tweener: function(e, t) {
                y(e) ? (t = e,
                e = ["*"]) : e = e.match(F);
                for (var n, r = 0, i = e.length; r < i; r++)
                    n = e[r],
                    pt.tweeners[n] = pt.tweeners[n] || [],
                    pt.tweeners[n].unshift(t)
            },
            prefilters: [function(e, t, n) {
                var r, i, o, a, s, c, l, u, d = "width"in t || "height"in t, f = this, h = {}, p = e.style, g = e.nodeType && le(e), m = J.get(e, "fxshow");
                for (r in n.queue || (null == (a = C._queueHooks(e, "fx")).unqueued && (a.unqueued = 0,
                s = a.empty.fire,
                a.empty.fire = function() {
                    a.unqueued || s()
                }
                ),
                a.unqueued++,
                f.always(function() {
                    f.always(function() {
                        a.unqueued--,
                        C.queue(e, "fx").length || a.empty.fire()
                    })
                })),
                t)
                    if (i = t[r],
                    ct.test(i)) {
                        if (delete t[r],
                        o = o || "toggle" === i,
                        i === (g ? "hide" : "show")) {
                            if ("show" !== i || !m || void 0 === m[r])
                                continue;
                            g = !0
                        }
                        h[r] = m && m[r] || C.style(e, r)
                    }
                if ((c = !C.isEmptyObject(t)) || !C.isEmptyObject(h))
                    for (r in d && 1 === e.nodeType && (n.overflow = [p.overflow, p.overflowX, p.overflowY],
                    null == (l = m && m.display) && (l = J.get(e, "display")),
                    "none" === (u = C.css(e, "display")) && (l ? u = l : (pe([e], !0),
                    l = e.style.display || l,
                    u = C.css(e, "display"),
                    pe([e]))),
                    ("inline" === u || "inline-block" === u && null != l) && "none" === C.css(e, "float") && (c || (f.done(function() {
                        p.display = l
                    }),
                    null == l && (u = p.display,
                    l = "none" === u ? "" : u)),
                    p.display = "inline-block")),
                    n.overflow && (p.overflow = "hidden",
                    f.always(function() {
                        p.overflow = n.overflow[0],
                        p.overflowX = n.overflow[1],
                        p.overflowY = n.overflow[2]
                    })),
                    c = !1,
                    h)
                        c || (m ? "hidden"in m && (g = m.hidden) : m = J.access(e, "fxshow", {
                            display: l
                        }),
                        o && (m.hidden = !g),
                        g && pe([e], !0),
                        f.done(function() {
                            for (r in g || pe([e]),
                            J.remove(e, "fxshow"),
                            h)
                                C.style(e, r, h[r])
                        })),
                        c = ht(g ? m[r] : 0, r, f),
                        r in m || (m[r] = c.start,
                        g && (c.end = c.start,
                        c.start = 0))
            }
            ],
            prefilter: function(e, t) {
                t ? pt.prefilters.unshift(e) : pt.prefilters.push(e)
            }
        }),
        C.speed = function(e, t, n) {
            var r = e && "object" == typeof e ? C.extend({}, e) : {
                complete: n || !n && t || y(e) && e,
                duration: e,
                easing: n && t || t && !y(t) && t
            };
            return C.fx.off ? r.duration = 0 : "number" != typeof r.duration && (r.duration in C.fx.speeds ? r.duration = C.fx.speeds[r.duration] : r.duration = C.fx.speeds._default),
            null != r.queue && !0 !== r.queue || (r.queue = "fx"),
            r.old = r.complete,
            r.complete = function() {
                y(r.old) && r.old.call(this),
                r.queue && C.dequeue(this, r.queue)
            }
            ,
            r
        }
        ,
        C.fn.extend({
            fadeTo: function(e, t, n, r) {
                return this.filter(le).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, r)
            },
            animate: function(e, t, n, r) {
                var i = C.isEmptyObject(e)
                  , o = C.speed(t, n, r)
                  , a = function() {
                    var t = pt(this, C.extend({}, e), o);
                    (i || J.get(this, "finish")) && t.stop(!0)
                };
                return a.finish = a,
                i || !1 === o.queue ? this.each(a) : this.queue(o.queue, a)
            },
            stop: function(e, t, n) {
                var r = function(e) {
                    var t = e.stop;
                    delete e.stop,
                    t(n)
                };
                return "string" != typeof e && (n = t,
                t = e,
                e = void 0),
                t && !1 !== e && this.queue(e || "fx", []),
                this.each(function() {
                    var t = !0
                      , i = null != e && e + "queueHooks"
                      , o = C.timers
                      , a = J.get(this);
                    if (i)
                        a[i] && a[i].stop && r(a[i]);
                    else
                        for (i in a)
                            a[i] && a[i].stop && lt.test(i) && r(a[i]);
                    for (i = o.length; i--; )
                        o[i].elem !== this || null != e && o[i].queue !== e || (o[i].anim.stop(n),
                        t = !1,
                        o.splice(i, 1));
                    !t && n || C.dequeue(this, e)
                })
            },
            finish: function(e) {
                return !1 !== e && (e = e || "fx"),
                this.each(function() {
                    var t, n = J.get(this), r = n[e + "queue"], i = n[e + "queueHooks"], o = C.timers, a = r ? r.length : 0;
                    for (n.finish = !0,
                    C.queue(this, e, []),
                    i && i.stop && i.stop.call(this, !0),
                    t = o.length; t--; )
                        o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0),
                        o.splice(t, 1));
                    for (t = 0; t < a; t++)
                        r[t] && r[t].finish && r[t].finish.call(this);
                    delete n.finish
                })
            }
        }),
        C.each(["toggle", "show", "hide"], function(e, t) {
            var n = C.fn[t];
            C.fn[t] = function(e, r, i) {
                return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(ft(t, !0), e, r, i)
            }
        }),
        C.each({
            slideDown: ft("show"),
            slideUp: ft("hide"),
            slideToggle: ft("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, t) {
            C.fn[e] = function(e, n, r) {
                return this.animate(t, e, n, r)
            }
        }),
        C.timers = [],
        C.fx.tick = function() {
            var e, t = 0, n = C.timers;
            for (at = Date.now(); t < n.length; t++)
                (e = n[t])() || n[t] !== e || n.splice(t--, 1);
            n.length || C.fx.stop(),
            at = void 0
        }
        ,
        C.fx.timer = function(e) {
            C.timers.push(e),
            C.fx.start()
        }
        ,
        C.fx.interval = 13,
        C.fx.start = function() {
            st || (st = !0,
            ut())
        }
        ,
        C.fx.stop = function() {
            st = null
        }
        ,
        C.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        },
        C.fn.delay = function(e, t) {
            return e = C.fx && C.fx.speeds[e] || e,
            t = t || "fx",
            this.queue(t, function(t, r) {
                var i = n.setTimeout(t, e);
                r.stop = function() {
                    n.clearTimeout(i)
                }
            })
        }
        ,
        function() {
            var e = a.createElement("input")
              , t = a.createElement("select").appendChild(a.createElement("option"));
            e.type = "checkbox",
            v.checkOn = "" !== e.value,
            v.optSelected = t.selected,
            (e = a.createElement("input")).value = "t",
            e.type = "radio",
            v.radioValue = "t" === e.value
        }();
        var gt, mt = C.expr.attrHandle;
        C.fn.extend({
            attr: function(e, t) {
                return H(this, C.attr, e, t, arguments.length > 1)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    C.removeAttr(this, e)
                })
            }
        }),
        C.extend({
            attr: function(e, t, n) {
                var r, i, o = e.nodeType;
                if (3 !== o && 8 !== o && 2 !== o)
                    return void 0 === e.getAttribute ? C.prop(e, t, n) : (1 === o && C.isXMLDoc(e) || (i = C.attrHooks[t.toLowerCase()] || (C.expr.match.bool.test(t) ? gt : void 0)),
                    void 0 !== n ? null === n ? void C.removeAttr(e, t) : i && "set"in i && void 0 !== (r = i.set(e, n, t)) ? r : (e.setAttribute(t, n + ""),
                    n) : i && "get"in i && null !== (r = i.get(e, t)) ? r : null == (r = C.find.attr(e, t)) ? void 0 : r)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        if (!v.radioValue && "radio" === t && O(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t),
                            n && (e.value = n),
                            t
                        }
                    }
                }
            },
            removeAttr: function(e, t) {
                var n, r = 0, i = t && t.match(F);
                if (i && 1 === e.nodeType)
                    for (; n = i[r++]; )
                        e.removeAttribute(n)
            }
        }),
        gt = {
            set: function(e, t, n) {
                return !1 === t ? C.removeAttr(e, n) : e.setAttribute(n, n),
                n
            }
        },
        C.each(C.expr.match.bool.source.match(/\w+/g), function(e, t) {
            var n = mt[t] || C.find.attr;
            mt[t] = function(e, t, r) {
                var i, o, a = t.toLowerCase();
                return r || (o = mt[a],
                mt[a] = i,
                i = null != n(e, t, r) ? a : null,
                mt[a] = o),
                i
            }
        });
        var vt = /^(?:input|select|textarea|button)$/i
          , yt = /^(?:a|area)$/i;
        function bt(e) {
            return (e.match(F) || []).join(" ")
        }
        function wt(e) {
            return e.getAttribute && e.getAttribute("class") || ""
        }
        function xt(e) {
            return Array.isArray(e) ? e : "string" == typeof e && e.match(F) || []
        }
        C.fn.extend({
            prop: function(e, t) {
                return H(this, C.prop, e, t, arguments.length > 1)
            },
            removeProp: function(e) {
                return this.each(function() {
                    delete this[C.propFix[e] || e]
                })
            }
        }),
        C.extend({
            prop: function(e, t, n) {
                var r, i, o = e.nodeType;
                if (3 !== o && 8 !== o && 2 !== o)
                    return 1 === o && C.isXMLDoc(e) || (t = C.propFix[t] || t,
                    i = C.propHooks[t]),
                    void 0 !== n ? i && "set"in i && void 0 !== (r = i.set(e, n, t)) ? r : e[t] = n : i && "get"in i && null !== (r = i.get(e, t)) ? r : e[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var t = C.find.attr(e, "tabindex");
                        return t ? parseInt(t, 10) : vt.test(e.nodeName) || yt.test(e.nodeName) && e.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }),
        v.optSelected || (C.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                return t && t.parentNode && t.parentNode.selectedIndex,
                null
            },
            set: function(e) {
                var t = e.parentNode;
                t && (t.selectedIndex,
                t.parentNode && t.parentNode.selectedIndex)
            }
        }),
        C.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            C.propFix[this.toLowerCase()] = this
        }),
        C.fn.extend({
            addClass: function(e) {
                var t, n, r, i, o, a, s, c = 0;
                if (y(e))
                    return this.each(function(t) {
                        C(this).addClass(e.call(this, t, wt(this)))
                    });
                if ((t = xt(e)).length)
                    for (; n = this[c++]; )
                        if (i = wt(n),
                        r = 1 === n.nodeType && " " + bt(i) + " ") {
                            for (a = 0; o = t[a++]; )
                                r.indexOf(" " + o + " ") < 0 && (r += o + " ");
                            i !== (s = bt(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            removeClass: function(e) {
                var t, n, r, i, o, a, s, c = 0;
                if (y(e))
                    return this.each(function(t) {
                        C(this).removeClass(e.call(this, t, wt(this)))
                    });
                if (!arguments.length)
                    return this.attr("class", "");
                if ((t = xt(e)).length)
                    for (; n = this[c++]; )
                        if (i = wt(n),
                        r = 1 === n.nodeType && " " + bt(i) + " ") {
                            for (a = 0; o = t[a++]; )
                                for (; r.indexOf(" " + o + " ") > -1; )
                                    r = r.replace(" " + o + " ", " ");
                            i !== (s = bt(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            toggleClass: function(e, t) {
                var n = typeof e
                  , r = "string" === n || Array.isArray(e);
                return "boolean" == typeof t && r ? t ? this.addClass(e) : this.removeClass(e) : y(e) ? this.each(function(n) {
                    C(this).toggleClass(e.call(this, n, wt(this), t), t)
                }) : this.each(function() {
                    var t, i, o, a;
                    if (r)
                        for (i = 0,
                        o = C(this),
                        a = xt(e); t = a[i++]; )
                            o.hasClass(t) ? o.removeClass(t) : o.addClass(t);
                    else
                        void 0 !== e && "boolean" !== n || ((t = wt(this)) && J.set(this, "__className__", t),
                        this.setAttribute && this.setAttribute("class", t || !1 === e ? "" : J.get(this, "__className__") || ""))
                })
            },
            hasClass: function(e) {
                var t, n, r = 0;
                for (t = " " + e + " "; n = this[r++]; )
                    if (1 === n.nodeType && (" " + bt(wt(n)) + " ").indexOf(t) > -1)
                        return !0;
                return !1
            }
        });
        var St = /\r/g;
        C.fn.extend({
            val: function(e) {
                var t, n, r, i = this[0];
                return arguments.length ? (r = y(e),
                this.each(function(n) {
                    var i;
                    1 === this.nodeType && (null == (i = r ? e.call(this, n, C(this).val()) : e) ? i = "" : "number" == typeof i ? i += "" : Array.isArray(i) && (i = C.map(i, function(e) {
                        return null == e ? "" : e + ""
                    })),
                    (t = C.valHooks[this.type] || C.valHooks[this.nodeName.toLowerCase()]) && "set"in t && void 0 !== t.set(this, i, "value") || (this.value = i))
                })) : i ? (t = C.valHooks[i.type] || C.valHooks[i.nodeName.toLowerCase()]) && "get"in t && void 0 !== (n = t.get(i, "value")) ? n : "string" == typeof (n = i.value) ? n.replace(St, "") : null == n ? "" : n : void 0
            }
        }),
        C.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = C.find.attr(e, "value");
                        return null != t ? t : bt(C.text(e))
                    }
                },
                select: {
                    get: function(e) {
                        var t, n, r, i = e.options, o = e.selectedIndex, a = "select-one" === e.type, s = a ? null : [], c = a ? o + 1 : i.length;
                        for (r = o < 0 ? c : a ? o : 0; r < c; r++)
                            if (((n = i[r]).selected || r === o) && !n.disabled && (!n.parentNode.disabled || !O(n.parentNode, "optgroup"))) {
                                if (t = C(n).val(),
                                a)
                                    return t;
                                s.push(t)
                            }
                        return s
                    },
                    set: function(e, t) {
                        for (var n, r, i = e.options, o = C.makeArray(t), a = i.length; a--; )
                            ((r = i[a]).selected = C.inArray(C.valHooks.option.get(r), o) > -1) && (n = !0);
                        return n || (e.selectedIndex = -1),
                        o
                    }
                }
            }
        }),
        C.each(["radio", "checkbox"], function() {
            C.valHooks[this] = {
                set: function(e, t) {
                    if (Array.isArray(t))
                        return e.checked = C.inArray(C(e).val(), t) > -1
                }
            },
            v.checkOn || (C.valHooks[this].get = function(e) {
                return null === e.getAttribute("value") ? "on" : e.value
            }
            )
        }),
        v.focusin = "onfocusin"in n;
        var Ct = /^(?:focusinfocus|focusoutblur)$/
          , _t = function(e) {
            e.stopPropagation()
        };
        C.extend(C.event, {
            trigger: function(e, t, r, i) {
                var o, s, c, l, u, d, f, h, g = [r || a], m = p.call(e, "type") ? e.type : e, v = p.call(e, "namespace") ? e.namespace.split(".") : [];
                if (s = h = c = r = r || a,
                3 !== r.nodeType && 8 !== r.nodeType && !Ct.test(m + C.event.triggered) && (m.indexOf(".") > -1 && (m = (v = m.split(".")).shift(),
                v.sort()),
                u = m.indexOf(":") < 0 && "on" + m,
                (e = e[C.expando] ? e : new C.Event(m,"object" == typeof e && e)).isTrigger = i ? 2 : 3,
                e.namespace = v.join("."),
                e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                e.result = void 0,
                e.target || (e.target = r),
                t = null == t ? [e] : C.makeArray(t, [e]),
                f = C.event.special[m] || {},
                i || !f.trigger || !1 !== f.trigger.apply(r, t))) {
                    if (!i && !f.noBubble && !b(r)) {
                        for (l = f.delegateType || m,
                        Ct.test(l + m) || (s = s.parentNode); s; s = s.parentNode)
                            g.push(s),
                            c = s;
                        c === (r.ownerDocument || a) && g.push(c.defaultView || c.parentWindow || n)
                    }
                    for (o = 0; (s = g[o++]) && !e.isPropagationStopped(); )
                        h = s,
                        e.type = o > 1 ? l : f.bindType || m,
                        (d = (J.get(s, "events") || {})[e.type] && J.get(s, "handle")) && d.apply(s, t),
                        (d = u && s[u]) && d.apply && K(s) && (e.result = d.apply(s, t),
                        !1 === e.result && e.preventDefault());
                    return e.type = m,
                    i || e.isDefaultPrevented() || f._default && !1 !== f._default.apply(g.pop(), t) || !K(r) || u && y(r[m]) && !b(r) && ((c = r[u]) && (r[u] = null),
                    C.event.triggered = m,
                    e.isPropagationStopped() && h.addEventListener(m, _t),
                    r[m](),
                    e.isPropagationStopped() && h.removeEventListener(m, _t),
                    C.event.triggered = void 0,
                    c && (r[u] = c)),
                    e.result
                }
            },
            simulate: function(e, t, n) {
                var r = C.extend(new C.Event, n, {
                    type: e,
                    isSimulated: !0
                });
                C.event.trigger(r, null, t)
            }
        }),
        C.fn.extend({
            trigger: function(e, t) {
                return this.each(function() {
                    C.event.trigger(e, t, this)
                })
            },
            triggerHandler: function(e, t) {
                var n = this[0];
                if (n)
                    return C.event.trigger(e, t, n, !0)
            }
        }),
        v.focusin || C.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            var n = function(e) {
                C.event.simulate(t, e.target, C.event.fix(e))
            };
            C.event.special[t] = {
                setup: function() {
                    var r = this.ownerDocument || this
                      , i = J.access(r, t);
                    i || r.addEventListener(e, n, !0),
                    J.access(r, t, (i || 0) + 1)
                },
                teardown: function() {
                    var r = this.ownerDocument || this
                      , i = J.access(r, t) - 1;
                    i ? J.access(r, t, i) : (r.removeEventListener(e, n, !0),
                    J.remove(r, t))
                }
            }
        });
        var kt = n.location
          , Et = Date.now()
          , Tt = /\?/;
        C.parseXML = function(e) {
            var t;
            if (!e || "string" != typeof e)
                return null;
            try {
                t = (new n.DOMParser).parseFromString(e, "text/xml")
            } catch (e) {
                t = void 0
            }
            return t && !t.getElementsByTagName("parsererror").length || C.error("Invalid XML: " + e),
            t
        }
        ;
        var Pt = /\[\]$/
          , At = /\r?\n/g
          , Ot = /^(?:submit|button|image|reset|file)$/i
          , $t = /^(?:input|select|textarea|keygen)/i;
        function jt(e, t, n, r) {
            var i;
            if (Array.isArray(t))
                C.each(t, function(t, i) {
                    n || Pt.test(e) ? r(e, i) : jt(e + "[" + ("object" == typeof i && null != i ? t : "") + "]", i, n, r)
                });
            else if (n || "object" !== S(t))
                r(e, t);
            else
                for (i in t)
                    jt(e + "[" + i + "]", t[i], n, r)
        }
        C.param = function(e, t) {
            var n, r = [], i = function(e, t) {
                var n = y(t) ? t() : t;
                r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n)
            };
            if (null == e)
                return "";
            if (Array.isArray(e) || e.jquery && !C.isPlainObject(e))
                C.each(e, function() {
                    i(this.name, this.value)
                });
            else
                for (n in e)
                    jt(n, e[n], t, i);
            return r.join("&")
        }
        ,
        C.fn.extend({
            serialize: function() {
                return C.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var e = C.prop(this, "elements");
                    return e ? C.makeArray(e) : this
                }).filter(function() {
                    var e = this.type;
                    return this.name && !C(this).is(":disabled") && $t.test(this.nodeName) && !Ot.test(e) && (this.checked || !ge.test(e))
                }).map(function(e, t) {
                    var n = C(this).val();
                    return null == n ? null : Array.isArray(n) ? C.map(n, function(e) {
                        return {
                            name: t.name,
                            value: e.replace(At, "\r\n")
                        }
                    }) : {
                        name: t.name,
                        value: n.replace(At, "\r\n")
                    }
                }).get()
            }
        });
        var Dt = /%20/g
          , Rt = /#.*$/
          , Mt = /([?&])_=[^&]*/
          , It = /^(.*?):[ \t]*([^\r\n]*)$/gm
          , Lt = /^(?:GET|HEAD)$/
          , Ft = /^\/\//
          , Nt = {}
          , Bt = {}
          , Ut = "*/".concat("*")
          , qt = a.createElement("a");
        function Vt(e) {
            return function(t, n) {
                "string" != typeof t && (n = t,
                t = "*");
                var r, i = 0, o = t.toLowerCase().match(F) || [];
                if (y(n))
                    for (; r = o[i++]; )
                        "+" === r[0] ? (r = r.slice(1) || "*",
                        (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
            }
        }
        function zt(e, t, n, r) {
            var i = {}
              , o = e === Bt;
            function a(s) {
                var c;
                return i[s] = !0,
                C.each(e[s] || [], function(e, s) {
                    var l = s(t, n, r);
                    return "string" != typeof l || o || i[l] ? o ? !(c = l) : void 0 : (t.dataTypes.unshift(l),
                    a(l),
                    !1)
                }),
                c
            }
            return a(t.dataTypes[0]) || !i["*"] && a("*")
        }
        function Ht(e, t) {
            var n, r, i = C.ajaxSettings.flatOptions || {};
            for (n in t)
                void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
            return r && C.extend(!0, e, r),
            e
        }
        qt.href = kt.href,
        C.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: kt.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Ut,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": C.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(e, t) {
                return t ? Ht(Ht(e, C.ajaxSettings), t) : Ht(C.ajaxSettings, e)
            },
            ajaxPrefilter: Vt(Nt),
            ajaxTransport: Vt(Bt),
            ajax: function(e, t) {
                "object" == typeof e && (t = e,
                e = void 0),
                t = t || {};
                var r, i, o, s, c, l, u, d, f, h, p = C.ajaxSetup({}, t), g = p.context || p, m = p.context && (g.nodeType || g.jquery) ? C(g) : C.event, v = C.Deferred(), y = C.Callbacks("once memory"), b = p.statusCode || {}, w = {}, x = {}, S = "canceled", _ = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (u) {
                            if (!s)
                                for (s = {}; t = It.exec(o); )
                                    s[t[1].toLowerCase() + " "] = (s[t[1].toLowerCase() + " "] || []).concat(t[2]);
                            t = s[e.toLowerCase() + " "]
                        }
                        return null == t ? null : t.join(", ")
                    },
                    getAllResponseHeaders: function() {
                        return u ? o : null
                    },
                    setRequestHeader: function(e, t) {
                        return null == u && (e = x[e.toLowerCase()] = x[e.toLowerCase()] || e,
                        w[e] = t),
                        this
                    },
                    overrideMimeType: function(e) {
                        return null == u && (p.mimeType = e),
                        this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (u)
                                _.always(e[_.status]);
                            else
                                for (t in e)
                                    b[t] = [b[t], e[t]];
                        return this
                    },
                    abort: function(e) {
                        var t = e || S;
                        return r && r.abort(t),
                        k(0, t),
                        this
                    }
                };
                if (v.promise(_),
                p.url = ((e || p.url || kt.href) + "").replace(Ft, kt.protocol + "//"),
                p.type = t.method || t.type || p.method || p.type,
                p.dataTypes = (p.dataType || "*").toLowerCase().match(F) || [""],
                null == p.crossDomain) {
                    l = a.createElement("a");
                    try {
                        l.href = p.url,
                        l.href = l.href,
                        p.crossDomain = qt.protocol + "//" + qt.host != l.protocol + "//" + l.host
                    } catch (e) {
                        p.crossDomain = !0
                    }
                }
                if (p.data && p.processData && "string" != typeof p.data && (p.data = C.param(p.data, p.traditional)),
                zt(Nt, p, t, _),
                u)
                    return _;
                for (f in (d = C.event && p.global) && 0 == C.active++ && C.event.trigger("ajaxStart"),
                p.type = p.type.toUpperCase(),
                p.hasContent = !Lt.test(p.type),
                i = p.url.replace(Rt, ""),
                p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(Dt, "+")) : (h = p.url.slice(i.length),
                p.data && (p.processData || "string" == typeof p.data) && (i += (Tt.test(i) ? "&" : "?") + p.data,
                delete p.data),
                !1 === p.cache && (i = i.replace(Mt, "$1"),
                h = (Tt.test(i) ? "&" : "?") + "_=" + Et++ + h),
                p.url = i + h),
                p.ifModified && (C.lastModified[i] && _.setRequestHeader("If-Modified-Since", C.lastModified[i]),
                C.etag[i] && _.setRequestHeader("If-None-Match", C.etag[i])),
                (p.data && p.hasContent && !1 !== p.contentType || t.contentType) && _.setRequestHeader("Content-Type", p.contentType),
                _.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + Ut + "; q=0.01" : "") : p.accepts["*"]),
                p.headers)
                    _.setRequestHeader(f, p.headers[f]);
                if (p.beforeSend && (!1 === p.beforeSend.call(g, _, p) || u))
                    return _.abort();
                if (S = "abort",
                y.add(p.complete),
                _.done(p.success),
                _.fail(p.error),
                r = zt(Bt, p, t, _)) {
                    if (_.readyState = 1,
                    d && m.trigger("ajaxSend", [_, p]),
                    u)
                        return _;
                    p.async && p.timeout > 0 && (c = n.setTimeout(function() {
                        _.abort("timeout")
                    }, p.timeout));
                    try {
                        u = !1,
                        r.send(w, k)
                    } catch (e) {
                        if (u)
                            throw e;
                        k(-1, e)
                    }
                } else
                    k(-1, "No Transport");
                function k(e, t, a, s) {
                    var l, f, h, w, x, S = t;
                    u || (u = !0,
                    c && n.clearTimeout(c),
                    r = void 0,
                    o = s || "",
                    _.readyState = e > 0 ? 4 : 0,
                    l = e >= 200 && e < 300 || 304 === e,
                    a && (w = function(e, t, n) {
                        for (var r, i, o, a, s = e.contents, c = e.dataTypes; "*" === c[0]; )
                            c.shift(),
                            void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
                        if (r)
                            for (i in s)
                                if (s[i] && s[i].test(r)) {
                                    c.unshift(i);
                                    break
                                }
                        if (c[0]in n)
                            o = c[0];
                        else {
                            for (i in n) {
                                if (!c[0] || e.converters[i + " " + c[0]]) {
                                    o = i;
                                    break
                                }
                                a || (a = i)
                            }
                            o = o || a
                        }
                        if (o)
                            return o !== c[0] && c.unshift(o),
                            n[o]
                    }(p, _, a)),
                    w = function(e, t, n, r) {
                        var i, o, a, s, c, l = {}, u = e.dataTypes.slice();
                        if (u[1])
                            for (a in e.converters)
                                l[a.toLowerCase()] = e.converters[a];
                        for (o = u.shift(); o; )
                            if (e.responseFields[o] && (n[e.responseFields[o]] = t),
                            !c && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
                            c = o,
                            o = u.shift())
                                if ("*" === o)
                                    o = c;
                                else if ("*" !== c && c !== o) {
                                    if (!(a = l[c + " " + o] || l["* " + o]))
                                        for (i in l)
                                            if ((s = i.split(" "))[1] === o && (a = l[c + " " + s[0]] || l["* " + s[0]])) {
                                                !0 === a ? a = l[i] : !0 !== l[i] && (o = s[0],
                                                u.unshift(s[1]));
                                                break
                                            }
                                    if (!0 !== a)
                                        if (a && e.throws)
                                            t = a(t);
                                        else
                                            try {
                                                t = a(t)
                                            } catch (e) {
                                                return {
                                                    state: "parsererror",
                                                    error: a ? e : "No conversion from " + c + " to " + o
                                                }
                                            }
                                }
                        return {
                            state: "success",
                            data: t
                        }
                    }(p, w, _, l),
                    l ? (p.ifModified && ((x = _.getResponseHeader("Last-Modified")) && (C.lastModified[i] = x),
                    (x = _.getResponseHeader("etag")) && (C.etag[i] = x)),
                    204 === e || "HEAD" === p.type ? S = "nocontent" : 304 === e ? S = "notmodified" : (S = w.state,
                    f = w.data,
                    l = !(h = w.error))) : (h = S,
                    !e && S || (S = "error",
                    e < 0 && (e = 0))),
                    _.status = e,
                    _.statusText = (t || S) + "",
                    l ? v.resolveWith(g, [f, S, _]) : v.rejectWith(g, [_, S, h]),
                    _.statusCode(b),
                    b = void 0,
                    d && m.trigger(l ? "ajaxSuccess" : "ajaxError", [_, p, l ? f : h]),
                    y.fireWith(g, [_, S]),
                    d && (m.trigger("ajaxComplete", [_, p]),
                    --C.active || C.event.trigger("ajaxStop")))
                }
                return _
            },
            getJSON: function(e, t, n) {
                return C.get(e, t, n, "json")
            },
            getScript: function(e, t) {
                return C.get(e, void 0, t, "script")
            }
        }),
        C.each(["get", "post"], function(e, t) {
            C[t] = function(e, n, r, i) {
                return y(n) && (i = i || r,
                r = n,
                n = void 0),
                C.ajax(C.extend({
                    url: e,
                    type: t,
                    dataType: i,
                    data: n,
                    success: r
                }, C.isPlainObject(e) && e))
            }
        }),
        C._evalUrl = function(e, t) {
            return C.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(e) {
                    C.globalEval(e, t)
                }
            })
        }
        ,
        C.fn.extend({
            wrapAll: function(e) {
                var t;
                return this[0] && (y(e) && (e = e.call(this[0])),
                t = C(e, this[0].ownerDocument).eq(0).clone(!0),
                this[0].parentNode && t.insertBefore(this[0]),
                t.map(function() {
                    for (var e = this; e.firstElementChild; )
                        e = e.firstElementChild;
                    return e
                }).append(this)),
                this
            },
            wrapInner: function(e) {
                return y(e) ? this.each(function(t) {
                    C(this).wrapInner(e.call(this, t))
                }) : this.each(function() {
                    var t = C(this)
                      , n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e)
                })
            },
            wrap: function(e) {
                var t = y(e);
                return this.each(function(n) {
                    C(this).wrapAll(t ? e.call(this, n) : e)
                })
            },
            unwrap: function(e) {
                return this.parent(e).not("body").each(function() {
                    C(this).replaceWith(this.childNodes)
                }),
                this
            }
        }),
        C.expr.pseudos.hidden = function(e) {
            return !C.expr.pseudos.visible(e)
        }
        ,
        C.expr.pseudos.visible = function(e) {
            return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
        }
        ,
        C.ajaxSettings.xhr = function() {
            try {
                return new n.XMLHttpRequest
            } catch (e) {}
        }
        ;
        var Wt = {
            0: 200,
            1223: 204
        }
          , Gt = C.ajaxSettings.xhr();
        v.cors = !!Gt && "withCredentials"in Gt,
        v.ajax = Gt = !!Gt,
        C.ajaxTransport(function(e) {
            var t, r;
            if (v.cors || Gt && !e.crossDomain)
                return {
                    send: function(i, o) {
                        var a, s = e.xhr();
                        if (s.open(e.type, e.url, e.async, e.username, e.password),
                        e.xhrFields)
                            for (a in e.xhrFields)
                                s[a] = e.xhrFields[a];
                        for (a in e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType),
                        e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"),
                        i)
                            s.setRequestHeader(a, i[a]);
                        t = function(e) {
                            return function() {
                                t && (t = r = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null,
                                "abort" === e ? s.abort() : "error" === e ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o(Wt[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                    binary: s.response
                                } : {
                                    text: s.responseText
                                }, s.getAllResponseHeaders()))
                            }
                        }
                        ,
                        s.onload = t(),
                        r = s.onerror = s.ontimeout = t("error"),
                        void 0 !== s.onabort ? s.onabort = r : s.onreadystatechange = function() {
                            4 === s.readyState && n.setTimeout(function() {
                                t && r()
                            })
                        }
                        ,
                        t = t("abort");
                        try {
                            s.send(e.hasContent && e.data || null)
                        } catch (e) {
                            if (t)
                                throw e
                        }
                    },
                    abort: function() {
                        t && t()
                    }
                }
        }),
        C.ajaxPrefilter(function(e) {
            e.crossDomain && (e.contents.script = !1)
        }),
        C.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(e) {
                    return C.globalEval(e),
                    e
                }
            }
        }),
        C.ajaxPrefilter("script", function(e) {
            void 0 === e.cache && (e.cache = !1),
            e.crossDomain && (e.type = "GET")
        }),
        C.ajaxTransport("script", function(e) {
            var t, n;
            if (e.crossDomain || e.scriptAttrs)
                return {
                    send: function(r, i) {
                        t = C("<script>").attr(e.scriptAttrs || {}).prop({
                            charset: e.scriptCharset,
                            src: e.url
                        }).on("load error", n = function(e) {
                            t.remove(),
                            n = null,
                            e && i("error" === e.type ? 404 : 200, e.type)
                        }
                        ),
                        a.head.appendChild(t[0])
                    },
                    abort: function() {
                        n && n()
                    }
                }
        });
        var Xt, Yt = [], Kt = /(=)\?(?=&|$)|\?\?/;
        C.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = Yt.pop() || C.expando + "_" + Et++;
                return this[e] = !0,
                e
            }
        }),
        C.ajaxPrefilter("json jsonp", function(e, t, r) {
            var i, o, a, s = !1 !== e.jsonp && (Kt.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Kt.test(e.data) && "data");
            if (s || "jsonp" === e.dataTypes[0])
                return i = e.jsonpCallback = y(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback,
                s ? e[s] = e[s].replace(Kt, "$1" + i) : !1 !== e.jsonp && (e.url += (Tt.test(e.url) ? "&" : "?") + e.jsonp + "=" + i),
                e.converters["script json"] = function() {
                    return a || C.error(i + " was not called"),
                    a[0]
                }
                ,
                e.dataTypes[0] = "json",
                o = n[i],
                n[i] = function() {
                    a = arguments
                }
                ,
                r.always(function() {
                    void 0 === o ? C(n).removeProp(i) : n[i] = o,
                    e[i] && (e.jsonpCallback = t.jsonpCallback,
                    Yt.push(i)),
                    a && y(o) && o(a[0]),
                    a = o = void 0
                }),
                "script"
        }),
        v.createHTMLDocument = ((Xt = a.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
        2 === Xt.childNodes.length),
        C.parseHTML = function(e, t, n) {
            return "string" != typeof e ? [] : ("boolean" == typeof t && (n = t,
            t = !1),
            t || (v.createHTMLDocument ? ((r = (t = a.implementation.createHTMLDocument("")).createElement("base")).href = a.location.href,
            t.head.appendChild(r)) : t = a),
            i = $.exec(e),
            o = !n && [],
            i ? [t.createElement(i[1])] : (i = _e([e], t, o),
            o && o.length && C(o).remove(),
            C.merge([], i.childNodes)));
            var r, i, o
        }
        ,
        C.fn.load = function(e, t, n) {
            var r, i, o, a = this, s = e.indexOf(" ");
            return s > -1 && (r = bt(e.slice(s)),
            e = e.slice(0, s)),
            y(t) ? (n = t,
            t = void 0) : t && "object" == typeof t && (i = "POST"),
            a.length > 0 && C.ajax({
                url: e,
                type: i || "GET",
                dataType: "html",
                data: t
            }).done(function(e) {
                o = arguments,
                a.html(r ? C("<div>").append(C.parseHTML(e)).find(r) : e)
            }).always(n && function(e, t) {
                a.each(function() {
                    n.apply(this, o || [e.responseText, t, e])
                })
            }
            ),
            this
        }
        ,
        C.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
            C.fn[t] = function(e) {
                return this.on(t, e)
            }
        }),
        C.expr.pseudos.animated = function(e) {
            return C.grep(C.timers, function(t) {
                return e === t.elem
            }).length
        }
        ,
        C.offset = {
            setOffset: function(e, t, n) {
                var r, i, o, a, s, c, l = C.css(e, "position"), u = C(e), d = {};
                "static" === l && (e.style.position = "relative"),
                s = u.offset(),
                o = C.css(e, "top"),
                c = C.css(e, "left"),
                ("absolute" === l || "fixed" === l) && (o + c).indexOf("auto") > -1 ? (a = (r = u.position()).top,
                i = r.left) : (a = parseFloat(o) || 0,
                i = parseFloat(c) || 0),
                y(t) && (t = t.call(e, n, C.extend({}, s))),
                null != t.top && (d.top = t.top - s.top + a),
                null != t.left && (d.left = t.left - s.left + i),
                "using"in t ? t.using.call(e, d) : u.css(d)
            }
        },
        C.fn.extend({
            offset: function(e) {
                if (arguments.length)
                    return void 0 === e ? this : this.each(function(t) {
                        C.offset.setOffset(this, e, t)
                    });
                var t, n, r = this[0];
                return r ? r.getClientRects().length ? (t = r.getBoundingClientRect(),
                n = r.ownerDocument.defaultView,
                {
                    top: t.top + n.pageYOffset,
                    left: t.left + n.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function() {
                if (this[0]) {
                    var e, t, n, r = this[0], i = {
                        top: 0,
                        left: 0
                    };
                    if ("fixed" === C.css(r, "position"))
                        t = r.getBoundingClientRect();
                    else {
                        for (t = this.offset(),
                        n = r.ownerDocument,
                        e = r.offsetParent || n.documentElement; e && (e === n.body || e === n.documentElement) && "static" === C.css(e, "position"); )
                            e = e.parentNode;
                        e && e !== r && 1 === e.nodeType && ((i = C(e).offset()).top += C.css(e, "borderTopWidth", !0),
                        i.left += C.css(e, "borderLeftWidth", !0))
                    }
                    return {
                        top: t.top - i.top - C.css(r, "marginTop", !0),
                        left: t.left - i.left - C.css(r, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var e = this.offsetParent; e && "static" === C.css(e, "position"); )
                        e = e.offsetParent;
                    return e || ae
                })
            }
        }),
        C.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(e, t) {
            var n = "pageYOffset" === t;
            C.fn[e] = function(r) {
                return H(this, function(e, r, i) {
                    var o;
                    if (b(e) ? o = e : 9 === e.nodeType && (o = e.defaultView),
                    void 0 === i)
                        return o ? o[t] : e[r];
                    o ? o.scrollTo(n ? o.pageXOffset : i, n ? i : o.pageYOffset) : e[r] = i
                }, e, r, arguments.length)
            }
        }),
        C.each(["top", "left"], function(e, t) {
            C.cssHooks[t] = Ge(v.pixelPosition, function(e, n) {
                if (n)
                    return n = We(e, t),
                    Ve.test(n) ? C(e).position()[t] + "px" : n
            })
        }),
        C.each({
            Height: "height",
            Width: "width"
        }, function(e, t) {
            C.each({
                padding: "inner" + e,
                content: t,
                "": "outer" + e
            }, function(n, r) {
                C.fn[r] = function(i, o) {
                    var a = arguments.length && (n || "boolean" != typeof i)
                      , s = n || (!0 === i || !0 === o ? "margin" : "border");
                    return H(this, function(t, n, i) {
                        var o;
                        return b(t) ? 0 === r.indexOf("outer") ? t["inner" + e] : t.document.documentElement["client" + e] : 9 === t.nodeType ? (o = t.documentElement,
                        Math.max(t.body["scroll" + e], o["scroll" + e], t.body["offset" + e], o["offset" + e], o["client" + e])) : void 0 === i ? C.css(t, n, s) : C.style(t, n, i, s)
                    }, t, a ? i : void 0, a)
                }
            })
        }),
        C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, t) {
            C.fn[t] = function(e, n) {
                return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
            }
        }),
        C.fn.extend({
            hover: function(e, t) {
                return this.mouseenter(e).mouseleave(t || e)
            }
        }),
        C.fn.extend({
            bind: function(e, t, n) {
                return this.on(e, null, t, n)
            },
            unbind: function(e, t) {
                return this.off(e, null, t)
            },
            delegate: function(e, t, n, r) {
                return this.on(t, e, n, r)
            },
            undelegate: function(e, t, n) {
                return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
            }
        }),
        C.proxy = function(e, t) {
            var n, r, i;
            if ("string" == typeof t && (n = e[t],
            t = e,
            e = n),
            y(e))
                return r = c.call(arguments, 2),
                (i = function() {
                    return e.apply(t || this, r.concat(c.call(arguments)))
                }
                ).guid = e.guid = e.guid || C.guid++,
                i
        }
        ,
        C.holdReady = function(e) {
            e ? C.readyWait++ : C.ready(!0)
        }
        ,
        C.isArray = Array.isArray,
        C.parseJSON = JSON.parse,
        C.nodeName = O,
        C.isFunction = y,
        C.isWindow = b,
        C.camelCase = Y,
        C.type = S,
        C.now = Date.now,
        C.isNumeric = function(e) {
            var t = C.type(e);
            return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
        }
        ,
        void 0 === (r = function() {
            return C
        }
        .apply(t, [])) || (e.exports = r);
        var Qt = n.jQuery
          , Jt = n.$;
        return C.noConflict = function(e) {
            return n.$ === C && (n.$ = Jt),
            e && n.jQuery === C && (n.jQuery = Qt),
            C
        }
        ,
        i || (n.jQuery = n.$ = C),
        C
    })
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.async = n(45)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    (function(e, n, r, i) {
        !function(t) {
            "use strict";
            function o(e, t) {
                t |= 0;
                for (var n = Math.max(e.length - t, 0), r = Array(n), i = 0; i < n; i++)
                    r[i] = e[t + i];
                return r
            }
            function a(e) {
                var t = typeof e;
                return null != e && ("object" == t || "function" == t)
            }
            function s(e) {
                setTimeout(e, 0)
            }
            function c(e) {
                return function(t) {
                    var n = o(arguments, 1);
                    e(function() {
                        t.apply(null, n)
                    })
                }
            }
            function l(e) {
                return Re(function(t, n) {
                    var r;
                    try {
                        r = e.apply(this, t)
                    } catch (e) {
                        return n(e)
                    }
                    a(r) && "function" == typeof r.then ? r.then(function(e) {
                        u(n, null, e)
                    }, function(e) {
                        u(n, e.message ? e : new Error(e))
                    }) : n(null, r)
                })
            }
            function u(e, t, n) {
                try {
                    e(t, n)
                } catch (e) {
                    Le(d, e)
                }
            }
            function d(e) {
                throw e
            }
            function f(e) {
                return Fe && "AsyncFunction" === e[Symbol.toStringTag]
            }
            function h(e) {
                return f(e) ? l(e) : e
            }
            function p(e) {
                return function(t) {
                    var n = o(arguments, 1)
                      , r = Re(function(n, r) {
                        var i = this;
                        return e(t, function(e, t) {
                            h(e).apply(i, n.concat(t))
                        }, r)
                    });
                    return n.length ? r.apply(this, n) : r
                }
            }
            function g(e) {
                return null == e ? void 0 === e ? Ye : Xe : Ke && Ke in Object(e) ? function(e) {
                    var t = ze.call(e, We)
                      , n = e[We];
                    try {
                        e[We] = void 0;
                        var r = !0
                    } catch (e) {}
                    var i = He.call(e);
                    return r && (t ? e[We] = n : delete e[We]),
                    i
                }(e) : function(e) {
                    return Ge.call(e)
                }(e)
            }
            function m(e) {
                return "number" == typeof e && e > -1 && e % 1 == 0 && e <= tt
            }
            function v(e) {
                return null != e && m(e.length) && !function(e) {
                    if (!a(e))
                        return !1;
                    var t = g(e);
                    return t == Je || t == Ze || t == Qe || t == et
                }(e)
            }
            function y() {}
            function b(e) {
                return function() {
                    if (null !== e) {
                        var t = e;
                        e = null,
                        t.apply(this, arguments)
                    }
                }
            }
            function w(e) {
                return null != e && "object" == typeof e
            }
            function x(e) {
                return w(e) && g(e) == ot
            }
            function S(e, t) {
                var n = typeof e;
                return !!(t = null == t ? gt : t) && ("number" == n || "symbol" != n && mt.test(e)) && e > -1 && e % 1 == 0 && e < t
            }
            function C(e) {
                return v(e) ? function(e, t) {
                    var n = ut(e)
                      , r = !n && lt(e)
                      , i = !n && !r && pt(e)
                      , o = !n && !r && !i && Ct(e)
                      , a = n || r || i || o
                      , s = a ? function(e, t) {
                        for (var n = -1, r = Array(e); ++n < e; )
                            r[n] = t(n);
                        return r
                    }(e.length, String) : []
                      , c = s.length;
                    for (var l in e)
                        !t && !_t.call(e, l) || a && ("length" == l || i && ("offset" == l || "parent" == l) || o && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || S(l, c)) || s.push(l);
                    return s
                }(e) : function(e) {
                    if (!function(e) {
                        var t = e && e.constructor;
                        return e === ("function" == typeof t && t.prototype || kt)
                    }(e))
                        return Et(e);
                    var t = [];
                    for (var n in Object(e))
                        Tt.call(e, n) && "constructor" != n && t.push(n);
                    return t
                }(e)
            }
            function _(e) {
                return function() {
                    if (null === e)
                        throw new Error("Callback was already called.");
                    var t = e;
                    e = null,
                    t.apply(this, arguments)
                }
            }
            function k(e) {
                return function(t, n, r) {
                    function i(e, t) {
                        if (c -= 1,
                        e)
                            s = !0,
                            r(e);
                        else {
                            if (t === nt || s && c <= 0)
                                return s = !0,
                                r(null);
                            l || o()
                        }
                    }
                    function o() {
                        for (l = !0; c < e && !s; ) {
                            var t = a();
                            if (null === t)
                                return s = !0,
                                void (c <= 0 && r(null));
                            c += 1,
                            n(t.value, t.key, _(i))
                        }
                        l = !1
                    }
                    if (r = b(r || y),
                    e <= 0 || !t)
                        return r(null);
                    var a = function(e) {
                        if (v(e))
                            return function(e) {
                                var t = -1
                                  , n = e.length;
                                return function() {
                                    return ++t < n ? {
                                        value: e[t],
                                        key: t
                                    } : null
                                }
                            }(e);
                        var t = it(e);
                        return t ? function(e) {
                            var t = -1;
                            return function() {
                                var n = e.next();
                                return n.done ? null : (t++,
                                {
                                    value: n.value,
                                    key: t
                                })
                            }
                        }(t) : function(e) {
                            var t = C(e)
                              , n = -1
                              , r = t.length;
                            return function i() {
                                var o = t[++n];
                                return "__proto__" === o ? i() : n < r ? {
                                    value: e[o],
                                    key: o
                                } : null
                            }
                        }(e)
                    }(t)
                      , s = !1
                      , c = 0
                      , l = !1;
                    o()
                }
            }
            function E(e, t, n, r) {
                k(t)(e, h(n), r)
            }
            function T(e, t) {
                return function(n, r, i) {
                    return e(n, t, r, i)
                }
            }
            function P(e, t, n) {
                function r(e, t) {
                    e ? n(e) : ++o !== a && t !== nt || n(null)
                }
                n = b(n || y);
                var i = 0
                  , o = 0
                  , a = e.length;
                for (0 === a && n(null); i < a; i++)
                    t(e[i], i, _(r))
            }
            function A(e) {
                return function(t, n, r) {
                    return e(At, t, h(n), r)
                }
            }
            function O(e, t, n, r) {
                r = r || y,
                t = t || [];
                var i = []
                  , o = 0
                  , a = h(n);
                e(t, function(e, t, n) {
                    var r = o++;
                    a(e, function(e, t) {
                        i[r] = t,
                        n(e)
                    })
                }, function(e) {
                    r(e, i)
                })
            }
            function $(e) {
                return function(t, n, r, i) {
                    return e(k(n), t, h(r), i)
                }
            }
            function j(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e); )
                    ;
                return e
            }
            function D(e, t) {
                return e && Mt(e, t, C)
            }
            function R(e) {
                return e != e
            }
            function M(e, t, n) {
                return t == t ? function(e, t, n) {
                    for (var r = n - 1, i = e.length; ++r < i; )
                        if (e[r] === t)
                            return r;
                    return -1
                }(e, t, n) : function(e, t, n, r) {
                    for (var i = e.length, o = n + -1; ++o < i; )
                        if (t(e[o], o, e))
                            return o;
                    return -1
                }(e, R, n)
            }
            function I(e, t) {
                for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; )
                    i[n] = t(e[n], n, e);
                return i
            }
            function L(e) {
                if ("string" == typeof e)
                    return e;
                if (ut(e))
                    return I(e, L) + "";
                if (function(e) {
                    return "symbol" == typeof e || w(e) && g(e) == Lt
                }(e))
                    return Bt ? Bt.call(e) : "";
                var t = e + "";
                return "0" == t && 1 / e == -Ft ? "-0" : t
            }
            function F(e) {
                return function(e) {
                    return Ut.test(e)
                }(e) ? function(e) {
                    return e.match(Zt) || []
                }(e) : function(e) {
                    return e.split("")
                }(e)
            }
            function N(e, t, n) {
                if ((e = function(e) {
                    return null == e ? "" : L(e)
                }(e)) && (n || void 0 === t))
                    return e.replace(en, "");
                if (!e || !(t = L(t)))
                    return e;
                var r = F(e)
                  , i = F(t);
                return function(e, t, n) {
                    var r = e.length;
                    return n = void 0 === n ? r : n,
                    !t && n >= r ? e : function(e, t, n) {
                        var r = -1
                          , i = e.length;
                        t < 0 && (t = -t > i ? 0 : i + t),
                        (n = n > i ? i : n) < 0 && (n += i),
                        i = t > n ? 0 : n - t >>> 0,
                        t >>>= 0;
                        for (var o = Array(i); ++r < i; )
                            o[r] = e[r + t];
                        return o
                    }(e, t, n)
                }(r, function(e, t) {
                    for (var n = -1, r = e.length; ++n < r && M(t, e[n], 0) > -1; )
                        ;
                    return n
                }(r, i), function(e, t) {
                    for (var n = e.length; n-- && M(t, e[n], 0) > -1; )
                        ;
                    return n
                }(r, i) + 1).join("")
            }
            function B(e, t) {
                var n = {};
                D(e, function(e, t) {
                    function r(t, n) {
                        var r = I(i, function(e) {
                            return t[e]
                        });
                        r.push(n),
                        h(e).apply(null, r)
                    }
                    var i, o = f(e), a = !o && 1 === e.length || o && 0 === e.length;
                    if (ut(e))
                        i = e.slice(0, -1),
                        e = e[e.length - 1],
                        n[t] = i.concat(i.length > 0 ? r : e);
                    else if (a)
                        n[t] = e;
                    else {
                        if (i = function(e) {
                            return (e = (e = (e = e.toString().replace(on, "")).match(tn)[2].replace(" ", "")) ? e.split(nn) : []).map(function(e) {
                                return N(e.replace(rn, ""))
                            })
                        }(e),
                        0 === e.length && !o && 0 === i.length)
                            throw new Error("autoInject task functions require explicit parameters.");
                        o || i.pop(),
                        n[t] = i.concat(r)
                    }
                }),
                It(n, t)
            }
            function U() {
                this.head = this.tail = null,
                this.length = 0
            }
            function q(e, t) {
                e.length = 1,
                e.head = e.tail = t
            }
            function V(e, t, n) {
                function r(e, t, n) {
                    if (null != n && "function" != typeof n)
                        throw new Error("task callback must be a function");
                    if (u.started = !0,
                    ut(e) || (e = [e]),
                    0 === e.length && u.idle())
                        return Le(function() {
                            u.drain()
                        });
                    for (var r = 0, i = e.length; r < i; r++) {
                        var o = {
                            data: e[r],
                            callback: n || y
                        };
                        t ? u._tasks.unshift(o) : u._tasks.push(o)
                    }
                    c || (c = !0,
                    Le(function() {
                        c = !1,
                        u.process()
                    }))
                }
                function i(e) {
                    return function(t) {
                        a -= 1;
                        for (var n = 0, r = e.length; n < r; n++) {
                            var i = e[n]
                              , o = M(s, i, 0);
                            0 === o ? s.shift() : o > 0 && s.splice(o, 1),
                            i.callback.apply(i, arguments),
                            null != t && u.error(t, i.data)
                        }
                        a <= u.concurrency - u.buffer && u.unsaturated(),
                        u.idle() && u.drain(),
                        u.process()
                    }
                }
                if (null == t)
                    t = 1;
                else if (0 === t)
                    throw new Error("Concurrency must not be zero");
                var o = h(e)
                  , a = 0
                  , s = []
                  , c = !1
                  , l = !1
                  , u = {
                    _tasks: new U,
                    concurrency: t,
                    payload: n,
                    saturated: y,
                    unsaturated: y,
                    buffer: t / 4,
                    empty: y,
                    drain: y,
                    error: y,
                    started: !1,
                    paused: !1,
                    push: function(e, t) {
                        r(e, !1, t)
                    },
                    kill: function() {
                        u.drain = y,
                        u._tasks.empty()
                    },
                    unshift: function(e, t) {
                        r(e, !0, t)
                    },
                    remove: function(e) {
                        u._tasks.remove(e)
                    },
                    process: function() {
                        if (!l) {
                            for (l = !0; !u.paused && a < u.concurrency && u._tasks.length; ) {
                                var e = []
                                  , t = []
                                  , n = u._tasks.length;
                                u.payload && (n = Math.min(n, u.payload));
                                for (var r = 0; r < n; r++) {
                                    var c = u._tasks.shift();
                                    e.push(c),
                                    s.push(c),
                                    t.push(c.data)
                                }
                                a += 1,
                                0 === u._tasks.length && u.empty(),
                                a === u.concurrency && u.saturated();
                                var d = _(i(e));
                                o(t, d)
                            }
                            l = !1
                        }
                    },
                    length: function() {
                        return u._tasks.length
                    },
                    running: function() {
                        return a
                    },
                    workersList: function() {
                        return s
                    },
                    idle: function() {
                        return u._tasks.length + a === 0
                    },
                    pause: function() {
                        u.paused = !0
                    },
                    resume: function() {
                        !1 !== u.paused && (u.paused = !1,
                        Le(u.process))
                    }
                };
                return u
            }
            function z(e, t) {
                return V(e, 1, t)
            }
            function H(e, t, n, r) {
                r = b(r || y);
                var i = h(n);
                an(e, function(e, n, r) {
                    i(t, e, function(e, n) {
                        t = n,
                        r(e)
                    })
                }, function(e) {
                    r(e, t)
                })
            }
            function W() {
                var e = I(arguments, h);
                return function() {
                    var t = o(arguments)
                      , n = this
                      , r = t[t.length - 1];
                    "function" == typeof r ? t.pop() : r = y,
                    H(e, t, function(e, t, r) {
                        t.apply(n, e.concat(function(e) {
                            var t = o(arguments, 1);
                            r(e, t)
                        }))
                    }, function(e, t) {
                        r.apply(n, [e].concat(t))
                    })
                }
            }
            function G(e) {
                return e
            }
            function X(e, t) {
                return function(n, r, i, o) {
                    o = o || y;
                    var a, s = !1;
                    n(r, function(n, r, o) {
                        i(n, function(r, i) {
                            r ? o(r) : e(i) && !a ? (s = !0,
                            a = t(!0, n),
                            o(null, nt)) : o()
                        })
                    }, function(e) {
                        e ? o(e) : o(null, s ? a : t(!1))
                    })
                }
            }
            function Y(e, t) {
                return t
            }
            function K(e) {
                return function(t) {
                    var n = o(arguments, 1);
                    n.push(function(t) {
                        var n = o(arguments, 1);
                        "object" == typeof console && (t ? console.error && console.error(t) : console[e] && j(n, function(t) {
                            console[e](t)
                        }))
                    }),
                    h(t).apply(null, n)
                }
            }
            function Q(e, t, n) {
                function r(e) {
                    if (e)
                        return n(e);
                    var t = o(arguments, 1);
                    t.push(i),
                    s.apply(this, t)
                }
                function i(e, t) {
                    return e ? n(e) : t ? void a(r) : n(null)
                }
                n = _(n || y);
                var a = h(e)
                  , s = h(t);
                i(null, !0)
            }
            function J(e, t, n) {
                n = _(n || y);
                var r = h(e)
                  , i = function(e) {
                    if (e)
                        return n(e);
                    var a = o(arguments, 1);
                    return t.apply(this, a) ? r(i) : void n.apply(null, [null].concat(a))
                };
                r(i)
            }
            function Z(e, t, n) {
                J(e, function() {
                    return !t.apply(this, arguments)
                }, n)
            }
            function ee(e, t, n) {
                function r(e) {
                    return e ? n(e) : void a(i)
                }
                function i(e, t) {
                    return e ? n(e) : t ? void o(r) : n(null)
                }
                n = _(n || y);
                var o = h(t)
                  , a = h(e);
                a(i)
            }
            function te(e) {
                return function(t, n, r) {
                    return e(t, r)
                }
            }
            function ne(e, t, n) {
                At(e, te(h(t)), n)
            }
            function re(e, t, n, r) {
                k(t)(e, te(h(n)), r)
            }
            function ie(e) {
                return f(e) ? e : Re(function(t, n) {
                    var r = !0;
                    t.push(function() {
                        var e = arguments;
                        r ? Le(function() {
                            n.apply(null, e)
                        }) : n.apply(null, e)
                    }),
                    e.apply(this, t),
                    r = !1
                })
            }
            function oe(e) {
                return !e
            }
            function ae(e) {
                return function(t) {
                    return null == t ? void 0 : t[e]
                }
            }
            function se(e, t, n, r) {
                var i = new Array(t.length);
                e(t, function(e, t, r) {
                    n(e, function(e, n) {
                        i[t] = !!n,
                        r(e)
                    })
                }, function(e) {
                    if (e)
                        return r(e);
                    for (var n = [], o = 0; o < t.length; o++)
                        i[o] && n.push(t[o]);
                    r(null, n)
                })
            }
            function ce(e, t, n, r) {
                var i = [];
                e(t, function(e, t, r) {
                    n(e, function(n, o) {
                        n ? r(n) : (o && i.push({
                            index: t,
                            value: e
                        }),
                        r())
                    })
                }, function(e) {
                    e ? r(e) : r(null, I(i.sort(function(e, t) {
                        return e.index - t.index
                    }), ae("value")))
                })
            }
            function le(e, t, n, r) {
                (v(t) ? se : ce)(e, t, h(n), r || y)
            }
            function ue(e, t) {
                var n = _(t || y)
                  , r = h(ie(e));
                !function e(t) {
                    return t ? n(t) : void r(e)
                }()
            }
            function de(e, t, n, r) {
                r = b(r || y);
                var i = {}
                  , o = h(n);
                E(e, t, function(e, t, n) {
                    o(e, t, function(e, r) {
                        return e ? n(e) : (i[t] = r,
                        void n())
                    })
                }, function(e) {
                    r(e, i)
                })
            }
            function fe(e, t) {
                return t in e
            }
            function he(e, t) {
                var n = Object.create(null)
                  , r = Object.create(null);
                t = t || G;
                var i = h(e)
                  , a = Re(function(e, a) {
                    var s = t.apply(null, e);
                    fe(n, s) ? Le(function() {
                        a.apply(null, n[s])
                    }) : fe(r, s) ? r[s].push(a) : (r[s] = [a],
                    i.apply(null, e.concat(function() {
                        var e = o(arguments);
                        n[s] = e;
                        var t = r[s];
                        delete r[s];
                        for (var i = 0, a = t.length; i < a; i++)
                            t[i].apply(null, e)
                    })))
                });
                return a.memo = n,
                a.unmemoized = e,
                a
            }
            function pe(e, t, n) {
                n = n || y;
                var r = v(t) ? [] : {};
                e(t, function(e, t, n) {
                    h(e)(function(e, i) {
                        arguments.length > 2 && (i = o(arguments, 1)),
                        r[t] = i,
                        n(e)
                    })
                }, function(e) {
                    n(e, r)
                })
            }
            function ge(e, t) {
                pe(At, e, t)
            }
            function me(e, t, n) {
                pe(k(t), e, n)
            }
            function ve(e, t) {
                if (t = b(t || y),
                !ut(e))
                    return t(new TypeError("First argument to race must be an array of functions"));
                if (!e.length)
                    return t();
                for (var n = 0, r = e.length; n < r; n++)
                    h(e[n])(t)
            }
            function ye(e, t, n, r) {
                H(o(e).reverse(), t, n, r)
            }
            function be(e) {
                var t = h(e);
                return Re(function(e, n) {
                    return e.push(function(e, t) {
                        var r;
                        e ? n(null, {
                            error: e
                        }) : (r = arguments.length <= 2 ? t : o(arguments, 1),
                        n(null, {
                            value: r
                        }))
                    }),
                    t.apply(this, e)
                })
            }
            function we(e) {
                var t;
                return ut(e) ? t = I(e, be) : (t = {},
                D(e, function(e, n) {
                    t[n] = be.call(this, e)
                })),
                t
            }
            function xe(e, t, n, r) {
                le(e, t, function(e, t) {
                    n(e, function(e, n) {
                        t(e, !n)
                    })
                }, r)
            }
            function Se(e) {
                return function() {
                    return e
                }
            }
            function Ce(e, t, n) {
                var r = {
                    times: 5,
                    intervalFunc: Se(0)
                };
                if (arguments.length < 3 && "function" == typeof e ? (n = t || y,
                t = e) : (function(e, t) {
                    if ("object" == typeof t)
                        e.times = +t.times || 5,
                        e.intervalFunc = "function" == typeof t.interval ? t.interval : Se(+t.interval || 0),
                        e.errorFilter = t.errorFilter;
                    else {
                        if ("number" != typeof t && "string" != typeof t)
                            throw new Error("Invalid arguments for async.retry");
                        e.times = +t || 5
                    }
                }(r, e),
                n = n || y),
                "function" != typeof t)
                    throw new Error("Invalid arguments for async.retry");
                var i = h(t)
                  , o = 1;
                !function e() {
                    i(function(t) {
                        t && o++ < r.times && ("function" != typeof r.errorFilter || r.errorFilter(t)) ? setTimeout(e, r.intervalFunc(o)) : n.apply(null, arguments)
                    })
                }()
            }
            function _e(e, t) {
                pe(an, e, t)
            }
            function ke(e, t, n) {
                function r(e, t) {
                    var n = e.criteria
                      , r = t.criteria;
                    return n < r ? -1 : n > r ? 1 : 0
                }
                var i = h(t);
                Ot(e, function(e, t) {
                    i(e, function(n, r) {
                        return n ? t(n) : void t(null, {
                            value: e,
                            criteria: r
                        })
                    })
                }, function(e, t) {
                    return e ? n(e) : void n(null, I(t.sort(r), ae("value")))
                })
            }
            function Ee(e, t, n) {
                var r = h(e);
                return Re(function(i, o) {
                    var a, s = !1;
                    i.push(function() {
                        s || (o.apply(null, arguments),
                        clearTimeout(a))
                    }),
                    a = setTimeout(function() {
                        var t = e.name || "anonymous"
                          , r = new Error('Callback function "' + t + '" timed out.');
                        r.code = "ETIMEDOUT",
                        n && (r.info = n),
                        s = !0,
                        o(r)
                    }, t),
                    r.apply(null, i)
                })
            }
            function Te(e, t, n, r) {
                var i = h(n);
                jt(function(e, t, n, r) {
                    for (var i = -1, o = Un(Bn((t - e) / 1), 0), a = Array(o); o--; )
                        a[++i] = e,
                        e += 1;
                    return a
                }(0, e), t, i, r)
            }
            function Pe(e, t, n, r) {
                arguments.length <= 3 && (r = n,
                n = t,
                t = ut(e) ? [] : {}),
                r = b(r || y);
                var i = h(n);
                At(e, function(e, n, r) {
                    i(t, e, n, r)
                }, function(e) {
                    r(e, t)
                })
            }
            function Ae(e, t) {
                var n, r = null;
                t = t || y,
                vn(e, function(e, t) {
                    h(e)(function(e, i) {
                        n = arguments.length > 2 ? o(arguments, 1) : i,
                        r = e,
                        t(!e)
                    })
                }, function() {
                    t(r, n)
                })
            }
            function Oe(e) {
                return function() {
                    return (e.unmemoized || e).apply(null, arguments)
                }
            }
            function $e(e, t, n) {
                n = _(n || y);
                var r = h(t);
                if (!e())
                    return n(null);
                var i = function(t) {
                    if (t)
                        return n(t);
                    if (e())
                        return r(i);
                    var a = o(arguments, 1);
                    n.apply(null, [null].concat(a))
                };
                r(i)
            }
            function je(e, t, n) {
                $e(function() {
                    return !e.apply(this, arguments)
                }, t, n)
            }
            var De = function(e) {
                var t = o(arguments, 1);
                return function() {
                    var n = o(arguments);
                    return e.apply(null, t.concat(n))
                }
            }
              , Re = function(e) {
                return function() {
                    var t = o(arguments)
                      , n = t.pop();
                    e.call(this, t, n)
                }
            }
              , Me = "function" == typeof e && e
              , Ie = "object" == typeof n && "function" == typeof n.nextTick
              , Le = c(Me ? e : Ie ? n.nextTick : s)
              , Fe = "function" == typeof Symbol
              , Ne = "object" == typeof r && r && r.Object === Object && r
              , Be = "object" == typeof self && self && self.Object === Object && self
              , Ue = Ne || Be || Function("return this")()
              , qe = Ue.Symbol
              , Ve = Object.prototype
              , ze = Ve.hasOwnProperty
              , He = Ve.toString
              , We = qe ? qe.toStringTag : void 0
              , Ge = Object.prototype.toString
              , Xe = "[object Null]"
              , Ye = "[object Undefined]"
              , Ke = qe ? qe.toStringTag : void 0
              , Qe = "[object AsyncFunction]"
              , Je = "[object Function]"
              , Ze = "[object GeneratorFunction]"
              , et = "[object Proxy]"
              , tt = 9007199254740991
              , nt = {}
              , rt = "function" == typeof Symbol && Symbol.iterator
              , it = function(e) {
                return rt && e[rt] && e[rt]()
            }
              , ot = "[object Arguments]"
              , at = Object.prototype
              , st = at.hasOwnProperty
              , ct = at.propertyIsEnumerable
              , lt = x(function() {
                return arguments
            }()) ? x : function(e) {
                return w(e) && st.call(e, "callee") && !ct.call(e, "callee")
            }
              , ut = Array.isArray
              , dt = "object" == typeof t && t && !t.nodeType && t
              , ft = dt && "object" == typeof i && i && !i.nodeType && i
              , ht = ft && ft.exports === dt ? Ue.Buffer : void 0
              , pt = (ht ? ht.isBuffer : void 0) || function() {
                return !1
            }
              , gt = 9007199254740991
              , mt = /^(?:0|[1-9]\d*)$/
              , vt = {};
            vt["[object Float32Array]"] = vt["[object Float64Array]"] = vt["[object Int8Array]"] = vt["[object Int16Array]"] = vt["[object Int32Array]"] = vt["[object Uint8Array]"] = vt["[object Uint8ClampedArray]"] = vt["[object Uint16Array]"] = vt["[object Uint32Array]"] = !0,
            vt["[object Arguments]"] = vt["[object Array]"] = vt["[object ArrayBuffer]"] = vt["[object Boolean]"] = vt["[object DataView]"] = vt["[object Date]"] = vt["[object Error]"] = vt["[object Function]"] = vt["[object Map]"] = vt["[object Number]"] = vt["[object Object]"] = vt["[object RegExp]"] = vt["[object Set]"] = vt["[object String]"] = vt["[object WeakMap]"] = !1;
            var yt = "object" == typeof t && t && !t.nodeType && t
              , bt = yt && "object" == typeof i && i && !i.nodeType && i
              , wt = bt && bt.exports === yt && Ne.process
              , xt = function() {
                try {
                    return bt && bt.require && bt.require("util").types || wt && wt.binding && wt.binding("util")
                } catch (e) {}
            }()
              , St = xt && xt.isTypedArray
              , Ct = St ? function(e) {
                return function(t) {
                    return e(t)
                }
            }(St) : function(e) {
                return w(e) && m(e.length) && !!vt[g(e)]
            }
              , _t = Object.prototype.hasOwnProperty
              , kt = Object.prototype
              , Et = function(e, t) {
                return function(n) {
                    return e(t(n))
                }
            }(Object.keys, Object)
              , Tt = Object.prototype.hasOwnProperty
              , Pt = T(E, 1 / 0)
              , At = function(e, t, n) {
                (v(e) ? P : Pt)(e, h(t), n)
            }
              , Ot = A(O)
              , $t = p(Ot)
              , jt = $(O)
              , Dt = T(jt, 1)
              , Rt = p(Dt)
              , Mt = function(e, t, n) {
                for (var r = -1, i = Object(e), o = n(e), a = o.length; a--; ) {
                    var s = o[++r];
                    if (!1 === t(i[s], s, i))
                        break
                }
                return e
            }
              , It = function(e, t, n) {
                function r(e, t) {
                    p.push(function() {
                        !function(e, t) {
                            if (!d) {
                                var r = _(function(t, r) {
                                    if (u--,
                                    arguments.length > 2 && (r = o(arguments, 1)),
                                    t) {
                                        var i = {};
                                        D(l, function(e, t) {
                                            i[t] = e
                                        }),
                                        i[e] = r,
                                        d = !0,
                                        f = Object.create(null),
                                        n(t, i)
                                    } else
                                        l[e] = r,
                                        a(e)
                                });
                                u++;
                                var i = h(t[t.length - 1]);
                                t.length > 1 ? i(l, r) : i(r)
                            }
                        }(e, t)
                    })
                }
                function i() {
                    if (0 === p.length && 0 === u)
                        return n(null, l);
                    for (; p.length && u < t; ) {
                        p.shift()()
                    }
                }
                function a(e) {
                    j(f[e] || [], function(e) {
                        e()
                    }),
                    i()
                }
                function s(t) {
                    var n = [];
                    return D(e, function(e, r) {
                        ut(e) && M(e, t, 0) >= 0 && n.push(r)
                    }),
                    n
                }
                "function" == typeof t && (n = t,
                t = null),
                n = b(n || y);
                var c = C(e).length;
                if (!c)
                    return n(null);
                t || (t = c);
                var l = {}
                  , u = 0
                  , d = !1
                  , f = Object.create(null)
                  , p = []
                  , g = []
                  , m = {};
                D(e, function(t, n) {
                    if (!ut(t))
                        return r(n, [t]),
                        void g.push(n);
                    var i = t.slice(0, t.length - 1)
                      , o = i.length;
                    return 0 === o ? (r(n, t),
                    void g.push(n)) : (m[n] = o,
                    void j(i, function(a) {
                        if (!e[a])
                            throw new Error("async.auto task `" + n + "` has a non-existent dependency `" + a + "` in " + i.join(", "));
                        !function(e, t) {
                            var n = f[e];
                            n || (n = f[e] = []),
                            n.push(t)
                        }(a, function() {
                            0 == --o && r(n, t)
                        })
                    }))
                }),
                function() {
                    for (var e = 0; g.length; )
                        e++,
                        j(s(g.pop()), function(e) {
                            0 == --m[e] && g.push(e)
                        });
                    if (e !== c)
                        throw new Error("async.auto cannot execute tasks due to a recursive dependency")
                }(),
                i()
            }
              , Lt = "[object Symbol]"
              , Ft = 1 / 0
              , Nt = qe ? qe.prototype : void 0
              , Bt = Nt ? Nt.toString : void 0
              , Ut = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]")
              , qt = "\\ud800-\\udfff"
              , Vt = "[" + qt + "]"
              , zt = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]"
              , Ht = "\\ud83c[\\udffb-\\udfff]"
              , Wt = "[^" + qt + "]"
              , Gt = "(?:\\ud83c[\\udde6-\\uddff]){2}"
              , Xt = "[\\ud800-\\udbff][\\udc00-\\udfff]"
              , Yt = "(?:" + zt + "|" + Ht + ")?"
              , Kt = "[\\ufe0e\\ufe0f]?"
              , Qt = Kt + Yt + ("(?:\\u200d(?:" + [Wt, Gt, Xt].join("|") + ")" + Kt + Yt + ")*")
              , Jt = "(?:" + [Wt + zt + "?", zt, Gt, Xt, Vt].join("|") + ")"
              , Zt = RegExp(Ht + "(?=" + Ht + ")|" + Jt + Qt, "g")
              , en = /^\s+|\s+$/g
              , tn = /^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m
              , nn = /,/
              , rn = /(=.+)?(\s*)$/
              , on = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;
            U.prototype.removeLink = function(e) {
                return e.prev ? e.prev.next = e.next : this.head = e.next,
                e.next ? e.next.prev = e.prev : this.tail = e.prev,
                e.prev = e.next = null,
                this.length -= 1,
                e
            }
            ,
            U.prototype.empty = function() {
                for (; this.head; )
                    this.shift();
                return this
            }
            ,
            U.prototype.insertAfter = function(e, t) {
                t.prev = e,
                t.next = e.next,
                e.next ? e.next.prev = t : this.tail = t,
                e.next = t,
                this.length += 1
            }
            ,
            U.prototype.insertBefore = function(e, t) {
                t.prev = e.prev,
                t.next = e,
                e.prev ? e.prev.next = t : this.head = t,
                e.prev = t,
                this.length += 1
            }
            ,
            U.prototype.unshift = function(e) {
                this.head ? this.insertBefore(this.head, e) : q(this, e)
            }
            ,
            U.prototype.push = function(e) {
                this.tail ? this.insertAfter(this.tail, e) : q(this, e)
            }
            ,
            U.prototype.shift = function() {
                return this.head && this.removeLink(this.head)
            }
            ,
            U.prototype.pop = function() {
                return this.tail && this.removeLink(this.tail)
            }
            ,
            U.prototype.toArray = function() {
                for (var e = Array(this.length), t = this.head, n = 0; n < this.length; n++)
                    e[n] = t.data,
                    t = t.next;
                return e
            }
            ,
            U.prototype.remove = function(e) {
                for (var t = this.head; t; ) {
                    var n = t.next;
                    e(t) && this.removeLink(t),
                    t = n
                }
                return this
            }
            ;
            var an = T(E, 1)
              , sn = function() {
                return W.apply(null, o(arguments).reverse())
            }
              , cn = Array.prototype.concat
              , ln = function(e, t, n, r) {
                r = r || y;
                var i = h(n);
                jt(e, t, function(e, t) {
                    i(e, function(e) {
                        return e ? t(e) : t(null, o(arguments, 1))
                    })
                }, function(e, t) {
                    for (var n = [], i = 0; i < t.length; i++)
                        t[i] && (n = cn.apply(n, t[i]));
                    return r(e, n)
                })
            }
              , un = T(ln, 1 / 0)
              , dn = T(ln, 1)
              , fn = function() {
                var e = o(arguments)
                  , t = [null].concat(e);
                return function() {
                    return arguments[arguments.length - 1].apply(this, t)
                }
            }
              , hn = A(X(G, Y))
              , pn = $(X(G, Y))
              , gn = T(pn, 1)
              , mn = K("dir")
              , vn = T(re, 1)
              , yn = A(X(oe, oe))
              , bn = $(X(oe, oe))
              , wn = T(bn, 1)
              , xn = A(le)
              , Sn = $(le)
              , Cn = T(Sn, 1)
              , _n = function(e, t, n, r) {
                r = r || y;
                var i = h(n);
                jt(e, t, function(e, t) {
                    i(e, function(n, r) {
                        return n ? t(n) : t(null, {
                            key: r,
                            val: e
                        })
                    })
                }, function(e, t) {
                    for (var n = {}, i = Object.prototype.hasOwnProperty, o = 0; o < t.length; o++)
                        if (t[o]) {
                            var a = t[o].key
                              , s = t[o].val;
                            i.call(n, a) ? n[a].push(s) : n[a] = [s]
                        }
                    return r(e, n)
                })
            }
              , kn = T(_n, 1 / 0)
              , En = T(_n, 1)
              , Tn = K("log")
              , Pn = T(de, 1 / 0)
              , An = T(de, 1)
              , On = c(Ie ? n.nextTick : Me ? e : s)
              , $n = function(e, t) {
                var n = h(e);
                return V(function(e, t) {
                    n(e[0], t)
                }, t, 1)
            }
              , jn = function(e, t) {
                var n = $n(e, t);
                return n.push = function(e, t, r) {
                    if (null == r && (r = y),
                    "function" != typeof r)
                        throw new Error("task callback must be a function");
                    if (n.started = !0,
                    ut(e) || (e = [e]),
                    0 === e.length)
                        return Le(function() {
                            n.drain()
                        });
                    t = t || 0;
                    for (var i = n._tasks.head; i && t >= i.priority; )
                        i = i.next;
                    for (var o = 0, a = e.length; o < a; o++) {
                        var s = {
                            data: e[o],
                            priority: t,
                            callback: r
                        };
                        i ? n._tasks.insertBefore(i, s) : n._tasks.push(s)
                    }
                    Le(n.process)
                }
                ,
                delete n.unshift,
                n
            }
              , Dn = A(xe)
              , Rn = $(xe)
              , Mn = T(Rn, 1)
              , In = function(e, t) {
                t || (t = e,
                e = null);
                var n = h(t);
                return Re(function(t, r) {
                    function i(e) {
                        n.apply(null, t.concat(e))
                    }
                    e ? Ce(e, i, r) : Ce(i, r)
                })
            }
              , Ln = A(X(Boolean, G))
              , Fn = $(X(Boolean, G))
              , Nn = T(Fn, 1)
              , Bn = Math.ceil
              , Un = Math.max
              , qn = T(Te, 1 / 0)
              , Vn = T(Te, 1)
              , zn = function(e, t) {
                function n(t) {
                    var n = h(e[i++]);
                    t.push(_(r)),
                    n.apply(null, t)
                }
                function r(r) {
                    return r || i === e.length ? t.apply(null, arguments) : void n(o(arguments, 1))
                }
                if (t = b(t || y),
                !ut(e))
                    return t(new Error("First argument to waterfall must be an array of functions"));
                if (!e.length)
                    return t();
                var i = 0;
                n([])
            }
              , Hn = {
                apply: De,
                applyEach: $t,
                applyEachSeries: Rt,
                asyncify: l,
                auto: It,
                autoInject: B,
                cargo: z,
                compose: sn,
                concat: un,
                concatLimit: ln,
                concatSeries: dn,
                constant: fn,
                detect: hn,
                detectLimit: pn,
                detectSeries: gn,
                dir: mn,
                doDuring: Q,
                doUntil: Z,
                doWhilst: J,
                during: ee,
                each: ne,
                eachLimit: re,
                eachOf: At,
                eachOfLimit: E,
                eachOfSeries: an,
                eachSeries: vn,
                ensureAsync: ie,
                every: yn,
                everyLimit: bn,
                everySeries: wn,
                filter: xn,
                filterLimit: Sn,
                filterSeries: Cn,
                forever: ue,
                groupBy: kn,
                groupByLimit: _n,
                groupBySeries: En,
                log: Tn,
                map: Ot,
                mapLimit: jt,
                mapSeries: Dt,
                mapValues: Pn,
                mapValuesLimit: de,
                mapValuesSeries: An,
                memoize: he,
                nextTick: On,
                parallel: ge,
                parallelLimit: me,
                priorityQueue: jn,
                queue: $n,
                race: ve,
                reduce: H,
                reduceRight: ye,
                reflect: be,
                reflectAll: we,
                reject: Dn,
                rejectLimit: Rn,
                rejectSeries: Mn,
                retry: Ce,
                retryable: In,
                seq: W,
                series: _e,
                setImmediate: Le,
                some: Ln,
                someLimit: Fn,
                someSeries: Nn,
                sortBy: ke,
                timeout: Ee,
                times: qn,
                timesLimit: Te,
                timesSeries: Vn,
                transform: Pe,
                tryEach: Ae,
                unmemoize: Oe,
                until: je,
                waterfall: zn,
                whilst: $e,
                all: yn,
                allLimit: bn,
                allSeries: wn,
                any: Ln,
                anyLimit: Fn,
                anySeries: Nn,
                find: hn,
                findLimit: pn,
                findSeries: gn,
                forEach: ne,
                forEachSeries: vn,
                forEachLimit: re,
                forEachOf: At,
                forEachOfSeries: an,
                forEachOfLimit: E,
                inject: H,
                foldl: H,
                foldr: ye,
                select: xn,
                selectLimit: Sn,
                selectSeries: Cn,
                wrapSync: l
            };
            t.default = Hn,
            t.apply = De,
            t.applyEach = $t,
            t.applyEachSeries = Rt,
            t.asyncify = l,
            t.auto = It,
            t.autoInject = B,
            t.cargo = z,
            t.compose = sn,
            t.concat = un,
            t.concatLimit = ln,
            t.concatSeries = dn,
            t.constant = fn,
            t.detect = hn,
            t.detectLimit = pn,
            t.detectSeries = gn,
            t.dir = mn,
            t.doDuring = Q,
            t.doUntil = Z,
            t.doWhilst = J,
            t.during = ee,
            t.each = ne,
            t.eachLimit = re,
            t.eachOf = At,
            t.eachOfLimit = E,
            t.eachOfSeries = an,
            t.eachSeries = vn,
            t.ensureAsync = ie,
            t.every = yn,
            t.everyLimit = bn,
            t.everySeries = wn,
            t.filter = xn,
            t.filterLimit = Sn,
            t.filterSeries = Cn,
            t.forever = ue,
            t.groupBy = kn,
            t.groupByLimit = _n,
            t.groupBySeries = En,
            t.log = Tn,
            t.map = Ot,
            t.mapLimit = jt,
            t.mapSeries = Dt,
            t.mapValues = Pn,
            t.mapValuesLimit = de,
            t.mapValuesSeries = An,
            t.memoize = he,
            t.nextTick = On,
            t.parallel = ge,
            t.parallelLimit = me,
            t.priorityQueue = jn,
            t.queue = $n,
            t.race = ve,
            t.reduce = H,
            t.reduceRight = ye,
            t.reflect = be,
            t.reflectAll = we,
            t.reject = Dn,
            t.rejectLimit = Rn,
            t.rejectSeries = Mn,
            t.retry = Ce,
            t.retryable = In,
            t.seq = W,
            t.series = _e,
            t.setImmediate = Le,
            t.some = Ln,
            t.someLimit = Fn,
            t.someSeries = Nn,
            t.sortBy = ke,
            t.timeout = Ee,
            t.times = qn,
            t.timesLimit = Te,
            t.timesSeries = Vn,
            t.transform = Pe,
            t.tryEach = Ae,
            t.unmemoize = Oe,
            t.until = je,
            t.waterfall = zn,
            t.whilst = $e,
            t.all = yn,
            t.allLimit = bn,
            t.allSeries = wn,
            t.any = Ln,
            t.anyLimit = Fn,
            t.anySeries = Nn,
            t.find = hn,
            t.findLimit = pn,
            t.findSeries = gn,
            t.forEach = ne,
            t.forEachSeries = vn,
            t.forEachLimit = re,
            t.forEachOf = At,
            t.forEachOfSeries = an,
            t.forEachOfLimit = E,
            t.inject = H,
            t.foldl = H,
            t.foldr = ye,
            t.select = xn,
            t.selectLimit = Sn,
            t.selectSeries = Cn,
            t.wrapSync = l,
            Object.defineProperty(t, "__esModule", {
                value: !0
            })
        }(t)
    }
    ).call(this, n(18).setImmediate, n(2), n(0), n(12)(e))
}
, function(e, t, n) {
    (function(e, t) {
        !function(e, n) {
            "use strict";
            if (!e.setImmediate) {
                var r, i, o, a, s, c = 1, l = {}, u = !1, d = e.document, f = Object.getPrototypeOf && Object.getPrototypeOf(e);
                f = f && f.setTimeout ? f : e,
                "[object process]" === {}.toString.call(e.process) ? r = function(e) {
                    t.nextTick(function() {
                        p(e)
                    })
                }
                : function() {
                    if (e.postMessage && !e.importScripts) {
                        var t = !0
                          , n = e.onmessage;
                        return e.onmessage = function() {
                            t = !1
                        }
                        ,
                        e.postMessage("", "*"),
                        e.onmessage = n,
                        t
                    }
                }() ? (a = "setImmediate$" + Math.random() + "$",
                s = function(t) {
                    t.source === e && "string" == typeof t.data && 0 === t.data.indexOf(a) && p(+t.data.slice(a.length))
                }
                ,
                e.addEventListener ? e.addEventListener("message", s, !1) : e.attachEvent("onmessage", s),
                r = function(t) {
                    e.postMessage(a + t, "*")
                }
                ) : e.MessageChannel ? ((o = new MessageChannel).port1.onmessage = function(e) {
                    p(e.data)
                }
                ,
                r = function(e) {
                    o.port2.postMessage(e)
                }
                ) : d && "onreadystatechange"in d.createElement("script") ? (i = d.documentElement,
                r = function(e) {
                    var t = d.createElement("script");
                    t.onreadystatechange = function() {
                        p(e),
                        t.onreadystatechange = null,
                        i.removeChild(t),
                        t = null
                    }
                    ,
                    i.appendChild(t)
                }
                ) : r = function(e) {
                    setTimeout(p, 0, e)
                }
                ,
                f.setImmediate = function(e) {
                    "function" != typeof e && (e = new Function("" + e));
                    for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++)
                        t[n] = arguments[n + 1];
                    var i = {
                        callback: e,
                        args: t
                    };
                    return l[c] = i,
                    r(c),
                    c++
                }
                ,
                f.clearImmediate = h
            }
            function h(e) {
                delete l[e]
            }
            function p(e) {
                if (u)
                    setTimeout(p, 0, e);
                else {
                    var t = l[e];
                    if (t) {
                        u = !0;
                        try {
                            !function(e) {
                                var t = e.callback
                                  , r = e.args;
                                switch (r.length) {
                                case 0:
                                    t();
                                    break;
                                case 1:
                                    t(r[0]);
                                    break;
                                case 2:
                                    t(r[0], r[1]);
                                    break;
                                case 3:
                                    t(r[0], r[1], r[2]);
                                    break;
                                default:
                                    t.apply(n, r)
                                }
                            }(t)
                        } finally {
                            h(e),
                            u = !1
                        }
                    }
                }
            }
        }("undefined" == typeof self ? void 0 === e ? this : e : self)
    }
    ).call(this, n(0), n(2))
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.EventBus = n(48)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    var r;
    e.exports = ({},
    (r = function() {
        this.listeners = {}
    }
    ).prototype = {
        addEventListener: function(e, t, n) {
            for (var r = [], i = arguments.length, o = 0; o < i; o++)
                r.push(arguments[o]);
            r = r.length > 3 ? r.splice(3, r.length - 1) : [],
            void 0 !== this.listeners[e] ? this.listeners[e].push({
                scope: n,
                callback: t,
                args: r
            }) : this.listeners[e] = [{
                scope: n,
                callback: t,
                args: r
            }]
        },
        removeEventListener: function(e, t, n) {
            if (void 0 !== this.listeners[e]) {
                for (var r = this.listeners[e].length, i = [], o = 0; o < r; o++) {
                    var a = this.listeners[e][o];
                    a.scope == n && a.callback == t || i.push(a)
                }
                this.listeners[e] = i
            }
        },
        hasEventListener: function(e, t, n) {
            if (void 0 !== this.listeners[e]) {
                var r = this.listeners[e].length;
                if (void 0 === t && void 0 === n)
                    return r > 0;
                for (var i = 0; i < r; i++) {
                    var o = this.listeners[e][i];
                    if ((!n || o.scope == n) && o.callback == t)
                        return !0
                }
            }
            return !1
        },
        dispatch: function(e, t) {
            for (var n = {
                type: e,
                target: t
            }, r = [], i = arguments.length, o = 0; o < i; o++)
                r.push(arguments[o]);
            if (r = r.length > 2 ? r.splice(2, r.length - 1) : [],
            r = [n].concat(r),
            void 0 !== this.listeners[e]) {
                var a = this.listeners[e].length;
                for (o = 0; o < a; o++) {
                    var s = this.listeners[e][o];
                    if (s && s.callback) {
                        var c = r.concat(s.args);
                        s.callback.apply(s.scope, c)
                    }
                }
            }
        },
        getEvents: function() {
            var e = "";
            for (var t in this.listeners)
                for (var n = this.listeners[t].length, r = 0; r < n; r++) {
                    var i = this.listeners[t][r];
                    e += i.scope && i.scope.className ? i.scope.className : "anonymous",
                    e += " listen for '" + t + "'\n"
                }
            return e
        }
    },
    new r)
}
, function(e, t, n) {
    var r;
    !function(i, o, a) {
        function s(e, t, n) {
            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
        }
        function c(e) {
            if ("keypress" == e.type) {
                var t = String.fromCharCode(e.which);
                return e.shiftKey || (t = t.toLowerCase()),
                t
            }
            return h[e.which] ? h[e.which] : p[e.which] ? p[e.which] : String.fromCharCode(e.which).toLowerCase()
        }
        function l(e) {
            return "shift" == e || "ctrl" == e || "alt" == e || "meta" == e
        }
        function u(e, t) {
            var n, r, i, o = [];
            for (n = "+" === (n = e) ? ["+"] : (n = n.replace(/\+{2}/g, "+plus")).split("+"),
            i = 0; i < n.length; ++i)
                r = n[i],
                m[r] && (r = m[r]),
                t && "keypress" != t && g[r] && (r = g[r],
                o.push("shift")),
                l(r) && o.push(r);
            if (n = r,
            !(i = t)) {
                if (!f)
                    for (var a in f = {},
                    h)
                        95 < a && 112 > a || h.hasOwnProperty(a) && (f[h[a]] = a);
                i = f[n] ? "keydown" : "keypress"
            }
            return "keypress" == i && o.length && (i = "keydown"),
            {
                key: r,
                modifiers: o,
                action: i
            }
        }
        function d(e) {
            function t(e) {
                e = e || {};
                var t, n = !1;
                for (t in g)
                    e[t] ? n = !0 : g[t] = 0;
                n || (y = !1)
            }
            function n(e, t, n, r, i, o) {
                var a, s, c = [], u = n.type;
                if (!h._callbacks[e])
                    return [];
                for ("keyup" == u && l(e) && (t = [e]),
                a = 0; a < h._callbacks[e].length; ++a)
                    if (s = h._callbacks[e][a],
                    (r || !s.seq || g[s.seq] == s.level) && u == s.action) {
                        var d;
                        (d = "keypress" == u && !n.metaKey && !n.ctrlKey) || (d = s.modifiers,
                        d = t.sort().join(",") === d.sort().join(",")),
                        d && (d = r && s.seq == r && s.level == o,
                        (!r && s.combo == i || d) && h._callbacks[e].splice(a, 1),
                        c.push(s))
                    }
                return c
            }
            function r(e, t, n, r) {
                h.stopCallback(t, t.target || t.srcElement, n, r) || !1 !== e(t, n) || (t.preventDefault ? t.preventDefault() : t.returnValue = !1,
                t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0)
            }
            function i(e) {
                "number" != typeof e.which && (e.which = e.keyCode);
                var t = c(e);
                t && ("keyup" == e.type && m === t ? m = !1 : h.handleKey(t, function(e) {
                    var t = [];
                    return e.shiftKey && t.push("shift"),
                    e.altKey && t.push("alt"),
                    e.ctrlKey && t.push("ctrl"),
                    e.metaKey && t.push("meta"),
                    t
                }(e), e))
            }
            function a(e, n, i, o) {
                function a(n) {
                    return function() {
                        y = n,
                        ++g[e],
                        clearTimeout(p),
                        p = setTimeout(t, 1e3)
                    }
                }
                function s(n) {
                    r(i, n, e),
                    "keyup" !== o && (m = c(n)),
                    setTimeout(t, 10)
                }
                for (var l = g[e] = 0; l < n.length; ++l) {
                    var d = l + 1 === n.length ? s : a(o || u(n[l + 1]).action);
                    f(n[l], d, o, e, l)
                }
            }
            function f(e, t, r, i, o) {
                h._directMap[e + ":" + r] = t;
                var s = (e = e.replace(/\s+/g, " ")).split(" ");
                1 < s.length ? a(e, s, t, r) : (r = u(e, r),
                h._callbacks[r.key] = h._callbacks[r.key] || [],
                n(r.key, r.modifiers, {
                    type: r.action
                }, i, e, o),
                h._callbacks[r.key][i ? "unshift" : "push"]({
                    callback: t,
                    modifiers: r.modifiers,
                    action: r.action,
                    seq: i,
                    level: o,
                    combo: e
                }))
            }
            var h = this;
            if (e = e || o,
            !(h instanceof d))
                return new d(e);
            h.target = e,
            h._callbacks = {},
            h._directMap = {};
            var p, g = {}, m = !1, v = !1, y = !1;
            h._handleKey = function(e, i, o) {
                var a, s = n(e, i, o);
                i = {};
                var c = 0
                  , u = !1;
                for (a = 0; a < s.length; ++a)
                    s[a].seq && (c = Math.max(c, s[a].level));
                for (a = 0; a < s.length; ++a)
                    s[a].seq ? s[a].level == c && (u = !0,
                    i[s[a].seq] = 1,
                    r(s[a].callback, o, s[a].combo, s[a].seq)) : u || r(s[a].callback, o, s[a].combo);
                s = "keypress" == o.type && v,
                o.type != y || l(e) || s || t(i),
                v = u && "keydown" == o.type
            }
            ,
            h._bindMultiple = function(e, t, n) {
                for (var r = 0; r < e.length; ++r)
                    f(e[r], t, n)
            }
            ,
            s(e, "keypress", i),
            s(e, "keydown", i),
            s(e, "keyup", i)
        }
        if (i) {
            var f, h = {
                8: "backspace",
                9: "tab",
                13: "enter",
                16: "shift",
                17: "ctrl",
                18: "alt",
                20: "capslock",
                27: "esc",
                32: "space",
                33: "pageup",
                34: "pagedown",
                35: "end",
                36: "home",
                37: "left",
                38: "up",
                39: "right",
                40: "down",
                45: "ins",
                46: "del",
                91: "meta",
                93: "meta",
                224: "meta"
            }, p = {
                106: "*",
                107: "+",
                109: "-",
                110: ".",
                111: "/",
                186: ";",
                187: "=",
                188: ",",
                189: "-",
                190: ".",
                191: "/",
                192: "`",
                219: "[",
                220: "\\",
                221: "]",
                222: "'"
            }, g = {
                "~": "`",
                "!": "1",
                "@": "2",
                "#": "3",
                $: "4",
                "%": "5",
                "^": "6",
                "&": "7",
                "*": "8",
                "(": "9",
                ")": "0",
                _: "-",
                "+": "=",
                ":": ";",
                '"': "'",
                "<": ",",
                ">": ".",
                "?": "/",
                "|": "\\"
            }, m = {
                option: "alt",
                command: "meta",
                return: "enter",
                escape: "esc",
                plus: "+",
                mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
            };
            for (a = 1; 20 > a; ++a)
                h[111 + a] = "f" + a;
            for (a = 0; 9 >= a; ++a)
                h[a + 96] = a;
            d.prototype.bind = function(e, t, n) {
                return e = e instanceof Array ? e : [e],
                this._bindMultiple.call(this, e, t, n),
                this
            }
            ,
            d.prototype.unbind = function(e, t) {
                return this.bind.call(this, e, function() {}, t)
            }
            ,
            d.prototype.trigger = function(e, t) {
                return this._directMap[e + ":" + t] && this._directMap[e + ":" + t]({}, e),
                this
            }
            ,
            d.prototype.reset = function() {
                return this._callbacks = {},
                this._directMap = {},
                this
            }
            ,
            d.prototype.stopCallback = function(e, t) {
                return !(-1 < (" " + t.className + " ").indexOf(" mousetrap ") || function e(t, n) {
                    return null !== t && t !== o && (t === n || e(t.parentNode, n))
                }(t, this.target)) && ("INPUT" == t.tagName || "SELECT" == t.tagName || "TEXTAREA" == t.tagName || t.isContentEditable)
            }
            ,
            d.prototype.handleKey = function() {
                return this._handleKey.apply(this, arguments)
            }
            ,
            d.addKeycodes = function(e) {
                for (var t in e)
                    e.hasOwnProperty(t) && (h[t] = e[t]);
                f = null
            }
            ,
            d.init = function() {
                var e, t = d(o);
                for (e in t)
                    "_" !== e.charAt(0) && (d[e] = function(e) {
                        return function() {
                            return t[e].apply(t, arguments)
                        }
                    }(e))
            }
            ,
            d.init(),
            i.Mousetrap = d,
            void 0 !== e && e.exports && (e.exports = d),
            n(4) && (void 0 === (r = function() {
                return d
            }
            .call(t, n, t, e)) || (e.exports = r))
        }
    }("undefined" != typeof window ? window : null, "undefined" != typeof window ? document : null)
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.EkTelemetry = n(51)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    (function(r, i, o) {
        var a, s, c;
        e.exports = function e(t, n, r) {
            function i(s, c) {
                if (!n[s]) {
                    if (!t[s]) {
                        if (!c && ("function" == typeof a && a))
                            return a(s, !0);
                        if (o)
                            return o(s, !0);
                        var l = new Error("Cannot find module '" + s + "'");
                        throw l.code = "MODULE_NOT_FOUND",
                        l
                    }
                    var u = n[s] = {
                        exports: {}
                    };
                    t[s][0].call(u.exports, function(e) {
                        return i(t[s][1][e] || e)
                    }, u, u.exports, e, t, n, r)
                }
                return n[s].exports
            }
            for (var o = "function" == typeof a && a, s = 0; s < r.length; s++)
                i(r[s]);
            return i
        }({
            1: [function(e, t, n) {
                "use strict";
                var r = t.exports = function() {
                    this._cache = {}
                }
                ;
                r.prototype.put = function(e, t) {
                    this._cache[e] = t
                }
                ,
                r.prototype.get = function(e) {
                    return this._cache[e]
                }
                ,
                r.prototype.del = function(e) {
                    delete this._cache[e]
                }
                ,
                r.prototype.clear = function() {
                    this._cache = {}
                }
            }
            , {}],
            2: [function(e, t, n) {
                "use strict";
                var r = e("./error_classes").MissingRef;
                t.exports = function e(t, n, i) {
                    var o = this;
                    if ("function" != typeof this._opts.loadSchema)
                        throw new Error("options.loadSchema should be a function");
                    "function" == typeof n && (i = n,
                    n = void 0);
                    var a = s(t).then(function() {
                        var e = o._addSchema(t, void 0, n);
                        return e.validate || function(e) {
                            try {
                                return o._compile(e)
                            } catch (t) {
                                if (t instanceof r)
                                    return function(t) {
                                        var r = t.missingSchema;
                                        if (l(r))
                                            throw new Error("Schema " + r + " is loaded but " + t.missingRef + " cannot be resolved");
                                        var i = o._loadingSchemas[r];
                                        return i || (i = o._loadingSchemas[r] = o._opts.loadSchema(r)).then(a, a),
                                        i.then(function(e) {
                                            if (!l(r))
                                                return s(e).then(function() {
                                                    l(r) || o.addSchema(e, r, void 0, n)
                                                })
                                        }).then(function() {
                                            return c(e)
                                        });
                                        function a() {
                                            delete o._loadingSchemas[r]
                                        }
                                        function l(e) {
                                            return o._refs[e] || o._schemas[e]
                                        }
                                    }(t);
                                throw t
                            }
                        }(e)
                    });
                    return i && a.then(function(e) {
                        i(null, e)
                    }, i),
                    a;
                    function s(t) {
                        var n = t.$schema;
                        return n && !o.getSchema(n) ? e.call(o, {
                            $ref: n
                        }, !0) : Promise.resolve()
                    }
                    function c(e) {
                        try {
                            return o._compile(e)
                        } catch (t) {
                            if (t instanceof r)
                                return function(t) {
                                    var r = t.missingSchema;
                                    if (l(r))
                                        throw new Error("Schema " + r + " is loaded but " + t.missingRef + " cannot be resolved");
                                    var i = o._loadingSchemas[r];
                                    return i || (i = o._loadingSchemas[r] = o._opts.loadSchema(r)).then(a, a),
                                    i.then(function(e) {
                                        if (!l(r))
                                            return s(e).then(function() {
                                                l(r) || o.addSchema(e, r, void 0, n)
                                            })
                                    }).then(function() {
                                        return c(e)
                                    });
                                    function a() {
                                        delete o._loadingSchemas[r]
                                    }
                                    function l(e) {
                                        return o._refs[e] || o._schemas[e]
                                    }
                                }(t);
                            throw t
                        }
                    }
                }
            }
            , {
                "./error_classes": 3
            }],
            3: [function(e, t, n) {
                "use strict";
                var r = e("./resolve");
                function i(e, t, n) {
                    this.message = n || i.message(e, t),
                    this.missingRef = r.url(e, t),
                    this.missingSchema = r.normalizeId(r.fullPath(this.missingRef))
                }
                function o(e) {
                    return e.prototype = Object.create(Error.prototype),
                    e.prototype.constructor = e
                }
                t.exports = {
                    Validation: o(function(e) {
                        this.message = "validation failed",
                        this.errors = e,
                        this.ajv = this.validation = !0
                    }),
                    MissingRef: o(i)
                },
                i.message = function(e, t) {
                    return "can't resolve reference " + t + " from id " + e
                }
            }
            , {
                "./resolve": 6
            }],
            4: [function(e, t, n) {
                "use strict";
                var r = e("./util")
                  , i = /^(\d\d\d\d)-(\d\d)-(\d\d)$/
                  , o = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
                  , a = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i
                  , s = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i
                  , c = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i
                  , l = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i
                  , u = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i
                  , d = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i
                  , f = /^(?:\/(?:[^~/]|~0|~1)*)*$/
                  , h = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i
                  , p = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
                function g(e) {
                    return r.copy(g[e = "full" == e ? "full" : "fast"])
                }
                function m(e) {
                    var t = e.match(i);
                    if (!t)
                        return !1;
                    var n, r = +t[2], a = +t[3];
                    return 1 <= r && r <= 12 && 1 <= a && a <= (2 != r || (n = +t[1]) % 4 != 0 || n % 100 == 0 && n % 400 != 0 ? o[r] : 29)
                }
                function v(e, t) {
                    var n = e.match(a);
                    if (!n)
                        return !1;
                    var r = n[1]
                      , i = n[2]
                      , o = n[3];
                    return (r <= 23 && i <= 59 && o <= 59 || 23 == r && 59 == i && 60 == o) && (!t || n[5])
                }
                (t.exports = g).fast = {
                    date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
                    time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,
                    "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,
                    uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,
                    "uri-reference": /^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
                    "uri-template": l,
                    url: u,
                    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
                    hostname: s,
                    ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
                    ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
                    regex: x,
                    uuid: d,
                    "json-pointer": f,
                    "json-pointer-uri-fragment": h,
                    "relative-json-pointer": p
                },
                g.full = {
                    date: m,
                    time: v,
                    "date-time": function(e) {
                        var t = e.split(y);
                        return 2 == t.length && m(t[0]) && v(t[1], !0)
                    },
                    uri: function(e) {
                        return b.test(e) && c.test(e)
                    },
                    "uri-reference": /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,
                    "uri-template": l,
                    url: u,
                    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
                    hostname: function(e) {
                        return e.length <= 255 && s.test(e)
                    },
                    ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
                    ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
                    regex: x,
                    uuid: d,
                    "json-pointer": f,
                    "json-pointer-uri-fragment": h,
                    "relative-json-pointer": p
                };
                var y = /t|\s/i
                  , b = /\/|:/
                  , w = /[^\\]\\Z/;
                function x(e) {
                    if (w.test(e))
                        return !1;
                    try {
                        return new RegExp(e),
                        !0
                    } catch (e) {
                        return !1
                    }
                }
            }
            , {
                "./util": 10
            }],
            5: [function(e, t, n) {
                "use strict";
                var r = e("./resolve")
                  , i = e("./util")
                  , o = e("./error_classes")
                  , a = e("fast-json-stable-stringify")
                  , s = e("../dotjs/validate")
                  , c = i.ucs2length
                  , l = e("fast-deep-equal")
                  , u = o.Validation;
                function d(e, t, n) {
                    for (var r = 0; r < this._compilations.length; r++) {
                        var i = this._compilations[r];
                        if (i.schema == e && i.root == t && i.baseId == n)
                            return r
                    }
                    return -1
                }
                function f(e, t) {
                    return "var pattern" + e + " = new RegExp(" + i.toQuotedString(t[e]) + ");"
                }
                function h(e) {
                    return "var default" + e + " = defaults[" + e + "];"
                }
                function p(e, t) {
                    return void 0 === t[e] ? "" : "var refVal" + e + " = refVal[" + e + "];"
                }
                function g(e) {
                    return "var customRule" + e + " = customRules[" + e + "];"
                }
                function m(e, t) {
                    if (!e.length)
                        return "";
                    for (var n = "", r = 0; r < e.length; r++)
                        n += t(r, e);
                    return n
                }
                t.exports = function e(t, n, v, y) {
                    var b = this
                      , w = this._opts
                      , x = [void 0]
                      , S = {}
                      , C = []
                      , _ = {}
                      , k = []
                      , E = {}
                      , T = []
                      , P = function(e, t, n) {
                        var r = d.call(this, e, t, n);
                        return 0 <= r ? {
                            index: r,
                            compiling: !0
                        } : {
                            index: r = this._compilations.length,
                            compiling: (this._compilations[r] = {
                                schema: e,
                                root: t,
                                baseId: n
                            },
                            !1)
                        }
                    }
                    .call(this, t, n = n || {
                        schema: t,
                        refVal: x,
                        refs: S
                    }, y)
                      , A = this._compilations[P.index];
                    if (P.compiling)
                        return A.callValidate = function e() {
                            var t = A.validate
                              , n = t.apply(this, arguments);
                            return e.errors = t.errors,
                            n
                        }
                        ;
                    var O = this._formats
                      , $ = this.RULES;
                    try {
                        var j = R(t, n, v, y);
                        A.validate = j;
                        var D = A.callValidate;
                        return D && (D.schema = j.schema,
                        D.errors = null,
                        D.refs = j.refs,
                        D.refVal = j.refVal,
                        D.root = j.root,
                        D.$async = j.$async,
                        w.sourceCode && (D.source = j.source)),
                        j
                    } finally {
                        (function(e, t, n) {
                            var r = d.call(this, e, t, n);
                            0 <= r && this._compilations.splice(r, 1)
                        }
                        ).call(this, t, n, y)
                    }
                    function R(t, a, d, v) {
                        var y = !a || a && a.schema == t;
                        if (a.schema != n.schema)
                            return e.call(b, t, a, d, v);
                        var _, E = !0 === t.$async, P = s({
                            isTop: !0,
                            schema: t,
                            isRoot: y,
                            baseId: v,
                            root: a,
                            schemaPath: "",
                            errSchemaPath: "#",
                            errorPath: '""',
                            MissingRefError: o.MissingRef,
                            RULES: $,
                            validate: s,
                            util: i,
                            resolve: r,
                            resolveRef: M,
                            usePattern: F,
                            useDefault: N,
                            useCustomRule: B,
                            opts: w,
                            formats: O,
                            logger: b.logger,
                            self: b
                        });
                        P = m(x, p) + m(C, f) + m(k, h) + m(T, g) + P,
                        w.processCode && (P = w.processCode(P));
                        try {
                            _ = new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",P)(b, $, O, n, x, k, T, l, c, u),
                            x[0] = _
                        } catch (t) {
                            throw b.logger.error("Error compiling schema, function code:", P),
                            t
                        }
                        return _.schema = t,
                        _.errors = null,
                        _.refs = S,
                        _.refVal = x,
                        _.root = y ? _ : a,
                        E && (_.$async = !0),
                        !0 === w.sourceCode && (_.source = {
                            code: P,
                            patterns: C,
                            defaults: k
                        }),
                        _
                    }
                    function M(t, i, o) {
                        i = r.url(t, i);
                        var a, s, c = S[i];
                        if (void 0 !== c)
                            return L(a = x[c], s = "refVal[" + c + "]");
                        if (!o && n.refs) {
                            var l = n.refs[i];
                            if (void 0 !== l)
                                return s = I(i, a = n.refVal[l]),
                                L(a, s)
                        }
                        s = I(i);
                        var u = r.call(b, R, n, i);
                        if (void 0 === u) {
                            var d = v && v[i];
                            d && (u = r.inlineRef(d, w.inlineRefs) ? d : e.call(b, d, n, v, t))
                        }
                        if (void 0 !== u)
                            return x[S[i]] = u,
                            L(u, s);
                        delete S[i]
                    }
                    function I(e, t) {
                        var n = x.length;
                        return x[n] = t,
                        "refVal" + (S[e] = n)
                    }
                    function L(e, t) {
                        return "object" == typeof e || "boolean" == typeof e ? {
                            code: t,
                            schema: e,
                            inline: !0
                        } : {
                            code: t,
                            $async: e && !!e.$async
                        }
                    }
                    function F(e) {
                        var t = _[e];
                        return void 0 === t && (t = _[e] = C.length,
                        C[t] = e),
                        "pattern" + t
                    }
                    function N(e) {
                        switch (typeof e) {
                        case "boolean":
                        case "number":
                            return "" + e;
                        case "string":
                            return i.toQuotedString(e);
                        case "object":
                            if (null === e)
                                return "null";
                            var t = a(e)
                              , n = E[t];
                            return void 0 === n && (n = E[t] = k.length,
                            k[n] = e),
                            "default" + n
                        }
                    }
                    function B(e, t, n, r) {
                        var i = e.definition.validateSchema;
                        if (i && !1 !== b._opts.validateSchema && !i(t)) {
                            var o = "keyword schema is invalid: " + b.errorsText(i.errors);
                            if ("log" != b._opts.validateSchema)
                                throw new Error(o);
                            b.logger.error(o)
                        }
                        var a, s = e.definition.compile, c = e.definition.inline, l = e.definition.macro;
                        if (s)
                            a = s.call(b, t, n, r);
                        else if (l)
                            a = l.call(b, t, n, r),
                            !1 !== w.validateSchema && b.validateSchema(a, !0);
                        else if (c)
                            a = c.call(b, r, e.keyword, t, n);
                        else if (!(a = e.definition.validate))
                            return;
                        if (void 0 === a)
                            throw new Error('custom keyword "' + e.keyword + '"failed to compile');
                        var u = T.length;
                        return {
                            code: "customRule" + u,
                            validate: T[u] = a
                        }
                    }
                }
            }
            , {
                "../dotjs/validate": 37,
                "./error_classes": 3,
                "./resolve": 6,
                "./util": 10,
                "fast-deep-equal": 41,
                "fast-json-stable-stringify": 42
            }],
            6: [function(e, t, n) {
                "use strict";
                var r = e("uri-js")
                  , i = e("fast-deep-equal")
                  , o = e("./util")
                  , a = e("./schema_obj")
                  , s = e("json-schema-traverse");
                function c(e, t, n) {
                    var r = this._refs[n];
                    if ("string" == typeof r) {
                        if (!this._refs[r])
                            return c.call(this, e, t, r);
                        r = this._refs[r]
                    }
                    if ((r = r || this._schemas[n])instanceof a)
                        return h(r.schema, this._opts.inlineRefs) ? r.schema : r.validate || this._compile(r);
                    var i, o, s, u = l.call(this, t, n);
                    return u && (i = u.schema,
                    t = u.root,
                    s = u.baseId),
                    i instanceof a ? o = i.validate || e.call(this, i.schema, t, void 0, s) : void 0 !== i && (o = h(i, this._opts.inlineRefs) ? i : e.call(this, i, t, void 0, s)),
                    o
                }
                function l(e, t) {
                    var n = r.parse(t)
                      , i = g(n)
                      , o = p(this._getId(e.schema));
                    if (i !== o) {
                        var s = v(i)
                          , c = this._refs[s];
                        if ("string" == typeof c)
                            return function(e, t, n) {
                                var r = l.call(this, e, t);
                                if (r) {
                                    var i = r.schema
                                      , o = r.baseId;
                                    e = r.root;
                                    var a = this._getId(i);
                                    return a && (o = y(o, a)),
                                    d.call(this, n, o, i, e)
                                }
                            }
                            .call(this, e, c, n);
                        if (c instanceof a)
                            c.validate || this._compile(c),
                            e = c;
                        else {
                            if (!((c = this._schemas[s])instanceof a))
                                return;
                            if (c.validate || this._compile(c),
                            s == v(t))
                                return {
                                    schema: c,
                                    root: e,
                                    baseId: o
                                };
                            e = c
                        }
                        if (!e.schema)
                            return;
                        o = p(this._getId(e.schema))
                    }
                    return d.call(this, n, o, e.schema, e)
                }
                (t.exports = c).normalizeId = v,
                c.fullPath = p,
                c.url = y,
                c.ids = function(e) {
                    var t = v(this._getId(e))
                      , n = {
                        "": t
                    }
                      , a = {
                        "": p(t, !1)
                    }
                      , c = {}
                      , l = this;
                    return s(e, {
                        allKeys: !0
                    }, function(e, t, s, u, d, f, h) {
                        if ("" !== t) {
                            var p = l._getId(e)
                              , g = n[u]
                              , m = a[u] + "/" + d;
                            if (void 0 !== h && (m += "/" + ("number" == typeof h ? h : o.escapeFragment(h))),
                            "string" == typeof p) {
                                p = g = v(g ? r.resolve(g, p) : p);
                                var y = l._refs[p];
                                if ("string" == typeof y && (y = l._refs[y]),
                                y && y.schema) {
                                    if (!i(e, y.schema))
                                        throw new Error('id "' + p + '" resolves to more than one schema')
                                } else if (p != v(m))
                                    if ("#" == p[0]) {
                                        if (c[p] && !i(e, c[p]))
                                            throw new Error('id "' + p + '" resolves to more than one schema');
                                        c[p] = e
                                    } else
                                        l._refs[p] = m
                            }
                            n[t] = g,
                            a[t] = m
                        }
                    }),
                    c
                }
                ,
                c.inlineRef = h,
                c.schema = l;
                var u = o.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
                function d(e, t, n, r) {
                    if (e.fragment = e.fragment || "",
                    "/" == e.fragment.slice(0, 1)) {
                        for (var i = e.fragment.split("/"), a = 1; a < i.length; a++) {
                            var s = i[a];
                            if (s) {
                                if (void 0 === (n = n[s = o.unescapeFragment(s)]))
                                    break;
                                var c;
                                if (!u[s] && ((c = this._getId(n)) && (t = y(t, c)),
                                n.$ref)) {
                                    var d = y(t, n.$ref)
                                      , f = l.call(this, r, d);
                                    f && (n = f.schema,
                                    r = f.root,
                                    t = f.baseId)
                                }
                            }
                        }
                        return void 0 !== n && n !== r.schema ? {
                            schema: n,
                            root: r,
                            baseId: t
                        } : void 0
                    }
                }
                var f = o.toHash(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum"]);
                function h(e, t) {
                    return !1 !== t && (void 0 === t || !0 === t ? function e(t) {
                        var n;
                        if (Array.isArray(t)) {
                            for (var r = 0; r < t.length; r++)
                                if ("object" == typeof (n = t[r]) && !e(n))
                                    return !1
                        } else
                            for (var i in t) {
                                if ("$ref" == i)
                                    return !1;
                                if ("object" == typeof (n = t[i]) && !e(n))
                                    return !1
                            }
                        return !0
                    }(e) : t ? function e(t) {
                        var n, r = 0;
                        if (Array.isArray(t)) {
                            for (var i = 0; i < t.length; i++)
                                if ("object" == typeof (n = t[i]) && (r += e(n)),
                                r == 1 / 0)
                                    return 1 / 0
                        } else
                            for (var o in t) {
                                if ("$ref" == o)
                                    return 1 / 0;
                                if (f[o])
                                    r++;
                                else if ("object" == typeof (n = t[o]) && (r += e(n) + 1),
                                r == 1 / 0)
                                    return 1 / 0
                            }
                        return r
                    }(e) <= t : void 0)
                }
                function p(e, t) {
                    return !1 !== t && (e = v(e)),
                    g(r.parse(e))
                }
                function g(e) {
                    return r.serialize(e).split("#")[0] + "#"
                }
                var m = /#\/?$/;
                function v(e) {
                    return e ? e.replace(m, "") : ""
                }
                function y(e, t) {
                    return t = v(t),
                    r.resolve(e, t)
                }
            }
            , {
                "./schema_obj": 8,
                "./util": 10,
                "fast-deep-equal": 41,
                "json-schema-traverse": 43,
                "uri-js": 44
            }],
            7: [function(e, t, n) {
                "use strict";
                var r = e("../dotjs")
                  , i = e("./util").toHash;
                t.exports = function() {
                    var e = [{
                        type: "number",
                        rules: [{
                            maximum: ["exclusiveMaximum"]
                        }, {
                            minimum: ["exclusiveMinimum"]
                        }, "multipleOf", "format"]
                    }, {
                        type: "string",
                        rules: ["maxLength", "minLength", "pattern", "format"]
                    }, {
                        type: "array",
                        rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"]
                    }, {
                        type: "object",
                        rules: ["maxProperties", "minProperties", "required", "dependencies", "propertyNames", {
                            properties: ["additionalProperties", "patternProperties"]
                        }]
                    }, {
                        rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"]
                    }]
                      , t = ["type", "$comment"];
                    return e.all = i(t),
                    e.types = i(["number", "integer", "string", "array", "object", "boolean", "null"]),
                    e.forEach(function(n) {
                        n.rules = n.rules.map(function(n) {
                            var i;
                            if ("object" == typeof n) {
                                var o = Object.keys(n)[0];
                                i = n[o],
                                n = o,
                                i.forEach(function(n) {
                                    t.push(n),
                                    e.all[n] = !0
                                })
                            }
                            return t.push(n),
                            e.all[n] = {
                                keyword: n,
                                code: r[n],
                                implements: i
                            }
                        }),
                        e.all.$comment = {
                            keyword: "$comment",
                            code: r.$comment
                        },
                        n.type && (e.types[n.type] = n)
                    }),
                    e.keywords = i(t.concat(["$schema", "$id", "id", "$data", "title", "description", "default", "definitions", "examples", "readOnly", "writeOnly", "contentMediaType", "contentEncoding", "additionalItems", "then", "else"])),
                    e.custom = {},
                    e
                }
            }
            , {
                "../dotjs": 26,
                "./util": 10
            }],
            8: [function(e, t, n) {
                "use strict";
                var r = e("./util");
                t.exports = function(e) {
                    r.copy(e, this)
                }
            }
            , {
                "./util": 10
            }],
            9: [function(e, t, n) {
                "use strict";
                t.exports = function(e) {
                    for (var t, n = 0, r = e.length, i = 0; i < r; )
                        n++,
                        55296 <= (t = e.charCodeAt(i++)) && t <= 56319 && i < r && 56320 == (64512 & (t = e.charCodeAt(i))) && i++;
                    return n
                }
            }
            , {}],
            10: [function(e, t, n) {
                "use strict";
                function r(e, t, n) {
                    var r = n ? " !== " : " === "
                      , i = n ? " || " : " && "
                      , o = n ? "!" : ""
                      , a = n ? "" : "!";
                    switch (e) {
                    case "null":
                        return t + r + "null";
                    case "array":
                        return o + "Array.isArray(" + t + ")";
                    case "object":
                        return "(" + o + t + i + "typeof " + t + r + '"object"' + i + a + "Array.isArray(" + t + "))";
                    case "integer":
                        return "(typeof " + t + r + '"number"' + i + a + "(" + t + " % 1)" + i + t + r + t + ")";
                    default:
                        return "typeof " + t + r + '"' + e + '"'
                    }
                }
                t.exports = {
                    copy: function(e, t) {
                        for (var n in t = t || {},
                        e)
                            t[n] = e[n];
                        return t
                    },
                    checkDataType: r,
                    checkDataTypes: function(e, t) {
                        switch (e.length) {
                        case 1:
                            return r(e[0], t, !0);
                        default:
                            var n = ""
                              , i = o(e);
                            for (var a in i.array && i.object && (n = i.null ? "(" : "(!" + t + " || ",
                            n += "typeof " + t + ' !== "object")',
                            delete i.null,
                            delete i.array,
                            delete i.object),
                            i.number && delete i.integer,
                            i)
                                n += (n ? " && " : "") + r(a, t, !0);
                            return n
                        }
                    },
                    coerceToTypes: function(e, t) {
                        if (Array.isArray(t)) {
                            for (var n = [], r = 0; r < t.length; r++) {
                                var o = t[r];
                                i[o] ? n[n.length] = o : "array" === e && "array" === o && (n[n.length] = o)
                            }
                            if (n.length)
                                return n
                        } else {
                            if (i[t])
                                return [t];
                            if ("array" === e && "array" === t)
                                return ["array"]
                        }
                    },
                    toHash: o,
                    getProperty: c,
                    escapeQuotes: l,
                    equal: e("fast-deep-equal"),
                    ucs2length: e("./ucs2length"),
                    varOccurences: function(e, t) {
                        var n = e.match(new RegExp(t += "[^0-9]","g"));
                        return n ? n.length : 0
                    },
                    varReplace: function(e, t, n) {
                        return t += "([^0-9])",
                        n = n.replace(/\$/g, "$$$$"),
                        e.replace(new RegExp(t,"g"), n + "$1")
                    },
                    cleanUpCode: function(e) {
                        return e.replace(u, "").replace(d, "").replace(f, "if (!($1))")
                    },
                    finalCleanUpCode: function(e, t) {
                        var n = e.match(h);
                        return n && 2 == n.length && (e = t ? e.replace(g, "").replace(y, b) : e.replace(p, "").replace(m, v)),
                        (n = e.match(w)) && 3 === n.length ? e.replace(x, "") : e
                    },
                    schemaHasRules: function(e, t) {
                        if ("boolean" == typeof e)
                            return !e;
                        for (var n in e)
                            if (t[n])
                                return !0
                    },
                    schemaHasRulesExcept: function(e, t, n) {
                        if ("boolean" == typeof e)
                            return !e && "not" != n;
                        for (var r in e)
                            if (r != n && t[r])
                                return !0
                    },
                    toQuotedString: S,
                    getPathExpr: function(e, t, n, r) {
                        return k(e, n ? "'/' + " + t + (r ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : r ? "'[' + " + t + " + ']'" : "'[\\'' + " + t + " + '\\']'")
                    },
                    getPath: function(e, t, n) {
                        return k(e, S(n ? "/" + E(t) : c(t)))
                    },
                    getData: function(e, t, n) {
                        var r, i, o, a;
                        if ("" === e)
                            return "rootData";
                        if ("/" == e[0]) {
                            if (!C.test(e))
                                throw new Error("Invalid JSON-pointer: " + e);
                            i = e,
                            o = "rootData"
                        } else {
                            if (!(a = e.match(_)))
                                throw new Error("Invalid JSON-pointer: " + e);
                            if (r = +a[1],
                            "#" == (i = a[2])) {
                                if (t <= r)
                                    throw new Error("Cannot access property/index " + r + " levels up, current level is " + t);
                                return n[t - r]
                            }
                            if (t < r)
                                throw new Error("Cannot access data " + r + " levels up, current level is " + t);
                            if (o = "data" + (t - r || ""),
                            !i)
                                return o
                        }
                        for (var s = o, l = i.split("/"), u = 0; u < l.length; u++) {
                            var d = l[u];
                            d && (s += " && " + (o += c(T(d))))
                        }
                        return s
                    },
                    unescapeFragment: function(e) {
                        return T(decodeURIComponent(e))
                    },
                    unescapeJsonPointer: T,
                    escapeFragment: function(e) {
                        return encodeURIComponent(E(e))
                    },
                    escapeJsonPointer: E
                };
                var i = o(["string", "number", "integer", "boolean", "null"]);
                function o(e) {
                    for (var t = {}, n = 0; n < e.length; n++)
                        t[e[n]] = !0;
                    return t
                }
                var a = /^[a-z$_][a-z$_0-9]*$/i
                  , s = /'|\\/g;
                function c(e) {
                    return "number" == typeof e ? "[" + e + "]" : a.test(e) ? "." + e : "['" + l(e) + "']"
                }
                function l(e) {
                    return e.replace(s, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t")
                }
                var u = /else\s*{\s*}/g
                  , d = /if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g
                  , f = /if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g
                  , h = /[^v.]errors/g
                  , p = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g
                  , g = /var errors = 0;|var vErrors = null;/g
                  , m = "return errors === 0;"
                  , v = "validate.errors = null; return true;"
                  , y = /if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/
                  , b = "return data;"
                  , w = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g
                  , x = /if \(rootData === undefined\) rootData = data;/;
                function S(e) {
                    return "'" + l(e) + "'"
                }
                var C = /^\/(?:[^~]|~0|~1)*$/
                  , _ = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
                function k(e, t) {
                    return '""' == e ? t : (e + " + " + t).replace(/' \+ '/g, "")
                }
                function E(e) {
                    return e.replace(/~/g, "~0").replace(/\//g, "~1")
                }
                function T(e) {
                    return e.replace(/~1/g, "/").replace(/~0/g, "~")
                }
            }
            , {
                "./ucs2length": 9,
                "fast-deep-equal": 41
            }],
            11: [function(e, t, n) {
                "use strict";
                var r = ["multipleOf", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "additionalItems", "maxItems", "minItems", "uniqueItems", "maxProperties", "minProperties", "required", "additionalProperties", "enum", "format", "const"];
                t.exports = function(e, t) {
                    for (var n = 0; n < t.length; n++) {
                        e = JSON.parse(JSON.stringify(e));
                        var i, o = t[n].split("/"), a = e;
                        for (i = 1; i < o.length; i++)
                            a = a[o[i]];
                        for (i = 0; i < r.length; i++) {
                            var s = r[i]
                              , c = a[s];
                            c && (a[s] = {
                                anyOf: [c, {
                                    $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"
                                }]
                            })
                        }
                    }
                    return e
                }
            }
            , {}],
            12: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s;
                    var h = "maximum" == t
                      , p = h ? "exclusiveMaximum" : "exclusiveMinimum"
                      , g = e.schema[p]
                      , m = e.opts.$data && g && g.$data
                      , v = h ? "<" : ">"
                      , y = h ? ">" : "<"
                      , b = void 0;
                    if (m) {
                        var w, x = e.util.getData(g.$data, a, e.dataPathArr), S = "exclusive" + o, C = "exclType" + o, _ = "exclIsNumber" + o, k = "' + " + (T = "op" + o) + " + '";
                        i += " var schemaExcl" + o + " = " + x + "; ",
                        b = p,
                        (w = w || []).push(i += " var " + S + "; var " + C + " = typeof " + (x = "schemaExcl" + o) + "; if (" + C + " != 'boolean' && " + C + " != 'undefined' && " + C + " != 'number') { "),
                        i = "",
                        !1 !== e.createErrors ? (i += " { keyword: '" + (b || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
                        !1 !== e.opts.messages && (i += " , message: '" + p + " should be boolean' "),
                        e.opts.verbose && (i += " , schema: validate.schema" + c + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                        i += " } ") : i += " {} ";
                        var E = i;
                        i = w.pop(),
                        i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + E + "]); " : " validate.errors = [" + E + "]; return false; " : " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        i += " } else if ( ",
                        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
                        i += " " + C + " == 'number' ? ( (" + S + " = " + r + " === undefined || " + x + " " + v + "= " + r + ") ? " + d + " " + y + "= " + x + " : " + d + " " + y + " " + r + " ) : ( (" + S + " = " + x + " === true) ? " + d + " " + y + "= " + r + " : " + d + " " + y + " " + r + " ) || " + d + " !== " + d + ") { var op" + o + " = " + S + " ? '" + v + "' : '" + v + "='; ",
                        void 0 === s && (l = e.errSchemaPath + "/" + (b = p),
                        r = x,
                        f = m)
                    } else if (k = v,
                    (_ = "number" == typeof g) && f) {
                        var T = "'" + k + "'";
                        i += " if ( ",
                        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
                        i += " ( " + r + " === undefined || " + g + " " + v + "= " + r + " ? " + d + " " + y + "= " + g + " : " + d + " " + y + " " + r + " ) || " + d + " !== " + d + ") { "
                    } else
                        _ && void 0 === s ? (S = !0,
                        l = e.errSchemaPath + "/" + (b = p),
                        r = g,
                        y += "=") : (_ && (r = Math[h ? "min" : "max"](g, s)),
                        g === (!_ || r) ? (S = !0,
                        l = e.errSchemaPath + "/" + (b = p),
                        y += "=") : (S = !1,
                        k += "=")),
                        T = "'" + k + "'",
                        i += " if ( ",
                        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
                        i += " " + d + " " + y + " " + r + " || " + d + " !== " + d + ") { ";
                    return b = b || t,
                    (w = w || []).push(i),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: '" + (b || "_limit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { comparison: " + T + ", limit: " + r + ", exclusive: " + S + " } ",
                    !1 !== e.opts.messages && (i += " , message: 'should be " + k + " ",
                    i += f ? "' + " + r : r + "'"),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + s,
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ",
                    E = i,
                    i = w.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + E + "]); " : " validate.errors = [" + E + "]; return false; " : " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += " } ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            13: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s,
                    i += "if ( ",
                    f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || ");
                    var h = t
                      , p = p || [];
                    p.push(i += " " + d + ".length " + ("maxItems" == t ? ">" : "<") + " " + r + ") { "),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitItems") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
                    !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
                    i += "maxItems" == t ? "more" : "less",
                    i += " than ",
                    i += f ? "' + " + r + " + '" : "" + s,
                    i += " items' "),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + s,
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ";
                    var g = i;
                    return i = p.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += "} ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            14: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s,
                    i += "if ( ",
                    f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || "),
                    i += !1 === e.opts.unicode ? " " + d + ".length " : " ucs2length(" + d + ") ";
                    var h = t
                      , p = p || [];
                    p.push(i += " " + ("maxLength" == t ? ">" : "<") + " " + r + ") { "),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitLength") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
                    !1 !== e.opts.messages && (i += " , message: 'should NOT be ",
                    i += "maxLength" == t ? "longer" : "shorter",
                    i += " than ",
                    i += f ? "' + " + r + " + '" : "" + s,
                    i += " characters' "),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + s,
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ";
                    var g = i;
                    return i = p.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += "} ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            15: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s,
                    i += "if ( ",
                    f && (i += " (" + r + " !== undefined && typeof " + r + " != 'number') || ");
                    var h = t
                      , p = p || [];
                    p.push(i += " Object.keys(" + d + ").length " + ("maxProperties" == t ? ">" : "<") + " " + r + ") { "),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitProperties") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + r + " } ",
                    !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
                    i += "maxProperties" == t ? "more" : "less",
                    i += " than ",
                    i += f ? "' + " + r + " + '" : "" + s,
                    i += " properties' "),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + s,
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ";
                    var g = i;
                    return i = p.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += "} ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            16: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.schema[t]
                      , o = e.schemaPath + e.util.getProperty(t)
                      , a = e.errSchemaPath + "/" + t
                      , s = !e.opts.allErrors
                      , c = e.util.copy(e)
                      , l = "";
                    c.level++;
                    var u = "valid" + c.level
                      , d = c.baseId
                      , f = !0
                      , h = i;
                    if (h)
                        for (var p, g = -1, m = h.length - 1; g < m; )
                            p = h[g += 1],
                            e.util.schemaHasRules(p, e.RULES.all) && (f = !1,
                            c.schema = p,
                            c.schemaPath = o + "[" + g + "]",
                            c.errSchemaPath = a + "/" + g,
                            r += "  " + e.validate(c) + " ",
                            c.baseId = d,
                            s && (r += " if (" + u + ") { ",
                            l += "}"));
                    return s && (r += f ? " if (true) { " : " " + l.slice(0, -1) + " "),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            17: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = "errs__" + i
                      , h = e.util.copy(e)
                      , p = "";
                    h.level++;
                    var g = "valid" + h.level;
                    if (a.every(function(t) {
                        return e.util.schemaHasRules(t, e.RULES.all)
                    })) {
                        var m = h.baseId;
                        r += " var " + f + " = errors; var " + d + " = false;  ";
                        var v = e.compositeRule;
                        e.compositeRule = h.compositeRule = !0;
                        var y = a;
                        if (y)
                            for (var b, w = -1, x = y.length - 1; w < x; )
                                b = y[w += 1],
                                h.schema = b,
                                h.schemaPath = s + "[" + w + "]",
                                h.errSchemaPath = c + "/" + w,
                                r += "  " + e.validate(h) + " ",
                                h.baseId = m,
                                r += " " + d + " = " + d + " || " + g + "; if (!" + d + ") { ",
                                p += "}";
                        e.compositeRule = h.compositeRule = v,
                        r += " " + p + " if (!" + d + ") {   var err =   ",
                        !1 !== e.createErrors ? (r += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
                        !1 !== e.opts.messages && (r += " , message: 'should match some schema in anyOf' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ",
                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        !e.compositeRule && l && (r += e.async ? " throw new ValidationError(vErrors); " : " validate.errors = vErrors; return false; "),
                        r += " } else {  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; } ",
                        e.opts.allErrors && (r += " } "),
                        r = e.util.cleanUpCode(r)
                    } else
                        l && (r += " if (true) { ");
                    return r
                }
            }
            , {}],
            18: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.errSchemaPath + "/" + t
                      , o = e.util.toQuotedString(e.schema[t]);
                    return !0 === e.opts.$comment ? r += " console.log(" + o + ");" : "function" == typeof e.opts.$comment && (r += " self._opts.$comment(" + o + ", " + e.util.toQuotedString(i) + ", validate.root.schema);"),
                    r
                }
            }
            , {}],
            19: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = e.opts.$data && a && a.$data;
                    f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; "),
                    f || (r += " var schema" + i + " = validate.schema" + s + ";");
                    var h = h || [];
                    h.push(r += "var " + d + " = equal(" + u + ", schema" + i + "); if (!" + d + ") {   "),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'const' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { allowedValue: schema" + i + " } ",
                    !1 !== e.opts.messages && (r += " , message: 'should be equal to constant' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var p = r;
                    return r = h.pop(),
                    r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + p + "]); " : " validate.errors = [" + p + "]; return false; " : " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " }",
                    l && (r += " else { "),
                    r
                }
            }
            , {}],
            20: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = "errs__" + i
                      , h = e.util.copy(e);
                    h.level++;
                    var p = "valid" + h.level
                      , g = "i" + i
                      , m = h.dataLevel = e.dataLevel + 1
                      , v = "data" + m
                      , y = e.baseId
                      , b = e.util.schemaHasRules(a, e.RULES.all);
                    if (r += "var " + f + " = errors;var " + d + ";",
                    b) {
                        var w = e.compositeRule;
                        e.compositeRule = h.compositeRule = !0,
                        h.schema = a,
                        h.schemaPath = s,
                        h.errSchemaPath = c,
                        r += " var " + p + " = false; for (var " + g + " = 0; " + g + " < " + u + ".length; " + g + "++) { ",
                        h.errorPath = e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers, !0);
                        var x = u + "[" + g + "]";
                        h.dataPathArr[m] = g;
                        var S = e.validate(h);
                        h.baseId = y,
                        e.util.varOccurences(S, v) < 2 ? r += " " + e.util.varReplace(S, v, x) + " " : r += " var " + v + " = " + x + "; " + S + " ",
                        r += " if (" + p + ") break; }  ",
                        e.compositeRule = h.compositeRule = w,
                        r += "  if (!" + p + ") {"
                    } else
                        r += " if (" + u + ".length == 0) {";
                    var C = C || [];
                    C.push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'contains' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
                    !1 !== e.opts.messages && (r += " , message: 'should contain a valid item' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var _ = r;
                    return r = C.pop(),
                    r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + _ + "]); " : " validate.errors = [" + _ + "]; return false; " : " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " } else { ",
                    b && (r += "  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; } "),
                    e.opts.allErrors && (r += " } "),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            21: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i, o = " ", a = e.level, s = e.dataLevel, c = e.schema[t], l = e.schemaPath + e.util.getProperty(t), u = e.errSchemaPath + "/" + t, d = !e.opts.allErrors, f = "data" + (s || ""), h = "valid" + a, p = "errs__" + a, g = e.opts.$data && c && c.$data;
                    g ? (o += " var schema" + a + " = " + e.util.getData(c.$data, s, e.dataPathArr) + "; ",
                    i = "schema" + a) : i = c;
                    var m, v, y, b, w, x = this, S = "definition" + a, C = x.definition, _ = "";
                    if (g && C.$data) {
                        var k = C.validateSchema;
                        o += " var " + S + " = RULES.custom['" + t + "'].definition; var " + (w = "keywordValidate" + a) + " = " + S + ".validate;"
                    } else {
                        if (!(b = e.useCustomRule(x, c, e.schema, e)))
                            return;
                        i = "validate.schema" + l,
                        w = b.code,
                        m = C.compile,
                        v = C.inline,
                        y = C.macro
                    }
                    var E = w + ".errors"
                      , T = "i" + a
                      , P = "ruleErr" + a
                      , A = C.async;
                    if (A && !e.async)
                        throw new Error("async keyword in sync schema");
                    if (v || y || (o += E + " = null;"),
                    o += "var " + p + " = errors;var " + h + ";",
                    g && C.$data && (_ += "}",
                    o += " if (" + i + " === undefined) { " + h + " = true; } else { ",
                    k && (_ += "}",
                    o += " " + h + " = " + S + ".validateSchema(" + i + "); if (" + h + ") { ")),
                    v)
                        o += C.statements ? " " + b.validate + " " : " " + h + " = " + b.validate + "; ";
                    else if (y) {
                        var O = e.util.copy(e);
                        _ = "",
                        O.level++;
                        var $ = "valid" + O.level;
                        O.schema = b.validate,
                        O.schemaPath = "";
                        var j = e.compositeRule;
                        e.compositeRule = O.compositeRule = !0;
                        var D = e.validate(O).replace(/validate\.schema/g, w);
                        e.compositeRule = O.compositeRule = j,
                        o += " " + D
                    } else {
                        (L = L || []).push(o),
                        o = "",
                        o += "  " + w + ".call( ",
                        o += e.opts.passContext ? "this" : "self",
                        o += m || !1 === C.schema ? " , " + f + " " : " , " + i + " , " + f + " , validate.schema" + e.schemaPath + " ",
                        o += " , (dataPath || '')",
                        '""' != e.errorPath && (o += " + " + e.errorPath);
                        var R = s ? "data" + (s - 1 || "") : "parentData"
                          , M = s ? e.dataPathArr[s] : "parentDataProperty"
                          , I = o += " , " + R + " , " + M + " , rootData )  ";
                        o = L.pop(),
                        !1 === C.errors ? (o += " " + h + " = ",
                        A && (o += "await "),
                        o += I + "; ") : o += A ? " var " + (E = "customErrors" + a) + " = null; try { " + h + " = await " + I + "; } catch (e) { " + h + " = false; if (e instanceof ValidationError) " + E + " = e.errors; else throw e; } " : " " + E + " = null; " + h + " = " + I + "; "
                    }
                    if (C.modifying && (o += " if (" + R + ") " + f + " = " + R + "[" + M + "];"),
                    o += "" + _,
                    C.valid)
                        d && (o += " if (true) { ");
                    else {
                        var L;
                        o += " if ( ",
                        void 0 === C.valid ? (o += " !",
                        o += y ? "" + $ : "" + h) : o += " " + !C.valid + " ",
                        r = x.keyword,
                        (L = L || []).push(o += ") { "),
                        (L = L || []).push(o = ""),
                        o = "",
                        !1 !== e.createErrors ? (o += " { keyword: '" + (r || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + x.keyword + "' } ",
                        !1 !== e.opts.messages && (o += " , message: 'should pass \"" + x.keyword + "\" keyword validation' "),
                        e.opts.verbose && (o += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                        o += " } ") : o += " {} ";
                        var F = o;
                        o = L.pop();
                        var N = o += !e.compositeRule && d ? e.async ? " throw new ValidationError([" + F + "]); " : " validate.errors = [" + F + "]; return false; " : " var err = " + F + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                        o = L.pop(),
                        v ? C.errors ? "full" != C.errors && (o += "  for (var " + T + "=" + p + "; " + T + "<errors; " + T + "++) { var " + P + " = vErrors[" + T + "]; if (" + P + ".dataPath === undefined) " + P + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + P + ".schemaPath === undefined) { " + P + '.schemaPath = "' + u + '"; } ',
                        e.opts.verbose && (o += " " + P + ".schema = " + i + "; " + P + ".data = " + f + "; "),
                        o += " } ") : !1 === C.errors ? o += " " + N + " " : (o += " if (" + p + " == errors) { " + N + " } else {  for (var " + T + "=" + p + "; " + T + "<errors; " + T + "++) { var " + P + " = vErrors[" + T + "]; if (" + P + ".dataPath === undefined) " + P + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + P + ".schemaPath === undefined) { " + P + '.schemaPath = "' + u + '"; } ',
                        e.opts.verbose && (o += " " + P + ".schema = " + i + "; " + P + ".data = " + f + "; "),
                        o += " } } ") : y ? (o += "   var err =   ",
                        !1 !== e.createErrors ? (o += " { keyword: '" + (r || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + x.keyword + "' } ",
                        !1 !== e.opts.messages && (o += " , message: 'should pass \"" + x.keyword + "\" keyword validation' "),
                        e.opts.verbose && (o += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                        o += " } ") : o += " {} ",
                        o += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        !e.compositeRule && d && (o += e.async ? " throw new ValidationError(vErrors); " : " validate.errors = vErrors; return false; ")) : !1 === C.errors ? o += " " + N + " " : (o += " if (Array.isArray(" + E + ")) { if (vErrors === null) vErrors = " + E + "; else vErrors = vErrors.concat(" + E + "); errors = vErrors.length;  for (var " + T + "=" + p + "; " + T + "<errors; " + T + "++) { var " + P + " = vErrors[" + T + "]; if (" + P + ".dataPath === undefined) " + P + ".dataPath = (dataPath || '') + " + e.errorPath + ";  " + P + '.schemaPath = "' + u + '";  ',
                        e.opts.verbose && (o += " " + P + ".schema = " + i + "; " + P + ".data = " + f + "; "),
                        o += " } } else { " + N + " } "),
                        o += " } ",
                        d && (o += " else { ")
                    }
                    return o
                }
            }
            , {}],
            22: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "errs__" + i
                      , f = e.util.copy(e)
                      , h = "";
                    f.level++;
                    var p = "valid" + f.level
                      , g = {}
                      , m = {}
                      , v = e.opts.ownProperties;
                    for (x in a) {
                        var y = a[x]
                          , b = Array.isArray(y) ? m : g;
                        b[x] = y
                    }
                    r += "var " + d + " = errors;";
                    var w = e.errorPath;
                    for (var x in r += "var missing" + i + ";",
                    m)
                        if ((b = m[x]).length) {
                            if (r += " if ( " + u + e.util.getProperty(x) + " !== undefined ",
                            v && (r += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(x) + "') "),
                            l) {
                                r += " && ( ";
                                var S = b;
                                if (S)
                                    for (var C = -1, _ = S.length - 1; C < _; )
                                        O = S[C += 1],
                                        C && (r += " || "),
                                        r += " ( ( " + (R = u + (D = e.util.getProperty(O))) + " === undefined ",
                                        v && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(O) + "') "),
                                        r += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? O : D) + ") ) ";
                                r += ")) {  ";
                                var k = "missing" + i
                                  , E = "' + " + k + " + '";
                                e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(w, k, !0) : w + " + " + k);
                                var T = T || [];
                                T.push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { property: '" + e.util.escapeQuotes(x) + "', missingProperty: '" + E + "', depsCount: " + b.length + ", deps: '" + e.util.escapeQuotes(1 == b.length ? b[0] : b.join(", ")) + "' } ",
                                !1 !== e.opts.messages && (r += " , message: 'should have ",
                                r += 1 == b.length ? "property " + e.util.escapeQuotes(b[0]) : "properties " + e.util.escapeQuotes(b.join(", ")),
                                r += " when property " + e.util.escapeQuotes(x) + " is present' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ";
                                var P = r;
                                r = T.pop(),
                                r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + P + "]); " : " validate.errors = [" + P + "]; return false; " : " var err = " + P + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
                            } else {
                                r += " ) { ";
                                var A = b;
                                if (A)
                                    for (var O, $ = -1, j = A.length - 1; $ < j; ) {
                                        O = A[$ += 1];
                                        var D = e.util.getProperty(O)
                                          , R = (E = e.util.escapeQuotes(O),
                                        u + D);
                                        e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(w, O, e.opts.jsonPointers)),
                                        r += " if ( " + R + " === undefined ",
                                        v && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(O) + "') "),
                                        r += ") {  var err =   ",
                                        !1 !== e.createErrors ? (r += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { property: '" + e.util.escapeQuotes(x) + "', missingProperty: '" + E + "', depsCount: " + b.length + ", deps: '" + e.util.escapeQuotes(1 == b.length ? b[0] : b.join(", ")) + "' } ",
                                        !1 !== e.opts.messages && (r += " , message: 'should have ",
                                        r += 1 == b.length ? "property " + e.util.escapeQuotes(b[0]) : "properties " + e.util.escapeQuotes(b.join(", ")),
                                        r += " when property " + e.util.escapeQuotes(x) + " is present' "),
                                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                        r += " } ") : r += " {} ",
                                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                                    }
                            }
                            r += " }   ",
                            l && (h += "}",
                            r += " else { ")
                        }
                    e.errorPath = w;
                    var M = f.baseId;
                    for (var x in g)
                        e.util.schemaHasRules(y = g[x], e.RULES.all) && (r += " " + p + " = true; if ( " + u + e.util.getProperty(x) + " !== undefined ",
                        v && (r += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(x) + "') "),
                        r += ") { ",
                        f.schema = y,
                        f.schemaPath = s + e.util.getProperty(x),
                        f.errSchemaPath = c + "/" + e.util.escapeFragment(x),
                        r += "  " + e.validate(f) + " ",
                        f.baseId = M,
                        r += " }  ",
                        l && (r += " if (" + p + ") { ",
                        h += "}"));
                    return l && (r += "   " + h + " if (" + d + " == errors) {"),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            23: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = e.opts.$data && a && a.$data;
                    f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
                    var h = "i" + i
                      , p = "schema" + i;
                    f || (r += " var " + p + " = validate.schema" + s + ";"),
                    r += "var " + d + ";",
                    f && (r += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
                    r += d + " = false;for (var " + h + "=0; " + h + "<" + p + ".length; " + h + "++) if (equal(" + u + ", " + p + "[" + h + "])) { " + d + " = true; break; }",
                    f && (r += "  }  ");
                    var g = g || [];
                    g.push(r += " if (!" + d + ") {   "),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'enum' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { allowedValues: schema" + i + " } ",
                    !1 !== e.opts.messages && (r += " , message: 'should be equal to one of the allowed values' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var m = r;
                    return r = g.pop(),
                    r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + m + "]); " : " validate.errors = [" + m + "]; return false; " : " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " }",
                    l && (r += " else { "),
                    r
                }
            }
            , {}],
            24: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "");
                    if (!1 === e.opts.format)
                        return l && (r += " if (true) { "),
                        r;
                    var d, f = e.opts.$data && a && a.$data;
                    f ? (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ",
                    d = "schema" + i) : d = a;
                    var h = e.opts.unknownFormats
                      , p = Array.isArray(h);
                    if (f)
                        r += " var " + (g = "format" + i) + " = formats[" + d + "]; var " + (m = "isObject" + i) + " = typeof " + g + " == 'object' && !(" + g + " instanceof RegExp) && " + g + ".validate; var " + (v = "formatType" + i) + " = " + m + " && " + g + ".type || 'string'; if (" + m + ") { ",
                        e.async && (r += " var async" + i + " = " + g + ".async; "),
                        r += " " + g + " = " + g + ".validate; } if (  ",
                        f && (r += " (" + d + " !== undefined && typeof " + d + " != 'string') || "),
                        r += " (",
                        "ignore" != h && (r += " (" + d + " && !" + g + " ",
                        p && (r += " && self._opts.unknownFormats.indexOf(" + d + ") == -1 "),
                        r += ") || "),
                        r += " (" + g + " && " + v + " == '" + n + "' && !(typeof " + g + " == 'function' ? ",
                        r += e.async ? " (async" + i + " ? await " + g + "(" + u + ") : " + g + "(" + u + ")) " : " " + g + "(" + u + ") ",
                        r += " : " + g + ".test(" + u + "))))) {";
                    else {
                        var g;
                        if (!(g = e.formats[a])) {
                            if ("ignore" == h)
                                return e.logger.warn('unknown format "' + a + '" ignored in schema at path "' + e.errSchemaPath + '"'),
                                l && (r += " if (true) { "),
                                r;
                            if (p && 0 <= h.indexOf(a))
                                return l && (r += " if (true) { "),
                                r;
                            throw new Error('unknown format "' + a + '" is used in schema at path "' + e.errSchemaPath + '"')
                        }
                        var m, v = (m = "object" == typeof g && !(g instanceof RegExp) && g.validate) && g.type || "string";
                        if (m) {
                            var y = !0 === g.async;
                            g = g.validate
                        }
                        if (v != n)
                            return l && (r += " if (true) { "),
                            r;
                        if (y) {
                            if (!e.async)
                                throw new Error("async format in sync schema");
                            r += " if (!(await " + (b = "formats" + e.util.getProperty(a) + ".validate") + "(" + u + "))) { "
                        } else {
                            r += " if (! ";
                            var b = "formats" + e.util.getProperty(a);
                            m && (b += ".validate"),
                            r += "function" == typeof g ? " " + b + "(" + u + ") " : " " + b + ".test(" + u + ") ",
                            r += ") { "
                        }
                    }
                    var w = w || [];
                    w.push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'format' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { format:  ",
                    r += f ? "" + d : "" + e.util.toQuotedString(a),
                    r += "  } ",
                    !1 !== e.opts.messages && (r += " , message: 'should match format \"",
                    r += f ? "' + " + d + " + '" : "" + e.util.escapeQuotes(a),
                    r += "\"' "),
                    e.opts.verbose && (r += " , schema:  ",
                    r += f ? "validate.schema" + s : "" + e.util.toQuotedString(a),
                    r += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var x = r;
                    return r = w.pop(),
                    r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + x + "]); " : " validate.errors = [" + x + "]; return false; " : " var err = " + x + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " } ",
                    l && (r += " else { "),
                    r
                }
            }
            , {}],
            25: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = "errs__" + i
                      , h = e.util.copy(e);
                    h.level++;
                    var p = "valid" + h.level
                      , g = e.schema.then
                      , m = e.schema.else
                      , v = void 0 !== g && e.util.schemaHasRules(g, e.RULES.all)
                      , y = void 0 !== m && e.util.schemaHasRules(m, e.RULES.all)
                      , b = h.baseId;
                    if (v || y) {
                        var w;
                        h.createErrors = !1,
                        h.schema = a,
                        h.schemaPath = s,
                        h.errSchemaPath = c,
                        r += " var " + f + " = errors; var " + d + " = true;  ";
                        var x = e.compositeRule;
                        e.compositeRule = h.compositeRule = !0,
                        r += "  " + e.validate(h) + " ",
                        h.baseId = b,
                        h.createErrors = !0,
                        r += "  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; }  ",
                        e.compositeRule = h.compositeRule = x,
                        v ? (r += " if (" + p + ") {  ",
                        h.schema = e.schema.then,
                        h.schemaPath = e.schemaPath + ".then",
                        h.errSchemaPath = e.errSchemaPath + "/then",
                        r += "  " + e.validate(h) + " ",
                        h.baseId = b,
                        r += " " + d + " = " + p + "; ",
                        v && y ? r += " var " + (w = "ifClause" + i) + " = 'then'; " : w = "'then'",
                        r += " } ",
                        y && (r += " else { ")) : r += " if (!" + p + ") { ",
                        y && (h.schema = e.schema.else,
                        h.schemaPath = e.schemaPath + ".else",
                        h.errSchemaPath = e.errSchemaPath + "/else",
                        r += "  " + e.validate(h) + " ",
                        h.baseId = b,
                        r += " " + d + " = " + p + "; ",
                        v && y ? r += " var " + (w = "ifClause" + i) + " = 'else'; " : w = "'else'",
                        r += " } "),
                        r += " if (!" + d + ") {   var err =   ",
                        !1 !== e.createErrors ? (r += " { keyword: 'if' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { failingKeyword: " + w + " } ",
                        !1 !== e.opts.messages && (r += " , message: 'should match \"' + " + w + " + '\" schema' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ",
                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        !e.compositeRule && l && (r += e.async ? " throw new ValidationError(vErrors); " : " validate.errors = vErrors; return false; "),
                        r += " }   ",
                        l && (r += " else { "),
                        r = e.util.cleanUpCode(r)
                    } else
                        l && (r += " if (true) { ");
                    return r
                }
            }
            , {}],
            26: [function(e, t, n) {
                "use strict";
                t.exports = {
                    $ref: e("./ref"),
                    allOf: e("./allOf"),
                    anyOf: e("./anyOf"),
                    $comment: e("./comment"),
                    const: e("./const"),
                    contains: e("./contains"),
                    dependencies: e("./dependencies"),
                    enum: e("./enum"),
                    format: e("./format"),
                    if: e("./if"),
                    items: e("./items"),
                    maximum: e("./_limit"),
                    minimum: e("./_limit"),
                    maxItems: e("./_limitItems"),
                    minItems: e("./_limitItems"),
                    maxLength: e("./_limitLength"),
                    minLength: e("./_limitLength"),
                    maxProperties: e("./_limitProperties"),
                    minProperties: e("./_limitProperties"),
                    multipleOf: e("./multipleOf"),
                    not: e("./not"),
                    oneOf: e("./oneOf"),
                    pattern: e("./pattern"),
                    properties: e("./properties"),
                    propertyNames: e("./propertyNames"),
                    required: e("./required"),
                    uniqueItems: e("./uniqueItems"),
                    validate: e("./validate")
                }
            }
            , {
                "./_limit": 12,
                "./_limitItems": 13,
                "./_limitLength": 14,
                "./_limitProperties": 15,
                "./allOf": 16,
                "./anyOf": 17,
                "./comment": 18,
                "./const": 19,
                "./contains": 20,
                "./dependencies": 22,
                "./enum": 23,
                "./format": 24,
                "./if": 25,
                "./items": 27,
                "./multipleOf": 28,
                "./not": 29,
                "./oneOf": 30,
                "./pattern": 31,
                "./properties": 32,
                "./propertyNames": 33,
                "./ref": 34,
                "./required": 35,
                "./uniqueItems": 36,
                "./validate": 37
            }],
            27: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = "errs__" + i
                      , h = e.util.copy(e)
                      , p = "";
                    h.level++;
                    var g = "valid" + h.level
                      , m = "i" + i
                      , v = h.dataLevel = e.dataLevel + 1
                      , y = "data" + v
                      , b = e.baseId;
                    if (r += "var " + f + " = errors;var " + d + ";",
                    Array.isArray(a)) {
                        var w = e.schema.additionalItems;
                        if (!1 === w) {
                            r += " " + d + " = " + u + ".length <= " + a.length + "; ";
                            var x = c;
                            c = e.errSchemaPath + "/additionalItems";
                            var S = S || [];
                            S.push(r += "  if (!" + d + ") {   "),
                            r = "",
                            !1 !== e.createErrors ? (r += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { limit: " + a.length + " } ",
                            !1 !== e.opts.messages && (r += " , message: 'should NOT have more than " + a.length + " items' "),
                            e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                            r += " } ") : r += " {} ";
                            var C = r;
                            r = S.pop(),
                            r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + C + "]); " : " validate.errors = [" + C + "]; return false; " : " var err = " + C + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                            r += " } ",
                            c = x,
                            l && (p += "}",
                            r += " else { ")
                        }
                        var _ = a;
                        if (_)
                            for (var k, E = -1, T = _.length - 1; E < T; )
                                if (k = _[E += 1],
                                e.util.schemaHasRules(k, e.RULES.all)) {
                                    r += " " + g + " = true; if (" + u + ".length > " + E + ") { ";
                                    var P = u + "[" + E + "]";
                                    h.schema = k,
                                    h.schemaPath = s + "[" + E + "]",
                                    h.errSchemaPath = c + "/" + E,
                                    h.errorPath = e.util.getPathExpr(e.errorPath, E, e.opts.jsonPointers, !0),
                                    h.dataPathArr[v] = E;
                                    var A = e.validate(h);
                                    h.baseId = b,
                                    e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
                                    r += " }  ",
                                    l && (r += " if (" + g + ") { ",
                                    p += "}")
                                }
                        "object" == typeof w && e.util.schemaHasRules(w, e.RULES.all) && (h.schema = w,
                        h.schemaPath = e.schemaPath + ".additionalItems",
                        h.errSchemaPath = e.errSchemaPath + "/additionalItems",
                        r += " " + g + " = true; if (" + u + ".length > " + a.length + ") {  for (var " + m + " = " + a.length + "; " + m + " < " + u + ".length; " + m + "++) { ",
                        h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
                        P = u + "[" + m + "]",
                        h.dataPathArr[v] = m,
                        A = e.validate(h),
                        h.baseId = b,
                        e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
                        l && (r += " if (!" + g + ") break; "),
                        r += " } }  ",
                        l && (r += " if (" + g + ") { ",
                        p += "}"))
                    } else
                        e.util.schemaHasRules(a, e.RULES.all) && (h.schema = a,
                        h.schemaPath = s,
                        h.errSchemaPath = c,
                        r += "  for (var " + m + " = 0; " + m + " < " + u + ".length; " + m + "++) { ",
                        h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
                        P = u + "[" + m + "]",
                        h.dataPathArr[v] = m,
                        A = e.validate(h),
                        h.baseId = b,
                        e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
                        l && (r += " if (!" + g + ") break; "),
                        r += " }");
                    return l && (r += " " + p + " if (" + f + " == errors) {"),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            28: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s,
                    i += "var division" + o + ";if (",
                    f && (i += " " + r + " !== undefined && ( typeof " + r + " != 'number' || "),
                    i += " (division" + o + " = " + d + " / " + r + ", ",
                    i += e.opts.multipleOfPrecision ? " Math.abs(Math.round(division" + o + ") - division" + o + ") > 1e-" + e.opts.multipleOfPrecision + " " : " division" + o + " !== parseInt(division" + o + ") ",
                    i += " ) ",
                    f && (i += "  )  ");
                    var h = h || [];
                    h.push(i += " ) {   "),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { multipleOf: " + r + " } ",
                    !1 !== e.opts.messages && (i += " , message: 'should be multiple of ",
                    i += f ? "' + " + r : r + "'"),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + s,
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ";
                    var p = i;
                    return i = h.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + p + "]); " : " validate.errors = [" + p + "]; return false; " : " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += "} ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            29: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "errs__" + i
                      , f = e.util.copy(e);
                    f.level++;
                    var h = "valid" + f.level;
                    if (e.util.schemaHasRules(a, e.RULES.all)) {
                        f.schema = a,
                        f.schemaPath = s,
                        f.errSchemaPath = c,
                        r += " var " + d + " = errors;  ";
                        var p, g = e.compositeRule;
                        e.compositeRule = f.compositeRule = !0,
                        f.createErrors = !1,
                        f.opts.allErrors && (p = f.opts.allErrors,
                        f.opts.allErrors = !1),
                        r += " " + e.validate(f) + " ",
                        f.createErrors = !0,
                        p && (f.opts.allErrors = p),
                        e.compositeRule = f.compositeRule = g;
                        var m = m || [];
                        m.push(r += " if (" + h + ") {   "),
                        r = "",
                        !1 !== e.createErrors ? (r += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
                        !1 !== e.opts.messages && (r += " , message: 'should NOT be valid' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ";
                        var v = r;
                        r = m.pop(),
                        r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + v + "]); " : " validate.errors = [" + v + "]; return false; " : " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        r += " } else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } ",
                        e.opts.allErrors && (r += " } ")
                    } else
                        r += "  var err =   ",
                        !1 !== e.createErrors ? (r += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
                        !1 !== e.opts.messages && (r += " , message: 'should NOT be valid' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ",
                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        l && (r += " if (false) { ");
                    return r
                }
            }
            , {}],
            30: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = "errs__" + i
                      , h = e.util.copy(e)
                      , p = "";
                    h.level++;
                    var g = "valid" + h.level
                      , m = h.baseId
                      , v = "prevValid" + i
                      , y = "passingSchemas" + i;
                    r += "var " + f + " = errors , " + v + " = false , " + d + " = false , " + y + " = null; ";
                    var b = e.compositeRule;
                    e.compositeRule = h.compositeRule = !0;
                    var w = a;
                    if (w)
                        for (var x, S = -1, C = w.length - 1; S < C; )
                            x = w[S += 1],
                            e.util.schemaHasRules(x, e.RULES.all) ? (h.schema = x,
                            h.schemaPath = s + "[" + S + "]",
                            h.errSchemaPath = c + "/" + S,
                            r += "  " + e.validate(h) + " ",
                            h.baseId = m) : r += " var " + g + " = true; ",
                            S && (r += " if (" + g + " && " + v + ") { " + d + " = false; " + y + " = [" + y + ", " + S + "]; } else { ",
                            p += "}"),
                            r += " if (" + g + ") { " + d + " = " + v + " = true; " + y + " = " + S + "; }";
                    return e.compositeRule = h.compositeRule = b,
                    r += p + "if (!" + d + ") {   var err =   ",
                    !1 !== e.createErrors ? (r += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { passingSchemas: " + y + " } ",
                    !1 !== e.opts.messages && (r += " , message: 'should match exactly one schema in oneOf' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ",
                    r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    !e.compositeRule && l && (r += e.async ? " throw new ValidationError(vErrors); " : " validate.errors = vErrors; return false; "),
                    r += "} else {  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; }",
                    e.opts.allErrors && (r += " } "),
                    r
                }
            }
            , {}],
            31: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
                    f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s;
                    var h = f ? "(new RegExp(" + r + "))" : e.usePattern(s);
                    i += "if ( ",
                    f && (i += " (" + r + " !== undefined && typeof " + r + " != 'string') || ");
                    var p = p || [];
                    p.push(i += " !" + h + ".test(" + d + ") ) {   "),
                    i = "",
                    !1 !== e.createErrors ? (i += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { pattern:  ",
                    i += f ? "" + r : "" + e.util.toQuotedString(s),
                    i += "  } ",
                    !1 !== e.opts.messages && (i += " , message: 'should match pattern \"",
                    i += f ? "' + " + r + " + '" : "" + e.util.escapeQuotes(s),
                    i += "\"' "),
                    e.opts.verbose && (i += " , schema:  ",
                    i += f ? "validate.schema" + c : "" + e.util.toQuotedString(s),
                    i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    i += " } ") : i += " {} ";
                    var g = i;
                    return i = p.pop(),
                    i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    i += "} ",
                    u && (i += " else { "),
                    i
                }
            }
            , {}],
            32: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "errs__" + i
                      , f = e.util.copy(e)
                      , h = "";
                    f.level++;
                    var p = "valid" + f.level
                      , g = "key" + i
                      , m = "idx" + i
                      , v = f.dataLevel = e.dataLevel + 1
                      , y = "data" + v
                      , b = "dataProperties" + i
                      , w = Object.keys(a || {})
                      , x = e.schema.patternProperties || {}
                      , S = Object.keys(x)
                      , C = e.schema.additionalProperties
                      , _ = w.length || S.length
                      , k = !1 === C
                      , E = "object" == typeof C && Object.keys(C).length
                      , T = e.opts.removeAdditional
                      , P = k || E || T
                      , A = e.opts.ownProperties
                      , O = e.baseId
                      , $ = e.schema.required;
                    if ($ && (!e.opts.$data || !$.$data) && $.length < e.opts.loopRequired)
                        var j = e.util.toHash($);
                    if (r += "var " + d + " = errors;var " + p + " = true;",
                    A && (r += " var " + b + " = undefined;"),
                    P) {
                        if (r += A ? " " + b + " = " + b + " || Object.keys(" + u + "); for (var " + m + "=0; " + m + "<" + b + ".length; " + m + "++) { var " + g + " = " + b + "[" + m + "]; " : " for (var " + g + " in " + u + ") { ",
                        _) {
                            if (r += " var isAdditional" + i + " = !(false ",
                            w.length)
                                if (8 < w.length)
                                    r += " || validate.schema" + s + ".hasOwnProperty(" + g + ") ";
                                else {
                                    var D = w;
                                    if (D)
                                        for (var R = -1, M = D.length - 1; R < M; )
                                            X = D[R += 1],
                                            r += " || " + g + " == " + e.util.toQuotedString(X) + " "
                                }
                            if (S.length) {
                                var I = S;
                                if (I)
                                    for (var L = -1, F = I.length - 1; L < F; )
                                        re = I[L += 1],
                                        r += " || " + e.usePattern(re) + ".test(" + g + ") "
                            }
                            r += " ); if (isAdditional" + i + ") { "
                        }
                        if ("all" == T)
                            r += " delete " + u + "[" + g + "]; ";
                        else {
                            var N = e.errorPath
                              , B = "' + " + g + " + '";
                            if (e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers)),
                            k)
                                if (T)
                                    r += " delete " + u + "[" + g + "]; ";
                                else {
                                    var U = c;
                                    c = e.errSchemaPath + "/additionalProperties",
                                    (ee = ee || []).push(r += " " + p + " = false; "),
                                    r = "",
                                    !1 !== e.createErrors ? (r += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { additionalProperty: '" + B + "' } ",
                                    !1 !== e.opts.messages && (r += " , message: '",
                                    r += e.opts._errorDataPathProperty ? "is an invalid additional property" : "should NOT have additional properties",
                                    r += "' "),
                                    e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                    r += " } ") : r += " {} ";
                                    var q = r;
                                    r = ee.pop(),
                                    r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + q + "]); " : " validate.errors = [" + q + "]; return false; " : " var err = " + q + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                    c = U,
                                    l && (r += " break; ")
                                }
                            else if (E)
                                if ("failing" == T) {
                                    r += " var " + d + " = errors;  ";
                                    var V = e.compositeRule;
                                    e.compositeRule = f.compositeRule = !0,
                                    f.schema = C,
                                    f.schemaPath = e.schemaPath + ".additionalProperties",
                                    f.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                                    f.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers);
                                    var z = u + "[" + g + "]";
                                    f.dataPathArr[v] = g;
                                    var H = e.validate(f);
                                    f.baseId = O,
                                    e.util.varOccurences(H, y) < 2 ? r += " " + e.util.varReplace(H, y, z) + " " : r += " var " + y + " = " + z + "; " + H + " ",
                                    r += " if (!" + p + ") { errors = " + d + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + u + "[" + g + "]; }  ",
                                    e.compositeRule = f.compositeRule = V
                                } else
                                    f.schema = C,
                                    f.schemaPath = e.schemaPath + ".additionalProperties",
                                    f.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                                    f.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers),
                                    z = u + "[" + g + "]",
                                    f.dataPathArr[v] = g,
                                    H = e.validate(f),
                                    f.baseId = O,
                                    e.util.varOccurences(H, y) < 2 ? r += " " + e.util.varReplace(H, y, z) + " " : r += " var " + y + " = " + z + "; " + H + " ",
                                    l && (r += " if (!" + p + ") break; ");
                            e.errorPath = N
                        }
                        _ && (r += " } "),
                        r += " }  ",
                        l && (r += " if (" + p + ") { ",
                        h += "}")
                    }
                    var W = e.opts.useDefaults && !e.compositeRule;
                    if (w.length) {
                        var G = w;
                        if (G)
                            for (var X, Y = -1, K = G.length - 1; Y < K; ) {
                                if (X = G[Y += 1],
                                e.util.schemaHasRules(ae = a[X], e.RULES.all)) {
                                    var Q = e.util.getProperty(X)
                                      , J = (z = u + Q,
                                    W && void 0 !== ae.default);
                                    if (f.schema = ae,
                                    f.schemaPath = s + Q,
                                    f.errSchemaPath = c + "/" + e.util.escapeFragment(X),
                                    f.errorPath = e.util.getPath(e.errorPath, X, e.opts.jsonPointers),
                                    f.dataPathArr[v] = e.util.toQuotedString(X),
                                    H = e.validate(f),
                                    f.baseId = O,
                                    e.util.varOccurences(H, y) < 2) {
                                        H = e.util.varReplace(H, y, z);
                                        var Z = z
                                    } else
                                        Z = y,
                                        r += " var " + y + " = " + z + "; ";
                                    if (J)
                                        r += " " + H + " ";
                                    else {
                                        if (j && j[X]) {
                                            r += " if ( " + Z + " === undefined ",
                                            A && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(X) + "') "),
                                            r += ") { " + p + " = false; ",
                                            N = e.errorPath,
                                            U = c;
                                            var ee, te = e.util.escapeQuotes(X);
                                            e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(N, X, e.opts.jsonPointers)),
                                            c = e.errSchemaPath + "/required",
                                            (ee = ee || []).push(r),
                                            r = "",
                                            !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + te + "' } ",
                                            !1 !== e.opts.messages && (r += " , message: '",
                                            r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + te + "\\'",
                                            r += "' "),
                                            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                            r += " } ") : r += " {} ",
                                            q = r,
                                            r = ee.pop(),
                                            r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + q + "]); " : " validate.errors = [" + q + "]; return false; " : " var err = " + q + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                            c = U,
                                            e.errorPath = N,
                                            r += " } else { "
                                        } else
                                            l ? (r += " if ( " + Z + " === undefined ",
                                            A && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(X) + "') "),
                                            r += ") { " + p + " = true; } else { ") : (r += " if (" + Z + " !== undefined ",
                                            A && (r += " &&   Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(X) + "') "),
                                            r += " ) { ");
                                        r += " " + H + " } "
                                    }
                                }
                                l && (r += " if (" + p + ") { ",
                                h += "}")
                            }
                    }
                    if (S.length) {
                        var ne = S;
                        if (ne)
                            for (var re, ie = -1, oe = ne.length - 1; ie < oe; ) {
                                var ae;
                                re = ne[ie += 1],
                                e.util.schemaHasRules(ae = x[re], e.RULES.all) && (f.schema = ae,
                                f.schemaPath = e.schemaPath + ".patternProperties" + e.util.getProperty(re),
                                f.errSchemaPath = e.errSchemaPath + "/patternProperties/" + e.util.escapeFragment(re),
                                r += A ? " " + b + " = " + b + " || Object.keys(" + u + "); for (var " + m + "=0; " + m + "<" + b + ".length; " + m + "++) { var " + g + " = " + b + "[" + m + "]; " : " for (var " + g + " in " + u + ") { ",
                                r += " if (" + e.usePattern(re) + ".test(" + g + ")) { ",
                                f.errorPath = e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers),
                                z = u + "[" + g + "]",
                                f.dataPathArr[v] = g,
                                H = e.validate(f),
                                f.baseId = O,
                                e.util.varOccurences(H, y) < 2 ? r += " " + e.util.varReplace(H, y, z) + " " : r += " var " + y + " = " + z + "; " + H + " ",
                                l && (r += " if (!" + p + ") break; "),
                                r += " } ",
                                l && (r += " else " + p + " = true; "),
                                r += " }  ",
                                l && (r += " if (" + p + ") { ",
                                h += "}"))
                            }
                    }
                    return l && (r += " " + h + " if (" + d + " == errors) {"),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            33: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "errs__" + i
                      , f = e.util.copy(e);
                    f.level++;
                    var h = "valid" + f.level;
                    if (e.util.schemaHasRules(a, e.RULES.all)) {
                        f.schema = a,
                        f.schemaPath = s,
                        f.errSchemaPath = c;
                        var p = "key" + i
                          , g = "idx" + i
                          , m = "i" + i
                          , v = "' + " + p + " + '"
                          , y = "data" + (f.dataLevel = e.dataLevel + 1)
                          , b = "dataProperties" + i
                          , w = e.opts.ownProperties
                          , x = e.baseId;
                        r += " var " + d + " = errors; ",
                        w && (r += " var " + b + " = undefined; "),
                        r += w ? " " + b + " = " + b + " || Object.keys(" + u + "); for (var " + g + "=0; " + g + "<" + b + ".length; " + g + "++) { var " + p + " = " + b + "[" + g + "]; " : " for (var " + p + " in " + u + ") { ",
                        r += " var startErrs" + i + " = errors; ";
                        var S = p
                          , C = e.compositeRule;
                        e.compositeRule = f.compositeRule = !0;
                        var _ = e.validate(f);
                        f.baseId = x,
                        e.util.varOccurences(_, y) < 2 ? r += " " + e.util.varReplace(_, y, S) + " " : r += " var " + y + " = " + S + "; " + _ + " ",
                        e.compositeRule = f.compositeRule = C,
                        r += " if (!" + h + ") { for (var " + m + "=startErrs" + i + "; " + m + "<errors; " + m + "++) { vErrors[" + m + "].propertyName = " + p + "; }   var err =   ",
                        !1 !== e.createErrors ? (r += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { propertyName: '" + v + "' } ",
                        !1 !== e.opts.messages && (r += " , message: 'property name \\'" + v + "\\' is invalid' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ",
                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        !e.compositeRule && l && (r += e.async ? " throw new ValidationError(vErrors); " : " validate.errors = vErrors; return false; "),
                        l && (r += " break; "),
                        r += " } }"
                    }
                    return l && (r += "  if (" + d + " == errors) {"),
                    e.util.cleanUpCode(r)
                }
            }
            , {}],
            34: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i, o = " ", a = e.dataLevel, s = e.schema[t], c = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, u = "data" + (a || ""), d = "valid" + e.level;
                    if ("#" == s || "#/" == s)
                        e.isRoot ? (r = e.async,
                        i = "validate") : (r = !0 === e.root.schema.$async,
                        i = "root.refVal[0]");
                    else {
                        var f = e.resolveRef(e.baseId, s, e.isRoot);
                        if (void 0 === f) {
                            var h = e.MissingRefError.message(e.baseId, s);
                            if ("fail" == e.opts.missingRefs) {
                                e.logger.error(h),
                                (v = v || []).push(o),
                                o = "",
                                !1 !== e.createErrors ? (o += " { keyword: '$ref' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { ref: '" + e.util.escapeQuotes(s) + "' } ",
                                !1 !== e.opts.messages && (o += " , message: 'can\\'t resolve reference " + e.util.escapeQuotes(s) + "' "),
                                e.opts.verbose && (o += " , schema: " + e.util.toQuotedString(s) + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                o += " } ") : o += " {} ";
                                var p = o;
                                o = v.pop(),
                                o += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + p + "]); " : " validate.errors = [" + p + "]; return false; " : " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                l && (o += " if (false) { ")
                            } else {
                                if ("ignore" != e.opts.missingRefs)
                                    throw new e.MissingRefError(e.baseId,s,h);
                                e.logger.warn(h),
                                l && (o += " if (true) { ")
                            }
                        } else if (f.inline) {
                            var g = e.util.copy(e);
                            g.level++;
                            var m = "valid" + g.level;
                            g.schema = f.schema,
                            g.schemaPath = "",
                            g.errSchemaPath = s,
                            o += " " + e.validate(g).replace(/validate\.schema/g, f.code) + " ",
                            l && (o += " if (" + m + ") { ")
                        } else
                            r = !0 === f.$async || e.async && !1 !== f.$async,
                            i = f.code
                    }
                    if (i) {
                        var v;
                        (v = v || []).push(o),
                        o = "",
                        o += e.opts.passContext ? " " + i + ".call(this, " : " " + i + "( ",
                        o += " " + u + ", (dataPath || '')",
                        '""' != e.errorPath && (o += " + " + e.errorPath);
                        var y = o += " , " + (a ? "data" + (a - 1 || "") : "parentData") + " , " + (a ? e.dataPathArr[a] : "parentDataProperty") + ", rootData)  ";
                        if (o = v.pop(),
                        r) {
                            if (!e.async)
                                throw new Error("async schema referenced by sync schema");
                            l && (o += " var " + d + "; "),
                            o += " try { await " + y + "; ",
                            l && (o += " " + d + " = true; "),
                            o += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",
                            l && (o += " " + d + " = false; "),
                            o += " } ",
                            l && (o += " if (" + d + ") { ")
                        } else
                            o += " if (!" + y + ") { if (vErrors === null) vErrors = " + i + ".errors; else vErrors = vErrors.concat(" + i + ".errors); errors = vErrors.length; } ",
                            l && (o += " else { ")
                    }
                    return o
                }
            }
            , {}],
            35: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = " "
                      , i = e.level
                      , o = e.dataLevel
                      , a = e.schema[t]
                      , s = e.schemaPath + e.util.getProperty(t)
                      , c = e.errSchemaPath + "/" + t
                      , l = !e.opts.allErrors
                      , u = "data" + (o || "")
                      , d = "valid" + i
                      , f = e.opts.$data && a && a.$data;
                    f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
                    var h = "schema" + i;
                    if (!f)
                        if (a.length < e.opts.loopRequired && e.schema.properties && Object.keys(e.schema.properties).length) {
                            var p = []
                              , g = a;
                            if (g)
                                for (var m, v = -1, y = g.length - 1; v < y; ) {
                                    m = g[v += 1];
                                    var b = e.schema.properties[m];
                                    b && e.util.schemaHasRules(b, e.RULES.all) || (p[p.length] = m)
                                }
                        } else
                            p = a;
                    if (f || p.length) {
                        var w = e.errorPath
                          , x = f || e.opts.loopRequired <= p.length
                          , S = e.opts.ownProperties;
                        if (l)
                            if (r += " var missing" + i + "; ",
                            x) {
                                f || (r += " var " + h + " = validate.schema" + s + "; ");
                                var C = "' + " + (A = "schema" + i + "[" + (T = "i" + i) + "]") + " + '";
                                e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(w, A, e.opts.jsonPointers)),
                                r += " var " + d + " = true; ",
                                f && (r += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
                                r += " for (var " + T + " = 0; " + T + " < " + h + ".length; " + T + "++) { " + d + " = " + u + "[" + h + "[" + T + "]] !== undefined ",
                                S && (r += " &&   Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + T + "]) "),
                                r += "; if (!" + d + ") break; } ",
                                f && (r += "  }  "),
                                (k = k || []).push(r += "  if (!" + d + ") {   "),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                                !1 !== e.opts.messages && (r += " , message: '",
                                r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + C + "\\'",
                                r += "' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ";
                                var _ = r;
                                r = k.pop(),
                                r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + _ + "]); " : " validate.errors = [" + _ + "]; return false; " : " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                r += " } else { "
                            } else {
                                r += " if ( ";
                                var k, E = p;
                                if (E)
                                    for (var T = -1, P = E.length - 1; T < P; )
                                        $ = E[T += 1],
                                        T && (r += " || "),
                                        r += " ( ( " + (M = u + (R = e.util.getProperty($))) + " === undefined ",
                                        S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes($) + "') "),
                                        r += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? $ : R) + ") ) ";
                                r += ") {  ",
                                C = "' + " + (A = "missing" + i) + " + '",
                                e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(w, A, !0) : w + " + " + A),
                                (k = k || []).push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                                !1 !== e.opts.messages && (r += " , message: '",
                                r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + C + "\\'",
                                r += "' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ",
                                _ = r,
                                r = k.pop(),
                                r += !e.compositeRule && l ? e.async ? " throw new ValidationError([" + _ + "]); " : " validate.errors = [" + _ + "]; return false; " : " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                r += " } else { "
                            }
                        else if (x) {
                            var A;
                            f || (r += " var " + h + " = validate.schema" + s + "; "),
                            C = "' + " + (A = "schema" + i + "[" + (T = "i" + i) + "]") + " + '",
                            e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(w, A, e.opts.jsonPointers)),
                            f && (r += " if (" + h + " && !Array.isArray(" + h + ")) {  var err =   ",
                            !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                            !1 !== e.opts.messages && (r += " , message: '",
                            r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + C + "\\'",
                            r += "' "),
                            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                            r += " } ") : r += " {} ",
                            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + h + " !== undefined) { "),
                            r += " for (var " + T + " = 0; " + T + " < " + h + ".length; " + T + "++) { if (" + u + "[" + h + "[" + T + "]] === undefined ",
                            S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + T + "]) "),
                            r += ") {  var err =   ",
                            !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                            !1 !== e.opts.messages && (r += " , message: '",
                            r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + C + "\\'",
                            r += "' "),
                            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                            r += " } ") : r += " {} ",
                            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",
                            f && (r += "  }  ")
                        } else {
                            var O = p;
                            if (O)
                                for (var $, j = -1, D = O.length - 1; j < D; ) {
                                    $ = O[j += 1];
                                    var R = e.util.getProperty($)
                                      , M = (C = e.util.escapeQuotes($),
                                    u + R);
                                    e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(w, $, e.opts.jsonPointers)),
                                    r += " if ( " + M + " === undefined ",
                                    S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes($) + "') "),
                                    r += ") {  var err =   ",
                                    !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                                    !1 !== e.opts.messages && (r += " , message: '",
                                    r += e.opts._errorDataPathProperty ? "is a required property" : "should have required property \\'" + C + "\\'",
                                    r += "' "),
                                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                    r += " } ") : r += " {} ",
                                    r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                                }
                        }
                        e.errorPath = w
                    } else
                        l && (r += " if (true) {");
                    return r
                }
            }
            , {}],
            36: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = "valid" + o, h = e.opts.$data && s && s.$data;
                    if (h ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
                    r = "schema" + o) : r = s,
                    (s || h) && !1 !== e.opts.uniqueItems) {
                        h && (i += " var " + f + "; if (" + r + " === false || " + r + " === undefined) " + f + " = true; else if (typeof " + r + " != 'boolean') " + f + " = false; else { "),
                        i += " var i = " + d + ".length , " + f + " = true , j; if (i > 1) { ";
                        var p = e.schema.items && e.schema.items.type
                          , g = Array.isArray(p);
                        !p || "object" == p || "array" == p || g && (0 <= p.indexOf("object") || 0 <= p.indexOf("array")) ? i += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + d + "[i], " + d + "[j])) { " + f + " = false; break outer; } } } " : (i += " var itemIndices = {}, item; for (;i--;) { var item = " + d + "[i]; ",
                        i += " if (" + e.util["checkDataType" + (g ? "s" : "")](p, "item", !0) + ") continue; ",
                        g && (i += " if (typeof item == 'string') item = '\"' + item; "),
                        i += " if (typeof itemIndices[item] == 'number') { " + f + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),
                        i += " } ",
                        h && (i += "  }  ");
                        var m = m || [];
                        m.push(i += " if (!" + f + ") {   "),
                        i = "",
                        !1 !== e.createErrors ? (i += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { i: i, j: j } ",
                        !1 !== e.opts.messages && (i += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),
                        e.opts.verbose && (i += " , schema:  ",
                        i += h ? "validate.schema" + c : "" + s,
                        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                        i += " } ") : i += " {} ";
                        var v = i;
                        i = m.pop(),
                        i += !e.compositeRule && u ? e.async ? " throw new ValidationError([" + v + "]); " : " validate.errors = [" + v + "]; return false; " : " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        i += " } ",
                        u && (i += " else { ")
                    } else
                        u && (i += " if (true) { ");
                    return i
                }
            }
            , {}],
            37: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t, n) {
                    var r = ""
                      , i = !0 === e.schema.$async
                      , o = e.util.schemaHasRulesExcept(e.schema, e.RULES.all, "$ref")
                      , a = e.self._getId(e.schema);
                    if (e.isTop && (r += " var validate = ",
                    i && (e.async = !0,
                    r += "async "),
                    r += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",
                    a && (e.opts.sourceCode || e.opts.processCode) && (r += " /*# sourceURL=" + a + " */ ")),
                    "boolean" == typeof e.schema || !o && !e.schema.$ref) {
                        var s = e.level
                          , c = e.dataLevel
                          , l = e.schema[t = "false schema"]
                          , u = e.schemaPath + e.util.getProperty(t)
                          , d = e.errSchemaPath + "/" + t
                          , f = !e.opts.allErrors
                          , h = "data" + (c || "")
                          , p = "valid" + s;
                        if (!1 === e.schema) {
                            e.isTop ? f = !0 : r += " var " + p + " = false; ",
                            (q = q || []).push(r),
                            r = "",
                            !1 !== e.createErrors ? (r += " { keyword: 'false schema' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(d) + " , params: {} ",
                            !1 !== e.opts.messages && (r += " , message: 'boolean schema is false' "),
                            e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "),
                            r += " } ") : r += " {} ";
                            var g = r;
                            r = q.pop(),
                            r += !e.compositeRule && f ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
                        } else
                            r += e.isTop ? i ? " return data; " : " validate.errors = null; return true; " : " var " + p + " = true; ";
                        return e.isTop && (r += " }; return validate; "),
                        r
                    }
                    if (e.isTop) {
                        var m = e.isTop;
                        s = e.level = 0,
                        c = e.dataLevel = 0,
                        h = "data",
                        e.rootId = e.resolve.fullPath(e.self._getId(e.root.schema)),
                        e.baseId = e.baseId || e.rootId,
                        delete e.isTop,
                        e.dataPathArr = [void 0],
                        r += " var vErrors = null; ",
                        r += " var errors = 0;     ",
                        r += " if (rootData === undefined) rootData = data; "
                    } else {
                        if (s = e.level,
                        h = "data" + ((c = e.dataLevel) || ""),
                        a && (e.baseId = e.resolve.url(e.baseId, a)),
                        i && !e.async)
                            throw new Error("async schema in sync schema");
                        r += " var errs_" + s + " = errors;"
                    }
                    p = "valid" + s,
                    f = !e.opts.allErrors;
                    var v = ""
                      , y = ""
                      , b = e.schema.type
                      , w = Array.isArray(b);
                    if (w && 1 == b.length && (b = b[0],
                    w = !1),
                    e.schema.$ref && o) {
                        if ("fail" == e.opts.extendRefs)
                            throw new Error('$ref: validation keywords used in schema at path "' + e.errSchemaPath + '" (see option extendRefs)');
                        !0 !== e.opts.extendRefs && (o = !1,
                        e.logger.warn('$ref: keywords ignored in schema at path "' + e.errSchemaPath + '"'))
                    }
                    if (e.schema.$comment && e.opts.$comment && (r += " " + e.RULES.all.$comment.code(e, "$comment")),
                    b) {
                        if (e.opts.coerceTypes)
                            var x = e.util.coerceToTypes(e.opts.coerceTypes, b);
                        var S = e.RULES.types[b];
                        if (x || w || !0 === S || S && !X(S)) {
                            if (u = e.schemaPath + ".type",
                            d = e.errSchemaPath + "/type",
                            u = e.schemaPath + ".type",
                            d = e.errSchemaPath + "/type",
                            r += " if (" + e.util[w ? "checkDataTypes" : "checkDataType"](b, h, !0) + ") { ",
                            x) {
                                var C = "dataType" + s
                                  , _ = "coerced" + s;
                                r += " var " + C + " = typeof " + h + "; ",
                                "array" == e.opts.coerceTypes && (r += " if (" + C + " == 'object' && Array.isArray(" + h + ")) " + C + " = 'array'; "),
                                r += " var " + _ + " = undefined; ";
                                var k = ""
                                  , E = x;
                                if (E)
                                    for (var T, P = -1, A = E.length - 1; P < A; )
                                        T = E[P += 1],
                                        P && (r += " if (" + _ + " === undefined) { ",
                                        k += "}"),
                                        "array" == e.opts.coerceTypes && "array" != T && (r += " if (" + C + " == 'array' && " + h + ".length == 1) { " + _ + " = " + h + " = " + h + "[0]; " + C + " = typeof " + h + ";  } "),
                                        "string" == T ? r += " if (" + C + " == 'number' || " + C + " == 'boolean') " + _ + " = '' + " + h + "; else if (" + h + " === null) " + _ + " = ''; " : "number" == T || "integer" == T ? (r += " if (" + C + " == 'boolean' || " + h + " === null || (" + C + " == 'string' && " + h + " && " + h + " == +" + h + " ",
                                        "integer" == T && (r += " && !(" + h + " % 1)"),
                                        r += ")) " + _ + " = +" + h + "; ") : "boolean" == T ? r += " if (" + h + " === 'false' || " + h + " === 0 || " + h + " === null) " + _ + " = false; else if (" + h + " === 'true' || " + h + " === 1) " + _ + " = true; " : "null" == T ? r += " if (" + h + " === '' || " + h + " === 0 || " + h + " === false) " + _ + " = null; " : "array" == e.opts.coerceTypes && "array" == T && (r += " if (" + C + " == 'string' || " + C + " == 'number' || " + C + " == 'boolean' || " + h + " == null) " + _ + " = [" + h + "]; ");
                                (q = q || []).push(r += " " + k + " if (" + _ + " === undefined) {   "),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(d) + " , params: { type: '",
                                r += w ? "" + b.join(",") : "" + b,
                                r += "' } ",
                                !1 !== e.opts.messages && (r += " , message: 'should be ",
                                r += w ? "" + b.join(",") : "" + b,
                                r += "' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + u + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "),
                                r += " } ") : r += " {} ",
                                g = r,
                                r = q.pop(),
                                r += !e.compositeRule && f ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                r += " } else {  ";
                                var O = c ? "data" + (c - 1 || "") : "parentData";
                                r += " " + h + " = " + _ + "; ",
                                c || (r += "if (" + O + " !== undefined)"),
                                r += " " + O + "[" + (c ? e.dataPathArr[c] : "parentDataProperty") + "] = " + _ + "; } "
                            } else
                                (q = q || []).push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(d) + " , params: { type: '",
                                r += w ? "" + b.join(",") : "" + b,
                                r += "' } ",
                                !1 !== e.opts.messages && (r += " , message: 'should be ",
                                r += w ? "" + b.join(",") : "" + b,
                                r += "' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + u + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "),
                                r += " } ") : r += " {} ",
                                g = r,
                                r = q.pop(),
                                r += !e.compositeRule && f ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                            r += " } "
                        }
                    }
                    if (e.schema.$ref && !o)
                        r += " " + e.RULES.all.$ref.code(e, "$ref") + " ",
                        f && (r += " } if (errors === ",
                        r += m ? "0" : "errs_" + s,
                        r += ") { ",
                        y += "}");
                    else {
                        var $ = e.RULES;
                        if ($)
                            for (var j = -1, D = $.length - 1; j < D; )
                                if (X(S = $[j += 1])) {
                                    if (S.type && (r += " if (" + e.util.checkDataType(S.type, h) + ") { "),
                                    e.opts.useDefaults && !e.compositeRule)
                                        if ("object" == S.type && e.schema.properties) {
                                            l = e.schema.properties;
                                            var R = Object.keys(l);
                                            if (R)
                                                for (var M, I = -1, L = R.length - 1; I < L; )
                                                    void 0 !== (N = l[M = R[I += 1]]).default && (r += "  if (" + (U = h + e.util.getProperty(M)) + " === undefined) " + U + " = ",
                                                    r += "shared" == e.opts.useDefaults ? " " + e.useDefault(N.default) + " " : " " + JSON.stringify(N.default) + " ",
                                                    r += "; ")
                                        } else if ("array" == S.type && Array.isArray(e.schema.items)) {
                                            var F = e.schema.items;
                                            if (F) {
                                                P = -1;
                                                for (var N, B = F.length - 1; P < B; ) {
                                                    var U;
                                                    void 0 !== (N = F[P += 1]).default && (r += "  if (" + (U = h + "[" + P + "]") + " === undefined) " + U + " = ",
                                                    r += "shared" == e.opts.useDefaults ? " " + e.useDefault(N.default) + " " : " " + JSON.stringify(N.default) + " ",
                                                    r += "; ")
                                                }
                                            }
                                        }
                                    var q, V = S.rules;
                                    if (V)
                                        for (var z, H = -1, W = V.length - 1; H < W; )
                                            if (Y(z = V[H += 1])) {
                                                var G = z.code(e, z.keyword, S.type);
                                                G && (r += " " + G + " ",
                                                f && (v += "}"))
                                            }
                                    f && (r += " " + v + " ",
                                    v = ""),
                                    S.type && (r += " } ",
                                    b && b === S.type && !x) && (u = e.schemaPath + ".type",
                                    d = e.errSchemaPath + "/type",
                                    (q = q || []).push(r += " else { "),
                                    r = "",
                                    !1 !== e.createErrors ? (r += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(d) + " , params: { type: '",
                                    r += w ? "" + b.join(",") : "" + b,
                                    r += "' } ",
                                    !1 !== e.opts.messages && (r += " , message: 'should be ",
                                    r += w ? "" + b.join(",") : "" + b,
                                    r += "' "),
                                    e.opts.verbose && (r += " , schema: validate.schema" + u + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "),
                                    r += " } ") : r += " {} ",
                                    g = r,
                                    r = q.pop(),
                                    r += !e.compositeRule && f ? e.async ? " throw new ValidationError([" + g + "]); " : " validate.errors = [" + g + "]; return false; " : " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                    r += " } "),
                                    f && (r += " if (errors === ",
                                    r += m ? "0" : "errs_" + s,
                                    r += ") { ",
                                    y += "}")
                                }
                    }
                    function X(e) {
                        for (var t = e.rules, n = 0; n < t.length; n++)
                            if (Y(t[n]))
                                return !0
                    }
                    function Y(t) {
                        return void 0 !== e.schema[t.keyword] || t.implements && function(t) {
                            for (var n = t.implements, r = 0; r < n.length; r++)
                                if (void 0 !== e.schema[n[r]])
                                    return !0
                        }(t)
                    }
                    return f && (r += " " + y + " "),
                    m ? (i ? (r += " if (errors === 0) return data;           ",
                    r += " else throw new ValidationError(vErrors); ") : (r += " validate.errors = vErrors; ",
                    r += " return errors === 0;       "),
                    r += " }; return validate;") : r += " var " + p + " = errors === errs_" + s + ";",
                    r = e.util.cleanUpCode(r),
                    m && (r = e.util.finalCleanUpCode(r, i)),
                    r
                }
            }
            , {}],
            38: [function(e, t, n) {
                "use strict";
                var r = /^[a-z_$][a-z0-9_$-]*$/i
                  , i = e("./dotjs/custom");
                t.exports = {
                    add: function(e, t) {
                        var n = this.RULES;
                        if (n.keywords[e])
                            throw new Error("Keyword " + e + " is already defined");
                        if (!r.test(e))
                            throw new Error("Keyword " + e + " is not a valid identifier");
                        if (t) {
                            if (t.macro && void 0 !== t.valid)
                                throw new Error('"valid" option cannot be used with macro keywords');
                            var o = t.type;
                            if (Array.isArray(o)) {
                                var a, s = o.length;
                                for (a = 0; a < s; a++)
                                    d(o[a]);
                                for (a = 0; a < s; a++)
                                    u(e, o[a], t)
                            } else
                                o && d(o),
                                u(e, o, t);
                            var c = !0 === t.$data && this._opts.$data;
                            if (c && !t.validate)
                                throw new Error('$data support: "validate" function is not defined');
                            var l = t.metaSchema;
                            l && (c && (l = {
                                anyOf: [l, {
                                    $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"
                                }]
                            }),
                            t.validateSchema = this.compile(l, !0))
                        }
                        function u(e, t, r) {
                            for (var o, a = 0; a < n.length; a++) {
                                var s = n[a];
                                if (s.type == t) {
                                    o = s;
                                    break
                                }
                            }
                            o || n.push(o = {
                                type: t,
                                rules: []
                            });
                            var c = {
                                keyword: e,
                                definition: r,
                                custom: !0,
                                code: i,
                                implements: r.implements
                            };
                            o.rules.push(c),
                            n.custom[e] = c
                        }
                        function d(e) {
                            if (!n.types[e])
                                throw new Error("Unknown type " + e)
                        }
                        return n.keywords[e] = n.all[e] = !0,
                        this
                    },
                    get: function(e) {
                        var t = this.RULES.custom[e];
                        return t ? t.definition : this.RULES.keywords[e] || !1
                    },
                    remove: function(e) {
                        var t = this.RULES;
                        delete t.keywords[e],
                        delete t.all[e],
                        delete t.custom[e];
                        for (var n = 0; n < t.length; n++)
                            for (var r = t[n].rules, i = 0; i < r.length; i++)
                                if (r[i].keyword == e) {
                                    r.splice(i, 1);
                                    break
                                }
                        return this
                    }
                }
            }
            , {
                "./dotjs/custom": 21
            }],
            39: [function(e, t, n) {
                t.exports = {
                    $schema: "http://json-schema.org/draft-07/schema#",
                    $id: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",
                    description: "Meta-schema for $data reference (JSON Schema extension proposal)",
                    type: "object",
                    required: ["$data"],
                    properties: {
                        $data: {
                            type: "string",
                            anyOf: [{
                                format: "relative-json-pointer"
                            }, {
                                format: "json-pointer"
                            }]
                        }
                    },
                    additionalProperties: !1
                }
            }
            , {}],
            40: [function(e, t, n) {
                t.exports = {
                    $schema: "http://json-schema.org/draft-07/schema#",
                    $id: "http://json-schema.org/draft-07/schema#",
                    title: "Core schema meta-schema",
                    definitions: {
                        schemaArray: {
                            type: "array",
                            minItems: 1,
                            items: {
                                $ref: "#"
                            }
                        },
                        nonNegativeInteger: {
                            type: "integer",
                            minimum: 0
                        },
                        nonNegativeIntegerDefault0: {
                            allOf: [{
                                $ref: "#/definitions/nonNegativeInteger"
                            }, {
                                default: 0
                            }]
                        },
                        simpleTypes: {
                            enum: ["array", "boolean", "integer", "null", "number", "object", "string"]
                        },
                        stringArray: {
                            type: "array",
                            items: {
                                type: "string"
                            },
                            uniqueItems: !0,
                            default: []
                        }
                    },
                    type: ["object", "boolean"],
                    properties: {
                        $id: {
                            type: "string",
                            format: "uri-reference"
                        },
                        $schema: {
                            type: "string",
                            format: "uri"
                        },
                        $ref: {
                            type: "string",
                            format: "uri-reference"
                        },
                        $comment: {
                            type: "string"
                        },
                        title: {
                            type: "string"
                        },
                        description: {
                            type: "string"
                        },
                        default: !0,
                        readOnly: {
                            type: "boolean",
                            default: !1
                        },
                        examples: {
                            type: "array",
                            items: !0
                        },
                        multipleOf: {
                            type: "number",
                            exclusiveMinimum: 0
                        },
                        maximum: {
                            type: "number"
                        },
                        exclusiveMaximum: {
                            type: "number"
                        },
                        minimum: {
                            type: "number"
                        },
                        exclusiveMinimum: {
                            type: "number"
                        },
                        maxLength: {
                            $ref: "#/definitions/nonNegativeInteger"
                        },
                        minLength: {
                            $ref: "#/definitions/nonNegativeIntegerDefault0"
                        },
                        pattern: {
                            type: "string",
                            format: "regex"
                        },
                        additionalItems: {
                            $ref: "#"
                        },
                        items: {
                            anyOf: [{
                                $ref: "#"
                            }, {
                                $ref: "#/definitions/schemaArray"
                            }],
                            default: !0
                        },
                        maxItems: {
                            $ref: "#/definitions/nonNegativeInteger"
                        },
                        minItems: {
                            $ref: "#/definitions/nonNegativeIntegerDefault0"
                        },
                        uniqueItems: {
                            type: "boolean",
                            default: !1
                        },
                        contains: {
                            $ref: "#"
                        },
                        maxProperties: {
                            $ref: "#/definitions/nonNegativeInteger"
                        },
                        minProperties: {
                            $ref: "#/definitions/nonNegativeIntegerDefault0"
                        },
                        required: {
                            $ref: "#/definitions/stringArray"
                        },
                        additionalProperties: {
                            $ref: "#"
                        },
                        definitions: {
                            type: "object",
                            additionalProperties: {
                                $ref: "#"
                            },
                            default: {}
                        },
                        properties: {
                            type: "object",
                            additionalProperties: {
                                $ref: "#"
                            },
                            default: {}
                        },
                        patternProperties: {
                            type: "object",
                            additionalProperties: {
                                $ref: "#"
                            },
                            propertyNames: {
                                format: "regex"
                            },
                            default: {}
                        },
                        dependencies: {
                            type: "object",
                            additionalProperties: {
                                anyOf: [{
                                    $ref: "#"
                                }, {
                                    $ref: "#/definitions/stringArray"
                                }]
                            }
                        },
                        propertyNames: {
                            $ref: "#"
                        },
                        const: !0,
                        enum: {
                            type: "array",
                            items: !0,
                            minItems: 1,
                            uniqueItems: !0
                        },
                        type: {
                            anyOf: [{
                                $ref: "#/definitions/simpleTypes"
                            }, {
                                type: "array",
                                items: {
                                    $ref: "#/definitions/simpleTypes"
                                },
                                minItems: 1,
                                uniqueItems: !0
                            }]
                        },
                        format: {
                            type: "string"
                        },
                        contentMediaType: {
                            type: "string"
                        },
                        contentEncoding: {
                            type: "string"
                        },
                        if: {
                            $ref: "#"
                        },
                        then: {
                            $ref: "#"
                        },
                        else: {
                            $ref: "#"
                        },
                        allOf: {
                            $ref: "#/definitions/schemaArray"
                        },
                        anyOf: {
                            $ref: "#/definitions/schemaArray"
                        },
                        oneOf: {
                            $ref: "#/definitions/schemaArray"
                        },
                        not: {
                            $ref: "#"
                        }
                    },
                    default: !0
                }
            }
            , {}],
            41: [function(e, t, n) {
                "use strict";
                var r = Array.isArray
                  , i = Object.keys
                  , o = Object.prototype.hasOwnProperty;
                t.exports = function e(t, n) {
                    if (t === n)
                        return !0;
                    if (t && n && "object" == typeof t && "object" == typeof n) {
                        var a, s, c, l = r(t), u = r(n);
                        if (l && u) {
                            if ((s = t.length) != n.length)
                                return !1;
                            for (a = s; 0 != a--; )
                                if (!e(t[a], n[a]))
                                    return !1;
                            return !0
                        }
                        if (l != u)
                            return !1;
                        var d = t instanceof Date
                          , f = n instanceof Date;
                        if (d != f)
                            return !1;
                        if (d && f)
                            return t.getTime() == n.getTime();
                        var h = t instanceof RegExp
                          , p = n instanceof RegExp;
                        if (h != p)
                            return !1;
                        if (h && p)
                            return t.toString() == n.toString();
                        var g = i(t);
                        if ((s = g.length) !== i(n).length)
                            return !1;
                        for (a = s; 0 != a--; )
                            if (!o.call(n, g[a]))
                                return !1;
                        for (a = s; 0 != a--; )
                            if (!e(t[c = g[a]], n[c]))
                                return !1;
                        return !0
                    }
                    return t != t && n != n
                }
            }
            , {}],
            42: [function(e, t, n) {
                "use strict";
                t.exports = function(e, t) {
                    t || (t = {}),
                    "function" == typeof t && (t = {
                        cmp: t
                    });
                    var n, r = "boolean" == typeof t.cycles && t.cycles, i = t.cmp && (n = t.cmp,
                    function(e) {
                        return function(t, r) {
                            return n({
                                key: t,
                                value: e[t]
                            }, {
                                key: r,
                                value: e[r]
                            })
                        }
                    }
                    ), o = [];
                    return function e(t) {
                        if (t && t.toJSON && "function" == typeof t.toJSON && (t = t.toJSON()),
                        void 0 !== t) {
                            if ("number" == typeof t)
                                return isFinite(t) ? "" + t : "null";
                            if ("object" != typeof t)
                                return JSON.stringify(t);
                            var n, a;
                            if (Array.isArray(t)) {
                                for (a = "[",
                                n = 0; n < t.length; n++)
                                    n && (a += ","),
                                    a += e(t[n]) || "null";
                                return a + "]"
                            }
                            if (null === t)
                                return "null";
                            if (-1 !== o.indexOf(t)) {
                                if (r)
                                    return JSON.stringify("__cycle__");
                                throw new TypeError("Converting circular structure to JSON")
                            }
                            var s = o.push(t) - 1
                              , c = Object.keys(t).sort(i && i(t));
                            for (a = "",
                            n = 0; n < c.length; n++) {
                                var l = c[n]
                                  , u = e(t[l]);
                                u && (a && (a += ","),
                                a += JSON.stringify(l) + ":" + u)
                            }
                            return o.splice(s, 1),
                            "{" + a + "}"
                        }
                    }(e)
                }
            }
            , {}],
            43: [function(e, t, n) {
                "use strict";
                var r = t.exports = function(e, t, n) {
                    "function" == typeof t && (n = t,
                    t = {}),
                    function e(t, n, i, o, a, s, c, l, u) {
                        if (i && "object" == typeof i && !Array.isArray(i))
                            for (var d in n(i, o, a, s, c, l, u),
                            i) {
                                var f = i[d];
                                if (Array.isArray(f)) {
                                    if (d in r.arrayKeywords)
                                        for (var h = 0; h < f.length; h++)
                                            e(t, n, f[h], o + "/" + d + "/" + h, a, o, d, i, h)
                                } else if (d in r.propsKeywords) {
                                    if (f && "object" == typeof f)
                                        for (var p in f)
                                            e(t, n, f[p], o + "/" + d + "/" + p.replace(/~/g, "~0").replace(/\//g, "~1"), a, o, d, i, p)
                                } else
                                    (d in r.keywords || t.allKeys && !(d in r.skipKeywords)) && e(t, n, f, o + "/" + d, a, o, d, i)
                            }
                    }(t, n, e, "", e)
                }
                ;
                r.keywords = {
                    additionalItems: !0,
                    items: !0,
                    contains: !0,
                    additionalProperties: !0,
                    propertyNames: !0,
                    not: !0
                },
                r.arrayKeywords = {
                    items: !0,
                    allOf: !0,
                    anyOf: !0,
                    oneOf: !0
                },
                r.propsKeywords = {
                    definitions: !0,
                    properties: !0,
                    patternProperties: !0,
                    dependencies: !0
                },
                r.skipKeywords = {
                    enum: !0,
                    const: !0,
                    required: !0,
                    maximum: !0,
                    minimum: !0,
                    exclusiveMaximum: !0,
                    exclusiveMinimum: !0,
                    multipleOf: !0,
                    maxLength: !0,
                    minLength: !0,
                    pattern: !0,
                    format: !0,
                    maxItems: !0,
                    minItems: !0,
                    uniqueItems: !0,
                    maxProperties: !0,
                    minProperties: !0
                }
            }
            , {}],
            44: [function(e, t, n) {
                var r;
                r = this,
                function(e) {
                    "use strict";
                    function t() {
                        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        if (1 < t.length) {
                            t[0] = t[0].slice(0, -1);
                            for (var r = t.length - 1, i = 1; i < r; ++i)
                                t[i] = t[i].slice(1, -1);
                            return t[r] = t[r].slice(1),
                            t.join("")
                        }
                        return t[0]
                    }
                    function n(e) {
                        return "(?:" + e + ")"
                    }
                    function r(e) {
                        return void 0 === e ? "undefined" : null === e ? "null" : Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()
                    }
                    function i(e) {
                        return e.toUpperCase()
                    }
                    function o(e) {
                        var r = "[A-Za-z]"
                          , i = "[0-9]"
                          , o = t(i, "[A-Fa-f]")
                          , a = n(n("%[EFef]" + o + "%" + o + o + "%" + o + o) + "|" + n("%[89A-Fa-f]" + o + "%" + o + o) + "|" + n("%" + o + o))
                          , s = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]"
                          , c = t("[\\:\\/\\?\\#\\[\\]\\@]", s)
                          , l = e ? "[\\uE000-\\uF8FF]" : "[]"
                          , u = t(r, i, "[\\-\\.\\_\\~]", e ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]")
                          , d = n(r + t(r, i, "[\\+\\-\\.]") + "*")
                          , f = n(n(a + "|" + t(u, s, "[\\:]")) + "*")
                          , h = (n(n("25[0-5]") + "|" + n("2[0-4]" + i) + "|" + n("1" + i + i) + "|" + n("[1-9]" + i) + "|" + i),
                        n(n("25[0-5]") + "|" + n("2[0-4]" + i) + "|" + n("1" + i + i) + "|" + n("0?[1-9]" + i) + "|0?0?" + i))
                          , p = n(h + "\\." + h + "\\." + h + "\\." + h)
                          , g = n(o + "{1,4}")
                          , m = n(n(g + "\\:" + g) + "|" + p)
                          , v = n([n(n(g + "\\:") + "{6}" + m), n("\\:\\:" + n(g + "\\:") + "{5}" + m), n(n(g) + "?\\:\\:" + n(g + "\\:") + "{4}" + m), n(n(n(g + "\\:") + "{0,1}" + g) + "?\\:\\:" + n(g + "\\:") + "{3}" + m), n(n(n(g + "\\:") + "{0,2}" + g) + "?\\:\\:" + n(g + "\\:") + "{2}" + m), n(n(n(g + "\\:") + "{0,3}" + g) + "?\\:\\:" + g + "\\:" + m), n(n(n(g + "\\:") + "{0,4}" + g) + "?\\:\\:" + m), n(n(n(g + "\\:") + "{0,5}" + g) + "?\\:\\:" + g), n(n(n(g + "\\:") + "{0,6}" + g) + "?\\:\\:")].join("|"))
                          , y = n(n(u + "|" + a) + "+")
                          , b = (n(v + "\\%25" + y),
                        n("\\[" + n(n(v + n("\\%25|\\%(?!" + o + "{2})") + y) + "|" + v + "|" + n("[vV]" + o + "+\\." + t(u, s, "[\\:]") + "+")) + "\\]"))
                          , w = n(n(a + "|" + t(u, s)) + "*")
                          , x = n(b + "|" + p + "(?!" + w + ")|" + w)
                          , S = n(i + "*")
                          , C = n(n(f + "@") + "?" + x + n("\\:" + S) + "?")
                          , _ = n(a + "|" + t(u, s, "[\\:\\@]"))
                          , k = n(_ + "*")
                          , E = n(_ + "+")
                          , T = n(n(a + "|" + t(u, s, "[\\@]")) + "+")
                          , P = n(n("\\/" + k) + "*")
                          , A = n("\\/" + n(E + P) + "?")
                          , O = n(T + P)
                          , $ = n(E + P)
                          , j = "(?!" + _ + ")"
                          , D = (n(P + "|" + A + "|" + O + "|" + $ + "|" + j),
                        n(n(_ + "|" + t("[\\/\\?]", l)) + "*"))
                          , R = n(n(_ + "|[\\/\\?]") + "*")
                          , M = n(n("\\/\\/" + C + P) + "|" + A + "|" + $ + "|" + j);
                        return n(n(d + "\\:" + M + n("\\?" + D) + "?" + n("\\#" + R) + "?") + "|" + n(n(n("\\/\\/" + C + P) + "|" + A + "|" + O + "|" + j) + n("\\?" + D) + "?" + n("\\#" + R) + "?")),
                        n(d + "\\:" + M + n("\\?" + D) + "?"),
                        n(n("\\/\\/(" + n("(" + f + ")@") + "?(" + x + ")" + n("\\:(" + S + ")") + "?)") + "?(" + P + "|" + A + "|" + $ + "|" + j + ")"),
                        n("\\?(" + D + ")"),
                        n("\\#(" + R + ")"),
                        n(n("\\/\\/(" + n("(" + f + ")@") + "?(" + x + ")" + n("\\:(" + S + ")") + "?)") + "?(" + P + "|" + A + "|" + O + "|" + j + ")"),
                        n("\\?(" + D + ")"),
                        n("\\#(" + R + ")"),
                        n(n("\\/\\/(" + n("(" + f + ")@") + "?(" + x + ")" + n("\\:(" + S + ")") + "?)") + "?(" + P + "|" + A + "|" + $ + "|" + j + ")"),
                        n("\\?(" + D + ")"),
                        n("\\#(" + R + ")"),
                        n("(" + f + ")@"),
                        n("\\:(" + S + ")"),
                        {
                            NOT_SCHEME: new RegExp(t("[^]", r, i, "[\\+\\-\\.]"),"g"),
                            NOT_USERINFO: new RegExp(t("[^\\%\\:]", u, s),"g"),
                            NOT_HOST: new RegExp(t("[^\\%\\[\\]\\:]", u, s),"g"),
                            NOT_PATH: new RegExp(t("[^\\%\\/\\:\\@]", u, s),"g"),
                            NOT_PATH_NOSCHEME: new RegExp(t("[^\\%\\/\\@]", u, s),"g"),
                            NOT_QUERY: new RegExp(t("[^\\%]", u, s, "[\\:\\@\\/\\?]", l),"g"),
                            NOT_FRAGMENT: new RegExp(t("[^\\%]", u, s, "[\\:\\@\\/\\?]"),"g"),
                            ESCAPE: new RegExp(t("[^]", u, s),"g"),
                            UNRESERVED: new RegExp(u,"g"),
                            OTHER_CHARS: new RegExp(t("[^\\%]", u, c),"g"),
                            PCT_ENCODED: new RegExp(a,"g"),
                            IPV4ADDRESS: new RegExp("^(" + p + ")$"),
                            IPV6ADDRESS: new RegExp("^\\[?(" + v + ")" + n(n("\\%25|\\%(?!" + o + "{2})") + "(" + y + ")") + "?\\]?$")
                        }
                    }
                    var a = o(!1)
                      , s = o(!0)
                      , c = function(e, t) {
                        if (Array.isArray(e))
                            return e;
                        if (Symbol.iterator in Object(e))
                            return function(e, t) {
                                var n = []
                                  , r = !0
                                  , i = !1
                                  , o = void 0;
                                try {
                                    for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value),
                                    !t || n.length !== t); r = !0)
                                        ;
                                } catch (e) {
                                    i = !0,
                                    o = e
                                } finally {
                                    try {
                                        !r && s.return && s.return()
                                    } finally {
                                        if (i)
                                            throw o
                                    }
                                }
                                return n
                            }(e, t);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                      , l = 2147483647
                      , u = /^xn--/
                      , d = /[^\0-\x7E]/
                      , f = /[\x2E\u3002\uFF0E\uFF61]/g
                      , h = {
                        overflow: "Overflow: input needs wider integers to process",
                        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                        "invalid-input": "Invalid input"
                    }
                      , p = Math.floor
                      , g = String.fromCharCode;
                    function m(e) {
                        throw new RangeError(h[e])
                    }
                    function v(e, t) {
                        var n = e.split("@")
                          , r = "";
                        return 1 < n.length && (r = n[0] + "@",
                        e = n[1]),
                        r + function(e, t) {
                            for (var n = [], r = e.length; r--; )
                                n[r] = t(e[r]);
                            return n
                        }((e = e.replace(f, ".")).split("."), t).join(".")
                    }
                    function y(e) {
                        for (var t = [], n = 0, r = e.length; n < r; ) {
                            var i = e.charCodeAt(n++);
                            if (55296 <= i && i <= 56319 && n < r) {
                                var o = e.charCodeAt(n++);
                                56320 == (64512 & o) ? t.push(((1023 & i) << 10) + (1023 & o) + 65536) : (t.push(i),
                                n--)
                            } else
                                t.push(i)
                        }
                        return t
                    }
                    var b = function(e, t) {
                        return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
                    }
                      , w = function(e, t, n) {
                        var r = 0;
                        for (e = n ? p(e / 700) : e >> 1,
                        e += p(e / t); 455 < e; r += 36)
                            e = p(e / 35);
                        return p(r + 36 * e / (e + 38))
                    }
                      , x = function(e) {
                        var t, n = [], r = e.length, i = 0, o = 128, a = 72, s = e.lastIndexOf("-");
                        s < 0 && (s = 0);
                        for (var c = 0; c < s; ++c)
                            128 <= e.charCodeAt(c) && m("not-basic"),
                            n.push(e.charCodeAt(c));
                        for (var u = 0 < s ? s + 1 : 0; u < r; ) {
                            for (var d = i, f = 1, h = 36; ; h += 36) {
                                r <= u && m("invalid-input");
                                var g = (t = e.charCodeAt(u++)) - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : 36;
                                (36 <= g || g > p((l - i) / f)) && m("overflow"),
                                i += g * f;
                                var v = h <= a ? 1 : a + 26 <= h ? 26 : h - a;
                                if (g < v)
                                    break;
                                var y = 36 - v;
                                f > p(l / y) && m("overflow"),
                                f *= y
                            }
                            var b = n.length + 1;
                            a = w(i - d, b, 0 == d),
                            p(i / b) > l - o && m("overflow"),
                            o += p(i / b),
                            i %= b,
                            n.splice(i++, 0, o)
                        }
                        return String.fromCodePoint.apply(String, n)
                    }
                      , S = function(e) {
                        var t = []
                          , n = (e = y(e)).length
                          , r = 128
                          , i = 0
                          , o = 72
                          , a = !0
                          , s = !1
                          , c = void 0;
                        try {
                            for (var u, d = e[Symbol.iterator](); !(a = (u = d.next()).done); a = !0) {
                                var f = u.value;
                                f < 128 && t.push(g(f))
                            }
                        } catch (e) {
                            s = !0,
                            c = e
                        } finally {
                            try {
                                !a && d.return && d.return()
                            } finally {
                                if (s)
                                    throw c
                            }
                        }
                        var h = t.length
                          , v = h;
                        for (h && t.push("-"); v < n; ) {
                            var x = l
                              , S = !0
                              , C = !1
                              , _ = void 0;
                            try {
                                for (var k, E = e[Symbol.iterator](); !(S = (k = E.next()).done); S = !0) {
                                    var T = k.value;
                                    r <= T && T < x && (x = T)
                                }
                            } catch (e) {
                                C = !0,
                                _ = e
                            } finally {
                                try {
                                    !S && E.return && E.return()
                                } finally {
                                    if (C)
                                        throw _
                                }
                            }
                            var P = v + 1;
                            x - r > p((l - i) / P) && m("overflow"),
                            i += (x - r) * P,
                            r = x;
                            var A = !0
                              , O = !1
                              , $ = void 0;
                            try {
                                for (var j, D = e[Symbol.iterator](); !(A = (j = D.next()).done); A = !0) {
                                    var R = j.value;
                                    if (R < r && ++i > l && m("overflow"),
                                    R == r) {
                                        for (var M = i, I = 36; ; I += 36) {
                                            var L = I <= o ? 1 : o + 26 <= I ? 26 : I - o;
                                            if (M < L)
                                                break;
                                            var F = M - L
                                              , N = 36 - L;
                                            t.push(g(b(L + F % N, 0))),
                                            M = p(F / N)
                                        }
                                        t.push(g(b(M, 0))),
                                        o = w(i, P, v == h),
                                        i = 0,
                                        ++v
                                    }
                                }
                            } catch (e) {
                                O = !0,
                                $ = e
                            } finally {
                                try {
                                    !A && D.return && D.return()
                                } finally {
                                    if (O)
                                        throw $
                                }
                            }
                            ++i,
                            ++r
                        }
                        return t.join("")
                    }
                      , C = {
                        version: "2.1.0",
                        ucs2: {
                            decode: y,
                            encode: function(e) {
                                return String.fromCodePoint.apply(String, function(e) {
                                    if (Array.isArray(e)) {
                                        for (var t = 0, n = Array(e.length); t < e.length; t++)
                                            n[t] = e[t];
                                        return n
                                    }
                                    return Array.from(e)
                                }(e))
                            }
                        },
                        decode: x,
                        encode: S,
                        toASCII: function(e) {
                            return v(e, function(e) {
                                return d.test(e) ? "xn--" + S(e) : e
                            })
                        },
                        toUnicode: function(e) {
                            return v(e, function(e) {
                                return u.test(e) ? x(e.slice(4).toLowerCase()) : e
                            })
                        }
                    }
                      , _ = {};
                    function k(e) {
                        var t = e.charCodeAt(0);
                        return t < 16 ? "%0" + t.toString(16).toUpperCase() : t < 128 ? "%" + t.toString(16).toUpperCase() : t < 2048 ? "%" + (t >> 6 | 192).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase() : "%" + (t >> 12 | 224).toString(16).toUpperCase() + "%" + (t >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase()
                    }
                    function E(e) {
                        for (var t = "", n = 0, r = e.length; n < r; ) {
                            var i = parseInt(e.substr(n + 1, 2), 16);
                            if (i < 128)
                                t += String.fromCharCode(i),
                                n += 3;
                            else if (194 <= i && i < 224) {
                                if (6 <= r - n) {
                                    var o = parseInt(e.substr(n + 4, 2), 16);
                                    t += String.fromCharCode((31 & i) << 6 | 63 & o)
                                } else
                                    t += e.substr(n, 6);
                                n += 6
                            } else if (224 <= i) {
                                if (9 <= r - n) {
                                    var a = parseInt(e.substr(n + 4, 2), 16)
                                      , s = parseInt(e.substr(n + 7, 2), 16);
                                    t += String.fromCharCode((15 & i) << 12 | (63 & a) << 6 | 63 & s)
                                } else
                                    t += e.substr(n, 9);
                                n += 9
                            } else
                                t += e.substr(n, 3),
                                n += 3
                        }
                        return t
                    }
                    function T(e, t) {
                        function n(e) {
                            var n = E(e);
                            return n.match(t.UNRESERVED) ? n : e
                        }
                        return e.scheme && (e.scheme = String(e.scheme).replace(t.PCT_ENCODED, n).toLowerCase().replace(t.NOT_SCHEME, "")),
                        void 0 !== e.userinfo && (e.userinfo = String(e.userinfo).replace(t.PCT_ENCODED, n).replace(t.NOT_USERINFO, k).replace(t.PCT_ENCODED, i)),
                        void 0 !== e.host && (e.host = String(e.host).replace(t.PCT_ENCODED, n).toLowerCase().replace(t.NOT_HOST, k).replace(t.PCT_ENCODED, i)),
                        void 0 !== e.path && (e.path = String(e.path).replace(t.PCT_ENCODED, n).replace(e.scheme ? t.NOT_PATH : t.NOT_PATH_NOSCHEME, k).replace(t.PCT_ENCODED, i)),
                        void 0 !== e.query && (e.query = String(e.query).replace(t.PCT_ENCODED, n).replace(t.NOT_QUERY, k).replace(t.PCT_ENCODED, i)),
                        void 0 !== e.fragment && (e.fragment = String(e.fragment).replace(t.PCT_ENCODED, n).replace(t.NOT_FRAGMENT, k).replace(t.PCT_ENCODED, i)),
                        e
                    }
                    function P(e) {
                        return e.replace(/^0*(.*)/, "$1") || "0"
                    }
                    function A(e, t) {
                        var n = e.match(t.IPV4ADDRESS) || []
                          , r = c(n, 2)[1];
                        return r ? r.split(".").map(P).join(".") : e
                    }
                    function O(e, t) {
                        var n = e.match(t.IPV6ADDRESS) || []
                          , r = c(n, 3)
                          , i = r[1]
                          , o = r[2];
                        if (i) {
                            for (var a = i.toLowerCase().split("::").reverse(), s = c(a, 2), l = s[0], u = s[1], d = u ? u.split(":").map(P) : [], f = l.split(":").map(P), h = t.IPV4ADDRESS.test(f[f.length - 1]), p = h ? 7 : 8, g = f.length - p, m = Array(p), v = 0; v < p; ++v)
                                m[v] = d[v] || f[g + v] || "";
                            h && (m[p - 1] = A(m[p - 1], t));
                            var y = m.reduce(function(e, t, n) {
                                if (!t || "0" === t) {
                                    var r = e[e.length - 1];
                                    r && r.index + r.length === n ? r.length++ : e.push({
                                        index: n,
                                        length: 1
                                    })
                                }
                                return e
                            }, []).sort(function(e, t) {
                                return t.length - e.length
                            })[0]
                              , b = void 0;
                            if (y && 1 < y.length) {
                                var w = m.slice(0, y.index)
                                  , x = m.slice(y.index + y.length);
                                b = w.join(":") + "::" + x.join(":")
                            } else
                                b = m.join(":");
                            return o && (b += "%" + o),
                            b
                        }
                        return e
                    }
                    var $ = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i
                      , j = void 0 === "".match(/(){0}/)[1];
                    function D(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}
                          , n = {}
                          , r = !1 !== t.iri ? s : a;
                        "suffix" === t.reference && (e = (t.scheme ? t.scheme + ":" : "") + "//" + e);
                        var i = e.match($);
                        if (i) {
                            j ? (n.scheme = i[1],
                            n.userinfo = i[3],
                            n.host = i[4],
                            n.port = parseInt(i[5], 10),
                            n.path = i[6] || "",
                            n.query = i[7],
                            n.fragment = i[8],
                            isNaN(n.port) && (n.port = i[5])) : (n.scheme = i[1] || void 0,
                            n.userinfo = -1 !== e.indexOf("@") ? i[3] : void 0,
                            n.host = -1 !== e.indexOf("//") ? i[4] : void 0,
                            n.port = parseInt(i[5], 10),
                            n.path = i[6] || "",
                            n.query = -1 !== e.indexOf("?") ? i[7] : void 0,
                            n.fragment = -1 !== e.indexOf("#") ? i[8] : void 0,
                            isNaN(n.port) && (n.port = e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? i[4] : void 0)),
                            n.host && (n.host = O(A(n.host, r), r)),
                            n.reference = void 0 !== n.scheme || void 0 !== n.userinfo || void 0 !== n.host || void 0 !== n.port || n.path || void 0 !== n.query ? void 0 === n.scheme ? "relative" : void 0 === n.fragment ? "absolute" : "uri" : "same-document",
                            t.reference && "suffix" !== t.reference && t.reference !== n.reference && (n.error = n.error || "URI is not a " + t.reference + " reference.");
                            var o = _[(t.scheme || n.scheme || "").toLowerCase()];
                            if (t.unicodeSupport || o && o.unicodeSupport)
                                T(n, r);
                            else {
                                if (n.host && (t.domainHost || o && o.domainHost))
                                    try {
                                        n.host = C.toASCII(n.host.replace(r.PCT_ENCODED, E).toLowerCase())
                                    } catch (e) {
                                        n.error = n.error || "Host's domain name can not be converted to ASCII via punycode: " + e
                                    }
                                T(n, a)
                            }
                            o && o.parse && o.parse(n, t)
                        } else
                            n.error = n.error || "URI can not be parsed.";
                        return n
                    }
                    var R = /^\.\.?\//
                      , M = /^\/\.(\/|$)/
                      , I = /^\/\.\.(\/|$)/
                      , L = /^\/?(?:.|\n)*?(?=\/|$)/;
                    function F(e) {
                        for (var t = []; e.length; )
                            if (e.match(R))
                                e = e.replace(R, "");
                            else if (e.match(M))
                                e = e.replace(M, "/");
                            else if (e.match(I))
                                e = e.replace(I, "/"),
                                t.pop();
                            else if ("." === e || ".." === e)
                                e = "";
                            else {
                                var n = e.match(L);
                                if (!n)
                                    throw new Error("Unexpected dot segment condition");
                                var r = n[0];
                                e = e.slice(r.length),
                                t.push(r)
                            }
                        return t.join("")
                    }
                    function N(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}
                          , n = t.iri ? s : a
                          , r = []
                          , i = _[(t.scheme || e.scheme || "").toLowerCase()];
                        if (i && i.serialize && i.serialize(e, t),
                        e.host)
                            if (n.IPV6ADDRESS.test(e.host))
                                ;
                            else if (t.domainHost || i && i.domainHost)
                                try {
                                    e.host = t.iri ? C.toUnicode(e.host) : C.toASCII(e.host.replace(n.PCT_ENCODED, E).toLowerCase())
                                } catch (n) {
                                    e.error = e.error || "Host's domain name can not be converted to " + (t.iri ? "Unicode" : "ASCII") + " via punycode: " + n
                                }
                        T(e, n),
                        "suffix" !== t.reference && e.scheme && (r.push(e.scheme),
                        r.push(":"));
                        var o, c, l, u = (c = !1 !== t.iri ? s : a,
                        l = [],
                        void 0 !== (o = e).userinfo && (l.push(o.userinfo),
                        l.push("@")),
                        void 0 !== o.host && l.push(O(A(String(o.host), c), c).replace(c.IPV6ADDRESS, function(e, t, n) {
                            return "[" + t + (n ? "%25" + n : "") + "]"
                        })),
                        "number" == typeof o.port && (l.push(":"),
                        l.push(o.port.toString(10))),
                        l.length ? l.join("") : void 0);
                        if (void 0 !== u && ("suffix" !== t.reference && r.push("//"),
                        r.push(u),
                        e.path && "/" !== e.path.charAt(0) && r.push("/")),
                        void 0 !== e.path) {
                            var d = e.path;
                            t.absolutePath || i && i.absolutePath || (d = F(d)),
                            void 0 === u && (d = d.replace(/^\/\//, "/%2F")),
                            r.push(d)
                        }
                        return void 0 !== e.query && (r.push("?"),
                        r.push(e.query)),
                        void 0 !== e.fragment && (r.push("#"),
                        r.push(e.fragment)),
                        r.join("")
                    }
                    function B(e, t) {
                        var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}
                          , r = {};
                        return arguments[3] || (e = D(N(e, n), n),
                        t = D(N(t, n), n)),
                        !(n = n || {}).tolerant && t.scheme ? (r.scheme = t.scheme,
                        r.userinfo = t.userinfo,
                        r.host = t.host,
                        r.port = t.port,
                        r.path = F(t.path || ""),
                        r.query = t.query) : (void 0 !== t.userinfo || void 0 !== t.host || void 0 !== t.port ? (r.userinfo = t.userinfo,
                        r.host = t.host,
                        r.port = t.port,
                        r.path = F(t.path || ""),
                        r.query = t.query) : (t.path ? ("/" === t.path.charAt(0) ? r.path = F(t.path) : (r.path = void 0 === e.userinfo && void 0 === e.host && void 0 === e.port || e.path ? e.path ? e.path.slice(0, e.path.lastIndexOf("/") + 1) + t.path : t.path : "/" + t.path,
                        r.path = F(r.path)),
                        r.query = t.query) : (r.path = e.path,
                        r.query = void 0 !== t.query ? t.query : e.query),
                        r.userinfo = e.userinfo,
                        r.host = e.host,
                        r.port = e.port),
                        r.scheme = e.scheme),
                        r.fragment = t.fragment,
                        r
                    }
                    function U(e, t) {
                        return e && e.toString().replace(t && t.iri ? s.PCT_ENCODED : a.PCT_ENCODED, E)
                    }
                    var q = {
                        scheme: "http",
                        domainHost: !0,
                        parse: function(e, t) {
                            return e.host || (e.error = e.error || "HTTP URIs must have a host."),
                            e
                        },
                        serialize: function(e, t) {
                            return e.port !== ("https" !== String(e.scheme).toLowerCase() ? 80 : 443) && "" !== e.port || (e.port = void 0),
                            e.path || (e.path = "/"),
                            e
                        }
                    }
                      , V = {
                        scheme: "https",
                        domainHost: q.domainHost,
                        parse: q.parse,
                        serialize: q.serialize
                    }
                      , z = {}
                      , H = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]"
                      , W = "[0-9A-Fa-f]"
                      , G = n(n("%[EFef]" + W + "%" + W + W + "%" + W + W) + "|" + n("%[89A-Fa-f]" + W + "%" + W + W) + "|" + n("%" + W + W))
                      , X = t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", '[\\"\\\\]')
                      , Y = new RegExp(H,"g")
                      , K = new RegExp(G,"g")
                      , Q = new RegExp(t("[^]", "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", "[\\.]", '[\\"]', X),"g")
                      , J = new RegExp(t("[^]", H, "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g")
                      , Z = J;
                    function ee(e) {
                        var t = E(e);
                        return t.match(Y) ? t : e
                    }
                    var te = {
                        scheme: "mailto",
                        parse: function(e, t) {
                            var n = e
                              , r = n.to = n.path ? n.path.split(",") : [];
                            if (n.path = void 0,
                            n.query) {
                                for (var i = !1, o = {}, a = n.query.split("&"), s = 0, c = a.length; s < c; ++s) {
                                    var l = a[s].split("=");
                                    switch (l[0]) {
                                    case "to":
                                        for (var u = l[1].split(","), d = 0, f = u.length; d < f; ++d)
                                            r.push(u[d]);
                                        break;
                                    case "subject":
                                        n.subject = U(l[1], t);
                                        break;
                                    case "body":
                                        n.body = U(l[1], t);
                                        break;
                                    default:
                                        i = !0,
                                        o[U(l[0], t)] = U(l[1], t)
                                    }
                                }
                                i && (n.headers = o)
                            }
                            n.query = void 0;
                            for (var h = 0, p = r.length; h < p; ++h) {
                                var g = r[h].split("@");
                                if (g[0] = U(g[0]),
                                t.unicodeSupport)
                                    g[1] = U(g[1], t).toLowerCase();
                                else
                                    try {
                                        g[1] = C.toASCII(U(g[1], t).toLowerCase())
                                    } catch (e) {
                                        n.error = n.error || "Email address's domain name can not be converted to ASCII via punycode: " + e
                                    }
                                r[h] = g.join("@")
                            }
                            return n
                        },
                        serialize: function(e, t) {
                            var n, r = e, o = null != (n = e.to) ? n instanceof Array ? n : "number" != typeof n.length || n.split || n.setInterval || n.call ? [n] : Array.prototype.slice.call(n) : [];
                            if (o) {
                                for (var a = 0, s = o.length; a < s; ++a) {
                                    var c = String(o[a])
                                      , l = c.lastIndexOf("@")
                                      , u = c.slice(0, l).replace(K, ee).replace(K, i).replace(Q, k)
                                      , d = c.slice(l + 1);
                                    try {
                                        d = t.iri ? C.toUnicode(d) : C.toASCII(U(d, t).toLowerCase())
                                    } catch (e) {
                                        r.error = r.error || "Email address's domain name can not be converted to " + (t.iri ? "Unicode" : "ASCII") + " via punycode: " + e
                                    }
                                    o[a] = u + "@" + d
                                }
                                r.path = o.join(",")
                            }
                            var f = e.headers = e.headers || {};
                            e.subject && (f.subject = e.subject),
                            e.body && (f.body = e.body);
                            var h = [];
                            for (var p in f)
                                f[p] !== z[p] && h.push(p.replace(K, ee).replace(K, i).replace(J, k) + "=" + f[p].replace(K, ee).replace(K, i).replace(Z, k));
                            return h.length && (r.query = h.join("&")),
                            r
                        }
                    }
                      , ne = /^([^\:]+)\:(.*)/
                      , re = {
                        scheme: "urn",
                        parse: function(e, t) {
                            var n = e.path && e.path.match(ne)
                              , r = e;
                            if (n) {
                                var i = t.scheme || r.scheme || "urn"
                                  , o = n[1].toLowerCase()
                                  , a = n[2]
                                  , s = _[i + ":" + (t.nid || o)];
                                r.nid = o,
                                r.nss = a,
                                r.path = void 0,
                                s && (r = s.parse(r, t))
                            } else
                                r.error = r.error || "URN can not be parsed.";
                            return r
                        },
                        serialize: function(e, t) {
                            var n = e.nid
                              , r = _[(t.scheme || e.scheme || "urn") + ":" + (t.nid || n)];
                            r && (e = r.serialize(e, t));
                            var i = e;
                            return i.path = (n || t.nid) + ":" + e.nss,
                            i
                        }
                    }
                      , ie = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/
                      , oe = {
                        scheme: "urn:uuid",
                        parse: function(e, t) {
                            var n = e;
                            return n.uuid = n.nss,
                            n.nss = void 0,
                            t.tolerant || n.uuid && n.uuid.match(ie) || (n.error = n.error || "UUID is not valid."),
                            n
                        },
                        serialize: function(e, t) {
                            var n = e;
                            return n.nss = (e.uuid || "").toLowerCase(),
                            n
                        }
                    };
                    _[q.scheme] = q,
                    _[V.scheme] = V,
                    _[te.scheme] = te,
                    _[re.scheme] = re,
                    _[oe.scheme] = oe,
                    e.SCHEMES = _,
                    e.pctEncChar = k,
                    e.pctDecChars = E,
                    e.parse = D,
                    e.removeDotSegments = F,
                    e.serialize = N,
                    e.resolveComponents = B,
                    e.resolve = function(e, t, n) {
                        var r = function(e, t) {
                            var n = {
                                scheme: "null"
                            };
                            if (t)
                                for (var r in t)
                                    n[r] = t[r];
                            return n
                        }(0, n);
                        return N(B(D(e, r), D(t, r), r, !0), r)
                    }
                    ,
                    e.normalize = function(e, t) {
                        return "string" == typeof e ? e = N(D(e, t), t) : "object" === r(e) && (e = D(N(e, t), t)),
                        e
                    }
                    ,
                    e.equal = function(e, t, n) {
                        return "string" == typeof e ? e = N(D(e, n), n) : "object" === r(e) && (e = N(e, n)),
                        "string" == typeof t ? t = N(D(t, n), n) : "object" === r(t) && (t = N(t, n)),
                        e === t
                    }
                    ,
                    e.escapeComponent = function(e, t) {
                        return e && e.toString().replace(t && t.iri ? s.ESCAPE : a.ESCAPE, k)
                    }
                    ,
                    e.unescapeComponent = U,
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }("object" == typeof n && void 0 !== t ? n : r.URI = r.URI || {})
            }
            , {}],
            ajv: [function(e, t, n) {
                "use strict";
                var r = e("./compile")
                  , i = e("./compile/resolve")
                  , o = e("./cache")
                  , a = e("./compile/schema_obj")
                  , s = e("fast-json-stable-stringify")
                  , c = e("./compile/formats")
                  , l = e("./compile/rules")
                  , u = e("./data")
                  , d = e("./compile/util");
                (t.exports = v).prototype.validate = function(e, t) {
                    var n;
                    if ("string" == typeof e) {
                        if (!(n = this.getSchema(e)))
                            throw new Error('no schema with key or ref "' + e + '"')
                    } else {
                        var r = this._addSchema(e);
                        n = r.validate || this._compile(r)
                    }
                    var i = n(t);
                    return !0 !== n.$async && (this.errors = n.errors),
                    i
                }
                ,
                v.prototype.compile = function(e, t) {
                    var n = this._addSchema(e, void 0, t);
                    return n.validate || this._compile(n)
                }
                ,
                v.prototype.addSchema = function(e, t, n, r) {
                    if (Array.isArray(e)) {
                        for (var o = 0; o < e.length; o++)
                            this.addSchema(e[o], void 0, n, r);
                        return this
                    }
                    var a = this._getId(e);
                    if (void 0 !== a && "string" != typeof a)
                        throw new Error("schema id must be string");
                    return C(this, t = i.normalizeId(t || a)),
                    this._schemas[t] = this._addSchema(e, n, r, !0),
                    this
                }
                ,
                v.prototype.addMetaSchema = function(e, t, n) {
                    return this.addSchema(e, t, n, !0),
                    this
                }
                ,
                v.prototype.validateSchema = function(e, t) {
                    var n, r, i = e.$schema;
                    if (void 0 !== i && "string" != typeof i)
                        throw new Error("$schema must be a string");
                    if (!(i = i || this._opts.defaultMeta || (n = this,
                    r = n._opts.meta,
                    n._opts.defaultMeta = "object" == typeof r ? n._getId(r) || r : n.getSchema(p) ? p : void 0,
                    n._opts.defaultMeta)))
                        return this.logger.warn("meta-schema not available"),
                        !(this.errors = null);
                    var o, a = this._formats.uri;
                    this._formats.uri = "function" == typeof a ? this._schemaUriFormatFunc : this._schemaUriFormat;
                    try {
                        o = this.validate(i, e)
                    } finally {
                        this._formats.uri = a
                    }
                    if (!o && t) {
                        var s = "schema is invalid: " + this.errorsText();
                        if ("log" != this._opts.validateSchema)
                            throw new Error(s);
                        this.logger.error(s)
                    }
                    return o
                }
                ,
                v.prototype.getSchema = function(e) {
                    var t = y(this, e);
                    switch (typeof t) {
                    case "object":
                        return t.validate || this._compile(t);
                    case "string":
                        return this.getSchema(t);
                    case "undefined":
                        return function(e, t) {
                            var n = i.schema.call(e, {
                                schema: {}
                            }, t);
                            if (n) {
                                var o = n.schema
                                  , s = n.root
                                  , c = n.baseId
                                  , l = r.call(e, o, s, void 0, c);
                                return e._fragments[t] = new a({
                                    ref: t,
                                    fragment: !0,
                                    schema: o,
                                    root: s,
                                    baseId: c,
                                    validate: l
                                }),
                                l
                            }
                        }(this, e)
                    }
                }
                ,
                v.prototype.removeSchema = function(e) {
                    if (e instanceof RegExp)
                        return b(this, this._schemas, e),
                        b(this, this._refs, e),
                        this;
                    switch (typeof e) {
                    case "undefined":
                        return b(this, this._schemas),
                        b(this, this._refs),
                        this._cache.clear(),
                        this;
                    case "string":
                        var t = y(this, e);
                        return t && this._cache.del(t.cacheKey),
                        delete this._schemas[e],
                        delete this._refs[e],
                        this;
                    case "object":
                        var n = this._opts.serialize
                          , r = n ? n(e) : e;
                        this._cache.del(r);
                        var o = this._getId(e);
                        o && (o = i.normalizeId(o),
                        delete this._schemas[o],
                        delete this._refs[o])
                    }
                    return this
                }
                ,
                v.prototype.addFormat = function(e, t) {
                    return "string" == typeof t && (t = new RegExp(t)),
                    this._formats[e] = t,
                    this
                }
                ,
                v.prototype.errorsText = function(e, t) {
                    if (!(e = e || this.errors))
                        return "No errors";
                    for (var n = void 0 === (t = t || {}).separator ? ", " : t.separator, r = void 0 === t.dataVar ? "data" : t.dataVar, i = "", o = 0; o < e.length; o++) {
                        var a = e[o];
                        a && (i += r + a.dataPath + " " + a.message + n)
                    }
                    return i.slice(0, -n.length)
                }
                ,
                v.prototype._addSchema = function(e, t, n, r) {
                    if ("object" != typeof e && "boolean" != typeof e)
                        throw new Error("schema should be object or boolean");
                    var o = this._opts.serialize
                      , s = o ? o(e) : e
                      , c = this._cache.get(s);
                    if (c)
                        return c;
                    r = r || !1 !== this._opts.addUsedSchema;
                    var l = i.normalizeId(this._getId(e));
                    l && r && C(this, l);
                    var u, d = !1 !== this._opts.validateSchema && !t;
                    d && !(u = l && l == i.normalizeId(e.$schema)) && this.validateSchema(e, !0);
                    var f = i.ids.call(this, e)
                      , h = new a({
                        id: l,
                        schema: e,
                        localRefs: f,
                        cacheKey: s,
                        meta: n
                    });
                    return "#" != l[0] && r && (this._refs[l] = h),
                    this._cache.put(s, h),
                    d && u && this.validateSchema(e, !0),
                    h
                }
                ,
                v.prototype._compile = function(e, t) {
                    if (e.compiling)
                        return (e.validate = o).schema = e.schema,
                        o.errors = null,
                        o.root = t || o,
                        !0 === e.schema.$async && (o.$async = !0),
                        o;
                    var n, i;
                    e.compiling = !0,
                    e.meta && (n = this._opts,
                    this._opts = this._metaOpts);
                    try {
                        i = r.call(this, e.schema, t, e.localRefs)
                    } finally {
                        e.compiling = !1,
                        e.meta && (this._opts = n)
                    }
                    return e.validate = i,
                    e.refs = i.refs,
                    e.refVal = i.refVal,
                    e.root = i.root,
                    i;
                    function o() {
                        var t = e.validate
                          , n = t.apply(this, arguments);
                        return o.errors = t.errors,
                        n
                    }
                }
                ,
                v.prototype.compileAsync = e("./compile/async");
                var f = e("./keyword");
                v.prototype.addKeyword = f.add,
                v.prototype.getKeyword = f.get,
                v.prototype.removeKeyword = f.remove;
                var h = e("./compile/error_classes");
                v.ValidationError = h.Validation,
                v.MissingRefError = h.MissingRef,
                v.$dataMetaSchema = u;
                var p = "http://json-schema.org/draft-07/schema"
                  , g = ["removeAdditional", "useDefaults", "coerceTypes"]
                  , m = ["/properties"];
                function v(t) {
                    if (!(this instanceof v))
                        return new v(t);
                    t = this._opts = d.copy(t) || {},
                    function(e) {
                        var t = e._opts.logger;
                        if (!1 === t)
                            e.logger = {
                                log: _,
                                warn: _,
                                error: _
                            };
                        else {
                            if (void 0 === t && (t = console),
                            !("object" == typeof t && t.log && t.warn && t.error))
                                throw new Error("logger must implement log, warn and error methods");
                            e.logger = t
                        }
                    }(this),
                    this._schemas = {},
                    this._refs = {},
                    this._fragments = {},
                    this._formats = c(t.format);
                    var n = this._schemaUriFormat = this._formats["uri-reference"];
                    this._schemaUriFormatFunc = function(e) {
                        return n.test(e)
                    }
                    ,
                    this._cache = t.cache || new o,
                    this._loadingSchemas = {},
                    this._compilations = [],
                    this.RULES = l(),
                    this._getId = function(e) {
                        switch (t.schemaId) {
                        case "auto":
                            return S;
                        case "id":
                            return w;
                        default:
                            return x
                        }
                    }(),
                    t.loopRequired = t.loopRequired || 1 / 0,
                    "property" == t.errorDataPath && (t._errorDataPathProperty = !0),
                    void 0 === t.serialize && (t.serialize = s),
                    this._metaOpts = function(e) {
                        for (var t = d.copy(e._opts), n = 0; n < g.length; n++)
                            delete t[g[n]];
                        return t
                    }(this),
                    t.formats && function(e) {
                        for (var t in e._opts.formats) {
                            var n = e._opts.formats[t];
                            e.addFormat(t, n)
                        }
                    }(this),
                    function(t) {
                        var n;
                        if (t._opts.$data && (n = e("./refs/data.json"),
                        t.addMetaSchema(n, n.$id, !0)),
                        !1 !== t._opts.meta) {
                            var r = e("./refs/json-schema-draft-07.json");
                            t._opts.$data && (r = u(r, m)),
                            t.addMetaSchema(r, p, !0),
                            t._refs["http://json-schema.org/schema"] = p
                        }
                    }(this),
                    "object" == typeof t.meta && this.addMetaSchema(t.meta),
                    function(e) {
                        var t = e._opts.schemas;
                        if (t)
                            if (Array.isArray(t))
                                e.addSchema(t);
                            else
                                for (var n in t)
                                    e.addSchema(t[n], n)
                    }(this)
                }
                function y(e, t) {
                    return t = i.normalizeId(t),
                    e._schemas[t] || e._refs[t] || e._fragments[t]
                }
                function b(e, t, n) {
                    for (var r in t) {
                        var i = t[r];
                        i.meta || n && !n.test(r) || (e._cache.del(i.cacheKey),
                        delete t[r])
                    }
                }
                function w(e) {
                    return e.$id && this.logger.warn("schema $id ignored", e.$id),
                    e.id
                }
                function x(e) {
                    return e.id && this.logger.warn("schema id ignored", e.id),
                    e.$id
                }
                function S(e) {
                    if (e.$id && e.id && e.$id != e.id)
                        throw new Error("schema $id is different from id");
                    return e.$id || e.id
                }
                function C(e, t) {
                    if (e._schemas[t] || e._refs[t])
                        throw new Error('schema with key or id "' + t + '" already exists')
                }
                function _() {}
            }
            , {
                "./cache": 1,
                "./compile": 5,
                "./compile/async": 2,
                "./compile/error_classes": 3,
                "./compile/formats": 4,
                "./compile/resolve": 6,
                "./compile/rules": 7,
                "./compile/schema_obj": 8,
                "./compile/util": 10,
                "./data": 11,
                "./keyword": 38,
                "./refs/data.json": 39,
                "./refs/json-schema-draft-07.json": 40,
                "fast-json-stable-stringify": 42
            }]
        }, {}, [])("ajv");
        var l = [{
            $id: "http://api.ekstep.org/telemetry/actor",
            type: "object",
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/actor/id",
                    type: "string"
                },
                type: {
                    $id: "http://api.ekstep.org/telemetry/actor/type",
                    type: "string"
                }
            },
            required: ["type", "id"]
        }, {
            $id: "http://api.ekstep.org/telemetry/assess",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["ASSESS"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["item", "pass", "score", "resvalues", "duration"],
                        properties: {
                            item: {
                                $ref: "http://api.ekstep.org/telemetry/question"
                            },
                            index: {
                                $id: "http://api.ekstep.org/telemetry/edata/index",
                                type: "number"
                            },
                            pass: {
                                $id: "http://api.ekstep.org/telemetry/edata/pass",
                                type: "string"
                            },
                            score: {
                                $id: "http://api.ekstep.org/telemetry/edata/score",
                                type: "number"
                            },
                            resvalues: {
                                $id: "http://api.ekstep.org/telemetry/edata/resvalues",
                                type: "array",
                                items: {
                                    type: "object"
                                }
                            },
                            duration: {
                                $id: "http://api.ekstep.org/telemetry/edata/duration",
                                type: "number"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/audit",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["AUDIT"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        properties: {
                            props: {
                                $id: "http://api.ekstep.org/telemetry/edata/props",
                                type: "array",
                                items: {
                                    type: "string"
                                }
                            },
                            state: {
                                $id: "http://api.ekstep.org/telemetry/edata/state",
                                type: "string"
                            },
                            prevstate: {
                                $id: "http://api.ekstep.org/telemetry/edata/prevstate",
                                type: "string"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/cdata",
            type: "array",
            items: {
                type: "object",
                properties: {
                    type: {
                        $id: "http://api.ekstep.org/telemetry/cdata/type",
                        type: "string"
                    },
                    id: {
                        $id: "http://api.ekstep.org/telemetry/cdata/id",
                        type: "string"
                    }
                },
                additionalProperties: !1,
                required: ["type", "id"]
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/common",
            type: "object",
            properties: {
                ets: {
                    $id: "http://api.ekstep.org/telemetry/ets",
                    type: "number",
                    format: "date-time"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/ver",
                    type: "string",
                    enum: ["3.0"]
                },
                mid: {
                    $id: "http://api.ekstep.org/telemetry/mid",
                    type: "string",
                    minLength: 1
                },
                actor: {
                    $ref: "http://api.ekstep.org/telemetry/actor"
                },
                context: {
                    $ref: "http://api.ekstep.org/telemetry/context"
                },
                object: {
                    $ref: "http://api.ekstep.org/telemetry/object"
                },
                tags: {
                    type: "array",
                    items: {
                        type: "string"
                    }
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/context",
            type: "object",
            properties: {
                channel: {
                    $id: "http://api.ekstep.org/telemetry/context/channel",
                    type: "string",
                    minLength: 1
                },
                pdata: {
                    $ref: "http://api.ekstep.org/telemetry/pdata"
                },
                env: {
                    $id: "http://api.ekstep.org/telemetry/context/env",
                    type: "string"
                },
                sid: {
                    $id: "http://api.ekstep.org/telemetry/context/sid",
                    type: "string"
                },
                did: {
                    $id: "http://api.ekstep.org/telemetry/context/did",
                    type: "string"
                },
                cdata: {
                    $ref: "http://api.ekstep.org/telemetry/cdata"
                }
            },
            required: ["channel", "env", "pdata"]
        }, {
            $id: "http://api.ekstep.org/telemetry/dspec",
            type: "object",
            properties: {
                os: {
                    $id: "http://api.ekstep.org/telemetry/dspec/os",
                    type: "string"
                },
                make: {
                    $id: "http://api.ekstep.org/telemetry/dspec/make",
                    type: "string"
                },
                id: {
                    $id: "http://api.ekstep.org/telemetry/dspec/id",
                    type: "string"
                },
                mem: {
                    $id: "http://api.ekstep.org/telemetry/dspec/mem",
                    type: "number",
                    minimum: -1
                },
                idisk: {
                    $id: "http://api.ekstep.org/telemetry/dspec/idisk",
                    type: "number",
                    minimum: -1
                },
                edisk: {
                    $id: "http://api.ekstep.org/telemetry/dspec/edisk",
                    type: "number",
                    minimum: -1
                },
                scrn: {
                    $id: "http://api.ekstep.org/telemetry/dspec/scrn",
                    type: "number",
                    minimum: -1
                },
                camera: {
                    $id: "http://api.ekstep.org/telemetry/dspec/camera",
                    type: "string"
                },
                cpu: {
                    $id: "http://api.ekstep.org/telemetry/dspec/cpu",
                    type: "string"
                },
                sims: {
                    $id: "http://api.ekstep.org/telemetry/dspec/sims",
                    type: "number",
                    minimum: -1
                },
                cap: {
                    $id: "http://api.ekstep.org/telemetry/dspec/cap",
                    type: "array",
                    items: {
                        type: "string"
                    }
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/end",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["END"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            mode: {
                                $id: "http://api.ekstep.org/telemetry/edata/mode",
                                type: "string"
                            },
                            duration: {
                                $id: "http://api.ekstep.org/telemetry/edata/duration",
                                type: "number"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            },
                            summary: {
                                $id: "http://api.ekstep.org/telemetry/edata/summary",
                                type: "array",
                                items: {
                                    type: "object"
                                }
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/error",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["ERROR"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["err", "errtype", "stacktrace"],
                        properties: {
                            err: {
                                $id: "http://api.ekstep.org/telemetry/edata/err",
                                type: "string"
                            },
                            errtype: {
                                $id: "http://api.ekstep.org/telemetry/edata/errtype",
                                type: "string"
                            },
                            stacktrace: {
                                $id: "http://api.ekstep.org/telemetry/edata/stacktrace",
                                type: "string"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            },
                            object: {
                                $ref: "http://api.ekstep.org/telemetry/inlineobject"
                            },
                            plugin: {
                                $ref: "http://api.ekstep.org/telemetry/plugin"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/exdata",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["EXDATA"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            data: {
                                $id: "http://api.ekstep.org/telemetry/edata/data",
                                type: "string"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/feedback",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["FEEDBACK"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        properties: {
                            rating: {
                                $id: "http://api.ekstep.org/telemetry/edata/rating",
                                type: "number"
                            },
                            comments: {
                                $id: "http://api.ekstep.org/telemetry/edata/comments",
                                type: "string"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/heartbeat",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["HEARTBEAT"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object"
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/impression",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["IMPRESSION"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type", "pageid", "uri"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            subtype: {
                                $id: "http://api.ekstep.org/telemetry/edata/subtype",
                                type: "string"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            },
                            uri: {
                                $id: "http://api.ekstep.org/telemetry/edata/uri",
                                type: "string"
                            },
                            duration: {
                                $id: "http://api.ekstep.org/telemetry/edata/duration",
                                type: "number"
                            },
                            visits: {
                                $id: "http://api.ekstep.org/telemetry/edata/visits",
                                type: "array",
                                items: {
                                    type: "object",
                                    properties: {
                                        objid: {
                                            $id: "http://api.ekstep.org/telemetry/edata/visits/objid",
                                            type: "string"
                                        },
                                        objtype: {
                                            $id: "http://api.ekstep.org/telemetry/edata/visits/objtype",
                                            type: "string"
                                        },
                                        objver: {
                                            $id: "http://api.ekstep.org/telemetry/edata/visits/objver",
                                            type: "string"
                                        },
                                        section: {
                                            $id: "http://api.ekstep.org/telemetry/edata/visits/section",
                                            type: "string"
                                        },
                                        index: {
                                            $id: "http://api.ekstep.org/telemetry/edata/visits/index",
                                            type: "number"
                                        }
                                    },
                                    additionalProperties: !1,
                                    required: ["objid", "objtype"]
                                }
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/inlineobject",
            type: "object",
            additionalProperties: !1,
            required: ["id", "type", "ver"],
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/id",
                    type: "string"
                },
                type: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/type",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/ver",
                    type: "string"
                },
                subtype: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/subtype",
                    type: "string"
                },
                name: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/name",
                    type: "string"
                },
                code: {
                    $id: "http://api.ekstep.org/telemetry/inlineobject/code",
                    type: "string"
                },
                parent: {
                    $ref: "http://api.ekstep.org/telemetry/parent"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/interact",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["INTERACT"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type", "id"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            subtype: {
                                $id: "http://api.ekstep.org/telemetry/edata/subtype",
                                type: "string"
                            },
                            id: {
                                $id: "http://api.ekstep.org/telemetry/edata/id",
                                type: "string"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            },
                            duration: {
                                $id: "http://api.ekstep.org/telemetry/edata/duration",
                                type: "number"
                            },
                            target: {
                                $ref: "http://api.ekstep.org/telemetry/target"
                            },
                            plugin: {
                                $ref: "http://api.ekstep.org/telemetry/plugin"
                            },
                            extra: {
                                $id: "http://api.ekstep.org/telemetry/edata/extra",
                                type: "object"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/interrupt",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["INTERRUPT"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/items",
            type: "array",
            items: {
                type: "object",
                additionalProperties: !1,
                properties: {
                    id: {
                        $id: "http://api.ekstep.org/telemetry/items/id",
                        type: "string"
                    },
                    type: {
                        $id: "http://api.ekstep.org/telemetry/items/type",
                        type: "string"
                    },
                    ver: {
                        $id: "http://api.ekstep.org/telemetry/items/ver",
                        type: "string"
                    },
                    params: {
                        $id: "http://api.ekstep.org/telemetry/items/params",
                        type: "array",
                        items: {
                            type: "object"
                        }
                    },
                    origin: {
                        $id: "http://api.ekstep.org/telemetry/items/origin",
                        type: "object",
                        properties: {
                            id: {
                                $id: "http://api.ekstep.org/telemetry/items/origin/id",
                                type: "string"
                            },
                            type: {
                                $id: "http://api.ekstep.org/telemetry/items/origin/type",
                                type: "string"
                            }
                        }
                    },
                    to: {
                        $id: "http://api.ekstep.org/telemetry/items/to",
                        type: "object",
                        properties: {
                            id: {
                                $id: "http://api.ekstep.org/telemetry/items/to/id",
                                type: "string"
                            },
                            type: {
                                $id: "http://api.ekstep.org/telemetry/items/to/type",
                                type: "string"
                            }
                        }
                    }
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/log",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["LOG"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type", "level", "message"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            level: {
                                $id: "http://api.ekstep.org/telemetry/edata/level",
                                type: "string"
                            },
                            message: {
                                $id: "http://api.ekstep.org/telemetry/edata/message",
                                type: "string"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            },
                            params: {
                                $id: "http://api.ekstep.org/telemetry/edata/params",
                                type: "array",
                                items: {
                                    type: "object"
                                }
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/object",
            type: "object",
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/object/id",
                    type: "string"
                },
                type: {
                    $id: "http://api.ekstep.org/telemetry/object/type",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/object/ver",
                    type: "string"
                },
                rollup: {
                    $ref: "http://api.ekstep.org/telemetry/rollup"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/parent",
            type: "object",
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/parent/id",
                    type: "string"
                },
                type: {
                    $id: "http://api.ekstep.org/telemetry/parent/type",
                    type: "string"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/pdata",
            type: "object",
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/pdata/id",
                    type: "string"
                },
                pid: {
                    $id: "http://api.ekstep.org/telemetry/pdata/pid",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/pdata/ver",
                    type: "string"
                }
            },
            required: ["id"]
        }, {
            $id: "http://api.ekstep.org/telemetry/plugin",
            type: "object",
            additionalProperties: !1,
            required: ["id", "ver"],
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/plugin/id",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/plugin/ver",
                    type: "string"
                },
                category: {
                    $id: "http://api.ekstep.org/telemetry/plugin/category",
                    type: "string"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/question",
            type: "object",
            additionalProperties: !1,
            required: ["id"],
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/question/id",
                    type: "string"
                },
                maxscore: {
                    $id: "http://api.ekstep.org/telemetry/question/maxscore",
                    type: "number"
                },
                exlength: {
                    $id: "http://api.ekstep.org/telemetry/question/exlength",
                    type: "number"
                },
                params: {
                    $id: "http://api.ekstep.org/telemetry/question/params",
                    type: "array",
                    items: {
                        type: "object"
                    }
                },
                uri: {
                    $id: "http://api.ekstep.org/telemetry/question/uri",
                    type: "string"
                },
                desc: {
                    $id: "http://api.ekstep.org/telemetry/question/desc",
                    type: "string"
                },
                title: {
                    $id: "http://api.ekstep.org/telemetry/question/title",
                    type: "string"
                },
                mmc: {
                    $id: "http://api.ekstep.org/telemetry/question/mmc",
                    type: "array",
                    items: {
                        type: "string"
                    }
                },
                mc: {
                    $id: "http://api.ekstep.org/telemetry/question/mc",
                    type: "array",
                    items: {
                        type: "string"
                    }
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/response",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["RESPONSE"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["target", "type", "values"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/type",
                                type: "string"
                            },
                            target: {
                                $ref: "http://api.ekstep.org/telemetry/target"
                            },
                            values: {
                                type: "array",
                                items: {
                                    type: "object"
                                }
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/rollup",
            type: "object",
            properties: {
                l1: {
                    $id: "http://api.ekstep.org/telemetry/context/rollup/l1",
                    type: "string"
                },
                l2: {
                    $id: "http://api.ekstep.org/telemetry/context/rollup/l2",
                    type: "string"
                },
                l3: {
                    $id: "http://api.ekstep.org/telemetry/context/rollup/l3",
                    type: "string"
                },
                l4: {
                    $id: "http://api.ekstep.org/telemetry/context/rollup/l4",
                    type: "string"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/search",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["SEARCH"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["query", "size", "topn"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            query: {
                                $id: "http://api.ekstep.org/telemetry/edata/query",
                                type: "string"
                            },
                            filters: {
                                $id: "http://api.ekstep.org/telemetry/edata/filters",
                                type: "object"
                            },
                            sort: {
                                $id: "http://api.ekstep.org/telemetry/edata/sort",
                                type: "object"
                            },
                            correlationid: {
                                $id: "http://api.ekstep.org/telemetry/edata/correlationid",
                                type: "string"
                            },
                            size: {
                                $id: "http://api.ekstep.org/telemetry/edata/size",
                                type: "number"
                            },
                            topn: {
                                $id: "http://api.ekstep.org/telemetry/edata/topn",
                                type: "array",
                                items: {
                                    type: "object"
                                }
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/share",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["SHARE"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["items"],
                        properties: {
                            dir: {
                                $id: "http://api.ekstep.org/telemetry/edata/dir",
                                type: "string"
                            },
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            items: {
                                $ref: "http://api.ekstep.org/telemetry/items"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/start",
            type: "object",
            required: ["eid", "ets", "ver", "mid", "actor", "context", "edata"],
            allOf: [{
                $ref: "http://api.ekstep.org/telemetry/common"
            }, {
                properties: {
                    eid: {
                        $id: "http://api.ekstep.org/telemetry/eid",
                        enum: ["START"]
                    },
                    edata: {
                        $id: "http://api.ekstep.org/telemetry/edata",
                        type: "object",
                        additionalProperties: !1,
                        required: ["type"],
                        properties: {
                            type: {
                                $id: "http://api.ekstep.org/telemetry/edata/type",
                                type: "string"
                            },
                            dspec: {
                                $ref: "http://api.ekstep.org/telemetry/dspec"
                            },
                            uaspec: {
                                $ref: "http://api.ekstep.org/telemetry/uaspec"
                            },
                            loc: {
                                $id: "http://api.ekstep.org/telemetry/edata/loc",
                                type: "string"
                            },
                            mode: {
                                $id: "http://api.ekstep.org/telemetry/edata/mode",
                                type: "string"
                            },
                            duration: {
                                $id: "http://api.ekstep.org/telemetry/edata/duration",
                                type: "number"
                            },
                            pageid: {
                                $id: "http://api.ekstep.org/telemetry/edata/pageid",
                                type: "string"
                            }
                        }
                    }
                }
            }]
        }, {
            $id: "http://api.ekstep.org/telemetry/target",
            type: "object",
            additionalProperties: !1,
            required: ["id", "ver", "type"],
            properties: {
                id: {
                    $id: "http://api.ekstep.org/telemetry/target/id",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/target/ver",
                    type: "string"
                },
                type: {
                    $id: "http://api.ekstep.org/telemetry/target/type",
                    type: "string"
                },
                parent: {
                    $ref: "http://api.ekstep.org/telemetry/parent"
                }
            }
        }, {
            $id: "http://api.ekstep.org/telemetry/uaspec",
            type: "object",
            properties: {
                agent: {
                    $id: "http://api.ekstep.org/telemetry/uaspec/agent",
                    type: "string"
                },
                ver: {
                    $id: "http://api.ekstep.org/telemetry/uaspec/ver",
                    type: "string"
                },
                system: {
                    $id: "http://api.ekstep.org/telemetry/uaspec/system",
                    type: "string"
                },
                platform: {
                    $id: "http://api.ekstep.org/telemetry/uaspec/platform",
                    type: "string"
                },
                raw: {
                    $id: "http://api.ekstep.org/telemetry/uaspec/raw",
                    type: "string"
                }
            }
        }]
          , u = u || function(e, t) {
            var n = {}
              , r = n.lib = {}
              , i = function() {}
              , o = r.Base = {
                extend: function(e) {
                    i.prototype = this;
                    var t = new i;
                    return e && t.mixIn(e),
                    t.hasOwnProperty("init") || (t.init = function() {
                        t.$super.init.apply(this, arguments)
                    }
                    ),
                    t.init.prototype = t,
                    t.$super = this,
                    t
                },
                create: function() {
                    var e = this.extend();
                    return e.init.apply(e, arguments),
                    e
                },
                init: function() {},
                mixIn: function(e) {
                    for (var t in e)
                        e.hasOwnProperty(t) && (this[t] = e[t]);
                    e.hasOwnProperty("toString") && (this.toString = e.toString)
                },
                clone: function() {
                    return this.init.prototype.extend(this)
                }
            }
              , a = r.WordArray = o.extend({
                init: function(e, t) {
                    e = this.words = e || [],
                    this.sigBytes = void 0 != t ? t : 4 * e.length
                },
                toString: function(e) {
                    return (e || c).stringify(this)
                },
                concat: function(e) {
                    var t = this.words
                      , n = e.words
                      , r = this.sigBytes;
                    if (e = e.sigBytes,
                    this.clamp(),
                    r % 4)
                        for (var i = 0; i < e; i++)
                            t[r + i >>> 2] |= (n[i >>> 2] >>> 24 - i % 4 * 8 & 255) << 24 - (r + i) % 4 * 8;
                    else if (65535 < n.length)
                        for (i = 0; i < e; i += 4)
                            t[r + i >>> 2] = n[i >>> 2];
                    else
                        t.push.apply(t, n);
                    return this.sigBytes += e,
                    this
                },
                clamp: function() {
                    var t = this.words
                      , n = this.sigBytes;
                    t[n >>> 2] &= 4294967295 << 32 - n % 4 * 8,
                    t.length = e.ceil(n / 4)
                },
                clone: function() {
                    var e = o.clone.call(this);
                    return e.words = this.words.slice(0),
                    e
                },
                random: function(t) {
                    for (var n = [], r = 0; r < t; r += 4)
                        n.push(4294967296 * e.random() | 0);
                    return new a.init(n,t)
                }
            })
              , s = n.enc = {}
              , c = s.Hex = {
                stringify: function(e) {
                    var t = e.words;
                    e = e.sigBytes;
                    for (var n = [], r = 0; r < e; r++) {
                        var i = t[r >>> 2] >>> 24 - r % 4 * 8 & 255;
                        n.push((i >>> 4).toString(16)),
                        n.push((15 & i).toString(16))
                    }
                    return n.join("")
                },
                parse: function(e) {
                    for (var t = e.length, n = [], r = 0; r < t; r += 2)
                        n[r >>> 3] |= parseInt(e.substr(r, 2), 16) << 24 - r % 8 * 4;
                    return new a.init(n,t / 2)
                }
            }
              , l = s.Latin1 = {
                stringify: function(e) {
                    var t = e.words;
                    e = e.sigBytes;
                    for (var n = [], r = 0; r < e; r++)
                        n.push(String.fromCharCode(t[r >>> 2] >>> 24 - r % 4 * 8 & 255));
                    return n.join("")
                },
                parse: function(e) {
                    for (var t = e.length, n = [], r = 0; r < t; r++)
                        n[r >>> 2] |= (255 & e.charCodeAt(r)) << 24 - r % 4 * 8;
                    return new a.init(n,t)
                }
            }
              , u = s.Utf8 = {
                stringify: function(e) {
                    try {
                        return decodeURIComponent(escape(l.stringify(e)))
                    } catch (e) {
                        throw Error("Malformed UTF-8 data")
                    }
                },
                parse: function(e) {
                    return l.parse(unescape(encodeURIComponent(e)))
                }
            }
              , d = r.BufferedBlockAlgorithm = o.extend({
                reset: function() {
                    this._data = new a.init,
                    this._nDataBytes = 0
                },
                _append: function(e) {
                    "string" == typeof e && (e = u.parse(e)),
                    this._data.concat(e),
                    this._nDataBytes += e.sigBytes
                },
                _process: function(t) {
                    var n = this._data
                      , r = n.words
                      , i = n.sigBytes
                      , o = this.blockSize
                      , s = i / (4 * o);
                    if (t = (s = t ? e.ceil(s) : e.max((0 | s) - this._minBufferSize, 0)) * o,
                    i = e.min(4 * t, i),
                    t) {
                        for (var c = 0; c < t; c += o)
                            this._doProcessBlock(r, c);
                        c = r.splice(0, t),
                        n.sigBytes -= i
                    }
                    return new a.init(c,i)
                },
                clone: function() {
                    var e = o.clone.call(this);
                    return e._data = this._data.clone(),
                    e
                },
                _minBufferSize: 0
            });
            r.Hasher = d.extend({
                cfg: o.extend(),
                init: function(e) {
                    this.cfg = this.cfg.extend(e),
                    this.reset()
                },
                reset: function() {
                    d.reset.call(this),
                    this._doReset()
                },
                update: function(e) {
                    return this._append(e),
                    this._process(),
                    this
                },
                finalize: function(e) {
                    return e && this._append(e),
                    this._doFinalize()
                },
                blockSize: 16,
                _createHelper: function(e) {
                    return function(t, n) {
                        return new e.init(n).finalize(t)
                    }
                },
                _createHmacHelper: function(e) {
                    return function(t, n) {
                        return new f.HMAC.init(e,n).finalize(t)
                    }
                }
            });
            var f = n.algo = {};
            return n
        }(Math);
        !function(e) {
            function t(e, t, n, r, i, o, a) {
                return ((e = e + (t & n | ~t & r) + i + a) << o | e >>> 32 - o) + t
            }
            function n(e, t, n, r, i, o, a) {
                return ((e = e + (t & r | n & ~r) + i + a) << o | e >>> 32 - o) + t
            }
            function r(e, t, n, r, i, o, a) {
                return ((e = e + (t ^ n ^ r) + i + a) << o | e >>> 32 - o) + t
            }
            function i(e, t, n, r, i, o, a) {
                return ((e = e + (n ^ (t | ~r)) + i + a) << o | e >>> 32 - o) + t
            }
            for (var o = u, a = (c = o.lib).WordArray, s = c.Hasher, c = o.algo, l = [], d = 0; 64 > d; d++)
                l[d] = 4294967296 * e.abs(e.sin(d + 1)) | 0;
            c = c.MD5 = s.extend({
                _doReset: function() {
                    this._hash = new a.init([1732584193, 4023233417, 2562383102, 271733878])
                },
                _doProcessBlock: function(e, o) {
                    for (var a = 0; 16 > a; a++) {
                        var s = e[d = o + a];
                        e[d] = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8)
                    }
                    a = this._hash.words;
                    var c, u, d = e[o + 0], f = (s = e[o + 1],
                    e[o + 2]), h = e[o + 3], p = e[o + 4], g = e[o + 5], m = e[o + 6], v = e[o + 7], y = e[o + 8], b = e[o + 9], w = e[o + 10], x = e[o + 11], S = e[o + 12], C = e[o + 13], _ = e[o + 14], k = e[o + 15], E = a[0], T = i(T = i(T = i(T = i(T = r(T = r(T = r(T = r(T = n(T = n(T = n(T = n(T = t(T = t(T = t(T = t(T = a[1], u = t(u = a[2], c = t(c = a[3], E = t(E, T, u, c, d, 7, l[0]), T, u, s, 12, l[1]), E, T, f, 17, l[2]), c, E, h, 22, l[3]), u = t(u, c = t(c, E = t(E, T, u, c, p, 7, l[4]), T, u, g, 12, l[5]), E, T, m, 17, l[6]), c, E, v, 22, l[7]), u = t(u, c = t(c, E = t(E, T, u, c, y, 7, l[8]), T, u, b, 12, l[9]), E, T, w, 17, l[10]), c, E, x, 22, l[11]), u = t(u, c = t(c, E = t(E, T, u, c, S, 7, l[12]), T, u, C, 12, l[13]), E, T, _, 17, l[14]), c, E, k, 22, l[15]), u = n(u, c = n(c, E = n(E, T, u, c, s, 5, l[16]), T, u, m, 9, l[17]), E, T, x, 14, l[18]), c, E, d, 20, l[19]), u = n(u, c = n(c, E = n(E, T, u, c, g, 5, l[20]), T, u, w, 9, l[21]), E, T, k, 14, l[22]), c, E, p, 20, l[23]), u = n(u, c = n(c, E = n(E, T, u, c, b, 5, l[24]), T, u, _, 9, l[25]), E, T, h, 14, l[26]), c, E, y, 20, l[27]), u = n(u, c = n(c, E = n(E, T, u, c, C, 5, l[28]), T, u, f, 9, l[29]), E, T, v, 14, l[30]), c, E, S, 20, l[31]), u = r(u, c = r(c, E = r(E, T, u, c, g, 4, l[32]), T, u, y, 11, l[33]), E, T, x, 16, l[34]), c, E, _, 23, l[35]), u = r(u, c = r(c, E = r(E, T, u, c, s, 4, l[36]), T, u, p, 11, l[37]), E, T, v, 16, l[38]), c, E, w, 23, l[39]), u = r(u, c = r(c, E = r(E, T, u, c, C, 4, l[40]), T, u, d, 11, l[41]), E, T, h, 16, l[42]), c, E, m, 23, l[43]), u = r(u, c = r(c, E = r(E, T, u, c, b, 4, l[44]), T, u, S, 11, l[45]), E, T, k, 16, l[46]), c, E, f, 23, l[47]), u = i(u, c = i(c, E = i(E, T, u, c, d, 6, l[48]), T, u, v, 10, l[49]), E, T, _, 15, l[50]), c, E, g, 21, l[51]), u = i(u, c = i(c, E = i(E, T, u, c, S, 6, l[52]), T, u, h, 10, l[53]), E, T, w, 15, l[54]), c, E, s, 21, l[55]), u = i(u, c = i(c, E = i(E, T, u, c, y, 6, l[56]), T, u, k, 10, l[57]), E, T, m, 15, l[58]), c, E, C, 21, l[59]), u = i(u, c = i(c, E = i(E, T, u, c, p, 6, l[60]), T, u, x, 10, l[61]), E, T, f, 15, l[62]), c, E, b, 21, l[63]);
                    a[0] = a[0] + E | 0,
                    a[1] = a[1] + T | 0,
                    a[2] = a[2] + u | 0,
                    a[3] = a[3] + c | 0
                },
                _doFinalize: function() {
                    var t = this._data
                      , n = t.words
                      , r = 8 * this._nDataBytes
                      , i = 8 * t.sigBytes;
                    n[i >>> 5] |= 128 << 24 - i % 32;
                    var o = e.floor(r / 4294967296);
                    for (n[15 + (i + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
                    n[14 + (i + 64 >>> 9 << 4)] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8),
                    t.sigBytes = 4 * (n.length + 1),
                    this._process(),
                    n = (t = this._hash).words,
                    r = 0; 4 > r; r++)
                        i = n[r],
                        n[r] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8);
                    return t
                },
                clone: function() {
                    var e = s.clone.call(this);
                    return e._hash = this._hash.clone(),
                    e
                }
            }),
            o.MD5 = s._createHelper(c),
            o.HmacMD5 = s._createHmacHelper(c)
        }(Math),
        function(r, i) {
            "use strict";
            var o = "function"
              , a = "undefined"
              , s = "object"
              , l = "model"
              , u = "name"
              , d = "type"
              , f = "vendor"
              , h = "version"
              , p = "architecture"
              , g = "console"
              , m = "mobile"
              , v = "tablet"
              , y = "smarttv"
              , b = "wearable"
              , w = {
                extend: function(e, t) {
                    var n = {};
                    for (var r in e)
                        t[r] && t[r].length % 2 == 0 ? n[r] = t[r].concat(e[r]) : n[r] = e[r];
                    return n
                },
                has: function(e, t) {
                    return "string" == typeof e && -1 !== t.toLowerCase().indexOf(e.toLowerCase())
                },
                lowerize: function(e) {
                    return e.toLowerCase()
                },
                major: function(e) {
                    return "string" == typeof e ? e.replace(/[^\d\.]/g, "").split(".")[0] : i
                },
                trim: function(e) {
                    return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
                }
            }
              , x = {
                rgx: function(e, t) {
                    for (var n, r, a, c, l, u, d = 0; d < t.length && !l; ) {
                        var f = t[d]
                          , h = t[d + 1];
                        for (n = r = 0; n < f.length && !l; )
                            if (l = f[n++].exec(e))
                                for (a = 0; a < h.length; a++)
                                    u = l[++r],
                                    typeof (c = h[a]) === s && 0 < c.length ? 2 == c.length ? typeof c[1] == o ? this[c[0]] = c[1].call(this, u) : this[c[0]] = c[1] : 3 == c.length ? typeof c[1] !== o || c[1].exec && c[1].test ? this[c[0]] = u ? u.replace(c[1], c[2]) : i : this[c[0]] = u ? c[1].call(this, u, c[2]) : i : 4 == c.length && (this[c[0]] = u ? c[3].call(this, u.replace(c[1], c[2])) : i) : this[c] = u || i;
                        d += 2
                    }
                },
                str: function(e, t) {
                    for (var n in t)
                        if (typeof t[n] === s && 0 < t[n].length) {
                            for (var r = 0; r < t[n].length; r++)
                                if (w.has(t[n][r], e))
                                    return "?" === n ? i : n
                        } else if (w.has(t[n], e))
                            return "?" === n ? i : n;
                    return e
                }
            }
              , S = {
                browser: {
                    oldsafari: {
                        version: {
                            "1.0": "/8",
                            1.2: "/1",
                            1.3: "/3",
                            "2.0": "/412",
                            "2.0.2": "/416",
                            "2.0.3": "/417",
                            "2.0.4": "/419",
                            "?": "/"
                        }
                    }
                },
                device: {
                    amazon: {
                        model: {
                            "Fire Phone": ["SD", "KF"]
                        }
                    },
                    sprint: {
                        model: {
                            "Evo Shift 4G": "7373KT"
                        },
                        vendor: {
                            HTC: "APA",
                            Sprint: "Sprint"
                        }
                    }
                },
                os: {
                    windows: {
                        version: {
                            ME: "4.90",
                            "NT 3.11": "NT3.51",
                            "NT 4.0": "NT4.0",
                            2000: "NT 5.0",
                            XP: ["NT 5.1", "NT 5.2"],
                            Vista: "NT 6.0",
                            7: "NT 6.1",
                            8: "NT 6.2",
                            8.1: "NT 6.3",
                            10: ["NT 6.4", "NT 10.0"],
                            RT: "ARM"
                        }
                    }
                }
            }
              , C = {
                browser: [[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i], [u, h], [/(opios)[\/\s]+([\w\.]+)/i], [[u, "Opera Mini"], h], [/\s(opr)\/([\w\.]+)/i], [[u, "Opera"], h], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]*)/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i], [u, h], [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i], [[u, "IE"], h], [/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i], [[u, "Edge"], h], [/(yabrowser)\/([\w\.]+)/i], [[u, "Yandex"], h], [/(puffin)\/([\w\.]+)/i], [[u, "Puffin"], h], [/(focus)\/([\w\.]+)/i], [[u, "Firefox Focus"], h], [/(opt)\/([\w\.]+)/i], [[u, "Opera Touch"], h], [/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i], [[u, "UCBrowser"], h], [/(comodo_dragon)\/([\w\.]+)/i], [[u, /_/g, " "], h], [/(micromessenger)\/([\w\.]+)/i], [[u, "WeChat"], h], [/(brave)\/([\w\.]+)/i], [[u, "Brave"], h], [/(qqbrowserlite)\/([\w\.]+)/i], [u, h], [/(QQ)\/([\d\.]+)/i], [u, h], [/m?(qqbrowser)[\/\s]?([\w\.]+)/i], [u, h], [/(BIDUBrowser)[\/\s]?([\w\.]+)/i], [u, h], [/(2345Explorer)[\/\s]?([\w\.]+)/i], [u, h], [/(MetaSr)[\/\s]?([\w\.]+)/i], [u], [/(LBBROWSER)/i], [u], [/xiaomi\/miuibrowser\/([\w\.]+)/i], [h, [u, "MIUI Browser"]], [/;fbav\/([\w\.]+);/i], [h, [u, "Facebook"]], [/safari\s(line)\/([\w\.]+)/i, /android.+(line)\/([\w\.]+)\/iab/i], [u, h], [/headlesschrome(?:\/([\w\.]+)|\s)/i], [h, [u, "Chrome Headless"]], [/\swv\).+(chrome)\/([\w\.]+)/i], [[u, /(.+)/, "$1 WebView"], h], [/((?:oculus|samsung)browser)\/([\w\.]+)/i], [[u, /(.+(?:g|us))(.+)/, "$1 $2"], h], [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i], [h, [u, "Android Browser"]], [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i], [u, h], [/(dolfin)\/([\w\.]+)/i], [[u, "Dolphin"], h], [/((?:android.+)crmo|crios)\/([\w\.]+)/i], [[u, "Chrome"], h], [/(coast)\/([\w\.]+)/i], [[u, "Opera Coast"], h], [/fxios\/([\w\.-]+)/i], [h, [u, "Firefox"]], [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i], [h, [u, "Mobile Safari"]], [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i], [h, u], [/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [[u, "GSA"], h], [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [u, [h, x.str, S.browser.oldsafari.version]], [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i], [u, h], [/(navigator|netscape)\/([\w\.-]+)/i], [[u, "Netscape"], h], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]*)/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i], [u, h]],
                cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i], [[p, "amd64"]], [/(ia32(?=;))/i], [[p, w.lowerize]], [/((?:i[346]|x)86)[;\)]/i], [[p, "ia32"]], [/windows\s(ce|mobile);\sppc;/i], [[p, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i], [[p, /ower/, "", w.lowerize]], [/(sun4\w)[;\)]/i], [[p, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i], [[p, w.lowerize]]],
                device: [[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i], [l, f, [d, v]], [/applecoremedia\/[\w\.]+ \((ipad)/], [l, [f, "Apple"], [d, v]], [/(apple\s{0,1}tv)/i], [[l, "Apple TV"], [f, "Apple"]], [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i], [f, l, [d, v]], [/(kf[A-z]+)\sbuild\/.+silk\//i], [l, [f, "Amazon"], [d, v]], [/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i], [[l, x.str, S.device.amazon.model], [f, "Amazon"], [d, m]], [/android.+aft([bms])\sbuild/i], [l, [f, "Amazon"], [d, y]], [/\((ip[honed|\s\w*]+);.+(apple)/i], [l, f, [d, m]], [/\((ip[honed|\s\w*]+);/i], [l, [f, "Apple"], [d, m]], [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i], [f, l, [d, m]], [/\(bb10;\s(\w+)/i], [l, [f, "BlackBerry"], [d, m]], [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i], [l, [f, "Asus"], [d, v]], [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i], [[f, "Sony"], [l, "Xperia Tablet"], [d, v]], [/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i], [l, [f, "Sony"], [d, m]], [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i], [f, l, [d, g]], [/android.+;\s(shield)\sbuild/i], [l, [f, "Nvidia"], [d, g]], [/(playstation\s[34portablevi]+)/i], [l, [f, "Sony"], [d, g]], [/(sprint\s(\w+))/i], [[f, x.str, S.device.sprint.vendor], [l, x.str, S.device.sprint.model], [d, m]], [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i], [f, l, [d, v]], [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w*)/i, /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i], [f, [l, /_/g, " "], [d, m]], [/(nexus\s9)/i], [l, [f, "HTC"], [d, v]], [/d\/huawei([\w\s-]+)[;\)]/i, /(nexus\s6p)/i], [l, [f, "Huawei"], [d, m]], [/(microsoft);\s(lumia[\s\w]+)/i], [f, l, [d, m]], [/[\s\(;](xbox(?:\sone)?)[\s\);]/i], [l, [f, "Microsoft"], [d, g]], [/(kin\.[onetw]{3})/i], [[l, /\./g, " "], [f, "Microsoft"], [d, m]], [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w*)/i, /(XT\d{3,4}) build\//i, /(nexus\s6)/i], [l, [f, "Motorola"], [d, m]], [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i], [l, [f, "Motorola"], [d, v]], [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i], [[f, w.trim], [l, w.trim], [d, y]], [/hbbtv.+maple;(\d+)/i], [[l, /^/, "SmartTV"], [f, "Samsung"], [d, y]], [/\(dtv[\);].+(aquos)/i], [l, [f, "Sharp"], [d, y]], [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i], [[f, "Samsung"], l, [d, v]], [/smart-tv.+(samsung)/i], [f, [d, y], l], [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i, /sec-((sgh\w+))/i], [[f, "Samsung"], l, [d, m]], [/sie-(\w*)/i], [l, [f, "Siemens"], [d, m]], [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]*)/i], [[f, "Nokia"], l, [d, m]], [/android\s3\.[\s\w;-]{10}(a\d{3})/i], [l, [f, "Acer"], [d, v]], [/android.+([vl]k\-?\d{3})\s+build/i], [l, [f, "LG"], [d, v]], [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i], [[f, "LG"], l, [d, v]], [/(lg) netcast\.tv/i], [f, l, [d, y]], [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w*)/i, /android.+lg(\-?[\d\w]+)\s+build/i], [l, [f, "LG"], [d, m]], [/android.+(ideatab[a-z0-9\-\s]+)/i], [l, [f, "Lenovo"], [d, v]], [/linux;.+((jolla));/i], [f, l, [d, m]], [/((pebble))app\/[\d\.]+\s/i], [f, l, [d, b]], [/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i], [f, l, [d, m]], [/crkey/i], [[l, "Chromecast"], [f, "Google"]], [/android.+;\s(glass)\s\d/i], [l, [f, "Google"], [d, b]], [/android.+;\s(pixel c)[\s)]/i], [l, [f, "Google"], [d, v]], [/android.+;\s(pixel( [23])?( xl)?)\s/i], [l, [f, "Google"], [d, m]], [/android.+;\s(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i, /android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i], [[l, /_/g, " "], [f, "Xiaomi"], [d, m]], [/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i], [[l, /_/g, " "], [f, "Xiaomi"], [d, v]], [/android.+;\s(m[1-5]\snote)\sbuild/i], [l, [f, "Meizu"], [d, v]], [/(mz)-([\w-]{2,})/i], [[f, "Meizu"], l, [d, m]], [/android.+a000(1)\s+build/i, /android.+oneplus\s(a\d{4})\s+build/i], [l, [f, "OnePlus"], [d, m]], [/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i], [l, [f, "RCA"], [d, v]], [/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i], [l, [f, "Dell"], [d, v]], [/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i], [l, [f, "Verizon"], [d, v]], [/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i], [[f, "Barnes & Noble"], l, [d, v]], [/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i], [l, [f, "NuVision"], [d, v]], [/android.+;\s(k88)\sbuild/i], [l, [f, "ZTE"], [d, v]], [/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i], [l, [f, "Swiss"], [d, m]], [/android.+[;\/]\s*(zur\d{3})\s+build/i], [l, [f, "Swiss"], [d, v]], [/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i], [l, [f, "Zeki"], [d, v]], [/(android).+[;\/]\s+([YR]\d{2})\s+build/i, /android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i], [[f, "Dragon Touch"], l, [d, v]], [/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i], [l, [f, "Insignia"], [d, v]], [/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i], [l, [f, "NextBook"], [d, v]], [/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i], [[f, "Voice"], l, [d, m]], [/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i], [[f, "LvTel"], l, [d, m]], [/android.+;\s(PH-1)\s/i], [l, [f, "Essential"], [d, m]], [/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i], [l, [f, "Envizen"], [d, v]], [/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i], [f, l, [d, v]], [/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i], [l, [f, "MachSpeed"], [d, v]], [/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i], [f, l, [d, v]], [/android.+[;\/]\s*TU_(1491)\s+build/i], [l, [f, "Rotor"], [d, v]], [/android.+(KS(.+))\s+build/i], [l, [f, "Amazon"], [d, v]], [/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i], [f, l, [d, v]], [/\s(tablet|tab)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i], [[d, w.lowerize], f, l], [/(android[\w\.\s\-]{0,9});.+build/i], [l, [f, "Generic"]]],
                engine: [[/windows.+\sedge\/([\w\.]+)/i], [h, [u, "EdgeHTML"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i], [u, h], [/rv\:([\w\.]{1,9}).+(gecko)/i], [h, u]],
                os: [[/microsoft\s(windows)\s(vista|xp)/i], [u, h], [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i], [u, [h, x.str, S.os.windows.version]], [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i], [[u, "Windows"], [h, x.str, S.os.windows.version]], [/\((bb)(10);/i], [[u, "BlackBerry"], h], [/(blackberry)\w*\/?([\w\.]*)/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i, /linux;.+(sailfish);/i], [u, h], [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i], [[u, "Symbian"], h], [/\((series40);/i], [u], [/mozilla.+\(mobile;.+gecko.+firefox/i], [[u, "Firefox OS"], h], [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w*)/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i, /(hurd|linux)\s?([\w\.]*)/i, /(gnu)\s?([\w\.]*)/i], [u, h], [/(cros)\s[\w]+\s([\w\.]+\w)/i], [[u, "Chromium OS"], h], [/(sunos)\s?([\w\.\d]*)/i], [[u, "Solaris"], h], [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i], [u, h], [/(haiku)\s(\w+)/i], [u, h], [/cfnetwork\/.+darwin/i, /ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i], [[h, /_/g, "."], [u, "iOS"]], [/(mac\sos\sx)\s?([\w\s\.]*)/i, /(macintosh|mac(?=_powerpc)\s)/i], [[u, "Mac OS"], [h, /_/g, "."]], [/((?:open)?solaris)[\/\s-]?([\w\.]*)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i, /(unix)\s?([\w\.]*)/i], [u, h]]
            }
              , _ = function(e, t) {
                if ("object" == typeof e && (t = e,
                e = i),
                !(this instanceof _))
                    return new _(e,t).getResult();
                var n = e || (r && r.navigator && r.navigator.userAgent ? r.navigator.userAgent : "")
                  , o = t ? w.extend(C, t) : C;
                return this.getBrowser = function() {
                    var e = {
                        name: i,
                        version: i
                    };
                    return x.rgx.call(e, n, o.browser),
                    e.major = w.major(e.version),
                    e
                }
                ,
                this.getCPU = function() {
                    var e = {
                        architecture: i
                    };
                    return x.rgx.call(e, n, o.cpu),
                    e
                }
                ,
                this.getDevice = function() {
                    var e = {
                        vendor: i,
                        model: i,
                        type: i
                    };
                    return x.rgx.call(e, n, o.device),
                    e
                }
                ,
                this.getEngine = function() {
                    var e = {
                        name: i,
                        version: i
                    };
                    return x.rgx.call(e, n, o.engine),
                    e
                }
                ,
                this.getOS = function() {
                    var e = {
                        name: i,
                        version: i
                    };
                    return x.rgx.call(e, n, o.os),
                    e
                }
                ,
                this.getResult = function() {
                    return {
                        ua: this.getUA(),
                        browser: this.getBrowser(),
                        engine: this.getEngine(),
                        os: this.getOS(),
                        device: this.getDevice(),
                        cpu: this.getCPU()
                    }
                }
                ,
                this.getUA = function() {
                    return n
                }
                ,
                this.setUA = function(e) {
                    return n = e,
                    this
                }
                ,
                this
            };
            _.VERSION = "0.7.19",
            _.BROWSER = {
                NAME: u,
                MAJOR: "major",
                VERSION: h
            },
            _.CPU = {
                ARCHITECTURE: p
            },
            _.DEVICE = {
                MODEL: l,
                VENDOR: f,
                TYPE: d,
                CONSOLE: g,
                MOBILE: m,
                SMARTTV: y,
                TABLET: v,
                WEARABLE: b,
                EMBEDDED: "embedded"
            },
            _.ENGINE = {
                NAME: u,
                VERSION: h
            },
            _.OS = {
                NAME: u,
                VERSION: h
            },
            typeof t !== a ? (typeof e !== a && e.exports && (t = e.exports = _),
            t.UAParser = _) : n(4) ? void 0 === (c = function() {
                return _
            }
            .call(t, n, t, e)) || (e.exports = c) : r && (r.UAParser = _);
            var k = r && (r.jQuery || r.Zepto);
            if (typeof k !== a && !k.ua) {
                var E = new _;
                k.ua = E.getResult(),
                k.ua.get = function() {
                    return E.getUA()
                }
                ,
                k.ua.set = function(e) {
                    E.setUA(e);
                    var t = E.getResult();
                    for (var n in t)
                        k.ua[n] = t[n]
                }
            }
        }("object" == typeof window ? window : this),
        function(r, i, o) {
            "use strict";
            "undefined" != typeof window && n(4) ? void 0 === (c = "function" == typeof (s = o) ? s.call(t, n, t, e) : s) || (e.exports = c) : void 0 !== e && e.exports ? e.exports = o() : i.exports ? i.exports = o() : i.Fingerprint2 = o()
        }(0, this, function() {
            "use strict";
            var e = function(e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var n = [0, 0, 0, 0];
                return n[3] += e[3] + t[3],
                n[2] += n[3] >>> 16,
                n[3] &= 65535,
                n[2] += e[2] + t[2],
                n[1] += n[2] >>> 16,
                n[2] &= 65535,
                n[1] += e[1] + t[1],
                n[0] += n[1] >>> 16,
                n[1] &= 65535,
                n[0] += e[0] + t[0],
                n[0] &= 65535,
                [n[0] << 16 | n[1], n[2] << 16 | n[3]]
            }
              , t = function(e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var n = [0, 0, 0, 0];
                return n[3] += e[3] * t[3],
                n[2] += n[3] >>> 16,
                n[3] &= 65535,
                n[2] += e[2] * t[3],
                n[1] += n[2] >>> 16,
                n[2] &= 65535,
                n[2] += e[3] * t[2],
                n[1] += n[2] >>> 16,
                n[2] &= 65535,
                n[1] += e[1] * t[3],
                n[0] += n[1] >>> 16,
                n[1] &= 65535,
                n[1] += e[2] * t[2],
                n[0] += n[1] >>> 16,
                n[1] &= 65535,
                n[1] += e[3] * t[1],
                n[0] += n[1] >>> 16,
                n[1] &= 65535,
                n[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0],
                n[0] &= 65535,
                [n[0] << 16 | n[1], n[2] << 16 | n[3]]
            }
              , n = function(e, t) {
                return 32 == (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32,
                [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
            }
              , r = function(e, t) {
                return 0 == (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
            }
              , i = function(e, t) {
                return [e[0] ^ t[0], e[1] ^ t[1]]
            }
              , o = function(e) {
                return e = i(e, [0, e[0] >>> 1]),
                e = t(e, [4283543511, 3981806797]),
                e = i(e, [0, e[0] >>> 1]),
                e = t(e, [3301882366, 444984403]),
                i(e, [0, e[0] >>> 1])
            }
              , a = function(a, s) {
                a = a || "",
                s = s || 0;
                for (var c = a.length % 16, l = a.length - c, u = [0, s], d = [0, s], f = [0, 0], h = [0, 0], p = [2277735313, 289559509], g = [1291169091, 658871167], m = 0; m < l; m += 16)
                    f = [255 & a.charCodeAt(m + 4) | (255 & a.charCodeAt(m + 5)) << 8 | (255 & a.charCodeAt(m + 6)) << 16 | (255 & a.charCodeAt(m + 7)) << 24, 255 & a.charCodeAt(m) | (255 & a.charCodeAt(m + 1)) << 8 | (255 & a.charCodeAt(m + 2)) << 16 | (255 & a.charCodeAt(m + 3)) << 24],
                    h = [255 & a.charCodeAt(m + 12) | (255 & a.charCodeAt(m + 13)) << 8 | (255 & a.charCodeAt(m + 14)) << 16 | (255 & a.charCodeAt(m + 15)) << 24, 255 & a.charCodeAt(m + 8) | (255 & a.charCodeAt(m + 9)) << 8 | (255 & a.charCodeAt(m + 10)) << 16 | (255 & a.charCodeAt(m + 11)) << 24],
                    f = t(f, p),
                    f = n(f, 31),
                    f = t(f, g),
                    u = i(u, f),
                    u = n(u, 27),
                    u = e(u, d),
                    u = e(t(u, [0, 5]), [0, 1390208809]),
                    h = t(h, g),
                    h = n(h, 33),
                    h = t(h, p),
                    d = i(d, h),
                    d = n(d, 31),
                    d = e(d, u),
                    d = e(t(d, [0, 5]), [0, 944331445]);
                switch (f = [0, 0],
                h = [0, 0],
                c) {
                case 15:
                    h = i(h, r([0, a.charCodeAt(m + 14)], 48));
                case 14:
                    h = i(h, r([0, a.charCodeAt(m + 13)], 40));
                case 13:
                    h = i(h, r([0, a.charCodeAt(m + 12)], 32));
                case 12:
                    h = i(h, r([0, a.charCodeAt(m + 11)], 24));
                case 11:
                    h = i(h, r([0, a.charCodeAt(m + 10)], 16));
                case 10:
                    h = i(h, r([0, a.charCodeAt(m + 9)], 8));
                case 9:
                    h = i(h, [0, a.charCodeAt(m + 8)]),
                    h = t(h, g),
                    h = n(h, 33),
                    h = t(h, p),
                    d = i(d, h);
                case 8:
                    f = i(f, r([0, a.charCodeAt(m + 7)], 56));
                case 7:
                    f = i(f, r([0, a.charCodeAt(m + 6)], 48));
                case 6:
                    f = i(f, r([0, a.charCodeAt(m + 5)], 40));
                case 5:
                    f = i(f, r([0, a.charCodeAt(m + 4)], 32));
                case 4:
                    f = i(f, r([0, a.charCodeAt(m + 3)], 24));
                case 3:
                    f = i(f, r([0, a.charCodeAt(m + 2)], 16));
                case 2:
                    f = i(f, r([0, a.charCodeAt(m + 1)], 8));
                case 1:
                    f = i(f, [0, a.charCodeAt(m)]),
                    f = t(f, p),
                    f = n(f, 31),
                    f = t(f, g),
                    u = i(u, f)
                }
                return u = i(u, [0, a.length]),
                d = i(d, [0, a.length]),
                u = e(u, d),
                d = e(d, u),
                u = o(u),
                d = o(d),
                u = e(u, d),
                d = e(d, u),
                ("00000000" + (u[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (u[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[1] >>> 0).toString(16)).slice(-8)
            }
              , s = {
                preprocessor: null,
                audio: {
                    timeout: 1e3,
                    excludeIOS11: !0
                },
                fonts: {
                    swfContainerId: "fingerprintjs2",
                    swfPath: "flash/compiled/FontList.swf",
                    userDefinedFonts: [],
                    extendedJsFonts: !1
                },
                screen: {
                    detectScreenOrientation: !0
                },
                plugins: {
                    sortPluginsFor: [/palemoon/i],
                    excludeIE: !1
                },
                extraComponents: [],
                excludes: {
                    enumerateDevices: !0,
                    pixelRatio: !0,
                    doNotTrack: !0,
                    fontsFlash: !0
                },
                NOT_AVAILABLE: "not available",
                ERROR: "error",
                EXCLUDED: "excluded"
            }
              , c = function(e, t) {
                if (Array.prototype.forEach && e.forEach === Array.prototype.forEach)
                    e.forEach(t);
                else if (e.length === +e.length)
                    for (var n = 0, r = e.length; n < r; n++)
                        t(e[n], n, e);
                else
                    for (var i in e)
                        e.hasOwnProperty(i) && t(e[i], i, e)
            }
              , l = function(e, t) {
                var n = [];
                return null == e ? n : Array.prototype.map && e.map === Array.prototype.map ? e.map(t) : (c(e, function(e, r, i) {
                    n.push(t(e, r, i))
                }),
                n)
            }
              , u = function(e) {
                if (null == navigator.plugins)
                    return e.NOT_AVAILABLE;
                for (var t = [], n = 0, r = navigator.plugins.length; n < r; n++)
                    navigator.plugins[n] && t.push(navigator.plugins[n]);
                return d(e) && (t = t.sort(function(e, t) {
                    return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                })),
                l(t, function(e) {
                    var t = l(e, function(e) {
                        return [e.type, e.suffixes]
                    });
                    return [e.name, e.description, t]
                })
            }
              , d = function(e) {
                for (var t = !1, n = 0, r = e.plugins.sortPluginsFor.length; n < r; n++) {
                    var i = e.plugins.sortPluginsFor[n];
                    if (navigator.userAgent.match(i)) {
                        t = !0;
                        break
                    }
                }
                return t
            }
              , f = function() {
                var e = document.createElement("canvas");
                return !(!e.getContext || !e.getContext("2d"))
            }
              , h = function() {
                if (!f())
                    return !1;
                var e = p();
                return !!window.WebGLRenderingContext && !!e
            }
              , p = function() {
                var e = document.createElement("canvas")
                  , t = null;
                try {
                    t = e.getContext("webgl") || e.getContext("experimental-webgl")
                } catch (e) {}
                return t || (t = null),
                t
            }
              , g = [{
                key: "userAgent",
                getData: function(e) {
                    e(navigator.userAgent)
                }
            }, {
                key: "language",
                getData: function(e, t) {
                    e(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || t.NOT_AVAILABLE)
                }
            }, {
                key: "colorDepth",
                getData: function(e, t) {
                    e(window.screen.colorDepth || t.NOT_AVAILABLE)
                }
            }, {
                key: "deviceMemory",
                getData: function(e, t) {
                    e(navigator.deviceMemory || t.NOT_AVAILABLE)
                }
            }, {
                key: "pixelRatio",
                getData: function(e, t) {
                    e(window.devicePixelRatio || t.NOT_AVAILABLE)
                }
            }, {
                key: "hardwareConcurrency",
                getData: function(e, t) {
                    e(function(e) {
                        return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : e.NOT_AVAILABLE
                    }(t))
                }
            }, {
                key: "screenResolution",
                getData: function(e, t) {
                    e(function(e) {
                        var t = [window.screen.width, window.screen.height];
                        return e.screen.detectScreenOrientation && t.sort().reverse(),
                        t
                    }(t))
                }
            }, {
                key: "availableScreenResolution",
                getData: function(e, t) {
                    e(function(e) {
                        if (window.screen.availWidth && window.screen.availHeight) {
                            var t = [window.screen.availHeight, window.screen.availWidth];
                            return e.screen.detectScreenOrientation && t.sort().reverse(),
                            t
                        }
                        return e.NOT_AVAILABLE
                    }(t))
                }
            }, {
                key: "timezoneOffset",
                getData: function(e) {
                    e((new Date).getTimezoneOffset())
                }
            }, {
                key: "timezone",
                getData: function(e, t) {
                    window.Intl && window.Intl.DateTimeFormat ? e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "sessionStorage",
                getData: function(e, t) {
                    e(function(e) {
                        try {
                            return !!window.sessionStorage
                        } catch (t) {
                            return e.ERROR
                        }
                    }(t))
                }
            }, {
                key: "localStorage",
                getData: function(e, t) {
                    e(function(e) {
                        try {
                            return !!window.localStorage
                        } catch (t) {
                            return e.ERROR
                        }
                    }(t))
                }
            }, {
                key: "indexedDb",
                getData: function(e, t) {
                    e(function(e) {
                        try {
                            return !!window.indexedDB
                        } catch (t) {
                            return e.ERROR
                        }
                    }(t))
                }
            }, {
                key: "addBehavior",
                getData: function(e) {
                    e(!(!document.body || !document.body.addBehavior))
                }
            }, {
                key: "openDatabase",
                getData: function(e) {
                    e(!!window.openDatabase)
                }
            }, {
                key: "cpuClass",
                getData: function(e, t) {
                    e(function(e) {
                        return navigator.cpuClass || e.NOT_AVAILABLE
                    }(t))
                }
            }, {
                key: "platform",
                getData: function(e, t) {
                    e(function(e) {
                        return navigator.platform ? navigator.platform : e.NOT_AVAILABLE
                    }(t))
                }
            }, {
                key: "doNotTrack",
                getData: function(e, t) {
                    e(function(e) {
                        return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : e.NOT_AVAILABLE
                    }(t))
                }
            }, {
                key: "plugins",
                getData: function(e, t) {
                    "Microsoft Internet Explorer" === navigator.appName || "Netscape" === navigator.appName && /Trident/.test(navigator.userAgent) ? t.plugins.excludeIE ? e(t.EXCLUDED) : e(function(e) {
                        var t = [];
                        return Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject"in window ? t = l(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"], function(t) {
                            try {
                                return new window.ActiveXObject(t),
                                t
                            } catch (t) {
                                return e.ERROR
                            }
                        }) : t.push(e.NOT_AVAILABLE),
                        navigator.plugins && (t = t.concat(u(e))),
                        t
                    }(t)) : e(u(t))
                }
            }, {
                key: "canvas",
                getData: function(e, t) {
                    f() ? e(function(e) {
                        var t = []
                          , n = document.createElement("canvas");
                        n.width = 2e3,
                        n.height = 200,
                        n.style.display = "inline";
                        var r = n.getContext("2d");
                        return r.rect(0, 0, 10, 10),
                        r.rect(2, 2, 6, 6),
                        t.push("canvas winding:" + (!1 === r.isPointInPath(5, 5, "evenodd") ? "yes" : "no")),
                        r.textBaseline = "alphabetic",
                        r.fillStyle = "#f60",
                        r.fillRect(125, 1, 62, 20),
                        r.fillStyle = "#069",
                        e.dontUseFakeFontInCanvas ? r.font = "11pt Arial" : r.font = "11pt no-real-font-123",
                        r.fillText("Cwm fjordbank glyphs vext quiz, ", 2, 15),
                        r.fillStyle = "rgba(102, 204, 0, 0.2)",
                        r.font = "18pt Arial",
                        r.fillText("Cwm fjordbank glyphs vext quiz, ", 4, 45),
                        r.globalCompositeOperation = "multiply",
                        r.fillStyle = "rgb(255,0,255)",
                        r.beginPath(),
                        r.arc(50, 50, 50, 0, 2 * Math.PI, !0),
                        r.closePath(),
                        r.fill(),
                        r.fillStyle = "rgb(0,255,255)",
                        r.beginPath(),
                        r.arc(100, 50, 50, 0, 2 * Math.PI, !0),
                        r.closePath(),
                        r.fill(),
                        r.fillStyle = "rgb(255,255,0)",
                        r.beginPath(),
                        r.arc(75, 100, 50, 0, 2 * Math.PI, !0),
                        r.closePath(),
                        r.fill(),
                        r.fillStyle = "rgb(255,0,255)",
                        r.arc(75, 75, 75, 0, 2 * Math.PI, !0),
                        r.arc(75, 75, 25, 0, 2 * Math.PI, !0),
                        r.fill("evenodd"),
                        n.toDataURL && t.push("canvas fp:" + n.toDataURL()),
                        t
                    }(t)) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "webgl",
                getData: function(e, t) {
                    h() ? e(function() {
                        var e, t = function(t) {
                            return e.clearColor(0, 0, 0, 1),
                            e.enable(e.DEPTH_TEST),
                            e.depthFunc(e.LEQUAL),
                            e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT),
                            "[" + t[0] + ", " + t[1] + "]"
                        };
                        if (!(e = p()))
                            return null;
                        var n = []
                          , r = e.createBuffer();
                        e.bindBuffer(e.ARRAY_BUFFER, r);
                        var i = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                        e.bufferData(e.ARRAY_BUFFER, i, e.STATIC_DRAW),
                        r.itemSize = 3,
                        r.numItems = 3;
                        var o = e.createProgram()
                          , a = e.createShader(e.VERTEX_SHADER);
                        e.shaderSource(a, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),
                        e.compileShader(a);
                        var s = e.createShader(e.FRAGMENT_SHADER);
                        e.shaderSource(s, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),
                        e.compileShader(s),
                        e.attachShader(o, a),
                        e.attachShader(o, s),
                        e.linkProgram(o),
                        e.useProgram(o),
                        o.vertexPosAttrib = e.getAttribLocation(o, "attrVertex"),
                        o.offsetUniform = e.getUniformLocation(o, "uniformOffset"),
                        e.enableVertexAttribArray(o.vertexPosArray),
                        e.vertexAttribPointer(o.vertexPosAttrib, r.itemSize, e.FLOAT, !1, 0, 0),
                        e.uniform2f(o.offsetUniform, 1, 1),
                        e.drawArrays(e.TRIANGLE_STRIP, 0, r.numItems);
                        try {
                            n.push(e.canvas.toDataURL())
                        } catch (e) {}
                        n.push("extensions:" + (e.getSupportedExtensions() || []).join(";")),
                        n.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),
                        n.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),
                        n.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)),
                        n.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")),
                        n.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)),
                        n.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)),
                        n.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)),
                        n.push("webgl max anisotropy:" + function(e) {
                            var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                            if (t) {
                                var n = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                                return 0 === n && (n = 2),
                                n
                            }
                            return null
                        }(e)),
                        n.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),
                        n.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),
                        n.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),
                        n.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)),
                        n.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),
                        n.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)),
                        n.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)),
                        n.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)),
                        n.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),
                        n.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),
                        n.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))),
                        n.push("webgl red bits:" + e.getParameter(e.RED_BITS)),
                        n.push("webgl renderer:" + e.getParameter(e.RENDERER)),
                        n.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)),
                        n.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)),
                        n.push("webgl vendor:" + e.getParameter(e.VENDOR)),
                        n.push("webgl version:" + e.getParameter(e.VERSION));
                        try {
                            var l = e.getExtension("WEBGL_debug_renderer_info");
                            l && (n.push("webgl unmasked vendor:" + e.getParameter(l.UNMASKED_VENDOR_WEBGL)),
                            n.push("webgl unmasked renderer:" + e.getParameter(l.UNMASKED_RENDERER_WEBGL)))
                        } catch (e) {}
                        return e.getShaderPrecisionFormat ? (c(["FLOAT", "INT"], function(t) {
                            c(["VERTEX", "FRAGMENT"], function(r) {
                                c(["HIGH", "MEDIUM", "LOW"], function(i) {
                                    c(["precision", "rangeMin", "rangeMax"], function(o) {
                                        var a = e.getShaderPrecisionFormat(e[r + "_SHADER"], e[i + "_" + t])[o];
                                        "precision" !== o && (o = "precision " + o);
                                        var s = ["webgl ", r.toLowerCase(), " shader ", i.toLowerCase(), " ", t.toLowerCase(), " ", o, ":", a].join("");
                                        n.push(s)
                                    })
                                })
                            })
                        }),
                        n) : n
                    }()) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "webglVendorAndRenderer",
                getData: function(e) {
                    h() ? e(function() {
                        try {
                            var e = p()
                              , t = e.getExtension("WEBGL_debug_renderer_info");
                            return e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL)
                        } catch (e) {
                            return null
                        }
                    }()) : e()
                }
            }, {
                key: "adBlock",
                getData: function(e) {
                    e(function() {
                        var e = document.createElement("div");
                        e.innerHTML = "&nbsp;",
                        e.className = "adsbox";
                        var t = !1;
                        try {
                            document.body.appendChild(e),
                            t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight,
                            document.body.removeChild(e)
                        } catch (e) {
                            t = !1
                        }
                        return t
                    }())
                }
            }, {
                key: "hasLiedLanguages",
                getData: function(e) {
                    e(function() {
                        if (void 0 !== navigator.languages)
                            try {
                                if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2))
                                    return !0
                            } catch (e) {
                                return !0
                            }
                        return !1
                    }())
                }
            }, {
                key: "hasLiedResolution",
                getData: function(e) {
                    e(window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight)
                }
            }, {
                key: "hasLiedOs",
                getData: function(e) {
                    e(function() {
                        var e, t = navigator.userAgent.toLowerCase(), n = navigator.oscpu, r = navigator.platform.toLowerCase();
                        if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other",
                        ("ontouchstart"in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e)
                            return !0;
                        if (void 0 !== n) {
                            if ((n = n.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e)
                                return !0;
                            if (n.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e)
                                return !0;
                            if (n.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e)
                                return !0;
                            if ((-1 === n.indexOf("win") && -1 === n.indexOf("linux") && -1 === n.indexOf("mac")) != ("Other" === e))
                                return !0
                        }
                        return r.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || (r.indexOf("linux") >= 0 || r.indexOf("android") >= 0 || r.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || (r.indexOf("mac") >= 0 || r.indexOf("ipad") >= 0 || r.indexOf("ipod") >= 0 || r.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e || (-1 === r.indexOf("win") && -1 === r.indexOf("linux") && -1 === r.indexOf("mac")) != ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e
                    }())
                }
            }, {
                key: "hasLiedBrowser",
                getData: function(e) {
                    e(function() {
                        var e, t = navigator.userAgent.toLowerCase(), n = navigator.productSub;
                        if (("Chrome" == (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== n)
                            return !0;
                        var r, i = eval.toString().length;
                        if (37 === i && "Safari" !== e && "Firefox" !== e && "Other" !== e)
                            return !0;
                        if (39 === i && "Internet Explorer" !== e && "Other" !== e)
                            return !0;
                        if (33 === i && "Chrome" !== e && "Opera" !== e && "Other" !== e)
                            return !0;
                        try {
                            throw "a"
                        } catch (e) {
                            try {
                                e.toSource(),
                                r = !0
                            } catch (e) {
                                r = !1
                            }
                        }
                        return r && "Firefox" !== e && "Other" !== e
                    }())
                }
            }, {
                key: "touchSupport",
                getData: function(e) {
                    e(function() {
                        var e, t = 0;
                        void 0 !== navigator.maxTouchPoints ? t = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (t = navigator.msMaxTouchPoints);
                        try {
                            document.createEvent("TouchEvent"),
                            e = !0
                        } catch (t) {
                            e = !1
                        }
                        return [t, e, "ontouchstart"in window]
                    }())
                }
            }, {
                key: "fonts",
                getData: function(e, t) {
                    var n = ["monospace", "sans-serif", "serif"]
                      , r = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
                    t.fonts.extendedJsFonts && (r = r.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"])),
                    r = (r = r.concat(t.fonts.userDefinedFonts)).filter(function(e, t) {
                        return r.indexOf(e) === t
                    });
                    var i = document.getElementsByTagName("body")[0]
                      , o = document.createElement("div")
                      , a = document.createElement("div")
                      , s = {}
                      , c = {}
                      , l = function() {
                        var e = document.createElement("span");
                        return e.style.position = "absolute",
                        e.style.left = "-9999px",
                        e.style.fontSize = "72px",
                        e.style.fontStyle = "normal",
                        e.style.fontWeight = "normal",
                        e.style.letterSpacing = "normal",
                        e.style.lineBreak = "auto",
                        e.style.lineHeight = "normal",
                        e.style.textTransform = "none",
                        e.style.textAlign = "left",
                        e.style.textDecoration = "none",
                        e.style.textShadow = "none",
                        e.style.whiteSpace = "normal",
                        e.style.wordBreak = "normal",
                        e.style.wordSpacing = "normal",
                        e.innerHTML = "mmmmmmmmmmlli",
                        e
                    }
                      , u = function(e, t) {
                        var n = l();
                        return n.style.fontFamily = "'" + e + "'," + t,
                        n
                    }
                      , d = function(e) {
                        for (var t = !1, r = 0; r < n.length; r++)
                            if (t = e[r].offsetWidth !== s[n[r]] || e[r].offsetHeight !== c[n[r]])
                                return t;
                        return t
                    }
                      , f = function() {
                        for (var e = [], t = 0, r = n.length; t < r; t++) {
                            var i = l();
                            i.style.fontFamily = n[t],
                            o.appendChild(i),
                            e.push(i)
                        }
                        return e
                    }();
                    i.appendChild(o);
                    for (var h = 0, p = n.length; h < p; h++)
                        s[n[h]] = f[h].offsetWidth,
                        c[n[h]] = f[h].offsetHeight;
                    var g = function() {
                        for (var e = {}, t = 0, i = r.length; t < i; t++) {
                            for (var o = [], s = 0, c = n.length; s < c; s++) {
                                var l = u(r[t], n[s]);
                                a.appendChild(l),
                                o.push(l)
                            }
                            e[r[t]] = o
                        }
                        return e
                    }();
                    i.appendChild(a);
                    for (var m = [], v = 0, y = r.length; v < y; v++)
                        d(g[r[v]]) && m.push(r[v]);
                    i.removeChild(a),
                    i.removeChild(o),
                    e(m)
                },
                pauseBefore: !0
            }, {
                key: "fontsFlash",
                getData: function(e, t) {
                    return void 0 !== window.swfobject ? window.swfobject.hasFlashPlayerVersion("9.0.0") ? t.fonts.swfPath ? void function(e, t) {
                        window.___fp_swf_loaded = function(t) {
                            e(t)
                        }
                        ;
                        var n = t.fonts.swfContainerId;
                        !function(e) {
                            var t = document.createElement("div");
                            t.setAttribute("id", (void 0).fonts.swfContainerId),
                            document.body.appendChild(t)
                        }();
                        window.swfobject.embedSWF(t.fonts.swfPath, n, "1", "1", "9.0.0", !1, {
                            onReady: "___fp_swf_loaded"
                        }, {
                            allowScriptAccess: "always",
                            menu: "false"
                        }, {})
                    }(function(t) {
                        e(t)
                    }, t) : e("missing options.fonts.swfPath") : e("flash not installed") : e("swf object not loaded")
                },
                pauseBefore: !0
            }, {
                key: "audio",
                getData: function(e, t) {
                    var n = t.audio;
                    if (n.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))
                        return e(t.EXCLUDED);
                    var r = window.OfflineAudioContext || window.webkitOfflineAudioContext;
                    if (null == r)
                        return e(t.NOT_AVAILABLE);
                    var i = new r(1,44100,44100)
                      , o = i.createOscillator();
                    o.type = "triangle",
                    o.frequency.setValueAtTime(1e4, i.currentTime);
                    var a = i.createDynamicsCompressor();
                    c([["threshold", -50], ["knee", 40], ["ratio", 12], ["reduction", -20], ["attack", 0], ["release", .25]], function(e) {
                        void 0 !== a[e[0]] && "function" == typeof a[e[0]].setValueAtTime && a[e[0]].setValueAtTime(e[1], i.currentTime)
                    }),
                    o.connect(a),
                    a.connect(i.destination),
                    o.start(0),
                    i.startRendering();
                    var s = setTimeout(function() {
                        return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "' + navigator.userAgent + '".'),
                        i.oncomplete = function() {}
                        ,
                        i = null,
                        e("audioTimeout")
                    }, n.timeout);
                    i.oncomplete = function(t) {
                        var n;
                        try {
                            clearTimeout(s),
                            n = t.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce(function(e, t) {
                                return e + Math.abs(t)
                            }, 0).toString(),
                            o.disconnect(),
                            a.disconnect()
                        } catch (t) {
                            return void e(t)
                        }
                        e(n)
                    }
                }
            }, {
                key: "enumerateDevices",
                getData: function(e, t) {
                    if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)
                        return e(t.NOT_AVAILABLE);
                    navigator.mediaDevices.enumerateDevices().then(function(t) {
                        e(t.map(function(e) {
                            return "id=" + e.deviceId + ";gid=" + e.groupId + ";" + e.kind + ";" + e.label
                        }))
                    }).catch(function(t) {
                        e(t)
                    })
                }
            }]
              , m = function(e) {
                throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")
            };
            return m.get = function(e, t) {
                t ? e || (e = {}) : (t = e,
                e = {}),
                function(e, t) {
                    if (null == t)
                        return e;
                    var n, r;
                    for (r in t)
                        null == (n = t[r]) || Object.prototype.hasOwnProperty.call(e, r) || (e[r] = n)
                }(e, s),
                e.components = e.extraComponents.concat(g);
                var n = {
                    data: [],
                    addPreprocessedComponent: function(t, r) {
                        "function" == typeof e.preprocessor && (r = e.preprocessor(t, r)),
                        n.data.push({
                            key: t,
                            value: r
                        })
                    }
                }
                  , r = -1
                  , i = function(o) {
                    if ((r += 1) >= e.components.length)
                        t(n.data);
                    else {
                        var a = e.components[r];
                        if (e.excludes[a.key])
                            i(!1);
                        else {
                            if (!o && a.pauseBefore)
                                return r -= 1,
                                void setTimeout(function() {
                                    i(!0)
                                }, 1);
                            try {
                                a.getData(function(e) {
                                    n.addPreprocessedComponent(a.key, e),
                                    i(!1)
                                }, e)
                            } catch (e) {
                                n.addPreprocessedComponent(a.key, String(e)),
                                i(!1)
                            }
                        }
                    }
                };
                i(!1)
            }
            ,
            m.getPromise = function(e) {
                return new Promise(function(t, n) {
                    m.get(e, t)
                }
                )
            }
            ,
            m.getV18 = function(e, t) {
                return null == t && (t = e,
                e = {}),
                m.get(e, function(n) {
                    for (var r = [], i = 0; i < n.length; i++) {
                        var o = n[i];
                        if (o.value === (e.NOT_AVAILABLE || "not available"))
                            r.push({
                                key: o.key,
                                value: "unknown"
                            });
                        else if ("plugins" === o.key)
                            r.push({
                                key: "plugins",
                                value: l(o.value, function(e) {
                                    var t = l(e[2], function(e) {
                                        return e.join ? e.join("~") : e
                                    }).join(",");
                                    return [e[0], e[1], t].join("::")
                                })
                            });
                        else if (-1 !== ["canvas", "webgl"].indexOf(o.key))
                            r.push({
                                key: o.key,
                                value: o.value.join("~")
                            });
                        else if (-1 !== ["sessionStorage", "localStorage", "indexedDb", "addBehavior", "openDatabase"].indexOf(o.key)) {
                            if (!o.value)
                                continue;
                            r.push({
                                key: o.key,
                                value: 1
                            })
                        } else
                            o.value ? r.push(o.value.join ? {
                                key: o.key,
                                value: o.value.join(";")
                            } : o) : r.push({
                                key: o.key,
                                value: o.value
                            })
                    }
                    var s = a(l(r, function(e) {
                        return e.value
                    }).join("~~~"), 31);
                    t(s, r)
                })
            }
            ,
            m.x64hash128 = a,
            m.VERSION = "2.0.6",
            m
        });
        var d = {
            _teleData: [],
            init: function() {
                document.addEventListener("TelemetryEvent", this.sendTelemetry)
            },
            sendTelemetry: function(e) {
                var t = e.detail;
                console.log("Telemetry Events ", JSON.stringify(t));
                var n = d;
                n._teleData.push(Object.assign({}, t)),
                ("END" === t.eid.toUpperCase() || n._teleData.length >= p.config.batchsize) && d.syncEvents()
            },
            updateEventStack: function(e) {
                d._teleData = d._teleData.concat(e)
            },
            syncEvents: function() {
                var e = EkTelemetry || e
                  , t = d
                  , n = t._teleData.splice(0, e.config.batchsize)
                  , i = {
                    id: "ekstep.telemetry",
                    ver: e._version,
                    ets: (new Date).getTime(),
                    events: n
                }
                  , o = {};
                void 0 !== e.config.authtoken && (o.Authorization = "Bearer " + e.config.authtoken);
                var a = e.config.host + e.config.apislug + e.config.endpoint;
                o.dataType = "json",
                o["Content-Type"] = "application/json",
                r.ajax({
                    url: a,
                    type: "POST",
                    headers: o,
                    data: JSON.stringify(i)
                }).done(function(e) {
                    console.log("Telemetry API success", e)
                }).fail(function(e, r, i) {
                    t.updateEventStack(n),
                    403 == e.status ? console.error("Authentication error: ", e) : console.log("Error while Telemetry sync to server: ", e)
                })
            }
        };
        "undefined" != typeof document && d.init();
        var f = n(56)
          , h = {
            dispatch: function(e) {
                "undefined" != typeof document ? document.dispatchEvent(new CustomEvent("TelemetryEvent",{
                    detail: e
                })) : console.info("Library dispatcher supports only for client side.")
            }
        }
          , p = function() {
            this.telemetry = function() {}
            ;
            var e = function() {}
              , t = this;
            this.telemetry.initialized = !1,
            this.telemetry.config = {},
            this.telemetry._version = "3.0",
            this.telemetry.fingerPrintId = void 0,
            this.dispatcher = h,
            this._defaultValue = {
                uid: "anonymous",
                authtoken: "",
                batchsize: 20,
                host: "https://api.ekstep.in",
                endpoint: "/data/v3/telemetry",
                apislug: "/action"
            },
            this.telemetryEnvelop = {
                eid: "",
                ets: "",
                ver: "",
                mid: "",
                actor: {},
                context: {},
                object: {},
                tags: [],
                edata: ""
            },
            this._globalContext = {
                channel: "in.ekstep",
                pdata: {
                    id: "in.ekstep",
                    ver: "1.0",
                    pid: ""
                },
                env: "contentplayer",
                sid: "",
                did: "",
                cdata: [],
                rollup: {}
            },
            this.runningEnv = "client",
            this.enableValidation = !1,
            this._globalObject = {},
            this.startData = [],
            this.ajv = new f({
                schemas: l
            }),
            this.telemetry.initialize = function(t) {
                e.init(t)
            }
            ,
            this.telemetry.start = function(n, r, i, o, a) {
                o.duration = o.duration || .001 * (new Date).getTime(),
                r && i && (t._globalObject.id = r,
                t._globalObject.ver = i),
                !p.initialized && n && e.init(n, r, i),
                e.updateValues(a);
                var s = e.getEvent("START", o);
                e._dispatch(s),
                t.startData.push(JSON.parse(JSON.stringify(s)))
            }
            ,
            this.telemetry.impression = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("IMPRESSION", t))
            }
            ,
            this.telemetry.interact = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("INTERACT", t))
            }
            ,
            this.telemetry.assess = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("ASSESS", t))
            }
            ,
            this.telemetry.response = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("RESPONSE", t))
            }
            ,
            this.telemetry.interrupt = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("INTERRUPT", t))
            }
            ,
            this.telemetry.feedback = function(t, n) {
                var r = {
                    rating: t.rating,
                    comments: t.comments || ""
                };
                e.updateValues(n),
                e._dispatch(e.getEvent("FEEDBACK", r))
            }
            ,
            this.telemetry.share = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("SHARE", t))
            }
            ,
            this.telemetry.audit = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("AUDIT", t))
            }
            ,
            this.telemetry.error = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("ERROR", t))
            }
            ,
            this.telemetry.heartbeat = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("HEARTBEAT", t))
            }
            ,
            this.telemetry.log = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("LOG", t))
            }
            ,
            this.telemetry.search = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("SEARCH", t))
            }
            ,
            this.telemetry.metrics = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("METRICS", t))
            }
            ,
            this.telemetry.exdata = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("EXDATA", t))
            }
            ,
            this.telemetry.summary = function(t, n) {
                e.updateValues(n),
                e._dispatch(e.getEvent("SUMMARY", t))
            }
            ,
            this.telemetry.end = function(n, r) {
                if (t.startData.length) {
                    var i = t.startData.pop();
                    n.duration = .001 * ((new Date).getTime() - i.ets),
                    e.updateValues(r),
                    e._dispatch(e.getEvent("END", n))
                } else
                    console.info("Please invoke start before invoking end event.")
            }
            ,
            this.telemetry.isInitialized = function() {
                return p.initialized
            }
            ,
            this.telemetry.resetContext = function(e) {
                t._currentContext = e || {}
            }
            ,
            this.telemetry.resetObject = function(e) {
                t._currentObject = e || {}
            }
            ,
            this.telemetry.resetActor = function(e) {
                t._currentActor = e || {}
            }
            ,
            this.telemetry.resetTags = function(e) {
                t._currentTags = e || []
            }
            ,
            this.telemetry.syncEvents = function() {
                void 0 !== d && d.syncEvents()
            }
            ,
            e.init = function(n, r, i) {
                p.initialized ? console.log("Telemetry is already initialized..") : (!n && (n = {}),
                r && (t._globalObject.id = r),
                i && (t._globalObject.ver = i),
                n.runningEnv && (t.runningEnv = n.runningEnv),
                void 0 !== n.enableValidation && (t.enableValidation = n.enableValidation),
                n.batchsize = n.batchsize ? n.batchsize < 10 ? 10 : n.batchsize > 1e3 ? 1e3 : n.batchsize : _defaultValue.batchsize,
                p.config = Object.assign(_defaultValue, n),
                p.initialized = !0,
                t.dispatcher = p.config.dispatcher ? p.config.dispatcher : h,
                e.updateConfigurations(n),
                console.info("Telemetry is initialized."))
            }
            ,
            e._dispatch = function(n) {
                if (n.mid = n.eid + ":" + u.MD5(JSON.stringify(n)).toString(),
                t.enableValidation) {
                    var r = ajv.getSchema("http://api.ekstep.org/telemetry/" + n.eid.toLowerCase());
                    if (!r(n))
                        return void console.error("Invalid " + n.eid + " Event: " + ajv.errorsText(r.errors))
                }
                "client" === t.runningEnv ? n.context.did ? (n.actor.id = e.getActorId(n.actor.id, n.context.did),
                dispatcher.dispatch(n)) : p.fingerPrintId ? (n.context.did = p.fingerPrintId,
                n.actor.id = e.getActorId(n.actor.id, p.fingerPrintId),
                dispatcher.dispatch(n)) : p.getFingerPrint(function(t, r) {
                    n.context.did = t,
                    n.actor.id = e.getActorId(n.actor.id, t),
                    p.fingerPrintId = t,
                    dispatcher.dispatch(n)
                }) : dispatcher.dispatch(n)
            }
            ,
            e.getActorId = function(e, t) {
                return e && "anonymous" !== e ? e : t
            }
            ,
            e.getEvent = function(n, r) {
                return t.telemetryEnvelop.eid = n,
                t.telemetryEnvelop.ets = (new Date).getTime() + (1e3 * p.config.timeDiff || 0),
                t.telemetryEnvelop.ver = p._version,
                t.telemetryEnvelop.mid = "",
                t.telemetryEnvelop.actor = Object.assign({}, {
                    id: p.config.uid || "anonymous",
                    type: "User"
                }, e.getUpdatedValue("actor")),
                t.telemetryEnvelop.context = Object.assign({}, e.getGlobalContext(), e.getUpdatedValue("context")),
                t.telemetryEnvelop.object = Object.assign({}, e.getGlobalObject(), e.getUpdatedValue("object")),
                t.telemetryEnvelop.tags = Object.assign([], p.config.tags, e.getUpdatedValue("tags")),
                t.telemetryEnvelop.edata = r,
                t.telemetryEnvelop
            }
            ,
            e.updateConfigurations = function(e) {
                e.object && (t._globalObject = e.object),
                e.channel && (t._globalContext.channel = e.channel),
                e.env && (t._globalContext.env = e.env),
                e.rollup && (t._globalContext.rollup = e.rollup),
                e.sid && (t._globalContext.sid = e.sid),
                e.did && (t._globalContext.did = e.did),
                e.cdata && (t._globalContext.cdata = e.cdata),
                e.pdata && (t._globalContext.pdata = e.pdata)
            }
            ,
            e.getGlobalContext = function() {
                return t._globalContext
            }
            ,
            e.getGlobalObject = function() {
                return t._globalObject
            }
            ,
            e.updateValues = function(e) {
                e && (e.context && (t._currentContext = e.context),
                e.object && (t._currentObject = e.object),
                e.actor && (t._currentActor = e.actor),
                e.tags && (t._currentTags = e.tags),
                e.runningEnv && (t.runningEnv = e.runningEnv))
            }
            ,
            e.getUpdatedValue = function(e) {
                switch (e.toLowerCase()) {
                case "context":
                    return t._currentContext || {};
                case "object":
                    return t._currentObject || {};
                case "actor":
                    return t._currentActor || {};
                case "tags":
                    return t._currentTags || []
                }
            }
            ,
            e.objectAssign = function() {
                Object.assign = function(e) {
                    "use strict";
                    if (null == e)
                        throw new TypeError("Cannot convert undefined or null to object");
                    e = Object(e);
                    for (var t = 1; t < arguments.length; t++) {
                        var n = arguments[t];
                        if (null != n)
                            for (var r in n)
                                Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                    }
                    return e
                }
            }
            ;
            var n = {
                preprocessor: function(e, t) {
                    if ("userAgent" == e) {
                        var n = new i(t);
                        return n.getOS().name + " " + n.getBrowser().name
                    }
                    return t
                },
                audio: {
                    timeout: 1e3,
                    excludeIOS11: !0
                },
                fonts: {
                    swfContainerId: "fingerprintjs2",
                    swfPath: "flash/compiled/FontList.swf",
                    userDefinedFonts: [],
                    extendedJsFonts: !1
                },
                screen: {
                    detectScreenOrientation: !0
                },
                plugins: {
                    sortPluginsFor: [/palemoon/i],
                    excludeIE: !1
                },
                extraComponents: [],
                excludes: {
                    enumerateDevices: !0,
                    pixelRatio: !0,
                    doNotTrack: !0,
                    fontsFlash: !0,
                    canvas: !0,
                    screenResolution: !0,
                    availableScreenResolution: !0,
                    touchSupport: !0,
                    plugins: !0,
                    webgl: !0,
                    audio: !0,
                    language: !0,
                    deviceMemory: !0
                },
                NOT_AVAILABLE: "not available",
                ERROR: "error",
                EXCLUDED: "excluded"
            };
            return this.telemetry.getFingerPrint = function(e) {
                o.getV18(n, function(t, n) {
                    e && e(t, n)
                })
            }
            ,
            "function" != typeof Object.assign && e.objectAssign(),
            this.telemetry
        }();
        EkTelemetry = $t = p,
        e.exports = p
    }
    ).call(this, n(1), n(52), n(54))
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.UAParser = n(53)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    var r;
    !function(i, o) {
        "use strict";
        var a = "function"
          , s = "undefined"
          , c = "object"
          , l = "model"
          , u = "name"
          , d = "type"
          , f = "vendor"
          , h = "version"
          , p = "architecture"
          , g = "console"
          , m = "mobile"
          , v = "tablet"
          , y = "smarttv"
          , b = "wearable"
          , w = {
            extend: function(e, t) {
                var n = {};
                for (var r in e)
                    t[r] && t[r].length % 2 == 0 ? n[r] = t[r].concat(e[r]) : n[r] = e[r];
                return n
            },
            has: function(e, t) {
                return "string" == typeof e && -1 !== t.toLowerCase().indexOf(e.toLowerCase())
            },
            lowerize: function(e) {
                return e.toLowerCase()
            },
            major: function(e) {
                return "string" == typeof e ? e.replace(/[^\d\.]/g, "").split(".")[0] : o
            },
            trim: function(e) {
                return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
            }
        }
          , x = {
            rgx: function(e, t) {
                for (var n, r, i, s, l, u, d = 0; d < t.length && !l; ) {
                    var f = t[d]
                      , h = t[d + 1];
                    for (n = r = 0; n < f.length && !l; )
                        if (l = f[n++].exec(e))
                            for (i = 0; i < h.length; i++)
                                u = l[++r],
                                typeof (s = h[i]) === c && 0 < s.length ? 2 == s.length ? typeof s[1] == a ? this[s[0]] = s[1].call(this, u) : this[s[0]] = s[1] : 3 == s.length ? typeof s[1] !== a || s[1].exec && s[1].test ? this[s[0]] = u ? u.replace(s[1], s[2]) : o : this[s[0]] = u ? s[1].call(this, u, s[2]) : o : 4 == s.length && (this[s[0]] = u ? s[3].call(this, u.replace(s[1], s[2])) : o) : this[s] = u || o;
                    d += 2
                }
            },
            str: function(e, t) {
                for (var n in t)
                    if (typeof t[n] === c && 0 < t[n].length) {
                        for (var r = 0; r < t[n].length; r++)
                            if (w.has(t[n][r], e))
                                return "?" === n ? o : n
                    } else if (w.has(t[n], e))
                        return "?" === n ? o : n;
                return e
            }
        }
          , S = {
            browser: {
                oldsafari: {
                    version: {
                        "1.0": "/8",
                        1.2: "/1",
                        1.3: "/3",
                        "2.0": "/412",
                        "2.0.2": "/416",
                        "2.0.3": "/417",
                        "2.0.4": "/419",
                        "?": "/"
                    }
                }
            },
            device: {
                amazon: {
                    model: {
                        "Fire Phone": ["SD", "KF"]
                    }
                },
                sprint: {
                    model: {
                        "Evo Shift 4G": "7373KT"
                    },
                    vendor: {
                        HTC: "APA",
                        Sprint: "Sprint"
                    }
                }
            },
            os: {
                windows: {
                    version: {
                        ME: "4.90",
                        "NT 3.11": "NT3.51",
                        "NT 4.0": "NT4.0",
                        2000: "NT 5.0",
                        XP: ["NT 5.1", "NT 5.2"],
                        Vista: "NT 6.0",
                        7: "NT 6.1",
                        8: "NT 6.2",
                        8.1: "NT 6.3",
                        10: ["NT 6.4", "NT 10.0"],
                        RT: "ARM"
                    }
                }
            }
        }
          , C = {
            browser: [[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i], [u, h], [/(opios)[\/\s]+([\w\.]+)/i], [[u, "Opera Mini"], h], [/\s(opr)\/([\w\.]+)/i], [[u, "Opera"], h], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]*)/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i], [u, h], [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i], [[u, "IE"], h], [/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i], [[u, "Edge"], h], [/(yabrowser)\/([\w\.]+)/i], [[u, "Yandex"], h], [/(puffin)\/([\w\.]+)/i], [[u, "Puffin"], h], [/(focus)\/([\w\.]+)/i], [[u, "Firefox Focus"], h], [/(opt)\/([\w\.]+)/i], [[u, "Opera Touch"], h], [/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i], [[u, "UCBrowser"], h], [/(comodo_dragon)\/([\w\.]+)/i], [[u, /_/g, " "], h], [/(micromessenger)\/([\w\.]+)/i], [[u, "WeChat"], h], [/(brave)\/([\w\.]+)/i], [[u, "Brave"], h], [/(qqbrowserlite)\/([\w\.]+)/i], [u, h], [/(QQ)\/([\d\.]+)/i], [u, h], [/m?(qqbrowser)[\/\s]?([\w\.]+)/i], [u, h], [/(BIDUBrowser)[\/\s]?([\w\.]+)/i], [u, h], [/(2345Explorer)[\/\s]?([\w\.]+)/i], [u, h], [/(MetaSr)[\/\s]?([\w\.]+)/i], [u], [/(LBBROWSER)/i], [u], [/xiaomi\/miuibrowser\/([\w\.]+)/i], [h, [u, "MIUI Browser"]], [/;fbav\/([\w\.]+);/i], [h, [u, "Facebook"]], [/safari\s(line)\/([\w\.]+)/i, /android.+(line)\/([\w\.]+)\/iab/i], [u, h], [/headlesschrome(?:\/([\w\.]+)|\s)/i], [h, [u, "Chrome Headless"]], [/\swv\).+(chrome)\/([\w\.]+)/i], [[u, /(.+)/, "$1 WebView"], h], [/((?:oculus|samsung)browser)\/([\w\.]+)/i], [[u, /(.+(?:g|us))(.+)/, "$1 $2"], h], [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i], [h, [u, "Android Browser"]], [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i], [u, h], [/(dolfin)\/([\w\.]+)/i], [[u, "Dolphin"], h], [/((?:android.+)crmo|crios)\/([\w\.]+)/i], [[u, "Chrome"], h], [/(coast)\/([\w\.]+)/i], [[u, "Opera Coast"], h], [/fxios\/([\w\.-]+)/i], [h, [u, "Firefox"]], [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i], [h, [u, "Mobile Safari"]], [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i], [h, u], [/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [[u, "GSA"], h], [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [u, [h, x.str, S.browser.oldsafari.version]], [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i], [u, h], [/(navigator|netscape)\/([\w\.-]+)/i], [[u, "Netscape"], h], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]*)/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i], [u, h]],
            cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i], [[p, "amd64"]], [/(ia32(?=;))/i], [[p, w.lowerize]], [/((?:i[346]|x)86)[;\)]/i], [[p, "ia32"]], [/windows\s(ce|mobile);\sppc;/i], [[p, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i], [[p, /ower/, "", w.lowerize]], [/(sun4\w)[;\)]/i], [[p, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i], [[p, w.lowerize]]],
            device: [[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i], [l, f, [d, v]], [/applecoremedia\/[\w\.]+ \((ipad)/], [l, [f, "Apple"], [d, v]], [/(apple\s{0,1}tv)/i], [[l, "Apple TV"], [f, "Apple"]], [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i], [f, l, [d, v]], [/(kf[A-z]+)\sbuild\/.+silk\//i], [l, [f, "Amazon"], [d, v]], [/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i], [[l, x.str, S.device.amazon.model], [f, "Amazon"], [d, m]], [/android.+aft([bms])\sbuild/i], [l, [f, "Amazon"], [d, y]], [/\((ip[honed|\s\w*]+);.+(apple)/i], [l, f, [d, m]], [/\((ip[honed|\s\w*]+);/i], [l, [f, "Apple"], [d, m]], [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i], [f, l, [d, m]], [/\(bb10;\s(\w+)/i], [l, [f, "BlackBerry"], [d, m]], [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i], [l, [f, "Asus"], [d, v]], [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i], [[f, "Sony"], [l, "Xperia Tablet"], [d, v]], [/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i], [l, [f, "Sony"], [d, m]], [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i], [f, l, [d, g]], [/android.+;\s(shield)\sbuild/i], [l, [f, "Nvidia"], [d, g]], [/(playstation\s[34portablevi]+)/i], [l, [f, "Sony"], [d, g]], [/(sprint\s(\w+))/i], [[f, x.str, S.device.sprint.vendor], [l, x.str, S.device.sprint.model], [d, m]], [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i], [f, l, [d, v]], [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w*)/i, /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i], [f, [l, /_/g, " "], [d, m]], [/(nexus\s9)/i], [l, [f, "HTC"], [d, v]], [/d\/huawei([\w\s-]+)[;\)]/i, /(nexus\s6p)/i], [l, [f, "Huawei"], [d, m]], [/(microsoft);\s(lumia[\s\w]+)/i], [f, l, [d, m]], [/[\s\(;](xbox(?:\sone)?)[\s\);]/i], [l, [f, "Microsoft"], [d, g]], [/(kin\.[onetw]{3})/i], [[l, /\./g, " "], [f, "Microsoft"], [d, m]], [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w*)/i, /(XT\d{3,4}) build\//i, /(nexus\s6)/i], [l, [f, "Motorola"], [d, m]], [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i], [l, [f, "Motorola"], [d, v]], [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i], [[f, w.trim], [l, w.trim], [d, y]], [/hbbtv.+maple;(\d+)/i], [[l, /^/, "SmartTV"], [f, "Samsung"], [d, y]], [/\(dtv[\);].+(aquos)/i], [l, [f, "Sharp"], [d, y]], [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i], [[f, "Samsung"], l, [d, v]], [/smart-tv.+(samsung)/i], [f, [d, y], l], [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i, /sec-((sgh\w+))/i], [[f, "Samsung"], l, [d, m]], [/sie-(\w*)/i], [l, [f, "Siemens"], [d, m]], [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]*)/i], [[f, "Nokia"], l, [d, m]], [/android\s3\.[\s\w;-]{10}(a\d{3})/i], [l, [f, "Acer"], [d, v]], [/android.+([vl]k\-?\d{3})\s+build/i], [l, [f, "LG"], [d, v]], [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i], [[f, "LG"], l, [d, v]], [/(lg) netcast\.tv/i], [f, l, [d, y]], [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w*)/i, /android.+lg(\-?[\d\w]+)\s+build/i], [l, [f, "LG"], [d, m]], [/android.+(ideatab[a-z0-9\-\s]+)/i], [l, [f, "Lenovo"], [d, v]], [/linux;.+((jolla));/i], [f, l, [d, m]], [/((pebble))app\/[\d\.]+\s/i], [f, l, [d, b]], [/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i], [f, l, [d, m]], [/crkey/i], [[l, "Chromecast"], [f, "Google"]], [/android.+;\s(glass)\s\d/i], [l, [f, "Google"], [d, b]], [/android.+;\s(pixel c)[\s)]/i], [l, [f, "Google"], [d, v]], [/android.+;\s(pixel( [23])?( xl)?)\s/i], [l, [f, "Google"], [d, m]], [/android.+;\s(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i, /android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i], [[l, /_/g, " "], [f, "Xiaomi"], [d, m]], [/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i], [[l, /_/g, " "], [f, "Xiaomi"], [d, v]], [/android.+;\s(m[1-5]\snote)\sbuild/i], [l, [f, "Meizu"], [d, v]], [/(mz)-([\w-]{2,})/i], [[f, "Meizu"], l, [d, m]], [/android.+a000(1)\s+build/i, /android.+oneplus\s(a\d{4})\s+build/i], [l, [f, "OnePlus"], [d, m]], [/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i], [l, [f, "RCA"], [d, v]], [/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i], [l, [f, "Dell"], [d, v]], [/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i], [l, [f, "Verizon"], [d, v]], [/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i], [[f, "Barnes & Noble"], l, [d, v]], [/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i], [l, [f, "NuVision"], [d, v]], [/android.+;\s(k88)\sbuild/i], [l, [f, "ZTE"], [d, v]], [/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i], [l, [f, "Swiss"], [d, m]], [/android.+[;\/]\s*(zur\d{3})\s+build/i], [l, [f, "Swiss"], [d, v]], [/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i], [l, [f, "Zeki"], [d, v]], [/(android).+[;\/]\s+([YR]\d{2})\s+build/i, /android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i], [[f, "Dragon Touch"], l, [d, v]], [/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i], [l, [f, "Insignia"], [d, v]], [/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i], [l, [f, "NextBook"], [d, v]], [/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i], [[f, "Voice"], l, [d, m]], [/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i], [[f, "LvTel"], l, [d, m]], [/android.+;\s(PH-1)\s/i], [l, [f, "Essential"], [d, m]], [/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i], [l, [f, "Envizen"], [d, v]], [/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i], [f, l, [d, v]], [/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i], [l, [f, "MachSpeed"], [d, v]], [/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i], [f, l, [d, v]], [/android.+[;\/]\s*TU_(1491)\s+build/i], [l, [f, "Rotor"], [d, v]], [/android.+(KS(.+))\s+build/i], [l, [f, "Amazon"], [d, v]], [/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i], [f, l, [d, v]], [/\s(tablet|tab)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i], [[d, w.lowerize], f, l], [/(android[\w\.\s\-]{0,9});.+build/i], [l, [f, "Generic"]]],
            engine: [[/windows.+\sedge\/([\w\.]+)/i], [h, [u, "EdgeHTML"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i], [u, h], [/rv\:([\w\.]{1,9}).+(gecko)/i], [h, u]],
            os: [[/microsoft\s(windows)\s(vista|xp)/i], [u, h], [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i], [u, [h, x.str, S.os.windows.version]], [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i], [[u, "Windows"], [h, x.str, S.os.windows.version]], [/\((bb)(10);/i], [[u, "BlackBerry"], h], [/(blackberry)\w*\/?([\w\.]*)/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i, /linux;.+(sailfish);/i], [u, h], [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i], [[u, "Symbian"], h], [/\((series40);/i], [u], [/mozilla.+\(mobile;.+gecko.+firefox/i], [[u, "Firefox OS"], h], [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w*)/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i, /(hurd|linux)\s?([\w\.]*)/i, /(gnu)\s?([\w\.]*)/i], [u, h], [/(cros)\s[\w]+\s([\w\.]+\w)/i], [[u, "Chromium OS"], h], [/(sunos)\s?([\w\.\d]*)/i], [[u, "Solaris"], h], [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i], [u, h], [/(haiku)\s(\w+)/i], [u, h], [/cfnetwork\/.+darwin/i, /ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i], [[h, /_/g, "."], [u, "iOS"]], [/(mac\sos\sx)\s?([\w\s\.]*)/i, /(macintosh|mac(?=_powerpc)\s)/i], [[u, "Mac OS"], [h, /_/g, "."]], [/((?:open)?solaris)[\/\s-]?([\w\.]*)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i, /(unix)\s?([\w\.]*)/i], [u, h]]
        }
          , _ = function(e, t) {
            if ("object" == typeof e && (t = e,
            e = o),
            !(this instanceof _))
                return new _(e,t).getResult();
            var n = e || (i && i.navigator && i.navigator.userAgent ? i.navigator.userAgent : "")
              , r = t ? w.extend(C, t) : C;
            return this.getBrowser = function() {
                var e = {
                    name: o,
                    version: o
                };
                return x.rgx.call(e, n, r.browser),
                e.major = w.major(e.version),
                e
            }
            ,
            this.getCPU = function() {
                var e = {
                    architecture: o
                };
                return x.rgx.call(e, n, r.cpu),
                e
            }
            ,
            this.getDevice = function() {
                var e = {
                    vendor: o,
                    model: o,
                    type: o
                };
                return x.rgx.call(e, n, r.device),
                e
            }
            ,
            this.getEngine = function() {
                var e = {
                    name: o,
                    version: o
                };
                return x.rgx.call(e, n, r.engine),
                e
            }
            ,
            this.getOS = function() {
                var e = {
                    name: o,
                    version: o
                };
                return x.rgx.call(e, n, r.os),
                e
            }
            ,
            this.getResult = function() {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU()
                }
            }
            ,
            this.getUA = function() {
                return n
            }
            ,
            this.setUA = function(e) {
                return n = e,
                this
            }
            ,
            this
        };
        _.VERSION = "0.7.19",
        _.BROWSER = {
            NAME: u,
            MAJOR: "major",
            VERSION: h
        },
        _.CPU = {
            ARCHITECTURE: p
        },
        _.DEVICE = {
            MODEL: l,
            VENDOR: f,
            TYPE: d,
            CONSOLE: g,
            MOBILE: m,
            SMARTTV: y,
            TABLET: v,
            WEARABLE: b,
            EMBEDDED: "embedded"
        },
        _.ENGINE = {
            NAME: u,
            VERSION: h
        },
        _.OS = {
            NAME: u,
            VERSION: h
        },
        typeof t !== s ? (typeof e !== s && e.exports && (t = e.exports = _),
        t.UAParser = _) : n(4) ? void 0 === (r = function() {
            return _
        }
        .call(t, n, t, e)) || (e.exports = r) : i && (i.UAParser = _);
        var k = i && (i.jQuery || i.Zepto);
        if (typeof k !== s && !k.ua) {
            var E = new _;
            k.ua = E.getResult(),
            k.ua.get = function() {
                return E.getUA()
            }
            ,
            k.ua.set = function(e) {
                E.setUA(e);
                var t = E.getResult();
                for (var n in t)
                    k.ua[n] = t[n]
            }
        }
    }("object" == typeof window ? window : this)
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.Fingerprint2 = n(55)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    var r, i;
    !function(o, a, s) {
        "use strict";
        "undefined" != typeof window && n(4) ? void 0 === (i = "function" == typeof (r = s) ? r.call(t, n, t, e) : r) || (e.exports = i) : void 0 !== e && e.exports ? e.exports = s() : a.exports ? a.exports = s() : a.Fingerprint2 = s()
    }(0, this, function() {
        "use strict";
        var e = function(e, t) {
            e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
            t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
            var n = [0, 0, 0, 0];
            return n[3] += e[3] + t[3],
            n[2] += n[3] >>> 16,
            n[3] &= 65535,
            n[2] += e[2] + t[2],
            n[1] += n[2] >>> 16,
            n[2] &= 65535,
            n[1] += e[1] + t[1],
            n[0] += n[1] >>> 16,
            n[1] &= 65535,
            n[0] += e[0] + t[0],
            n[0] &= 65535,
            [n[0] << 16 | n[1], n[2] << 16 | n[3]]
        }
          , t = function(e, t) {
            e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]],
            t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
            var n = [0, 0, 0, 0];
            return n[3] += e[3] * t[3],
            n[2] += n[3] >>> 16,
            n[3] &= 65535,
            n[2] += e[2] * t[3],
            n[1] += n[2] >>> 16,
            n[2] &= 65535,
            n[2] += e[3] * t[2],
            n[1] += n[2] >>> 16,
            n[2] &= 65535,
            n[1] += e[1] * t[3],
            n[0] += n[1] >>> 16,
            n[1] &= 65535,
            n[1] += e[2] * t[2],
            n[0] += n[1] >>> 16,
            n[1] &= 65535,
            n[1] += e[3] * t[1],
            n[0] += n[1] >>> 16,
            n[1] &= 65535,
            n[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0],
            n[0] &= 65535,
            [n[0] << 16 | n[1], n[2] << 16 | n[3]]
        }
          , n = function(e, t) {
            return 32 == (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32,
            [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
        }
          , r = function(e, t) {
            return 0 == (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
        }
          , i = function(e, t) {
            return [e[0] ^ t[0], e[1] ^ t[1]]
        }
          , o = function(e) {
            return e = i(e, [0, e[0] >>> 1]),
            e = t(e, [4283543511, 3981806797]),
            e = i(e, [0, e[0] >>> 1]),
            e = t(e, [3301882366, 444984403]),
            i(e, [0, e[0] >>> 1])
        }
          , a = function(a, s) {
            a = a || "",
            s = s || 0;
            for (var c = a.length % 16, l = a.length - c, u = [0, s], d = [0, s], f = [0, 0], h = [0, 0], p = [2277735313, 289559509], g = [1291169091, 658871167], m = 0; m < l; m += 16)
                f = [255 & a.charCodeAt(m + 4) | (255 & a.charCodeAt(m + 5)) << 8 | (255 & a.charCodeAt(m + 6)) << 16 | (255 & a.charCodeAt(m + 7)) << 24, 255 & a.charCodeAt(m) | (255 & a.charCodeAt(m + 1)) << 8 | (255 & a.charCodeAt(m + 2)) << 16 | (255 & a.charCodeAt(m + 3)) << 24],
                h = [255 & a.charCodeAt(m + 12) | (255 & a.charCodeAt(m + 13)) << 8 | (255 & a.charCodeAt(m + 14)) << 16 | (255 & a.charCodeAt(m + 15)) << 24, 255 & a.charCodeAt(m + 8) | (255 & a.charCodeAt(m + 9)) << 8 | (255 & a.charCodeAt(m + 10)) << 16 | (255 & a.charCodeAt(m + 11)) << 24],
                f = t(f, p),
                f = n(f, 31),
                f = t(f, g),
                u = i(u, f),
                u = n(u, 27),
                u = e(u, d),
                u = e(t(u, [0, 5]), [0, 1390208809]),
                h = t(h, g),
                h = n(h, 33),
                h = t(h, p),
                d = i(d, h),
                d = n(d, 31),
                d = e(d, u),
                d = e(t(d, [0, 5]), [0, 944331445]);
            switch (f = [0, 0],
            h = [0, 0],
            c) {
            case 15:
                h = i(h, r([0, a.charCodeAt(m + 14)], 48));
            case 14:
                h = i(h, r([0, a.charCodeAt(m + 13)], 40));
            case 13:
                h = i(h, r([0, a.charCodeAt(m + 12)], 32));
            case 12:
                h = i(h, r([0, a.charCodeAt(m + 11)], 24));
            case 11:
                h = i(h, r([0, a.charCodeAt(m + 10)], 16));
            case 10:
                h = i(h, r([0, a.charCodeAt(m + 9)], 8));
            case 9:
                h = i(h, [0, a.charCodeAt(m + 8)]),
                h = t(h, g),
                h = n(h, 33),
                h = t(h, p),
                d = i(d, h);
            case 8:
                f = i(f, r([0, a.charCodeAt(m + 7)], 56));
            case 7:
                f = i(f, r([0, a.charCodeAt(m + 6)], 48));
            case 6:
                f = i(f, r([0, a.charCodeAt(m + 5)], 40));
            case 5:
                f = i(f, r([0, a.charCodeAt(m + 4)], 32));
            case 4:
                f = i(f, r([0, a.charCodeAt(m + 3)], 24));
            case 3:
                f = i(f, r([0, a.charCodeAt(m + 2)], 16));
            case 2:
                f = i(f, r([0, a.charCodeAt(m + 1)], 8));
            case 1:
                f = i(f, [0, a.charCodeAt(m)]),
                f = t(f, p),
                f = n(f, 31),
                f = t(f, g),
                u = i(u, f)
            }
            return u = i(u, [0, a.length]),
            d = i(d, [0, a.length]),
            u = e(u, d),
            d = e(d, u),
            u = o(u),
            d = o(d),
            u = e(u, d),
            d = e(d, u),
            ("00000000" + (u[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (u[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[1] >>> 0).toString(16)).slice(-8)
        }
          , s = {
            preprocessor: null,
            audio: {
                timeout: 1e3,
                excludeIOS11: !0
            },
            fonts: {
                swfContainerId: "fingerprintjs2",
                swfPath: "flash/compiled/FontList.swf",
                userDefinedFonts: [],
                extendedJsFonts: !1
            },
            screen: {
                detectScreenOrientation: !0
            },
            plugins: {
                sortPluginsFor: [/palemoon/i],
                excludeIE: !1
            },
            extraComponents: [],
            excludes: {
                enumerateDevices: !0,
                pixelRatio: !0,
                doNotTrack: !0,
                fontsFlash: !0
            },
            NOT_AVAILABLE: "not available",
            ERROR: "error",
            EXCLUDED: "excluded"
        }
          , c = function(e, t) {
            if (Array.prototype.forEach && e.forEach === Array.prototype.forEach)
                e.forEach(t);
            else if (e.length === +e.length)
                for (var n = 0, r = e.length; n < r; n++)
                    t(e[n], n, e);
            else
                for (var i in e)
                    e.hasOwnProperty(i) && t(e[i], i, e)
        }
          , l = function(e, t) {
            var n = [];
            return null == e ? n : Array.prototype.map && e.map === Array.prototype.map ? e.map(t) : (c(e, function(e, r, i) {
                n.push(t(e, r, i))
            }),
            n)
        }
          , u = function(e) {
            if (null == navigator.plugins)
                return e.NOT_AVAILABLE;
            for (var t = [], n = 0, r = navigator.plugins.length; n < r; n++)
                navigator.plugins[n] && t.push(navigator.plugins[n]);
            return d(e) && (t = t.sort(function(e, t) {
                return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
            })),
            l(t, function(e) {
                var t = l(e, function(e) {
                    return [e.type, e.suffixes]
                });
                return [e.name, e.description, t]
            })
        }
          , d = function(e) {
            for (var t = !1, n = 0, r = e.plugins.sortPluginsFor.length; n < r; n++) {
                var i = e.plugins.sortPluginsFor[n];
                if (navigator.userAgent.match(i)) {
                    t = !0;
                    break
                }
            }
            return t
        }
          , f = function() {
            var e = document.createElement("canvas");
            return !(!e.getContext || !e.getContext("2d"))
        }
          , h = function() {
            if (!f())
                return !1;
            var e = p();
            return !!window.WebGLRenderingContext && !!e
        }
          , p = function() {
            var e = document.createElement("canvas")
              , t = null;
            try {
                t = e.getContext("webgl") || e.getContext("experimental-webgl")
            } catch (e) {}
            return t || (t = null),
            t
        }
          , g = [{
            key: "userAgent",
            getData: function(e) {
                e(navigator.userAgent)
            }
        }, {
            key: "language",
            getData: function(e, t) {
                e(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || t.NOT_AVAILABLE)
            }
        }, {
            key: "colorDepth",
            getData: function(e, t) {
                e(window.screen.colorDepth || t.NOT_AVAILABLE)
            }
        }, {
            key: "deviceMemory",
            getData: function(e, t) {
                e(navigator.deviceMemory || t.NOT_AVAILABLE)
            }
        }, {
            key: "pixelRatio",
            getData: function(e, t) {
                e(window.devicePixelRatio || t.NOT_AVAILABLE)
            }
        }, {
            key: "hardwareConcurrency",
            getData: function(e, t) {
                e(function(e) {
                    return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : e.NOT_AVAILABLE
                }(t))
            }
        }, {
            key: "screenResolution",
            getData: function(e, t) {
                e(function(e) {
                    var t = [window.screen.width, window.screen.height];
                    return e.screen.detectScreenOrientation && t.sort().reverse(),
                    t
                }(t))
            }
        }, {
            key: "availableScreenResolution",
            getData: function(e, t) {
                e(function(e) {
                    if (window.screen.availWidth && window.screen.availHeight) {
                        var t = [window.screen.availHeight, window.screen.availWidth];
                        return e.screen.detectScreenOrientation && t.sort().reverse(),
                        t
                    }
                    return e.NOT_AVAILABLE
                }(t))
            }
        }, {
            key: "timezoneOffset",
            getData: function(e) {
                e((new Date).getTimezoneOffset())
            }
        }, {
            key: "timezone",
            getData: function(e, t) {
                window.Intl && window.Intl.DateTimeFormat ? e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone) : e(t.NOT_AVAILABLE)
            }
        }, {
            key: "sessionStorage",
            getData: function(e, t) {
                e(function(e) {
                    try {
                        return !!window.sessionStorage
                    } catch (t) {
                        return e.ERROR
                    }
                }(t))
            }
        }, {
            key: "localStorage",
            getData: function(e, t) {
                e(function(e) {
                    try {
                        return !!window.localStorage
                    } catch (t) {
                        return e.ERROR
                    }
                }(t))
            }
        }, {
            key: "indexedDb",
            getData: function(e, t) {
                e(function(e) {
                    try {
                        return !!window.indexedDB
                    } catch (t) {
                        return e.ERROR
                    }
                }(t))
            }
        }, {
            key: "addBehavior",
            getData: function(e) {
                e(!(!document.body || !document.body.addBehavior))
            }
        }, {
            key: "openDatabase",
            getData: function(e) {
                e(!!window.openDatabase)
            }
        }, {
            key: "cpuClass",
            getData: function(e, t) {
                e(function(e) {
                    return navigator.cpuClass || e.NOT_AVAILABLE
                }(t))
            }
        }, {
            key: "platform",
            getData: function(e, t) {
                e(function(e) {
                    return navigator.platform ? navigator.platform : e.NOT_AVAILABLE
                }(t))
            }
        }, {
            key: "doNotTrack",
            getData: function(e, t) {
                e(function(e) {
                    return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : e.NOT_AVAILABLE
                }(t))
            }
        }, {
            key: "plugins",
            getData: function(e, t) {
                "Microsoft Internet Explorer" === navigator.appName || "Netscape" === navigator.appName && /Trident/.test(navigator.userAgent) ? t.plugins.excludeIE ? e(t.EXCLUDED) : e(function(e) {
                    var t = [];
                    return Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject"in window ? t = l(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"], function(t) {
                        try {
                            return new window.ActiveXObject(t),
                            t
                        } catch (t) {
                            return e.ERROR
                        }
                    }) : t.push(e.NOT_AVAILABLE),
                    navigator.plugins && (t = t.concat(u(e))),
                    t
                }(t)) : e(u(t))
            }
        }, {
            key: "canvas",
            getData: function(e, t) {
                f() ? e(function(e) {
                    var t = []
                      , n = document.createElement("canvas");
                    n.width = 2e3,
                    n.height = 200,
                    n.style.display = "inline";
                    var r = n.getContext("2d");
                    return r.rect(0, 0, 10, 10),
                    r.rect(2, 2, 6, 6),
                    t.push("canvas winding:" + (!1 === r.isPointInPath(5, 5, "evenodd") ? "yes" : "no")),
                    r.textBaseline = "alphabetic",
                    r.fillStyle = "#f60",
                    r.fillRect(125, 1, 62, 20),
                    r.fillStyle = "#069",
                    e.dontUseFakeFontInCanvas ? r.font = "11pt Arial" : r.font = "11pt no-real-font-123",
                    r.fillText("Cwm fjordbank glyphs vext quiz, ", 2, 15),
                    r.fillStyle = "rgba(102, 204, 0, 0.2)",
                    r.font = "18pt Arial",
                    r.fillText("Cwm fjordbank glyphs vext quiz, ", 4, 45),
                    r.globalCompositeOperation = "multiply",
                    r.fillStyle = "rgb(255,0,255)",
                    r.beginPath(),
                    r.arc(50, 50, 50, 0, 2 * Math.PI, !0),
                    r.closePath(),
                    r.fill(),
                    r.fillStyle = "rgb(0,255,255)",
                    r.beginPath(),
                    r.arc(100, 50, 50, 0, 2 * Math.PI, !0),
                    r.closePath(),
                    r.fill(),
                    r.fillStyle = "rgb(255,255,0)",
                    r.beginPath(),
                    r.arc(75, 100, 50, 0, 2 * Math.PI, !0),
                    r.closePath(),
                    r.fill(),
                    r.fillStyle = "rgb(255,0,255)",
                    r.arc(75, 75, 75, 0, 2 * Math.PI, !0),
                    r.arc(75, 75, 25, 0, 2 * Math.PI, !0),
                    r.fill("evenodd"),
                    n.toDataURL && t.push("canvas fp:" + n.toDataURL()),
                    t
                }(t)) : e(t.NOT_AVAILABLE)
            }
        }, {
            key: "webgl",
            getData: function(e, t) {
                h() ? e(function() {
                    var e, t = function(t) {
                        return e.clearColor(0, 0, 0, 1),
                        e.enable(e.DEPTH_TEST),
                        e.depthFunc(e.LEQUAL),
                        e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT),
                        "[" + t[0] + ", " + t[1] + "]"
                    };
                    if (!(e = p()))
                        return null;
                    var n = []
                      , r = e.createBuffer();
                    e.bindBuffer(e.ARRAY_BUFFER, r);
                    var i = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                    e.bufferData(e.ARRAY_BUFFER, i, e.STATIC_DRAW),
                    r.itemSize = 3,
                    r.numItems = 3;
                    var o = e.createProgram()
                      , a = e.createShader(e.VERTEX_SHADER);
                    e.shaderSource(a, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),
                    e.compileShader(a);
                    var s = e.createShader(e.FRAGMENT_SHADER);
                    e.shaderSource(s, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),
                    e.compileShader(s),
                    e.attachShader(o, a),
                    e.attachShader(o, s),
                    e.linkProgram(o),
                    e.useProgram(o),
                    o.vertexPosAttrib = e.getAttribLocation(o, "attrVertex"),
                    o.offsetUniform = e.getUniformLocation(o, "uniformOffset"),
                    e.enableVertexAttribArray(o.vertexPosArray),
                    e.vertexAttribPointer(o.vertexPosAttrib, r.itemSize, e.FLOAT, !1, 0, 0),
                    e.uniform2f(o.offsetUniform, 1, 1),
                    e.drawArrays(e.TRIANGLE_STRIP, 0, r.numItems);
                    try {
                        n.push(e.canvas.toDataURL())
                    } catch (e) {}
                    n.push("extensions:" + (e.getSupportedExtensions() || []).join(";")),
                    n.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),
                    n.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),
                    n.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)),
                    n.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")),
                    n.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)),
                    n.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)),
                    n.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)),
                    n.push("webgl max anisotropy:" + function(e) {
                        var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                        if (t) {
                            var n = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                            return 0 === n && (n = 2),
                            n
                        }
                        return null
                    }(e)),
                    n.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),
                    n.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),
                    n.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),
                    n.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)),
                    n.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),
                    n.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)),
                    n.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)),
                    n.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)),
                    n.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),
                    n.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),
                    n.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))),
                    n.push("webgl red bits:" + e.getParameter(e.RED_BITS)),
                    n.push("webgl renderer:" + e.getParameter(e.RENDERER)),
                    n.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)),
                    n.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)),
                    n.push("webgl vendor:" + e.getParameter(e.VENDOR)),
                    n.push("webgl version:" + e.getParameter(e.VERSION));
                    try {
                        var l = e.getExtension("WEBGL_debug_renderer_info");
                        l && (n.push("webgl unmasked vendor:" + e.getParameter(l.UNMASKED_VENDOR_WEBGL)),
                        n.push("webgl unmasked renderer:" + e.getParameter(l.UNMASKED_RENDERER_WEBGL)))
                    } catch (e) {}
                    return e.getShaderPrecisionFormat ? (c(["FLOAT", "INT"], function(t) {
                        c(["VERTEX", "FRAGMENT"], function(r) {
                            c(["HIGH", "MEDIUM", "LOW"], function(i) {
                                c(["precision", "rangeMin", "rangeMax"], function(o) {
                                    var a = e.getShaderPrecisionFormat(e[r + "_SHADER"], e[i + "_" + t])[o];
                                    "precision" !== o && (o = "precision " + o);
                                    var s = ["webgl ", r.toLowerCase(), " shader ", i.toLowerCase(), " ", t.toLowerCase(), " ", o, ":", a].join("");
                                    n.push(s)
                                })
                            })
                        })
                    }),
                    n) : n
                }()) : e(t.NOT_AVAILABLE)
            }
        }, {
            key: "webglVendorAndRenderer",
            getData: function(e) {
                h() ? e(function() {
                    try {
                        var e = p()
                          , t = e.getExtension("WEBGL_debug_renderer_info");
                        return e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL)
                    } catch (e) {
                        return null
                    }
                }()) : e()
            }
        }, {
            key: "adBlock",
            getData: function(e) {
                e(function() {
                    var e = document.createElement("div");
                    e.innerHTML = "&nbsp;",
                    e.className = "adsbox";
                    var t = !1;
                    try {
                        document.body.appendChild(e),
                        t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight,
                        document.body.removeChild(e)
                    } catch (e) {
                        t = !1
                    }
                    return t
                }())
            }
        }, {
            key: "hasLiedLanguages",
            getData: function(e) {
                e(function() {
                    if (void 0 !== navigator.languages)
                        try {
                            if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2))
                                return !0
                        } catch (e) {
                            return !0
                        }
                    return !1
                }())
            }
        }, {
            key: "hasLiedResolution",
            getData: function(e) {
                e(window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight)
            }
        }, {
            key: "hasLiedOs",
            getData: function(e) {
                e(function() {
                    var e, t = navigator.userAgent.toLowerCase(), n = navigator.oscpu, r = navigator.platform.toLowerCase();
                    if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other",
                    ("ontouchstart"in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e)
                        return !0;
                    if (void 0 !== n) {
                        if ((n = n.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e)
                            return !0;
                        if (n.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e)
                            return !0;
                        if (n.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e)
                            return !0;
                        if ((-1 === n.indexOf("win") && -1 === n.indexOf("linux") && -1 === n.indexOf("mac")) != ("Other" === e))
                            return !0
                    }
                    return r.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || (r.indexOf("linux") >= 0 || r.indexOf("android") >= 0 || r.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || (r.indexOf("mac") >= 0 || r.indexOf("ipad") >= 0 || r.indexOf("ipod") >= 0 || r.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e || (-1 === r.indexOf("win") && -1 === r.indexOf("linux") && -1 === r.indexOf("mac")) != ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e
                }())
            }
        }, {
            key: "hasLiedBrowser",
            getData: function(e) {
                e(function() {
                    var e, t = navigator.userAgent.toLowerCase(), n = navigator.productSub;
                    if (("Chrome" == (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== n)
                        return !0;
                    var r, i = eval.toString().length;
                    if (37 === i && "Safari" !== e && "Firefox" !== e && "Other" !== e)
                        return !0;
                    if (39 === i && "Internet Explorer" !== e && "Other" !== e)
                        return !0;
                    if (33 === i && "Chrome" !== e && "Opera" !== e && "Other" !== e)
                        return !0;
                    try {
                        throw "a"
                    } catch (e) {
                        try {
                            e.toSource(),
                            r = !0
                        } catch (e) {
                            r = !1
                        }
                    }
                    return r && "Firefox" !== e && "Other" !== e
                }())
            }
        }, {
            key: "touchSupport",
            getData: function(e) {
                e(function() {
                    var e, t = 0;
                    void 0 !== navigator.maxTouchPoints ? t = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (t = navigator.msMaxTouchPoints);
                    try {
                        document.createEvent("TouchEvent"),
                        e = !0
                    } catch (t) {
                        e = !1
                    }
                    return [t, e, "ontouchstart"in window]
                }())
            }
        }, {
            key: "fonts",
            getData: function(e, t) {
                var n = ["monospace", "sans-serif", "serif"]
                  , r = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
                t.fonts.extendedJsFonts && (r = r.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"])),
                r = (r = r.concat(t.fonts.userDefinedFonts)).filter(function(e, t) {
                    return r.indexOf(e) === t
                });
                var i = document.getElementsByTagName("body")[0]
                  , o = document.createElement("div")
                  , a = document.createElement("div")
                  , s = {}
                  , c = {}
                  , l = function() {
                    var e = document.createElement("span");
                    return e.style.position = "absolute",
                    e.style.left = "-9999px",
                    e.style.fontSize = "72px",
                    e.style.fontStyle = "normal",
                    e.style.fontWeight = "normal",
                    e.style.letterSpacing = "normal",
                    e.style.lineBreak = "auto",
                    e.style.lineHeight = "normal",
                    e.style.textTransform = "none",
                    e.style.textAlign = "left",
                    e.style.textDecoration = "none",
                    e.style.textShadow = "none",
                    e.style.whiteSpace = "normal",
                    e.style.wordBreak = "normal",
                    e.style.wordSpacing = "normal",
                    e.innerHTML = "mmmmmmmmmmlli",
                    e
                }
                  , u = function(e, t) {
                    var n = l();
                    return n.style.fontFamily = "'" + e + "'," + t,
                    n
                }
                  , d = function(e) {
                    for (var t = !1, r = 0; r < n.length; r++)
                        if (t = e[r].offsetWidth !== s[n[r]] || e[r].offsetHeight !== c[n[r]])
                            return t;
                    return t
                }
                  , f = function() {
                    for (var e = [], t = 0, r = n.length; t < r; t++) {
                        var i = l();
                        i.style.fontFamily = n[t],
                        o.appendChild(i),
                        e.push(i)
                    }
                    return e
                }();
                i.appendChild(o);
                for (var h = 0, p = n.length; h < p; h++)
                    s[n[h]] = f[h].offsetWidth,
                    c[n[h]] = f[h].offsetHeight;
                var g = function() {
                    for (var e = {}, t = 0, i = r.length; t < i; t++) {
                        for (var o = [], s = 0, c = n.length; s < c; s++) {
                            var l = u(r[t], n[s]);
                            a.appendChild(l),
                            o.push(l)
                        }
                        e[r[t]] = o
                    }
                    return e
                }();
                i.appendChild(a);
                for (var m = [], v = 0, y = r.length; v < y; v++)
                    d(g[r[v]]) && m.push(r[v]);
                i.removeChild(a),
                i.removeChild(o),
                e(m)
            },
            pauseBefore: !0
        }, {
            key: "fontsFlash",
            getData: function(e, t) {
                return void 0 !== window.swfobject ? window.swfobject.hasFlashPlayerVersion("9.0.0") ? t.fonts.swfPath ? void function(e, t) {
                    window.___fp_swf_loaded = function(t) {
                        e(t)
                    }
                    ;
                    var n = t.fonts.swfContainerId;
                    !function(e) {
                        var t = document.createElement("div");
                        t.setAttribute("id", (void 0).fonts.swfContainerId),
                        document.body.appendChild(t)
                    }();
                    window.swfobject.embedSWF(t.fonts.swfPath, n, "1", "1", "9.0.0", !1, {
                        onReady: "___fp_swf_loaded"
                    }, {
                        allowScriptAccess: "always",
                        menu: "false"
                    }, {})
                }(function(t) {
                    e(t)
                }, t) : e("missing options.fonts.swfPath") : e("flash not installed") : e("swf object not loaded")
            },
            pauseBefore: !0
        }, {
            key: "audio",
            getData: function(e, t) {
                var n = t.audio;
                if (n.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))
                    return e(t.EXCLUDED);
                var r = window.OfflineAudioContext || window.webkitOfflineAudioContext;
                if (null == r)
                    return e(t.NOT_AVAILABLE);
                var i = new r(1,44100,44100)
                  , o = i.createOscillator();
                o.type = "triangle",
                o.frequency.setValueAtTime(1e4, i.currentTime);
                var a = i.createDynamicsCompressor();
                c([["threshold", -50], ["knee", 40], ["ratio", 12], ["reduction", -20], ["attack", 0], ["release", .25]], function(e) {
                    void 0 !== a[e[0]] && "function" == typeof a[e[0]].setValueAtTime && a[e[0]].setValueAtTime(e[1], i.currentTime)
                }),
                o.connect(a),
                a.connect(i.destination),
                o.start(0),
                i.startRendering();
                var s = setTimeout(function() {
                    return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "' + navigator.userAgent + '".'),
                    i.oncomplete = function() {}
                    ,
                    i = null,
                    e("audioTimeout")
                }, n.timeout);
                i.oncomplete = function(t) {
                    var n;
                    try {
                        clearTimeout(s),
                        n = t.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce(function(e, t) {
                            return e + Math.abs(t)
                        }, 0).toString(),
                        o.disconnect(),
                        a.disconnect()
                    } catch (t) {
                        return void e(t)
                    }
                    e(n)
                }
            }
        }, {
            key: "enumerateDevices",
            getData: function(e, t) {
                if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)
                    return e(t.NOT_AVAILABLE);
                navigator.mediaDevices.enumerateDevices().then(function(t) {
                    e(t.map(function(e) {
                        return "id=" + e.deviceId + ";gid=" + e.groupId + ";" + e.kind + ";" + e.label
                    }))
                }).catch(function(t) {
                    e(t)
                })
            }
        }]
          , m = function(e) {
            throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")
        };
        return m.get = function(e, t) {
            t ? e || (e = {}) : (t = e,
            e = {}),
            function(e, t) {
                if (null == t)
                    return e;
                var n, r;
                for (r in t)
                    null == (n = t[r]) || Object.prototype.hasOwnProperty.call(e, r) || (e[r] = n)
            }(e, s),
            e.components = e.extraComponents.concat(g);
            var n = {
                data: [],
                addPreprocessedComponent: function(t, r) {
                    "function" == typeof e.preprocessor && (r = e.preprocessor(t, r)),
                    n.data.push({
                        key: t,
                        value: r
                    })
                }
            }
              , r = -1
              , i = function(o) {
                if ((r += 1) >= e.components.length)
                    t(n.data);
                else {
                    var a = e.components[r];
                    if (e.excludes[a.key])
                        i(!1);
                    else {
                        if (!o && a.pauseBefore)
                            return r -= 1,
                            void setTimeout(function() {
                                i(!0)
                            }, 1);
                        try {
                            a.getData(function(e) {
                                n.addPreprocessedComponent(a.key, e),
                                i(!1)
                            }, e)
                        } catch (e) {
                            n.addPreprocessedComponent(a.key, String(e)),
                            i(!1)
                        }
                    }
                }
            };
            i(!1)
        }
        ,
        m.getPromise = function(e) {
            return new Promise(function(t, n) {
                m.get(e, t)
            }
            )
        }
        ,
        m.getV18 = function(e, t) {
            return null == t && (t = e,
            e = {}),
            m.get(e, function(n) {
                for (var r = [], i = 0; i < n.length; i++) {
                    var o = n[i];
                    if (o.value === (e.NOT_AVAILABLE || "not available"))
                        r.push({
                            key: o.key,
                            value: "unknown"
                        });
                    else if ("plugins" === o.key)
                        r.push({
                            key: "plugins",
                            value: l(o.value, function(e) {
                                var t = l(e[2], function(e) {
                                    return e.join ? e.join("~") : e
                                }).join(",");
                                return [e[0], e[1], t].join("::")
                            })
                        });
                    else if (-1 !== ["canvas", "webgl"].indexOf(o.key))
                        r.push({
                            key: o.key,
                            value: o.value.join("~")
                        });
                    else if (-1 !== ["sessionStorage", "localStorage", "indexedDb", "addBehavior", "openDatabase"].indexOf(o.key)) {
                        if (!o.value)
                            continue;
                        r.push({
                            key: o.key,
                            value: 1
                        })
                    } else
                        o.value ? r.push(o.value.join ? {
                            key: o.key,
                            value: o.value.join(";")
                        } : o) : r.push({
                            key: o.key,
                            value: o.value
                        })
                }
                var s = a(l(r, function(e) {
                    return e.value
                }).join("~~~"), 31);
                t(s, r)
            })
        }
        ,
        m.x64hash128 = a,
        m.VERSION = "2.0.0",
        m
    })
}
, function(e, t, n) {
    "use strict";
    var r = n(57)
      , i = n(13)
      , o = n(65)
      , a = n(19)
      , s = n(20)
      , c = n(66)
      , l = n(67)
      , u = n(86)
      , d = n(87)
      , f = n(5)
      , h = n(22);
    e.exports = b,
    b.prototype.validate = function(e, t) {
        var n;
        if ("string" == typeof e) {
            if (!(n = this.getSchema(e)))
                throw new Error('no schema with key or ref "' + e + '"')
        } else {
            var r = this._addSchema(e);
            n = r.validate || this._compile(r)
        }
        var i = n(t);
        return !0 === n.$async ? "*" == this._opts.async ? h(i) : i : (this.errors = n.errors,
        i)
    }
    ,
    b.prototype.compile = function(e, t) {
        var n = this._addSchema(e, void 0, t);
        return n.validate || this._compile(n)
    }
    ,
    b.prototype.addSchema = function(e, t, n, r) {
        if (Array.isArray(e)) {
            for (var o = 0; o < e.length; o++)
                this.addSchema(e[o], void 0, n, r);
            return this
        }
        var a = this._getId(e);
        if (void 0 !== a && "string" != typeof a)
            throw new Error("schema id must be string");
        return k(this, t = i.normalizeId(t || a)),
        this._schemas[t] = this._addSchema(e, n, r, !0),
        this
    }
    ,
    b.prototype.addMetaSchema = function(e, t, n) {
        return this.addSchema(e, t, n, !0),
        this
    }
    ,
    b.prototype.validateSchema = function(e, t) {
        var n, r, i = e.$schema;
        if (void 0 !== i && "string" != typeof i)
            throw new Error("$schema must be a string");
        if (!(i = i || this._opts.defaultMeta || (n = this,
        r = n._opts.meta,
        n._opts.defaultMeta = "object" == typeof r ? n._getId(r) || r : n.getSchema(m) ? m : void 0,
        n._opts.defaultMeta)))
            return this.logger.warn("meta-schema not available"),
            this.errors = null,
            !0;
        var o, a = this._formats.uri;
        this._formats.uri = "function" == typeof a ? this._schemaUriFormatFunc : this._schemaUriFormat;
        try {
            o = this.validate(i, e)
        } finally {
            this._formats.uri = a
        }
        if (!o && t) {
            var s = "schema is invalid: " + this.errorsText();
            if ("log" != this._opts.validateSchema)
                throw new Error(s);
            this.logger.error(s)
        }
        return o
    }
    ,
    b.prototype.getSchema = function(e) {
        var t = w(this, e);
        switch (typeof t) {
        case "object":
            return t.validate || this._compile(t);
        case "string":
            return this.getSchema(t);
        case "undefined":
            return function(e, t) {
                var n = i.schema.call(e, {
                    schema: {}
                }, t);
                if (n) {
                    var o = n.schema
                      , s = n.root
                      , c = n.baseId
                      , l = r.call(e, o, s, void 0, c);
                    return e._fragments[t] = new a({
                        ref: t,
                        fragment: !0,
                        schema: o,
                        root: s,
                        baseId: c,
                        validate: l
                    }),
                    l
                }
            }(this, e)
        }
    }
    ,
    b.prototype.removeSchema = function(e) {
        if (e instanceof RegExp)
            return x(this, this._schemas, e),
            x(this, this._refs, e),
            this;
        switch (typeof e) {
        case "undefined":
            return x(this, this._schemas),
            x(this, this._refs),
            this._cache.clear(),
            this;
        case "string":
            var t = w(this, e);
            return t && this._cache.del(t.cacheKey),
            delete this._schemas[e],
            delete this._refs[e],
            this;
        case "object":
            var n = this._opts.serialize
              , r = n ? n(e) : e;
            this._cache.del(r);
            var o = this._getId(e);
            o && (o = i.normalizeId(o),
            delete this._schemas[o],
            delete this._refs[o])
        }
        return this
    }
    ,
    b.prototype.addFormat = function(e, t) {
        return "string" == typeof t && (t = new RegExp(t)),
        this._formats[e] = t,
        this
    }
    ,
    b.prototype.errorsText = function(e, t) {
        if (!(e = e || this.errors))
            return "No errors";
        for (var n = void 0 === (t = t || {}).separator ? ", " : t.separator, r = void 0 === t.dataVar ? "data" : t.dataVar, i = "", o = 0; o < e.length; o++) {
            var a = e[o];
            a && (i += r + a.dataPath + " " + a.message + n)
        }
        return i.slice(0, -n.length)
    }
    ,
    b.prototype._addSchema = function(e, t, n, r) {
        if ("object" != typeof e && "boolean" != typeof e)
            throw new Error("schema should be object or boolean");
        var o = this._opts.serialize
          , s = o ? o(e) : e
          , c = this._cache.get(s);
        if (c)
            return c;
        r = r || !1 !== this._opts.addUsedSchema;
        var l = i.normalizeId(this._getId(e));
        l && r && k(this, l);
        var u, d = !1 !== this._opts.validateSchema && !t;
        d && !(u = l && l == i.normalizeId(e.$schema)) && this.validateSchema(e, !0);
        var f = i.ids.call(this, e)
          , h = new a({
            id: l,
            schema: e,
            localRefs: f,
            cacheKey: s,
            meta: n
        });
        return "#" != l[0] && r && (this._refs[l] = h),
        this._cache.put(s, h),
        d && u && this.validateSchema(e, !0),
        h
    }
    ,
    b.prototype._compile = function(e, t) {
        if (e.compiling)
            return e.validate = o,
            o.schema = e.schema,
            o.errors = null,
            o.root = t || o,
            !0 === e.schema.$async && (o.$async = !0),
            o;
        var n, i;
        e.compiling = !0,
        e.meta && (n = this._opts,
        this._opts = this._metaOpts);
        try {
            i = r.call(this, e.schema, t, e.localRefs)
        } finally {
            e.compiling = !1,
            e.meta && (this._opts = n)
        }
        return e.validate = i,
        e.refs = i.refs,
        e.refVal = i.refVal,
        e.root = i.root,
        i;
        function o() {
            var t = e.validate
              , n = t.apply(null, arguments);
            return o.errors = t.errors,
            n
        }
    }
    ,
    b.prototype.compileAsync = n(88);
    var p = n(89);
    b.prototype.addKeyword = p.add,
    b.prototype.getKeyword = p.get,
    b.prototype.removeKeyword = p.remove;
    var g = n(15);
    b.ValidationError = g.Validation,
    b.MissingRefError = g.MissingRef,
    b.$dataMetaSchema = u;
    var m = "http://json-schema.org/draft-06/schema"
      , v = ["removeAdditional", "useDefaults", "coerceTypes"]
      , y = ["/properties"];
    function b(e) {
        if (!(this instanceof b))
            return new b(e);
        e = this._opts = f.copy(e) || {},
        function(e) {
            var t = e._opts.logger;
            if (!1 === t)
                e.logger = {
                    log: E,
                    warn: E,
                    error: E
                };
            else {
                if (void 0 === t && (t = console),
                !("object" == typeof t && t.log && t.warn && t.error))
                    throw new Error("logger must implement log, warn and error methods");
                e.logger = t
            }
        }(this),
        this._schemas = {},
        this._refs = {},
        this._fragments = {},
        this._formats = c(e.format);
        var t = this._schemaUriFormat = this._formats["uri-reference"];
        this._schemaUriFormatFunc = function(e) {
            return t.test(e)
        }
        ,
        this._cache = e.cache || new o,
        this._loadingSchemas = {},
        this._compilations = [],
        this.RULES = l(),
        this._getId = function(e) {
            switch (e.schemaId) {
            case "$id":
                return C;
            case "id":
                return S;
            default:
                return _
            }
        }(e),
        e.loopRequired = e.loopRequired || 1 / 0,
        "property" == e.errorDataPath && (e._errorDataPathProperty = !0),
        void 0 === e.serialize && (e.serialize = s),
        this._metaOpts = function(e) {
            for (var t = f.copy(e._opts), n = 0; n < v.length; n++)
                delete t[v[n]];
            return t
        }(this),
        e.formats && function(e) {
            for (var t in e._opts.formats) {
                var n = e._opts.formats[t];
                e.addFormat(t, n)
            }
        }(this),
        function(e) {
            var t;
            if (e._opts.$data && (t = n(91),
            e.addMetaSchema(t, t.$id, !0)),
            !1 !== e._opts.meta) {
                var r = n(92);
                e._opts.$data && (r = u(r, y)),
                e.addMetaSchema(r, m, !0),
                e._refs["http://json-schema.org/schema"] = m
            }
        }(this),
        "object" == typeof e.meta && this.addMetaSchema(e.meta),
        function(e) {
            var t = e._opts.schemas;
            if (t)
                if (Array.isArray(t))
                    e.addSchema(t);
                else
                    for (var n in t)
                        e.addSchema(t[n], n)
        }(this),
        e.patternGroups && d(this)
    }
    function w(e, t) {
        return t = i.normalizeId(t),
        e._schemas[t] || e._refs[t] || e._fragments[t]
    }
    function x(e, t, n) {
        for (var r in t) {
            var i = t[r];
            i.meta || n && !n.test(r) || (e._cache.del(i.cacheKey),
            delete t[r])
        }
    }
    function S(e) {
        return e.$id && this.logger.warn("schema $id ignored", e.$id),
        e.id
    }
    function C(e) {
        return e.id && this.logger.warn("schema id ignored", e.id),
        e.$id
    }
    function _(e) {
        if (e.$id && e.id && e.$id != e.id)
            throw new Error("schema $id is different from id");
        return e.$id || e.id
    }
    function k(e, t) {
        if (e._schemas[t] || e._refs[t])
            throw new Error('schema with key or id "' + t + '" already exists')
    }
    function E() {}
}
, function(e, t, n) {
    "use strict";
    var r = n(13)
      , i = n(5)
      , o = n(15)
      , a = n(20)
      , s = n(21)
      , c = n(22)
      , l = i.ucs2length
      , u = n(14)
      , d = o.Validation;
    function f(e, t, n) {
        for (var r = 0; r < this._compilations.length; r++) {
            var i = this._compilations[r];
            if (i.schema == e && i.root == t && i.baseId == n)
                return r
        }
        return -1
    }
    function h(e, t) {
        return "var pattern" + e + " = new RegExp(" + i.toQuotedString(t[e]) + ");"
    }
    function p(e) {
        return "var default" + e + " = defaults[" + e + "];"
    }
    function g(e, t) {
        return void 0 === t[e] ? "" : "var refVal" + e + " = refVal[" + e + "];"
    }
    function m(e) {
        return "var customRule" + e + " = customRules[" + e + "];"
    }
    function v(e, t) {
        if (!e.length)
            return "";
        for (var n = "", r = 0; r < e.length; r++)
            n += t(r, e);
        return n
    }
    e.exports = function e(t, n, y, b) {
        var w = this
          , x = this._opts
          , S = [void 0]
          , C = {}
          , _ = []
          , k = {}
          , E = []
          , T = {}
          , P = []
          , A = function(e, t, n) {
            var r = f.call(this, e, t, n);
            return r >= 0 ? {
                index: r,
                compiling: !0
            } : (r = this._compilations.length,
            this._compilations[r] = {
                schema: e,
                root: t,
                baseId: n
            },
            {
                index: r,
                compiling: !1
            })
        }
        .call(this, t, n = n || {
            schema: t,
            refVal: S,
            refs: C
        }, b)
          , O = this._compilations[A.index];
        if (A.compiling)
            return O.callValidate = function e() {
                var t = O.validate
                  , n = t.apply(null, arguments);
                return e.errors = t.errors,
                n
            }
            ;
        var $ = this._formats
          , j = this.RULES;
        try {
            var D = M(t, n, y, b);
            O.validate = D;
            var R = O.callValidate;
            return R && (R.schema = D.schema,
            R.errors = null,
            R.refs = D.refs,
            R.refVal = D.refVal,
            R.root = D.root,
            R.$async = D.$async,
            x.sourceCode && (R.source = D.source)),
            D
        } finally {
            (function(e, t, n) {
                var r = f.call(this, e, t, n);
                r >= 0 && this._compilations.splice(r, 1)
            }
            ).call(this, t, n, b)
        }
        function M(t, a, f, y) {
            var b = !a || a && a.schema == t;
            if (a.schema != n.schema)
                return e.call(w, t, a, f, y);
            var k, T = !0 === t.$async, A = s({
                isTop: !0,
                schema: t,
                isRoot: b,
                baseId: y,
                root: a,
                schemaPath: "",
                errSchemaPath: "#",
                errorPath: '""',
                MissingRefError: o.MissingRef,
                RULES: j,
                validate: s,
                util: i,
                resolve: r,
                resolveRef: I,
                usePattern: N,
                useDefault: B,
                useCustomRule: U,
                opts: x,
                formats: $,
                logger: w.logger,
                self: w
            });
            A = v(S, g) + v(_, h) + v(E, p) + v(P, m) + A,
            x.processCode && (A = x.processCode(A));
            try {
                k = new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",A)(w, j, $, n, S, E, P, c, u, l, d),
                S[0] = k
            } catch (e) {
                throw w.logger.error("Error compiling schema, function code:", A),
                e
            }
            return k.schema = t,
            k.errors = null,
            k.refs = C,
            k.refVal = S,
            k.root = b ? k : a,
            T && (k.$async = !0),
            !0 === x.sourceCode && (k.source = {
                code: A,
                patterns: _,
                defaults: E
            }),
            k
        }
        function I(t, i, o) {
            i = r.url(t, i);
            var a, s, c = C[i];
            if (void 0 !== c)
                return F(a = S[c], s = "refVal[" + c + "]");
            if (!o && n.refs) {
                var l = n.refs[i];
                if (void 0 !== l)
                    return F(a = n.refVal[l], s = L(i, a))
            }
            s = L(i);
            var u = r.call(w, M, n, i);
            if (void 0 === u) {
                var d = y && y[i];
                d && (u = r.inlineRef(d, x.inlineRefs) ? d : e.call(w, d, n, y, t))
            }
            if (void 0 !== u)
                return function(e, t) {
                    var n = C[i];
                    S[n] = t
                }(0, u),
                F(u, s);
            delete C[i]
        }
        function L(e, t) {
            var n = S.length;
            return S[n] = t,
            C[e] = n,
            "refVal" + n
        }
        function F(e, t) {
            return "object" == typeof e || "boolean" == typeof e ? {
                code: t,
                schema: e,
                inline: !0
            } : {
                code: t,
                $async: e && e.$async
            }
        }
        function N(e) {
            var t = k[e];
            return void 0 === t && (t = k[e] = _.length,
            _[t] = e),
            "pattern" + t
        }
        function B(e) {
            switch (typeof e) {
            case "boolean":
            case "number":
                return "" + e;
            case "string":
                return i.toQuotedString(e);
            case "object":
                if (null === e)
                    return "null";
                var t = a(e)
                  , n = T[t];
                return void 0 === n && (n = T[t] = E.length,
                E[n] = e),
                "default" + n
            }
        }
        function U(e, t, n, r) {
            var i = e.definition.validateSchema;
            if (i && !1 !== w._opts.validateSchema && !i(t)) {
                var o = "keyword schema is invalid: " + w.errorsText(i.errors);
                if ("log" != w._opts.validateSchema)
                    throw new Error(o);
                w.logger.error(o)
            }
            var a, s = e.definition.compile, c = e.definition.inline, l = e.definition.macro;
            if (s)
                a = s.call(w, t, n, r);
            else if (l)
                a = l.call(w, t, n, r),
                !1 !== x.validateSchema && w.validateSchema(a, !0);
            else if (c)
                a = c.call(w, r, e.keyword, t, n);
            else if (!(a = e.definition.validate))
                return;
            if (void 0 === a)
                throw new Error('custom keyword "' + e.keyword + '"failed to compile');
            var u = P.length;
            return P[u] = a,
            {
                code: "customRule" + u,
                validate: a
            }
        }
    }
}
, function(e, t, n) {
    (function(e, r) {
        var i;
        /*! https://mths.be/punycode v1.4.1 by @mathias */
        !function(o) {
            "object" == typeof t && t && t.nodeType,
            "object" == typeof e && e && e.nodeType;
            var a = "object" == typeof r && r;
            a.global !== a && a.window !== a && a.self;
            var s, c = 2147483647, l = 36, u = 1, d = 26, f = 38, h = 700, p = 72, g = 128, m = "-", v = /^xn--/, y = /[^\x20-\x7E]/, b = /[\x2E\u3002\uFF0E\uFF61]/g, w = {
                overflow: "Overflow: input needs wider integers to process",
                "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                "invalid-input": "Invalid input"
            }, x = l - u, S = Math.floor, C = String.fromCharCode;
            function _(e) {
                throw new RangeError(w[e])
            }
            function k(e, t) {
                for (var n = e.length, r = []; n--; )
                    r[n] = t(e[n]);
                return r
            }
            function E(e, t) {
                var n = e.split("@")
                  , r = "";
                return n.length > 1 && (r = n[0] + "@",
                e = n[1]),
                r + k((e = e.replace(b, ".")).split("."), t).join(".")
            }
            function T(e) {
                for (var t, n, r = [], i = 0, o = e.length; i < o; )
                    (t = e.charCodeAt(i++)) >= 55296 && t <= 56319 && i < o ? 56320 == (64512 & (n = e.charCodeAt(i++))) ? r.push(((1023 & t) << 10) + (1023 & n) + 65536) : (r.push(t),
                    i--) : r.push(t);
                return r
            }
            function P(e) {
                return k(e, function(e) {
                    var t = "";
                    return e > 65535 && (t += C((e -= 65536) >>> 10 & 1023 | 55296),
                    e = 56320 | 1023 & e),
                    t + C(e)
                }).join("")
            }
            function A(e, t) {
                return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
            }
            function O(e, t, n) {
                var r = 0;
                for (e = n ? S(e / h) : e >> 1,
                e += S(e / t); e > x * d >> 1; r += l)
                    e = S(e / x);
                return S(r + (x + 1) * e / (e + f))
            }
            function $(e) {
                var t, n, r, i, o, a, s, f, h, v, y, b = [], w = e.length, x = 0, C = g, k = p;
                for ((n = e.lastIndexOf(m)) < 0 && (n = 0),
                r = 0; r < n; ++r)
                    e.charCodeAt(r) >= 128 && _("not-basic"),
                    b.push(e.charCodeAt(r));
                for (i = n > 0 ? n + 1 : 0; i < w; ) {
                    for (o = x,
                    a = 1,
                    s = l; i >= w && _("invalid-input"),
                    ((f = (y = e.charCodeAt(i++)) - 48 < 10 ? y - 22 : y - 65 < 26 ? y - 65 : y - 97 < 26 ? y - 97 : l) >= l || f > S((c - x) / a)) && _("overflow"),
                    x += f * a,
                    !(f < (h = s <= k ? u : s >= k + d ? d : s - k)); s += l)
                        a > S(c / (v = l - h)) && _("overflow"),
                        a *= v;
                    k = O(x - o, t = b.length + 1, 0 == o),
                    S(x / t) > c - C && _("overflow"),
                    C += S(x / t),
                    x %= t,
                    b.splice(x++, 0, C)
                }
                return P(b)
            }
            function j(e) {
                var t, n, r, i, o, a, s, f, h, v, y, b, w, x, k, E = [];
                for (b = (e = T(e)).length,
                t = g,
                n = 0,
                o = p,
                a = 0; a < b; ++a)
                    (y = e[a]) < 128 && E.push(C(y));
                for (r = i = E.length,
                i && E.push(m); r < b; ) {
                    for (s = c,
                    a = 0; a < b; ++a)
                        (y = e[a]) >= t && y < s && (s = y);
                    for (s - t > S((c - n) / (w = r + 1)) && _("overflow"),
                    n += (s - t) * w,
                    t = s,
                    a = 0; a < b; ++a)
                        if ((y = e[a]) < t && ++n > c && _("overflow"),
                        y == t) {
                            for (f = n,
                            h = l; !(f < (v = h <= o ? u : h >= o + d ? d : h - o)); h += l)
                                k = f - v,
                                x = l - v,
                                E.push(C(A(v + k % x, 0))),
                                f = S(k / x);
                            E.push(C(A(f, 0))),
                            o = O(n, w, r == i),
                            n = 0,
                            ++r
                        }
                    ++n,
                    ++t
                }
                return E.join("")
            }
            s = {
                version: "1.4.1",
                ucs2: {
                    decode: T,
                    encode: P
                },
                decode: $,
                encode: j,
                toASCII: function(e) {
                    return E(e, function(e) {
                        return y.test(e) ? "xn--" + j(e) : e
                    })
                },
                toUnicode: function(e) {
                    return E(e, function(e) {
                        return v.test(e) ? $(e.slice(4).toLowerCase()) : e
                    })
                }
            },
            void 0 === (i = function() {
                return s
            }
            .call(t, n, t, e)) || (e.exports = i)
        }()
    }
    ).call(this, n(12)(e), n(0))
}
, function(e, t, n) {
    "use strict";
    e.exports = {
        isString: function(e) {
            return "string" == typeof e
        },
        isObject: function(e) {
            return "object" == typeof e && null !== e
        },
        isNull: function(e) {
            return null === e
        },
        isNullOrUndefined: function(e) {
            return null == e
        }
    }
}
, function(e, t, n) {
    "use strict";
    t.decode = t.parse = n(61),
    t.encode = t.stringify = n(62)
}
, function(e, t, n) {
    "use strict";
    function r(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    e.exports = function(e, t, n, o) {
        t = t || "&",
        n = n || "=";
        var a = {};
        if ("string" != typeof e || 0 === e.length)
            return a;
        var s = /\+/g;
        e = e.split(t);
        var c = 1e3;
        o && "number" == typeof o.maxKeys && (c = o.maxKeys);
        var l = e.length;
        c > 0 && l > c && (l = c);
        for (var u = 0; u < l; ++u) {
            var d, f, h, p, g = e[u].replace(s, "%20"), m = g.indexOf(n);
            m >= 0 ? (d = g.substr(0, m),
            f = g.substr(m + 1)) : (d = g,
            f = ""),
            h = decodeURIComponent(d),
            p = decodeURIComponent(f),
            r(a, h) ? i(a[h]) ? a[h].push(p) : a[h] = [a[h], p] : a[h] = p
        }
        return a
    }
    ;
    var i = Array.isArray || function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
}
, function(e, t, n) {
    "use strict";
    var r = function(e) {
        switch (typeof e) {
        case "string":
            return e;
        case "boolean":
            return e ? "true" : "false";
        case "number":
            return isFinite(e) ? e : "";
        default:
            return ""
        }
    };
    e.exports = function(e, t, n, s) {
        return t = t || "&",
        n = n || "=",
        null === e && (e = void 0),
        "object" == typeof e ? o(a(e), function(a) {
            var s = encodeURIComponent(r(a)) + n;
            return i(e[a]) ? o(e[a], function(e) {
                return s + encodeURIComponent(r(e))
            }).join(t) : s + encodeURIComponent(r(e[a]))
        }).join(t) : s ? encodeURIComponent(r(s)) + n + encodeURIComponent(r(e)) : ""
    }
    ;
    var i = Array.isArray || function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    ;
    function o(e, t) {
        if (e.map)
            return e.map(t);
        for (var n = [], r = 0; r < e.length; r++)
            n.push(t(e[r], r));
        return n
    }
    var a = Object.keys || function(e) {
        var t = [];
        for (var n in e)
            Object.prototype.hasOwnProperty.call(e, n) && t.push(n);
        return t
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e) {
        for (var t, n = 0, r = e.length, i = 0; i < r; )
            n++,
            (t = e.charCodeAt(i++)) >= 55296 && t <= 56319 && i < r && 56320 == (64512 & (t = e.charCodeAt(i))) && i++;
        return n
    }
}
, function(e, t, n) {
    "use strict";
    var r = e.exports = function(e, t, n) {
        "function" == typeof t && (n = t,
        t = {}),
        function e(t, n, i, o, a, s, c, l, u) {
            if (i && "object" == typeof i && !Array.isArray(i))
                for (var d in n(i, o, a, s, c, l, u),
                i) {
                    var f = i[d];
                    if (Array.isArray(f)) {
                        if (d in r.arrayKeywords)
                            for (var h = 0; h < f.length; h++)
                                e(t, n, f[h], o + "/" + d + "/" + h, a, o, d, i, h)
                    } else if (d in r.propsKeywords) {
                        if (f && "object" == typeof f)
                            for (var p in f)
                                e(t, n, f[p], o + "/" + d + "/" + p.replace(/~/g, "~0").replace(/\//g, "~1"), a, o, d, i, p)
                    } else
                        (d in r.keywords || t.allKeys && !(d in r.skipKeywords)) && e(t, n, f, o + "/" + d, a, o, d, i)
                }
        }(t, n, e, "", e)
    }
    ;
    r.keywords = {
        additionalItems: !0,
        items: !0,
        contains: !0,
        additionalProperties: !0,
        propertyNames: !0,
        not: !0
    },
    r.arrayKeywords = {
        items: !0,
        allOf: !0,
        anyOf: !0,
        oneOf: !0
    },
    r.propsKeywords = {
        definitions: !0,
        properties: !0,
        patternProperties: !0,
        dependencies: !0
    },
    r.skipKeywords = {
        enum: !0,
        const: !0,
        required: !0,
        maximum: !0,
        minimum: !0,
        exclusiveMaximum: !0,
        exclusiveMinimum: !0,
        multipleOf: !0,
        maxLength: !0,
        minLength: !0,
        pattern: !0,
        format: !0,
        maxItems: !0,
        minItems: !0,
        uniqueItems: !0,
        maxProperties: !0,
        minProperties: !0
    }
}
, function(e, t, n) {
    "use strict";
    var r = e.exports = function() {
        this._cache = {}
    }
    ;
    r.prototype.put = function(e, t) {
        this._cache[e] = t
    }
    ,
    r.prototype.get = function(e) {
        return this._cache[e]
    }
    ,
    r.prototype.del = function(e) {
        delete this._cache[e]
    }
    ,
    r.prototype.clear = function() {
        this._cache = {}
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(5)
      , i = /^\d\d\d\d-(\d\d)-(\d\d)$/
      , o = [0, 31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
      , a = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i
      , s = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i
      , c = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i
      , l = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i
      , u = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i
      , d = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i
      , f = /^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i
      , h = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
    function p(e) {
        return e = "full" == e ? "full" : "fast",
        r.copy(p[e])
    }
    function g(e) {
        var t = e.match(i);
        if (!t)
            return !1;
        var n = +t[1]
          , r = +t[2];
        return n >= 1 && n <= 12 && r >= 1 && r <= o[n]
    }
    function m(e, t) {
        var n = e.match(a);
        if (!n)
            return !1;
        var r = n[1]
          , i = n[2]
          , o = n[3]
          , s = n[5];
        return r <= 23 && i <= 59 && o <= 59 && (!t || s)
    }
    e.exports = p,
    p.fast = {
        date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
        time: /^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,
        "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,
        uri: /^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,
        "uri-reference": /^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,
        "uri-template": l,
        url: u,
        email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
        hostname: s,
        ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
        ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
        regex: w,
        uuid: d,
        "json-pointer": f,
        "relative-json-pointer": h
    },
    p.full = {
        date: g,
        time: m,
        "date-time": function(e) {
            var t = e.split(v);
            return 2 == t.length && g(t[0]) && m(t[1], !0)
        },
        uri: function(e) {
            return y.test(e) && c.test(e)
        },
        "uri-reference": /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,
        "uri-template": l,
        url: u,
        email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
        hostname: function(e) {
            return e.length <= 255 && s.test(e)
        },
        ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
        ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
        regex: w,
        uuid: d,
        "json-pointer": f,
        "relative-json-pointer": h
    };
    var v = /t|\s/i
      , y = /\/|:/
      , b = /[^\\]\\Z/;
    function w(e) {
        if (b.test(e))
            return !1;
        try {
            return new RegExp(e),
            !0
        } catch (e) {
            return !1
        }
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(68)
      , i = n(5).toHash;
    e.exports = function() {
        var e = [{
            type: "number",
            rules: [{
                maximum: ["exclusiveMaximum"]
            }, {
                minimum: ["exclusiveMinimum"]
            }, "multipleOf", "format"]
        }, {
            type: "string",
            rules: ["maxLength", "minLength", "pattern", "format"]
        }, {
            type: "array",
            rules: ["maxItems", "minItems", "uniqueItems", "contains", "items"]
        }, {
            type: "object",
            rules: ["maxProperties", "minProperties", "required", "dependencies", "propertyNames", {
                properties: ["additionalProperties", "patternProperties"]
            }]
        }, {
            rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf"]
        }]
          , t = ["type"];
        return e.all = i(t),
        e.types = i(["number", "integer", "string", "array", "object", "boolean", "null"]),
        e.forEach(function(n) {
            n.rules = n.rules.map(function(n) {
                var i;
                if ("object" == typeof n) {
                    var o = Object.keys(n)[0];
                    i = n[o],
                    n = o,
                    i.forEach(function(n) {
                        t.push(n),
                        e.all[n] = !0
                    })
                }
                return t.push(n),
                e.all[n] = {
                    keyword: n,
                    code: r[n],
                    implements: i
                }
            }),
            n.type && (e.types[n.type] = n)
        }),
        e.keywords = i(t.concat(["additionalItems", "$schema", "$id", "id", "title", "description", "default", "definitions"])),
        e.custom = {},
        e
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = {
        $ref: n(69),
        allOf: n(70),
        anyOf: n(71),
        const: n(72),
        contains: n(73),
        dependencies: n(74),
        enum: n(75),
        format: n(76),
        items: n(77),
        maximum: n(23),
        minimum: n(23),
        maxItems: n(24),
        minItems: n(24),
        maxLength: n(25),
        minLength: n(25),
        maxProperties: n(26),
        minProperties: n(26),
        multipleOf: n(78),
        not: n(79),
        oneOf: n(80),
        pattern: n(81),
        properties: n(82),
        propertyNames: n(83),
        required: n(84),
        uniqueItems: n(85),
        validate: n(21)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i, o = " ", a = e.level, s = e.dataLevel, c = e.schema[t], l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (s || ""), f = "valid" + a;
        if ("#" == c || "#/" == c)
            e.isRoot ? (r = e.async,
            i = "validate") : (r = !0 === e.root.schema.$async,
            i = "root.refVal[0]");
        else {
            var h = e.resolveRef(e.baseId, c, e.isRoot);
            if (void 0 === h) {
                var p = e.MissingRefError.message(e.baseId, c);
                if ("fail" == e.opts.missingRefs) {
                    e.logger.error(p),
                    (y = y || []).push(o),
                    o = "",
                    !1 !== e.createErrors ? (o += " { keyword: '$ref' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { ref: '" + e.util.escapeQuotes(c) + "' } ",
                    !1 !== e.opts.messages && (o += " , message: 'can\\'t resolve reference " + e.util.escapeQuotes(c) + "' "),
                    e.opts.verbose && (o += " , schema: " + e.util.toQuotedString(c) + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    o += " } ") : o += " {} ";
                    var g = o;
                    o = y.pop(),
                    !e.compositeRule && u ? e.async ? o += " throw new ValidationError([" + g + "]); " : o += " validate.errors = [" + g + "]; return false; " : o += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    u && (o += " if (false) { ")
                } else {
                    if ("ignore" != e.opts.missingRefs)
                        throw new e.MissingRefError(e.baseId,c,p);
                    e.logger.warn(p),
                    u && (o += " if (true) { ")
                }
            } else if (h.inline) {
                var m = e.util.copy(e);
                m.level++;
                var v = "valid" + m.level;
                m.schema = h.schema,
                m.schemaPath = "",
                m.errSchemaPath = c,
                o += " " + e.validate(m).replace(/validate\.schema/g, h.code) + " ",
                u && (o += " if (" + v + ") { ")
            } else
                r = !0 === h.$async,
                i = h.code
        }
        if (i) {
            var y;
            (y = y || []).push(o),
            o = "",
            e.opts.passContext ? o += " " + i + ".call(this, " : o += " " + i + "( ",
            o += " " + d + ", (dataPath || '')",
            '""' != e.errorPath && (o += " + " + e.errorPath);
            var b = o += " , " + (s ? "data" + (s - 1 || "") : "parentData") + " , " + (s ? e.dataPathArr[s] : "parentDataProperty") + ", rootData)  ";
            if (o = y.pop(),
            r) {
                if (!e.async)
                    throw new Error("async schema referenced by sync schema");
                u && (o += " var " + f + "; "),
                o += " try { " + e.yieldAwait + " " + b + "; ",
                u && (o += " " + f + " = true; "),
                o += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",
                u && (o += " " + f + " = false; "),
                o += " } ",
                u && (o += " if (" + f + ") { ")
            } else
                o += " if (!" + b + ") { if (vErrors === null) vErrors = " + i + ".errors; else vErrors = vErrors.concat(" + i + ".errors); errors = vErrors.length; } ",
                u && (o += " else { ")
        }
        return o
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.schema[t]
          , o = e.schemaPath + e.util.getProperty(t)
          , a = e.errSchemaPath + "/" + t
          , s = !e.opts.allErrors
          , c = e.util.copy(e)
          , l = "";
        c.level++;
        var u = "valid" + c.level
          , d = c.baseId
          , f = !0
          , h = i;
        if (h)
            for (var p, g = -1, m = h.length - 1; g < m; )
                p = h[g += 1],
                e.util.schemaHasRules(p, e.RULES.all) && (f = !1,
                c.schema = p,
                c.schemaPath = o + "[" + g + "]",
                c.errSchemaPath = a + "/" + g,
                r += "  " + e.validate(c) + " ",
                c.baseId = d,
                s && (r += " if (" + u + ") { ",
                l += "}"));
        return s && (r += f ? " if (true) { " : " " + l.slice(0, -1) + " "),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = "errs__" + i
          , h = e.util.copy(e)
          , p = "";
        h.level++;
        var g = "valid" + h.level;
        if (a.every(function(t) {
            return e.util.schemaHasRules(t, e.RULES.all)
        })) {
            var m = h.baseId;
            r += " var " + f + " = errors; var " + d + " = false;  ";
            var v = e.compositeRule;
            e.compositeRule = h.compositeRule = !0;
            var y = a;
            if (y)
                for (var b, w = -1, x = y.length - 1; w < x; )
                    b = y[w += 1],
                    h.schema = b,
                    h.schemaPath = s + "[" + w + "]",
                    h.errSchemaPath = c + "/" + w,
                    r += "  " + e.validate(h) + " ",
                    h.baseId = m,
                    r += " " + d + " = " + d + " || " + g + "; if (!" + d + ") { ",
                    p += "}";
            e.compositeRule = h.compositeRule = v,
            r += " " + p + " if (!" + d + ") {   var err =   ",
            !1 !== e.createErrors ? (r += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
            !1 !== e.opts.messages && (r += " , message: 'should match some schema in anyOf' "),
            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            r += " } ") : r += " {} ",
            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && l && (e.async ? r += " throw new ValidationError(vErrors); " : r += " validate.errors = vErrors; return false; "),
            r += " } else {  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; } ",
            e.opts.allErrors && (r += " } "),
            r = e.util.cleanUpCode(r)
        } else
            l && (r += " if (true) { ");
        return r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = e.opts.$data && a && a.$data;
        f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; "),
        f || (r += " var schema" + i + " = validate.schema" + s + ";"),
        r += "var " + d + " = equal(" + u + ", schema" + i + "); if (!" + d + ") {   ";
        var h = h || [];
        h.push(r),
        r = "",
        !1 !== e.createErrors ? (r += " { keyword: 'const' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
        !1 !== e.opts.messages && (r += " , message: 'should be equal to constant' "),
        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        r += " } ") : r += " {} ";
        var p = r;
        return r = h.pop(),
        !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + p + "]); " : r += " validate.errors = [" + p + "]; return false; " : r += " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        r += " }",
        l && (r += " else { "),
        r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = "errs__" + i
          , h = e.util.copy(e);
        h.level++;
        var p = "valid" + h.level
          , g = "i" + i
          , m = h.dataLevel = e.dataLevel + 1
          , v = "data" + m
          , y = e.baseId
          , b = e.util.schemaHasRules(a, e.RULES.all);
        if (r += "var " + f + " = errors;var " + d + ";",
        b) {
            var w = e.compositeRule;
            e.compositeRule = h.compositeRule = !0,
            h.schema = a,
            h.schemaPath = s,
            h.errSchemaPath = c,
            r += " var " + p + " = false; for (var " + g + " = 0; " + g + " < " + u + ".length; " + g + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, g, e.opts.jsonPointers, !0);
            var x = u + "[" + g + "]";
            h.dataPathArr[m] = g;
            var S = e.validate(h);
            h.baseId = y,
            e.util.varOccurences(S, v) < 2 ? r += " " + e.util.varReplace(S, v, x) + " " : r += " var " + v + " = " + x + "; " + S + " ",
            r += " if (" + p + ") break; }  ",
            e.compositeRule = h.compositeRule = w,
            r += "  if (!" + p + ") {"
        } else
            r += " if (" + u + ".length == 0) {";
        var C = C || [];
        C.push(r),
        r = "",
        !1 !== e.createErrors ? (r += " { keyword: 'contains' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
        !1 !== e.opts.messages && (r += " , message: 'should contain a valid item' "),
        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        r += " } ") : r += " {} ";
        var _ = r;
        return r = C.pop(),
        !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + _ + "]); " : r += " validate.errors = [" + _ + "]; return false; " : r += " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        r += " } else { ",
        b && (r += "  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; } "),
        e.opts.allErrors && (r += " } "),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , f = e.util.copy(e)
          , h = "";
        f.level++;
        var p = "valid" + f.level
          , g = {}
          , m = {}
          , v = e.opts.ownProperties;
        for (x in a) {
            var y = a[x]
              , b = Array.isArray(y) ? m : g;
            b[x] = y
        }
        r += "var " + d + " = errors;";
        var w = e.errorPath;
        for (var x in r += "var missing" + i + ";",
        m)
            if ((b = m[x]).length) {
                if (r += " if ( " + u + e.util.getProperty(x) + " !== undefined ",
                v && (r += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(x) + "') "),
                l) {
                    r += " && ( ";
                    var S = b;
                    if (S)
                        for (var C = -1, _ = S.length - 1; C < _; )
                            O = S[C += 1],
                            C && (r += " || "),
                            r += " ( ( " + (R = u + (D = e.util.getProperty(O))) + " === undefined ",
                            v && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(O) + "') "),
                            r += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? O : D) + ") ) ";
                    r += ")) {  ";
                    var k = "missing" + i
                      , E = "' + " + k + " + '";
                    e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(w, k, !0) : w + " + " + k);
                    var T = T || [];
                    T.push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { property: '" + e.util.escapeQuotes(x) + "', missingProperty: '" + E + "', depsCount: " + b.length + ", deps: '" + e.util.escapeQuotes(1 == b.length ? b[0] : b.join(", ")) + "' } ",
                    !1 !== e.opts.messages && (r += " , message: 'should have ",
                    1 == b.length ? r += "property " + e.util.escapeQuotes(b[0]) : r += "properties " + e.util.escapeQuotes(b.join(", ")),
                    r += " when property " + e.util.escapeQuotes(x) + " is present' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var P = r;
                    r = T.pop(),
                    !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + P + "]); " : r += " validate.errors = [" + P + "]; return false; " : r += " var err = " + P + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
                } else {
                    r += " ) { ";
                    var A = b;
                    if (A)
                        for (var O, $ = -1, j = A.length - 1; $ < j; ) {
                            O = A[$ += 1];
                            var D = e.util.getProperty(O)
                              , R = (E = e.util.escapeQuotes(O),
                            u + D);
                            e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(w, O, e.opts.jsonPointers)),
                            r += " if ( " + R + " === undefined ",
                            v && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(O) + "') "),
                            r += ") {  var err =   ",
                            !1 !== e.createErrors ? (r += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { property: '" + e.util.escapeQuotes(x) + "', missingProperty: '" + E + "', depsCount: " + b.length + ", deps: '" + e.util.escapeQuotes(1 == b.length ? b[0] : b.join(", ")) + "' } ",
                            !1 !== e.opts.messages && (r += " , message: 'should have ",
                            1 == b.length ? r += "property " + e.util.escapeQuotes(b[0]) : r += "properties " + e.util.escapeQuotes(b.join(", ")),
                            r += " when property " + e.util.escapeQuotes(x) + " is present' "),
                            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                            r += " } ") : r += " {} ",
                            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                        }
                }
                r += " }   ",
                l && (h += "}",
                r += " else { ")
            }
        e.errorPath = w;
        var M = f.baseId;
        for (var x in g)
            y = g[x],
            e.util.schemaHasRules(y, e.RULES.all) && (r += " " + p + " = true; if ( " + u + e.util.getProperty(x) + " !== undefined ",
            v && (r += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(x) + "') "),
            r += ") { ",
            f.schema = y,
            f.schemaPath = s + e.util.getProperty(x),
            f.errSchemaPath = c + "/" + e.util.escapeFragment(x),
            r += "  " + e.validate(f) + " ",
            f.baseId = M,
            r += " }  ",
            l && (r += " if (" + p + ") { ",
            h += "}"));
        return l && (r += "   " + h + " if (" + d + " == errors) {"),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = e.opts.$data && a && a.$data;
        f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
        var h = "i" + i
          , p = "schema" + i;
        f || (r += " var " + p + " = validate.schema" + s + ";"),
        r += "var " + d + ";",
        f && (r += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
        r += d + " = false;for (var " + h + "=0; " + h + "<" + p + ".length; " + h + "++) if (equal(" + u + ", " + p + "[" + h + "])) { " + d + " = true; break; }",
        f && (r += "  }  "),
        r += " if (!" + d + ") {   ";
        var g = g || [];
        g.push(r),
        r = "",
        !1 !== e.createErrors ? (r += " { keyword: 'enum' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { allowedValues: schema" + i + " } ",
        !1 !== e.opts.messages && (r += " , message: 'should be equal to one of the allowed values' "),
        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        r += " } ") : r += " {} ";
        var m = r;
        return r = g.pop(),
        !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + m + "]); " : r += " validate.errors = [" + m + "]; return false; " : r += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        r += " }",
        l && (r += " else { "),
        r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "");
        if (!1 === e.opts.format)
            return l && (r += " if (true) { "),
            r;
        var d, f = e.opts.$data && a && a.$data;
        f ? (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ",
        d = "schema" + i) : d = a;
        var h = e.opts.unknownFormats
          , p = Array.isArray(h);
        if (f)
            r += " var " + (g = "format" + i) + " = formats[" + d + "]; var " + (m = "isObject" + i) + " = typeof " + g + " == 'object' && !(" + g + " instanceof RegExp) && " + g + ".validate; var " + (v = "formatType" + i) + " = " + m + " && " + g + ".type || 'string'; if (" + m + ") { ",
            e.async && (r += " var async" + i + " = " + g + ".async; "),
            r += " " + g + " = " + g + ".validate; } if (  ",
            f && (r += " (" + d + " !== undefined && typeof " + d + " != 'string') || "),
            r += " (",
            "ignore" != h && (r += " (" + d + " && !" + g + " ",
            p && (r += " && self._opts.unknownFormats.indexOf(" + d + ") == -1 "),
            r += ") || "),
            r += " (" + g + " && " + v + " == '" + n + "' && !(typeof " + g + " == 'function' ? ",
            e.async ? r += " (async" + i + " ? " + e.yieldAwait + " " + g + "(" + u + ") : " + g + "(" + u + ")) " : r += " " + g + "(" + u + ") ",
            r += " : " + g + ".test(" + u + "))))) {";
        else {
            var g;
            if (!(g = e.formats[a])) {
                if ("ignore" == h)
                    return e.logger.warn('unknown format "' + a + '" ignored in schema at path "' + e.errSchemaPath + '"'),
                    l && (r += " if (true) { "),
                    r;
                if (p && h.indexOf(a) >= 0)
                    return l && (r += " if (true) { "),
                    r;
                throw new Error('unknown format "' + a + '" is used in schema at path "' + e.errSchemaPath + '"')
            }
            var m, v = (m = "object" == typeof g && !(g instanceof RegExp) && g.validate) && g.type || "string";
            if (m) {
                var y = !0 === g.async;
                g = g.validate
            }
            if (v != n)
                return l && (r += " if (true) { "),
                r;
            if (y) {
                if (!e.async)
                    throw new Error("async format in sync schema");
                var b = "formats" + e.util.getProperty(a) + ".validate";
                r += " if (!(" + e.yieldAwait + " " + b + "(" + u + "))) { "
            } else
                r += " if (! ",
                b = "formats" + e.util.getProperty(a),
                m && (b += ".validate"),
                r += "function" == typeof g ? " " + b + "(" + u + ") " : " " + b + ".test(" + u + ") ",
                r += ") { "
        }
        var w = w || [];
        w.push(r),
        r = "",
        !1 !== e.createErrors ? (r += " { keyword: 'format' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { format:  ",
        r += f ? "" + d : "" + e.util.toQuotedString(a),
        r += "  } ",
        !1 !== e.opts.messages && (r += " , message: 'should match format \"",
        r += f ? "' + " + d + " + '" : "" + e.util.escapeQuotes(a),
        r += "\"' "),
        e.opts.verbose && (r += " , schema:  ",
        r += f ? "validate.schema" + s : "" + e.util.toQuotedString(a),
        r += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        r += " } ") : r += " {} ";
        var x = r;
        return r = w.pop(),
        !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + x + "]); " : r += " validate.errors = [" + x + "]; return false; " : r += " var err = " + x + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        r += " } ",
        l && (r += " else { "),
        r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = "errs__" + i
          , h = e.util.copy(e)
          , p = "";
        h.level++;
        var g = "valid" + h.level
          , m = "i" + i
          , v = h.dataLevel = e.dataLevel + 1
          , y = "data" + v
          , b = e.baseId;
        if (r += "var " + f + " = errors;var " + d + ";",
        Array.isArray(a)) {
            var w = e.schema.additionalItems;
            if (!1 === w) {
                r += " " + d + " = " + u + ".length <= " + a.length + "; ";
                var x = c;
                c = e.errSchemaPath + "/additionalItems",
                r += "  if (!" + d + ") {   ";
                var S = S || [];
                S.push(r),
                r = "",
                !1 !== e.createErrors ? (r += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { limit: " + a.length + " } ",
                !1 !== e.opts.messages && (r += " , message: 'should NOT have more than " + a.length + " items' "),
                e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                r += " } ") : r += " {} ";
                var C = r;
                r = S.pop(),
                !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + C + "]); " : r += " validate.errors = [" + C + "]; return false; " : r += " var err = " + C + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                r += " } ",
                c = x,
                l && (p += "}",
                r += " else { ")
            }
            var _ = a;
            if (_)
                for (var k, E = -1, T = _.length - 1; E < T; )
                    if (k = _[E += 1],
                    e.util.schemaHasRules(k, e.RULES.all)) {
                        r += " " + g + " = true; if (" + u + ".length > " + E + ") { ";
                        var P = u + "[" + E + "]";
                        h.schema = k,
                        h.schemaPath = s + "[" + E + "]",
                        h.errSchemaPath = c + "/" + E,
                        h.errorPath = e.util.getPathExpr(e.errorPath, E, e.opts.jsonPointers, !0),
                        h.dataPathArr[v] = E;
                        var A = e.validate(h);
                        h.baseId = b,
                        e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
                        r += " }  ",
                        l && (r += " if (" + g + ") { ",
                        p += "}")
                    }
            "object" == typeof w && e.util.schemaHasRules(w, e.RULES.all) && (h.schema = w,
            h.schemaPath = e.schemaPath + ".additionalItems",
            h.errSchemaPath = e.errSchemaPath + "/additionalItems",
            r += " " + g + " = true; if (" + u + ".length > " + a.length + ") {  for (var " + m + " = " + a.length + "; " + m + " < " + u + ".length; " + m + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
            P = u + "[" + m + "]",
            h.dataPathArr[v] = m,
            A = e.validate(h),
            h.baseId = b,
            e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
            l && (r += " if (!" + g + ") break; "),
            r += " } }  ",
            l && (r += " if (" + g + ") { ",
            p += "}"))
        } else
            e.util.schemaHasRules(a, e.RULES.all) && (h.schema = a,
            h.schemaPath = s,
            h.errSchemaPath = c,
            r += "  for (var " + m + " = 0; " + m + " < " + u + ".length; " + m + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
            P = u + "[" + m + "]",
            h.dataPathArr[v] = m,
            A = e.validate(h),
            h.baseId = b,
            e.util.varOccurences(A, y) < 2 ? r += " " + e.util.varReplace(A, y, P) + " " : r += " var " + y + " = " + P + "; " + A + " ",
            l && (r += " if (!" + g + ") break; "),
            r += " }");
        return l && (r += " " + p + " if (" + f + " == errors) {"),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s,
        i += "var division" + o + ";if (",
        f && (i += " " + r + " !== undefined && ( typeof " + r + " != 'number' || "),
        i += " (division" + o + " = " + d + " / " + r + ", ",
        e.opts.multipleOfPrecision ? i += " Math.abs(Math.round(division" + o + ") - division" + o + ") > 1e-" + e.opts.multipleOfPrecision + " " : i += " division" + o + " !== parseInt(division" + o + ") ",
        i += " ) ",
        f && (i += "  )  "),
        i += " ) {   ";
        var h = h || [];
        h.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { multipleOf: " + r + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should be multiple of ",
        i += f ? "' + " + r : r + "'"),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var p = i;
        return i = h.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + p + "]); " : i += " validate.errors = [" + p + "]; return false; " : i += " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , f = e.util.copy(e);
        f.level++;
        var h = "valid" + f.level;
        if (e.util.schemaHasRules(a, e.RULES.all)) {
            f.schema = a,
            f.schemaPath = s,
            f.errSchemaPath = c,
            r += " var " + d + " = errors;  ";
            var p, g = e.compositeRule;
            e.compositeRule = f.compositeRule = !0,
            f.createErrors = !1,
            f.opts.allErrors && (p = f.opts.allErrors,
            f.opts.allErrors = !1),
            r += " " + e.validate(f) + " ",
            f.createErrors = !0,
            p && (f.opts.allErrors = p),
            e.compositeRule = f.compositeRule = g,
            r += " if (" + h + ") {   ";
            var m = m || [];
            m.push(r),
            r = "",
            !1 !== e.createErrors ? (r += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
            !1 !== e.opts.messages && (r += " , message: 'should NOT be valid' "),
            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            r += " } ") : r += " {} ";
            var v = r;
            r = m.pop(),
            !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + v + "]); " : r += " validate.errors = [" + v + "]; return false; " : r += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            r += " } else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } ",
            e.opts.allErrors && (r += " } ")
        } else
            r += "  var err =   ",
            !1 !== e.createErrors ? (r += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
            !1 !== e.opts.messages && (r += " , message: 'should NOT be valid' "),
            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            r += " } ") : r += " {} ",
            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            l && (r += " if (false) { ");
        return r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = "errs__" + i
          , h = e.util.copy(e)
          , p = "";
        h.level++;
        var g = "valid" + h.level;
        r += "var " + f + " = errors;var prevValid" + i + " = false;var " + d + " = false;";
        var m = h.baseId
          , v = e.compositeRule;
        e.compositeRule = h.compositeRule = !0;
        var y = a;
        if (y)
            for (var b, w = -1, x = y.length - 1; w < x; )
                b = y[w += 1],
                e.util.schemaHasRules(b, e.RULES.all) ? (h.schema = b,
                h.schemaPath = s + "[" + w + "]",
                h.errSchemaPath = c + "/" + w,
                r += "  " + e.validate(h) + " ",
                h.baseId = m) : r += " var " + g + " = true; ",
                w && (r += " if (" + g + " && prevValid" + i + ") " + d + " = false; else { ",
                p += "}"),
                r += " if (" + g + ") " + d + " = prevValid" + i + " = true;";
        return e.compositeRule = h.compositeRule = v,
        r += p + "if (!" + d + ") {   var err =   ",
        !1 !== e.createErrors ? (r += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
        !1 !== e.opts.messages && (r += " , message: 'should match exactly one schema in oneOf' "),
        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        r += " } ") : r += " {} ",
        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        !e.compositeRule && l && (e.async ? r += " throw new ValidationError(vErrors); " : r += " validate.errors = vErrors; return false; "),
        r += "} else {  errors = " + f + "; if (vErrors !== null) { if (" + f + ") vErrors.length = " + f + "; else vErrors = null; }",
        e.opts.allErrors && (r += " } "),
        r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = e.opts.$data && s && s.$data;
        f ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s;
        var h = f ? "(new RegExp(" + r + "))" : e.usePattern(s);
        i += "if ( ",
        f && (i += " (" + r + " !== undefined && typeof " + r + " != 'string') || "),
        i += " !" + h + ".test(" + d + ") ) {   ";
        var p = p || [];
        p.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { pattern:  ",
        i += f ? "" + r : "" + e.util.toQuotedString(s),
        i += "  } ",
        !1 !== e.opts.messages && (i += " , message: 'should match pattern \"",
        i += f ? "' + " + r + " + '" : "" + e.util.escapeQuotes(s),
        i += "\"' "),
        e.opts.verbose && (i += " , schema:  ",
        i += f ? "validate.schema" + c : "" + e.util.toQuotedString(s),
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var g = i;
        return i = p.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = "errs__" + i
          , h = e.util.copy(e)
          , p = "";
        h.level++;
        var g = "valid" + h.level
          , m = "key" + i
          , v = "idx" + i
          , y = h.dataLevel = e.dataLevel + 1
          , b = "data" + y
          , w = "dataProperties" + i
          , x = Object.keys(a || {})
          , S = e.schema.patternProperties || {}
          , C = Object.keys(S)
          , _ = e.schema.additionalProperties
          , k = x.length || C.length
          , E = !1 === _
          , T = "object" == typeof _ && Object.keys(_).length
          , P = e.opts.removeAdditional
          , A = E || T || P
          , O = e.opts.ownProperties
          , $ = e.baseId
          , j = e.schema.required;
        if (j && (!e.opts.v5 || !j.$data) && j.length < e.opts.loopRequired)
            var D = e.util.toHash(j);
        if (e.opts.patternGroups)
            var R = e.schema.patternGroups || {}
              , M = Object.keys(R);
        if (r += "var " + f + " = errors;var " + g + " = true;",
        O && (r += " var " + w + " = undefined;"),
        A) {
            if (r += O ? " " + w + " = " + w + " || Object.keys(" + u + "); for (var " + v + "=0; " + v + "<" + w + ".length; " + v + "++) { var " + m + " = " + w + "[" + v + "]; " : " for (var " + m + " in " + u + ") { ",
            k) {
                if (r += " var isAdditional" + i + " = !(false ",
                x.length)
                    if (x.length > 5)
                        r += " || validate.schema" + s + "[" + m + "] ";
                    else {
                        var I = x;
                        if (I)
                            for (var L = -1, F = I.length - 1; L < F; )
                                Z = I[L += 1],
                                r += " || " + m + " == " + e.util.toQuotedString(Z) + " "
                    }
                if (C.length) {
                    var N = C;
                    if (N)
                        for (var B = -1, U = N.length - 1; B < U; )
                            ce = N[B += 1],
                            r += " || " + e.usePattern(ce) + ".test(" + m + ") "
                }
                if (e.opts.patternGroups && M.length) {
                    var q = M;
                    if (q) {
                        B = -1;
                        for (var V = q.length - 1; B < V; )
                            fe = q[B += 1],
                            r += " || " + e.usePattern(fe) + ".test(" + m + ") "
                    }
                }
                r += " ); if (isAdditional" + i + ") { "
            }
            if ("all" == P)
                r += " delete " + u + "[" + m + "]; ";
            else {
                var z = e.errorPath
                  , H = "' + " + m + " + '";
                if (e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers)),
                E)
                    if (P)
                        r += " delete " + u + "[" + m + "]; ";
                    else {
                        r += " " + g + " = false; ";
                        var W = c;
                        c = e.errSchemaPath + "/additionalProperties",
                        (xe = xe || []).push(r),
                        r = "",
                        !1 !== e.createErrors ? (r += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { additionalProperty: '" + H + "' } ",
                        !1 !== e.opts.messages && (r += " , message: 'should NOT have additional properties' "),
                        e.opts.verbose && (r += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ";
                        var G = r;
                        r = xe.pop(),
                        !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + G + "]); " : r += " validate.errors = [" + G + "]; return false; " : r += " var err = " + G + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        c = W,
                        l && (r += " break; ")
                    }
                else if (T)
                    if ("failing" == P) {
                        r += " var " + f + " = errors;  ";
                        var X = e.compositeRule;
                        e.compositeRule = h.compositeRule = !0,
                        h.schema = _,
                        h.schemaPath = e.schemaPath + ".additionalProperties",
                        h.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                        h.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers);
                        var Y = u + "[" + m + "]";
                        h.dataPathArr[y] = m;
                        var K = e.validate(h);
                        h.baseId = $,
                        e.util.varOccurences(K, b) < 2 ? r += " " + e.util.varReplace(K, b, Y) + " " : r += " var " + b + " = " + Y + "; " + K + " ",
                        r += " if (!" + g + ") { errors = " + f + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + u + "[" + m + "]; }  ",
                        e.compositeRule = h.compositeRule = X
                    } else
                        h.schema = _,
                        h.schemaPath = e.schemaPath + ".additionalProperties",
                        h.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                        h.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers),
                        Y = u + "[" + m + "]",
                        h.dataPathArr[y] = m,
                        K = e.validate(h),
                        h.baseId = $,
                        e.util.varOccurences(K, b) < 2 ? r += " " + e.util.varReplace(K, b, Y) + " " : r += " var " + b + " = " + Y + "; " + K + " ",
                        l && (r += " if (!" + g + ") break; ");
                e.errorPath = z
            }
            k && (r += " } "),
            r += " }  ",
            l && (r += " if (" + g + ") { ",
            p += "}")
        }
        var Q = e.opts.useDefaults && !e.compositeRule;
        if (x.length) {
            var J = x;
            if (J)
                for (var Z, ee = -1, te = J.length - 1; ee < te; ) {
                    var ne = a[Z = J[ee += 1]];
                    if (e.util.schemaHasRules(ne, e.RULES.all)) {
                        var re = e.util.getProperty(Z)
                          , ie = (Y = u + re,
                        Q && void 0 !== ne.default);
                        if (h.schema = ne,
                        h.schemaPath = s + re,
                        h.errSchemaPath = c + "/" + e.util.escapeFragment(Z),
                        h.errorPath = e.util.getPath(e.errorPath, Z, e.opts.jsonPointers),
                        h.dataPathArr[y] = e.util.toQuotedString(Z),
                        K = e.validate(h),
                        h.baseId = $,
                        e.util.varOccurences(K, b) < 2) {
                            K = e.util.varReplace(K, b, Y);
                            var oe = Y
                        } else
                            oe = b,
                            r += " var " + b + " = " + Y + "; ";
                        if (ie)
                            r += " " + K + " ";
                        else {
                            if (D && D[Z]) {
                                r += " if ( " + oe + " === undefined ",
                                O && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Z) + "') "),
                                r += ") { " + g + " = false; ",
                                z = e.errorPath,
                                W = c;
                                var ae = e.util.escapeQuotes(Z);
                                e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(z, Z, e.opts.jsonPointers)),
                                c = e.errSchemaPath + "/required",
                                (xe = xe || []).push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + ae + "' } ",
                                !1 !== e.opts.messages && (r += " , message: '",
                                e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + ae + "\\'",
                                r += "' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ",
                                G = r,
                                r = xe.pop(),
                                !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + G + "]); " : r += " validate.errors = [" + G + "]; return false; " : r += " var err = " + G + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                c = W,
                                e.errorPath = z,
                                r += " } else { "
                            } else
                                l ? (r += " if ( " + oe + " === undefined ",
                                O && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Z) + "') "),
                                r += ") { " + g + " = true; } else { ") : (r += " if (" + oe + " !== undefined ",
                                O && (r += " &&   Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Z) + "') "),
                                r += " ) { ");
                            r += " " + K + " } "
                        }
                    }
                    l && (r += " if (" + g + ") { ",
                    p += "}")
                }
        }
        if (C.length) {
            var se = C;
            if (se)
                for (var ce, le = -1, ue = se.length - 1; le < ue; )
                    ne = S[ce = se[le += 1]],
                    e.util.schemaHasRules(ne, e.RULES.all) && (h.schema = ne,
                    h.schemaPath = e.schemaPath + ".patternProperties" + e.util.getProperty(ce),
                    h.errSchemaPath = e.errSchemaPath + "/patternProperties/" + e.util.escapeFragment(ce),
                    r += O ? " " + w + " = " + w + " || Object.keys(" + u + "); for (var " + v + "=0; " + v + "<" + w + ".length; " + v + "++) { var " + m + " = " + w + "[" + v + "]; " : " for (var " + m + " in " + u + ") { ",
                    r += " if (" + e.usePattern(ce) + ".test(" + m + ")) { ",
                    h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers),
                    Y = u + "[" + m + "]",
                    h.dataPathArr[y] = m,
                    K = e.validate(h),
                    h.baseId = $,
                    e.util.varOccurences(K, b) < 2 ? r += " " + e.util.varReplace(K, b, Y) + " " : r += " var " + b + " = " + Y + "; " + K + " ",
                    l && (r += " if (!" + g + ") break; "),
                    r += " } ",
                    l && (r += " else " + g + " = true; "),
                    r += " }  ",
                    l && (r += " if (" + g + ") { ",
                    p += "}"))
        }
        if (e.opts.patternGroups && M.length) {
            var de = M;
            if (de)
                for (var fe, he = -1, pe = de.length - 1; he < pe; ) {
                    var ge = R[fe = de[he += 1]];
                    if (ne = ge.schema,
                    e.util.schemaHasRules(ne, e.RULES.all)) {
                        h.schema = ne,
                        h.schemaPath = e.schemaPath + ".patternGroups" + e.util.getProperty(fe) + ".schema",
                        h.errSchemaPath = e.errSchemaPath + "/patternGroups/" + e.util.escapeFragment(fe) + "/schema",
                        r += " var pgPropCount" + i + " = 0;  ",
                        r += O ? " " + w + " = " + w + " || Object.keys(" + u + "); for (var " + v + "=0; " + v + "<" + w + ".length; " + v + "++) { var " + m + " = " + w + "[" + v + "]; " : " for (var " + m + " in " + u + ") { ",
                        r += " if (" + e.usePattern(fe) + ".test(" + m + ")) { pgPropCount" + i + "++; ",
                        h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers),
                        Y = u + "[" + m + "]",
                        h.dataPathArr[y] = m,
                        K = e.validate(h),
                        h.baseId = $,
                        e.util.varOccurences(K, b) < 2 ? r += " " + e.util.varReplace(K, b, Y) + " " : r += " var " + b + " = " + Y + "; " + K + " ",
                        l && (r += " if (!" + g + ") break; "),
                        r += " } ",
                        l && (r += " else " + g + " = true; "),
                        r += " }  ",
                        l && (r += " if (" + g + ") { ",
                        p += "}");
                        var me = ge.minimum
                          , ve = ge.maximum;
                        if (void 0 !== me || void 0 !== ve) {
                            if (r += " var " + d + " = true; ",
                            W = c,
                            void 0 !== me) {
                                var ye = me
                                  , be = "minimum"
                                  , we = "less";
                                r += " " + d + " = pgPropCount" + i + " >= " + me + "; ",
                                c = e.errSchemaPath + "/patternGroups/minimum",
                                r += "  if (!" + d + ") {   ",
                                (xe = xe || []).push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'patternGroups' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { reason: '" + be + "', limit: " + ye + ", pattern: '" + e.util.escapeQuotes(fe) + "' } ",
                                !1 !== e.opts.messages && (r += " , message: 'should NOT have " + we + " than " + ye + ' properties matching pattern "' + e.util.escapeQuotes(fe) + "\"' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ",
                                G = r,
                                r = xe.pop(),
                                !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + G + "]); " : r += " validate.errors = [" + G + "]; return false; " : r += " var err = " + G + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                r += " } ",
                                void 0 !== ve && (r += " else ")
                            }
                            var xe;
                            if (void 0 !== ve)
                                ye = ve,
                                be = "maximum",
                                we = "more",
                                r += " " + d + " = pgPropCount" + i + " <= " + ve + "; ",
                                c = e.errSchemaPath + "/patternGroups/maximum",
                                r += "  if (!" + d + ") {   ",
                                (xe = xe || []).push(r),
                                r = "",
                                !1 !== e.createErrors ? (r += " { keyword: 'patternGroups' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { reason: '" + be + "', limit: " + ye + ", pattern: '" + e.util.escapeQuotes(fe) + "' } ",
                                !1 !== e.opts.messages && (r += " , message: 'should NOT have " + we + " than " + ye + ' properties matching pattern "' + e.util.escapeQuotes(fe) + "\"' "),
                                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                r += " } ") : r += " {} ",
                                G = r,
                                r = xe.pop(),
                                !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + G + "]); " : r += " validate.errors = [" + G + "]; return false; " : r += " var err = " + G + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                r += " } ";
                            c = W,
                            l && (r += " if (" + d + ") { ",
                            p += "}")
                        }
                    }
                }
        }
        return l && (r += " " + p + " if (" + f + " == errors) {"),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , f = e.util.copy(e);
        f.level++;
        var h = "valid" + f.level;
        if (e.util.schemaHasRules(a, e.RULES.all)) {
            f.schema = a,
            f.schemaPath = s,
            f.errSchemaPath = c;
            var p = "key" + i
              , g = "idx" + i
              , m = "i" + i
              , v = "' + " + p + " + '"
              , y = "data" + (f.dataLevel = e.dataLevel + 1)
              , b = "dataProperties" + i
              , w = e.opts.ownProperties
              , x = e.baseId;
            r += " var " + d + " = errors; ",
            w && (r += " var " + b + " = undefined; "),
            r += w ? " " + b + " = " + b + " || Object.keys(" + u + "); for (var " + g + "=0; " + g + "<" + b + ".length; " + g + "++) { var " + p + " = " + b + "[" + g + "]; " : " for (var " + p + " in " + u + ") { ",
            r += " var startErrs" + i + " = errors; ";
            var S = p
              , C = e.compositeRule;
            e.compositeRule = f.compositeRule = !0;
            var _ = e.validate(f);
            f.baseId = x,
            e.util.varOccurences(_, y) < 2 ? r += " " + e.util.varReplace(_, y, S) + " " : r += " var " + y + " = " + S + "; " + _ + " ",
            e.compositeRule = f.compositeRule = C,
            r += " if (!" + h + ") { for (var " + m + "=startErrs" + i + "; " + m + "<errors; " + m + "++) { vErrors[" + m + "].propertyName = " + p + "; }   var err =   ",
            !1 !== e.createErrors ? (r += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { propertyName: '" + v + "' } ",
            !1 !== e.opts.messages && (r += " , message: 'property name \\'" + v + "\\' is invalid' "),
            e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            r += " } ") : r += " {} ",
            r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && l && (e.async ? r += " throw new ValidationError(vErrors); " : r += " validate.errors = vErrors; return false; "),
            l && (r += " break; "),
            r += " } }"
        }
        return l && (r += "  if (" + d + " == errors) {"),
        e.util.cleanUpCode(r)
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , c = e.errSchemaPath + "/" + t
          , l = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , f = e.opts.$data && a && a.$data;
        f && (r += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
        var h = "schema" + i;
        if (!f)
            if (a.length < e.opts.loopRequired && e.schema.properties && Object.keys(e.schema.properties).length) {
                var p = []
                  , g = a;
                if (g)
                    for (var m, v = -1, y = g.length - 1; v < y; ) {
                        m = g[v += 1];
                        var b = e.schema.properties[m];
                        b && e.util.schemaHasRules(b, e.RULES.all) || (p[p.length] = m)
                    }
            } else
                p = a;
        if (f || p.length) {
            var w = e.errorPath
              , x = f || p.length >= e.opts.loopRequired
              , S = e.opts.ownProperties;
            if (l)
                if (r += " var missing" + i + "; ",
                x) {
                    f || (r += " var " + h + " = validate.schema" + s + "; ");
                    var C = "' + " + (A = "schema" + i + "[" + (T = "i" + i) + "]") + " + '";
                    e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(w, A, e.opts.jsonPointers)),
                    r += " var " + d + " = true; ",
                    f && (r += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
                    r += " for (var " + T + " = 0; " + T + " < " + h + ".length; " + T + "++) { " + d + " = " + u + "[" + h + "[" + T + "]] !== undefined ",
                    S && (r += " &&   Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + T + "]) "),
                    r += "; if (!" + d + ") break; } ",
                    f && (r += "  }  "),
                    r += "  if (!" + d + ") {   ",
                    (k = k || []).push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                    !1 !== e.opts.messages && (r += " , message: '",
                    e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + C + "\\'",
                    r += "' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ";
                    var _ = r;
                    r = k.pop(),
                    !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + _ + "]); " : r += " validate.errors = [" + _ + "]; return false; " : r += " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " } else { "
                } else {
                    r += " if ( ";
                    var k, E = p;
                    if (E)
                        for (var T = -1, P = E.length - 1; T < P; )
                            $ = E[T += 1],
                            T && (r += " || "),
                            r += " ( ( " + (M = u + (R = e.util.getProperty($))) + " === undefined ",
                            S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes($) + "') "),
                            r += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? $ : R) + ") ) ";
                    r += ") {  ",
                    C = "' + " + (A = "missing" + i) + " + '",
                    e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(w, A, !0) : w + " + " + A),
                    (k = k || []).push(r),
                    r = "",
                    !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                    !1 !== e.opts.messages && (r += " , message: '",
                    e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + C + "\\'",
                    r += "' "),
                    e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    r += " } ") : r += " {} ",
                    _ = r,
                    r = k.pop(),
                    !e.compositeRule && l ? e.async ? r += " throw new ValidationError([" + _ + "]); " : r += " validate.errors = [" + _ + "]; return false; " : r += " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    r += " } else { "
                }
            else if (x) {
                var A;
                f || (r += " var " + h + " = validate.schema" + s + "; "),
                C = "' + " + (A = "schema" + i + "[" + (T = "i" + i) + "]") + " + '",
                e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(w, A, e.opts.jsonPointers)),
                f && (r += " if (" + h + " && !Array.isArray(" + h + ")) {  var err =   ",
                !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                !1 !== e.opts.messages && (r += " , message: '",
                e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + C + "\\'",
                r += "' "),
                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                r += " } ") : r += " {} ",
                r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + h + " !== undefined) { "),
                r += " for (var " + T + " = 0; " + T + " < " + h + ".length; " + T + "++) { if (" + u + "[" + h + "[" + T + "]] === undefined ",
                S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + T + "]) "),
                r += ") {  var err =   ",
                !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                !1 !== e.opts.messages && (r += " , message: '",
                e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + C + "\\'",
                r += "' "),
                e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                r += " } ") : r += " {} ",
                r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",
                f && (r += "  }  ")
            } else {
                var O = p;
                if (O)
                    for (var $, j = -1, D = O.length - 1; j < D; ) {
                        $ = O[j += 1];
                        var R = e.util.getProperty($)
                          , M = (C = e.util.escapeQuotes($),
                        u + R);
                        e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(w, $, e.opts.jsonPointers)),
                        r += " if ( " + M + " === undefined ",
                        S && (r += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes($) + "') "),
                        r += ") {  var err =   ",
                        !1 !== e.createErrors ? (r += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { missingProperty: '" + C + "' } ",
                        !1 !== e.opts.messages && (r += " , message: '",
                        e.opts._errorDataPathProperty ? r += "is a required property" : r += "should have required property \\'" + C + "\\'",
                        r += "' "),
                        e.opts.verbose && (r += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        r += " } ") : r += " {} ",
                        r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                    }
            }
            e.errorPath = w
        } else
            l && (r += " if (true) {");
        return r
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], c = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), f = "valid" + o, h = e.opts.$data && s && s.$data;
        if (h ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        r = "schema" + o) : r = s,
        (s || h) && !1 !== e.opts.uniqueItems) {
            h && (i += " var " + f + "; if (" + r + " === false || " + r + " === undefined) " + f + " = true; else if (typeof " + r + " != 'boolean') " + f + " = false; else { "),
            i += " var " + f + " = true; if (" + d + ".length > 1) { var i = " + d + ".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal(" + d + "[i], " + d + "[j])) { " + f + " = false; break outer; } } } } ",
            h && (i += "  }  "),
            i += " if (!" + f + ") {   ";
            var p = p || [];
            p.push(i),
            i = "",
            !1 !== e.createErrors ? (i += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { i: i, j: j } ",
            !1 !== e.opts.messages && (i += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),
            e.opts.verbose && (i += " , schema:  ",
            i += h ? "validate.schema" + c : "" + s,
            i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
            i += " } ") : i += " {} ";
            var g = i;
            i = p.pop(),
            !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            i += " } ",
            u && (i += " else { ")
        } else
            u && (i += " if (true) { ");
        return i
    }
}
, function(e, t, n) {
    "use strict";
    var r = ["multipleOf", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "additionalItems", "maxItems", "minItems", "uniqueItems", "maxProperties", "minProperties", "required", "additionalProperties", "enum", "format", "const"];
    e.exports = function(e, t) {
        for (var n = 0; n < t.length; n++) {
            e = JSON.parse(JSON.stringify(e));
            var i, o = t[n].split("/"), a = e;
            for (i = 1; i < o.length; i++)
                a = a[o[i]];
            for (i = 0; i < r.length; i++) {
                var s = r[i]
                  , c = a[s];
                c && (a[s] = {
                    anyOf: [c, {
                        $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"
                    }]
                })
            }
        }
        return e
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e) {
        var t = e._opts.defaultMeta
          , n = "string" == typeof t ? {
            $ref: t
        } : e.getSchema("http://json-schema.org/draft-06/schema") ? {
            $ref: "http://json-schema.org/draft-06/schema"
        } : {};
        e.addKeyword("patternGroups", {
            metaSchema: {
                type: "object",
                additionalProperties: {
                    type: "object",
                    required: ["schema"],
                    properties: {
                        maximum: {
                            type: "integer",
                            minimum: 0
                        },
                        minimum: {
                            type: "integer",
                            minimum: 0
                        },
                        schema: n
                    },
                    additionalProperties: !1
                }
            }
        }),
        e.RULES.all.properties.implements.push("patternGroups")
    }
}
, function(e, t, n) {
    "use strict";
    var r = n(15).MissingRef;
    e.exports = function e(t, n, i) {
        var o = this;
        if ("function" != typeof this._opts.loadSchema)
            throw new Error("options.loadSchema should be a function");
        "function" == typeof n && (i = n,
        n = void 0);
        var a = s(t).then(function() {
            var e = o._addSchema(t, void 0, n);
            return e.validate || function e(t) {
                try {
                    return o._compile(t)
                } catch (e) {
                    if (e instanceof r)
                        return function(e) {
                            var i = e.missingSchema;
                            if (l(i))
                                throw new Error("Schema " + i + " is loaded but " + e.missingRef + " cannot be resolved");
                            var a = o._loadingSchemas[i];
                            return a || (a = o._loadingSchemas[i] = o._opts.loadSchema(i)).then(c, c),
                            a.then(function(e) {
                                if (!l(i))
                                    return s(e).then(function() {
                                        l(i) || o.addSchema(e, i, void 0, n)
                                    })
                            }).then(function() {
                                return function e(t) {
                                    try {
                                        return o._compile(t)
                                    } catch (e) {
                                        if (e instanceof r)
                                            return function(r) {
                                                var i = r.missingSchema;
                                                if (l(i))
                                                    throw new Error("Schema " + i + " is loaded but " + r.missingRef + " cannot be resolved");
                                                var a = o._loadingSchemas[i];
                                                return a || (a = o._loadingSchemas[i] = o._opts.loadSchema(i)).then(c, c),
                                                a.then(function(e) {
                                                    if (!l(i))
                                                        return s(e).then(function() {
                                                            l(i) || o.addSchema(e, i, void 0, n)
                                                        })
                                                }).then(function() {
                                                    return e(t)
                                                });
                                                function c() {
                                                    delete o._loadingSchemas[i]
                                                }
                                                function l(e) {
                                                    return o._refs[e] || o._schemas[e]
                                                }
                                            }(e);
                                        throw e
                                    }
                                }(t)
                            });
                            function c() {
                                delete o._loadingSchemas[i]
                            }
                            function l(e) {
                                return o._refs[e] || o._schemas[e]
                            }
                        }(e);
                    throw e
                }
            }(e)
        });
        return i && a.then(function(e) {
            i(null, e)
        }, i),
        a;
        function s(t) {
            var n = t.$schema;
            return n && !o.getSchema(n) ? e.call(o, {
                $ref: n
            }, !0) : Promise.resolve()
        }
    }
}
, function(e, t, n) {
    "use strict";
    var r = /^[a-z_$][a-z0-9_$-]*$/i
      , i = n(90);
    e.exports = {
        add: function(e, t) {
            var n = this.RULES;
            if (n.keywords[e])
                throw new Error("Keyword " + e + " is already defined");
            if (!r.test(e))
                throw new Error("Keyword " + e + " is not a valid identifier");
            if (t) {
                if (t.macro && void 0 !== t.valid)
                    throw new Error('"valid" option cannot be used with macro keywords');
                var o = t.type;
                if (Array.isArray(o)) {
                    var a, s = o.length;
                    for (a = 0; a < s; a++)
                        d(o[a]);
                    for (a = 0; a < s; a++)
                        u(e, o[a], t)
                } else
                    o && d(o),
                    u(e, o, t);
                var c = !0 === t.$data && this._opts.$data;
                if (c && !t.validate)
                    throw new Error('$data support: "validate" function is not defined');
                var l = t.metaSchema;
                l && (c && (l = {
                    anyOf: [l, {
                        $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"
                    }]
                }),
                t.validateSchema = this.compile(l, !0))
            }
            function u(e, t, r) {
                for (var o, a = 0; a < n.length; a++) {
                    var s = n[a];
                    if (s.type == t) {
                        o = s;
                        break
                    }
                }
                o || (o = {
                    type: t,
                    rules: []
                },
                n.push(o));
                var c = {
                    keyword: e,
                    definition: r,
                    custom: !0,
                    code: i,
                    implements: r.implements
                };
                o.rules.push(c),
                n.custom[e] = c
            }
            function d(e) {
                if (!n.types[e])
                    throw new Error("Unknown type " + e)
            }
            return n.keywords[e] = n.all[e] = !0,
            this
        },
        get: function(e) {
            var t = this.RULES.custom[e];
            return t ? t.definition : this.RULES.keywords[e] || !1
        },
        remove: function(e) {
            var t = this.RULES;
            delete t.keywords[e],
            delete t.all[e],
            delete t.custom[e];
            for (var n = 0; n < t.length; n++)
                for (var r = t[n].rules, i = 0; i < r.length; i++)
                    if (r[i].keyword == e) {
                        r.splice(i, 1);
                        break
                    }
            return this
        }
    }
}
, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n) {
        var r, i, o = " ", a = e.level, s = e.dataLevel, c = e.schema[t], l = e.schemaPath + e.util.getProperty(t), u = e.errSchemaPath + "/" + t, d = !e.opts.allErrors, f = "data" + (s || ""), h = "valid" + a, p = "errs__" + a, g = e.opts.$data && c && c.$data;
        g ? (o += " var schema" + a + " = " + e.util.getData(c.$data, s, e.dataPathArr) + "; ",
        i = "schema" + a) : i = c;
        var m, v, y, b, w, x = "definition" + a, S = this.definition, C = "";
        if (g && S.$data) {
            w = "keywordValidate" + a;
            var _ = S.validateSchema;
            o += " var " + x + " = RULES.custom['" + t + "'].definition; var " + w + " = " + x + ".validate;"
        } else {
            if (!(b = e.useCustomRule(this, c, e.schema, e)))
                return;
            i = "validate.schema" + l,
            w = b.code,
            m = S.compile,
            v = S.inline,
            y = S.macro
        }
        var k = w + ".errors"
          , E = "i" + a
          , T = "ruleErr" + a
          , P = S.async;
        if (P && !e.async)
            throw new Error("async keyword in sync schema");
        if (v || y || (o += k + " = null;"),
        o += "var " + p + " = errors;var " + h + ";",
        g && S.$data && (C += "}",
        o += " if (" + i + " === undefined) { " + h + " = true; } else { ",
        _ && (C += "}",
        o += " " + h + " = " + x + ".validateSchema(" + i + "); if (" + h + ") { ")),
        v)
            S.statements ? o += " " + b.validate + " " : o += " " + h + " = " + b.validate + "; ";
        else if (y) {
            var A = e.util.copy(e);
            C = "",
            A.level++;
            var O = "valid" + A.level;
            A.schema = b.validate,
            A.schemaPath = "";
            var $ = e.compositeRule;
            e.compositeRule = A.compositeRule = !0;
            var j = e.validate(A).replace(/validate\.schema/g, w);
            e.compositeRule = A.compositeRule = $,
            o += " " + j
        } else {
            (I = I || []).push(o),
            o = "",
            o += "  " + w + ".call( ",
            e.opts.passContext ? o += "this" : o += "self",
            m || !1 === S.schema ? o += " , " + f + " " : o += " , " + i + " , " + f + " , validate.schema" + e.schemaPath + " ",
            o += " , (dataPath || '')",
            '""' != e.errorPath && (o += " + " + e.errorPath);
            var D = s ? "data" + (s - 1 || "") : "parentData"
              , R = s ? e.dataPathArr[s] : "parentDataProperty"
              , M = o += " , " + D + " , " + R + " , rootData )  ";
            o = I.pop(),
            !1 === S.errors ? (o += " " + h + " = ",
            P && (o += "" + e.yieldAwait),
            o += M + "; ") : o += P ? " var " + (k = "customErrors" + a) + " = null; try { " + h + " = " + e.yieldAwait + M + "; } catch (e) { " + h + " = false; if (e instanceof ValidationError) " + k + " = e.errors; else throw e; } " : " " + k + " = null; " + h + " = " + M + "; "
        }
        if (S.modifying && (o += " if (" + D + ") " + f + " = " + D + "[" + R + "];"),
        o += "" + C,
        S.valid)
            d && (o += " if (true) { ");
        else {
            var I;
            o += " if ( ",
            void 0 === S.valid ? (o += " !",
            o += y ? "" + O : "" + h) : o += " " + !S.valid + " ",
            o += ") { ",
            r = this.keyword,
            (I = I || []).push(o),
            o = "",
            (I = I || []).push(o),
            o = "",
            !1 !== e.createErrors ? (o += " { keyword: '" + (r || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + this.keyword + "' } ",
            !1 !== e.opts.messages && (o += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "),
            e.opts.verbose && (o += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
            o += " } ") : o += " {} ";
            var L = o;
            o = I.pop(),
            !e.compositeRule && d ? e.async ? o += " throw new ValidationError([" + L + "]); " : o += " validate.errors = [" + L + "]; return false; " : o += " var err = " + L + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            var F = o;
            o = I.pop(),
            v ? S.errors ? "full" != S.errors && (o += "  for (var " + E + "=" + p + "; " + E + "<errors; " + E + "++) { var " + T + " = vErrors[" + E + "]; if (" + T + ".dataPath === undefined) " + T + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + T + ".schemaPath === undefined) { " + T + '.schemaPath = "' + u + '"; } ',
            e.opts.verbose && (o += " " + T + ".schema = " + i + "; " + T + ".data = " + f + "; "),
            o += " } ") : !1 === S.errors ? o += " " + F + " " : (o += " if (" + p + " == errors) { " + F + " } else {  for (var " + E + "=" + p + "; " + E + "<errors; " + E + "++) { var " + T + " = vErrors[" + E + "]; if (" + T + ".dataPath === undefined) " + T + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + T + ".schemaPath === undefined) { " + T + '.schemaPath = "' + u + '"; } ',
            e.opts.verbose && (o += " " + T + ".schema = " + i + "; " + T + ".data = " + f + "; "),
            o += " } } ") : y ? (o += "   var err =   ",
            !1 !== e.createErrors ? (o += " { keyword: '" + (r || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + this.keyword + "' } ",
            !1 !== e.opts.messages && (o += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "),
            e.opts.verbose && (o += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
            o += " } ") : o += " {} ",
            o += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && d && (e.async ? o += " throw new ValidationError(vErrors); " : o += " validate.errors = vErrors; return false; ")) : !1 === S.errors ? o += " " + F + " " : (o += " if (Array.isArray(" + k + ")) { if (vErrors === null) vErrors = " + k + "; else vErrors = vErrors.concat(" + k + "); errors = vErrors.length;  for (var " + E + "=" + p + "; " + E + "<errors; " + E + "++) { var " + T + " = vErrors[" + E + "]; if (" + T + ".dataPath === undefined) " + T + ".dataPath = (dataPath || '') + " + e.errorPath + ";  " + T + '.schemaPath = "' + u + '";  ',
            e.opts.verbose && (o += " " + T + ".schema = " + i + "; " + T + ".data = " + f + "; "),
            o += " } } else { " + F + " } "),
            o += " } ",
            d && (o += " else { ")
        }
        return o
    }
}
, function(e) {
    e.exports = {
        $schema: "http://json-schema.org/draft-06/schema#",
        $id: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",
        description: "Meta-schema for $data reference (JSON-schema extension proposal)",
        type: "object",
        required: ["$data"],
        properties: {
            $data: {
                type: "string",
                anyOf: [{
                    format: "relative-json-pointer"
                }, {
                    format: "json-pointer"
                }]
            }
        },
        additionalProperties: !1
    }
}
, function(e) {
    e.exports = {
        $schema: "http://json-schema.org/draft-06/schema#",
        $id: "http://json-schema.org/draft-06/schema#",
        title: "Core schema meta-schema",
        definitions: {
            schemaArray: {
                type: "array",
                minItems: 1,
                items: {
                    $ref: "#"
                }
            },
            nonNegativeInteger: {
                type: "integer",
                minimum: 0
            },
            nonNegativeIntegerDefault0: {
                allOf: [{
                    $ref: "#/definitions/nonNegativeInteger"
                }, {
                    default: 0
                }]
            },
            simpleTypes: {
                enum: ["array", "boolean", "integer", "null", "number", "object", "string"]
            },
            stringArray: {
                type: "array",
                items: {
                    type: "string"
                },
                uniqueItems: !0,
                default: []
            }
        },
        type: ["object", "boolean"],
        properties: {
            $id: {
                type: "string",
                format: "uri-reference"
            },
            $schema: {
                type: "string",
                format: "uri"
            },
            $ref: {
                type: "string",
                format: "uri-reference"
            },
            title: {
                type: "string"
            },
            description: {
                type: "string"
            },
            default: {},
            examples: {
                type: "array",
                items: {}
            },
            multipleOf: {
                type: "number",
                exclusiveMinimum: 0
            },
            maximum: {
                type: "number"
            },
            exclusiveMaximum: {
                type: "number"
            },
            minimum: {
                type: "number"
            },
            exclusiveMinimum: {
                type: "number"
            },
            maxLength: {
                $ref: "#/definitions/nonNegativeInteger"
            },
            minLength: {
                $ref: "#/definitions/nonNegativeIntegerDefault0"
            },
            pattern: {
                type: "string",
                format: "regex"
            },
            additionalItems: {
                $ref: "#"
            },
            items: {
                anyOf: [{
                    $ref: "#"
                }, {
                    $ref: "#/definitions/schemaArray"
                }],
                default: {}
            },
            maxItems: {
                $ref: "#/definitions/nonNegativeInteger"
            },
            minItems: {
                $ref: "#/definitions/nonNegativeIntegerDefault0"
            },
            uniqueItems: {
                type: "boolean",
                default: !1
            },
            contains: {
                $ref: "#"
            },
            maxProperties: {
                $ref: "#/definitions/nonNegativeInteger"
            },
            minProperties: {
                $ref: "#/definitions/nonNegativeIntegerDefault0"
            },
            required: {
                $ref: "#/definitions/stringArray"
            },
            additionalProperties: {
                $ref: "#"
            },
            definitions: {
                type: "object",
                additionalProperties: {
                    $ref: "#"
                },
                default: {}
            },
            properties: {
                type: "object",
                additionalProperties: {
                    $ref: "#"
                },
                default: {}
            },
            patternProperties: {
                type: "object",
                additionalProperties: {
                    $ref: "#"
                },
                default: {}
            },
            dependencies: {
                type: "object",
                additionalProperties: {
                    anyOf: [{
                        $ref: "#"
                    }, {
                        $ref: "#/definitions/stringArray"
                    }]
                }
            },
            propertyNames: {
                $ref: "#"
            },
            const: {},
            enum: {
                type: "array",
                minItems: 1,
                uniqueItems: !0
            },
            type: {
                anyOf: [{
                    $ref: "#/definitions/simpleTypes"
                }, {
                    type: "array",
                    items: {
                        $ref: "#/definitions/simpleTypes"
                    },
                    minItems: 1,
                    uniqueItems: !0
                }]
            },
            format: {
                type: "string"
            },
            allOf: {
                $ref: "#/definitions/schemaArray"
            },
            anyOf: {
                $ref: "#/definitions/schemaArray"
            },
            oneOf: {
                $ref: "#/definitions/schemaArray"
            },
            not: {
                $ref: "#"
            }
        },
        default: {}
    }
}
, function(e, t) {
    !function(e, t, n) {
        var r = void 0
          , i = !0
          , o = null
          , a = !1;
        function s(e) {
            return function() {
                return this[e]
            }
        }
        var c = this;
        function l(e, t) {
            var n, i = e.split("."), o = c;
            !(i[0]in o) && o.execScript && o.execScript("var " + i[0]);
            for (; i.length && (n = i.shift()); )
                i.length || t === r ? o = o[n] ? o[n] : o[n] = {} : o[n] = t
        }
        function u(e, t, n) {
            return e.call.apply(e.bind, arguments)
        }
        function d(e, t, n) {
            if (!e)
                throw Error();
            if (2 < arguments.length) {
                var r = Array.prototype.slice.call(arguments, 2);
                return function() {
                    var n = Array.prototype.slice.call(arguments);
                    return Array.prototype.unshift.apply(n, r),
                    e.apply(t, n)
                }
            }
            return function() {
                return e.apply(t, arguments)
            }
        }
        function f(e, t, n) {
            return (f = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? u : d).apply(o, arguments)
        }
        c.Ba = i;
        var h = Date.now || function() {
            return +new Date
        }
        ;
        function p(e, t) {
            this.G = e,
            this.u = t || e,
            this.z = this.u.document,
            this.R = r
        }
        function g(e, n, r) {
            (e = e.z.getElementsByTagName(n)[0]) || (e = t.documentElement),
            e && e.lastChild && e.insertBefore(r, e.lastChild)
        }
        function m(e, t) {
            return e.createElement("link", {
                rel: "stylesheet",
                href: t
            })
        }
        function v(e, t) {
            return e.createElement("script", {
                src: t
            })
        }
        function y(e, t) {
            for (var n = e.className.split(/\s+/), r = 0, i = n.length; r < i; r++)
                if (n[r] == t)
                    return;
            n.push(t),
            e.className = n.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
        }
        function b(e, t) {
            for (var n = e.className.split(/\s+/), r = [], i = 0, o = n.length; i < o; i++)
                n[i] != t && r.push(n[i]);
            e.className = r.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
        }
        function w(e, t) {
            for (var n = e.className.split(/\s+/), r = 0, o = n.length; r < o; r++)
                if (n[r] == t)
                    return i;
            return a
        }
        function x(e) {
            if (e.R === r) {
                var t = e.z.createElement("p");
                t.innerHTML = '<a style="top:1px;">w</a>',
                e.R = /top/.test(t.getElementsByTagName("a")[0].getAttribute("style"))
            }
            return e.R
        }
        function S(e) {
            var t = e.u.location.protocol;
            return "about:" == t && (t = e.G.location.protocol),
            "https:" == t ? "https:" : "http:"
        }
        function C(e, t, n) {
            this.w = e,
            this.T = t,
            this.Aa = n
        }
        function _(e, t, n, r) {
            this.e = e != o ? e : o,
            this.o = t != o ? t : o,
            this.ba = n != o ? n : o,
            this.f = r != o ? r : o
        }
        p.prototype.createElement = function(e, t, n) {
            if (e = this.z.createElement(e),
            t)
                for (var r in t)
                    if (t.hasOwnProperty(r))
                        if ("style" == r) {
                            var i = e
                              , o = t[r];
                            x(this) ? i.setAttribute("style", o) : i.style.cssText = o
                        } else
                            e.setAttribute(r, t[r]);
            return n && e.appendChild(this.z.createTextNode(n)),
            e
        }
        ,
        l("webfont.BrowserInfo", C),
        C.prototype.qa = s("w"),
        C.prototype.hasWebFontSupport = C.prototype.qa,
        C.prototype.ra = s("T"),
        C.prototype.hasWebKitFallbackBug = C.prototype.ra,
        C.prototype.sa = s("Aa"),
        C.prototype.hasWebKitMetricsBug = C.prototype.sa;
        var k = /^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;
        function E(e) {
            e = k.exec(e);
            var t = o
              , n = o
              , r = o
              , i = o;
            return e && (e[1] !== o && e[1] && (t = parseInt(e[1], 10)),
            e[2] !== o && e[2] && (n = parseInt(e[2], 10)),
            e[3] !== o && e[3] && (r = parseInt(e[3], 10)),
            e[4] !== o && e[4] && (i = /^[0-9]+$/.test(e[4]) ? parseInt(e[4], 10) : e[4])),
            new _(t,n,r,i)
        }
        function T(e, t, n, r, i, o, a, s, c, l, u) {
            this.J = e,
            this.Ha = t,
            this.za = n,
            this.ga = r,
            this.Fa = i,
            this.fa = o,
            this.xa = a,
            this.Ga = s,
            this.wa = c,
            this.ea = l,
            this.k = u
        }
        function P(e, t) {
            this.a = e,
            this.H = t
        }
        _.prototype.toString = function() {
            return [this.e, this.o || "", this.ba || "", this.f || ""].join("")
        }
        ,
        l("webfont.UserAgent", T),
        T.prototype.getName = s("J"),
        T.prototype.getName = T.prototype.getName,
        T.prototype.pa = s("za"),
        T.prototype.getVersion = T.prototype.pa,
        T.prototype.la = s("ga"),
        T.prototype.getEngine = T.prototype.la,
        T.prototype.ma = s("fa"),
        T.prototype.getEngineVersion = T.prototype.ma,
        T.prototype.na = s("xa"),
        T.prototype.getPlatform = T.prototype.na,
        T.prototype.oa = s("wa"),
        T.prototype.getPlatformVersion = T.prototype.oa,
        T.prototype.ka = s("ea"),
        T.prototype.getDocumentMode = T.prototype.ka,
        T.prototype.ja = s("k"),
        T.prototype.getBrowserInfo = T.prototype.ja;
        var A = new T("Unknown",new _,"Unknown","Unknown",new _,"Unknown","Unknown",new _,"Unknown",r,new C(a,a,a));
        function O(e) {
            var t = j(e.a, /(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/, 1);
            return "" != t ? (/BB\d{2}/.test(t) && (t = "BlackBerry"),
            t) : "" != (e = j(e.a, /(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/, 1)) ? ("Mac_PowerPC" == e && (e = "Macintosh"),
            e) : "Unknown"
        }
        function $(e) {
            if ((t = j(e.a, /(OS X|Windows NT|Android) ([^;)]+)/, 2)) || (t = j(e.a, /Windows Phone( OS)? ([^;)]+)/, 2)) || (t = j(e.a, /(iPhone )?OS ([\d_]+)/, 2)))
                return t;
            if (t = j(e.a, /(?:Linux|CrOS) ([^;)]+)/, 1))
                for (var t = t.split(/\s/), n = 0; n < t.length; n += 1)
                    if (/^[\d\._]+$/.test(t[n]))
                        return t[n];
            return (e = j(e.a, /(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/, 2)) ? e : "Unknown"
        }
        function j(e, t, n) {
            return (e = e.match(t)) && e[n] ? e[n] : ""
        }
        function D(e) {
            if (e.documentMode)
                return e.documentMode
        }
        function R(e) {
            this.va = e || "-"
        }
        function M(e, t) {
            this.J = e,
            this.U = 4,
            this.K = "n";
            var n = (t || "n4").match(/^([nio])([1-9])$/i);
            n && (this.K = n[1],
            this.U = parseInt(n[2], 10))
        }
        function I(e) {
            return e.K + e.U
        }
        function L(e) {
            var t = 4
              , n = "n"
              , r = o;
            return e && ((r = e.match(/(normal|oblique|italic)/i)) && r[1] && (n = r[1].substr(0, 1).toLowerCase()),
            (r = e.match(/([1-9]00|normal|bold)/i)) && r[1] && (/bold/i.test(r[1]) ? t = 7 : /[1-9]00/.test(r[1]) && (t = parseInt(r[1].substr(0, 1), 10)))),
            n + t
        }
        function F(e) {
            y(e.h, e.g.f(e.j, "loading")),
            B(e, "loading")
        }
        function N(e) {
            b(e.h, e.g.f(e.j, "loading")),
            w(e.h, e.g.f(e.j, "active")) || y(e.h, e.g.f(e.j, "inactive")),
            B(e, "inactive")
        }
        function B(e, t, n) {
            e.M[t] && (n ? e.M[t](n.getName(), I(n)) : e.M[t]())
        }
        function U(e, t) {
            this.c = e,
            this.C = t,
            this.s = this.c.createElement("span", {
                "aria-hidden": "true"
            }, this.C)
        }
        function q(e, t) {
            var n, r = e.s;
            n = [];
            for (var i = t.J.split(/,\s*/), o = 0; o < i.length; o++) {
                var a = i[o].replace(/['"]/g, "");
                -1 == a.indexOf(" ") ? n.push(a) : n.push("'" + a + "'")
            }
            n = n.join(","),
            i = "normal",
            o = t.U + "00",
            "o" === t.K ? i = "oblique" : "i" === t.K && (i = "italic"),
            n = "position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + n + ";font-style:" + i + ";font-weight:" + o + ";",
            x(e.c) ? r.setAttribute("style", n) : r.style.cssText = n
        }
        function V(e) {
            g(e.c, "body", e.s)
        }
        function z(e, t, n, r, i, a, s, c) {
            for (var l in this.V = e,
            this.ta = t,
            this.c = n,
            this.q = r,
            this.C = c || "BESbswy",
            this.k = i,
            this.F = {},
            this.S = a || 5e3,
            this.Z = s || o,
            this.B = this.A = o,
            V(e = new U(this.c,this.C)),
            H)
                H.hasOwnProperty(l) && (q(e, new M(H[l],I(this.q))),
                this.F[H[l]] = e.s.offsetWidth);
            e.remove()
        }
        P.prototype.parse = function() {
            var e;
            if (-1 != this.a.indexOf("MSIE")) {
                e = O(this);
                var t = E(i = $(this));
                e = new T("MSIE",n = E(s = j(this.a, /MSIE ([\d\w\.]+)/, 1)),s,"MSIE",n,s,e,t,i,D(this.H),new C("Windows" == e && 6 <= n.e || "Windows Phone" == e && 8 <= t.e,a,a))
            } else if (-1 != this.a.indexOf("Opera"))
                e: {
                    e = "Unknown",
                    t = E(i = j(this.a, /Presto\/([\d\w\.]+)/, 1));
                    var n = E(s = $(this))
                      , r = D(this.H);
                    if (t.e !== o ? e = "Presto" : (-1 != this.a.indexOf("Gecko") && (e = "Gecko"),
                    t = E(i = j(this.a, /rv:([^\)]+)/, 1))),
                    -1 != this.a.indexOf("Opera Mini/"))
                        e = new T("OperaMini",u = E(l = j(this.a, /Opera Mini\/([\d\.]+)/, 1)),l,e,t,i,O(this),n,s,r,new C(a,a,a));
                    else {
                        if (-1 != this.a.indexOf("Version/") && (u = E(l = j(this.a, /Version\/([\d\.]+)/, 1))).e !== o) {
                            e = new T("Opera",u,l,e,t,i,O(this),n,s,r,new C(10 <= u.e,a,a));
                            break e
                        }
                        e = (u = E(l = j(this.a, /Opera[\/ ]([\d\.]+)/, 1))).e !== o ? new T("Opera",u,l,e,t,i,O(this),n,s,r,new C(10 <= u.e,a,a)) : new T("Opera",new _,"Unknown",e,t,i,O(this),n,s,r,new C(a,a,a))
                    }
                }
            else if (/AppleWeb(K|k)it/.test(this.a)) {
                e = O(this),
                t = E(i = $(this)),
                n = E(s = j(this.a, /AppleWeb(?:K|k)it\/([\d\.\+]+)/, 1)),
                r = "Unknown";
                var i, s, c, l = new _, u = "Unknown";
                -1 != this.a.indexOf("Chrome") || -1 != this.a.indexOf("CrMo") || -1 != this.a.indexOf("CriOS") ? r = "Chrome" : /Silk\/\d/.test(this.a) ? r = "Silk" : "BlackBerry" == e || "Android" == e ? r = "BuiltinBrowser" : -1 != this.a.indexOf("Safari") ? r = "Safari" : -1 != this.a.indexOf("AdobeAIR") && (r = "AdobeAIR"),
                "BuiltinBrowser" == r ? u = "Unknown" : "Silk" == r ? u = j(this.a, /Silk\/([\d\._]+)/, 1) : "Chrome" == r ? u = j(this.a, /(Chrome|CrMo|CriOS)\/([\d\.]+)/, 2) : -1 != this.a.indexOf("Version/") ? u = j(this.a, /Version\/([\d\.\w]+)/, 1) : "AdobeAIR" == r && (u = j(this.a, /AdobeAIR\/([\d\.]+)/, 1)),
                l = E(u),
                c = "AdobeAIR" == r ? 2 < l.e || 2 == l.e && 5 <= l.o : "BlackBerry" == e ? 10 <= t.e : "Android" == e ? 2 < t.e || 2 == t.e && 1 < t.o : 526 <= n.e || 525 <= n.e && 13 <= n.o,
                e = new T(r,l,u,"AppleWebKit",n,s,e,t,i,D(this.H),new C(c,536 > n.e || 536 == n.e && 11 > n.o,"iPhone" == e || "iPad" == e || "iPod" == e || "Macintosh" == e))
            } else
                -1 != this.a.indexOf("Gecko") ? (e = "Unknown",
                i = new _,
                t = "Unknown",
                n = E(s = $(this)),
                r = a,
                -1 != this.a.indexOf("Firefox") ? (e = "Firefox",
                r = 3 <= (i = E(t = j(this.a, /Firefox\/([\d\w\.]+)/, 1))).e && 5 <= i.o) : -1 != this.a.indexOf("Mozilla") && (e = "Mozilla"),
                u = E(l = j(this.a, /rv:([^\)]+)/, 1)),
                r || (r = 1 < u.e || 1 == u.e && 9 < u.o || 1 == u.e && 9 == u.o && 2 <= u.ba || l.match(/1\.9\.1b[123]/) != o || l.match(/1\.9\.1\.[\d\.]+/) != o),
                e = new T(e,i,t,"Gecko",u,l,O(this),n,s,D(this.H),new C(r,a,a))) : e = A;
            return e
        }
        ,
        R.prototype.f = function(e) {
            for (var t = [], n = 0; n < arguments.length; n++)
                t.push(arguments[n].replace(/[\W_]+/g, "").toLowerCase());
            return t.join(this.va)
        }
        ,
        M.prototype.getName = s("J"),
        U.prototype.remove = function() {
            var e = this.s;
            e.parentNode && e.parentNode.removeChild(e)
        }
        ;
        var H = {
            Ea: "serif",
            Da: "sans-serif",
            Ca: "monospace"
        };
        function W(e, t, n) {
            for (var r in H)
                if (H.hasOwnProperty(r) && t === e.F[H[r]] && n === e.F[H[r]])
                    return i;
            return a
        }
        function G(e, t) {
            e.A.remove(),
            e.B.remove(),
            t(e.q)
        }
        function X(e, t, n, r) {
            this.c = t,
            this.t = n,
            this.N = 0,
            this.ca = this.Y = a,
            this.S = r,
            this.k = e.k
        }
        function Y(e, t, n, r, i) {
            if (0 === t.length && i)
                N(e.t);
            else
                for (e.N += t.length,
                i && (e.Y = i),
                i = 0; i < t.length; i++) {
                    var o = t[i]
                      , a = n[o.getName()]
                      , s = e.t
                      , c = o;
                    y(s.h, s.g.f(s.j, c.getName(), I(c).toString(), "loading")),
                    B(s, "fontloading", c),
                    new z(f(e.ha, e),f(e.ia, e),e.c,o,e.k,e.S,r,a).start()
                }
        }
        function K(e) {
            0 == --e.N && e.Y && (e.ca ? (b((e = e.t).h, e.g.f(e.j, "loading")),
            b(e.h, e.g.f(e.j, "inactive")),
            y(e.h, e.g.f(e.j, "active")),
            B(e, "active")) : N(e.t))
        }
        function Q(e, t, n) {
            this.G = e,
            this.W = t,
            this.a = n,
            this.O = this.P = 0
        }
        function J(e, t) {
            te.W.$[e] = t
        }
        z.prototype.start = function() {
            this.A = new U(this.c,this.C),
            V(this.A),
            this.B = new U(this.c,this.C),
            V(this.B),
            this.ya = h(),
            q(this.A, new M(this.q.getName() + ",serif",I(this.q))),
            q(this.B, new M(this.q.getName() + ",sans-serif",I(this.q))),
            function e(t) {
                var n = t.A.s.offsetWidth
                  , r = t.B.s.offsetWidth;
                n === t.F.serif && r === t.F["sans-serif"] || t.k.T && W(t, n, r) ? h() - t.ya >= t.S ? t.k.T && W(t, n, r) && (t.Z === o || t.Z.hasOwnProperty(t.q.getName())) ? G(t, t.V) : G(t, t.ta) : setTimeout(f(function() {
                    e(this)
                }, t), 25) : G(t, t.V)
            }(this)
        }
        ,
        X.prototype.ha = function(e) {
            var t = this.t;
            b(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "loading")),
            b(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "inactive")),
            y(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "active")),
            B(t, "fontactive", e),
            this.ca = i,
            K(this)
        }
        ,
        X.prototype.ia = function(e) {
            var t = this.t;
            b(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "loading")),
            w(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "active")) || y(t.h, t.g.f(t.j, e.getName(), I(e).toString(), "inactive")),
            B(t, "fontinactive", e),
            K(this)
        }
        ,
        Q.prototype.load = function(e) {
            var t = e.context || this.G;
            if (this.c = new p(this.G,t),
            t = new function(e, t, n) {
                this.c = e,
                this.h = t,
                this.M = n,
                this.j = "wf",
                this.g = new R("-")
            }
            (this.c,t.document.documentElement,e),
            this.a.k.w) {
                var n, r = this.W, i = this.c, o = [];
                for (n in e)
                    if (e.hasOwnProperty(n)) {
                        var a = r.$[n];
                        a && o.push(a(e[n], i))
                    }
                for (e = e.timeout,
                this.O = this.P = o.length,
                e = new X(this.a,this.c,t,e),
                n = 0,
                r = o.length; n < r; n++)
                    (i = o[n]).v(this.a, f(this.ua, this, i, t, e))
            } else
                N(t)
        }
        ,
        Q.prototype.ua = function(e, t, n, r) {
            var i = this;
            r ? e.load(function(e, r, a) {
                var s = 0 == --i.P;
                s && F(t),
                setTimeout(function() {
                    Y(n, e, r || {}, a || o, s)
                }, 0)
            }) : (e = 0 == --this.P,
            this.O--,
            e && (0 == this.O ? N(t) : F(t)),
            Y(n, [], {}, o, e))
        }
        ;
        var Z = e
          , ee = new P(navigator.userAgent,t).parse()
          , te = Z.WebFont = new Q(e,new function() {
            this.$ = {}
        }
        ,ee);
        function ne(e, t) {
            this.c = e,
            this.d = t
        }
        function re(e, t) {
            this.c = e,
            this.d = t
        }
        te.load = te.load,
        ne.prototype.load = function(e) {
            var t, n, r = this.d.urls || [], i = this.d.families || [];
            for (t = 0,
            n = r.length; t < n; t++)
                g(this.c, "head", m(this.c, r[t]));
            for (r = [],
            t = 0,
            n = i.length; t < n; t++) {
                var o = i[t].split(":");
                if (o[1])
                    for (var a = o[1].split(","), s = 0; s < a.length; s += 1)
                        r.push(new M(o[0],a[s]));
                else
                    r.push(new M(o[0]))
            }
            e(r)
        }
        ,
        ne.prototype.v = function(e, t) {
            return t(e.k.w)
        }
        ,
        J("custom", function(e, t) {
            return new ne(t,e)
        });
        var ie = {
            regular: "n4",
            bold: "n7",
            italic: "i4",
            bolditalic: "i7",
            r: "n4",
            b: "n7",
            i: "i4",
            bi: "i7"
        };
        function oe(e) {
            if (e = (n = e.split(":"))[0],
            n[1]) {
                for (var t = n[1].split(","), n = [], r = 0, i = t.length; r < i; r++) {
                    var o = t[r];
                    if (o) {
                        var a = ie[o];
                        n.push(a || o)
                    }
                }
                for (t = [],
                r = 0; r < n.length; r += 1)
                    t.push(new M(e,n[r]));
                return t
            }
            return [new M(e)]
        }
        function ae(e, t, n) {
            this.a = e,
            this.c = t,
            this.d = n,
            this.m = []
        }
        function se(e, t) {
            this.c = e,
            this.d = t,
            this.m = []
        }
        function ce(e, t, n) {
            this.L = e || t + le,
            this.p = [],
            this.Q = [],
            this.da = n || ""
        }
        re.prototype.v = function(e, t) {
            return t(e.k.w)
        }
        ,
        re.prototype.load = function(e) {
            g(this.c, "head", m(this.c, S(this.c) + "//webfonts.fontslive.com/css/" + this.d.key + ".css"));
            for (var t = this.d.families, n = [], r = 0, i = t.length; r < i; r++)
                n.push.apply(n, oe(t[r]));
            e(n)
        }
        ,
        J("ascender", function(e, t) {
            return new re(t,e)
        }),
        ae.prototype.v = function(e, t) {
            var n = this
              , r = n.d.projectId
              , s = n.d.version;
            if (r) {
                var c = n.c.u
                  , l = n.c.createElement("script");
                l.id = "__MonotypeAPIScript__" + r;
                var u = a;
                l.onload = l.onreadystatechange = function() {
                    if (!(u || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState)) {
                        if (u = i,
                        c["__mti_fntLst" + r]) {
                            var a = c["__mti_fntLst" + r]();
                            if (a)
                                for (var s = 0; s < a.length; s++)
                                    n.m.push(new M(a[s].fontfamily))
                        }
                        t(e.k.w),
                        l.onload = l.onreadystatechange = o
                    }
                }
                ,
                l.src = n.D(r, s),
                g(this.c, "head", l)
            } else
                t(i)
        }
        ,
        ae.prototype.D = function(e, t) {
            return S(this.c) + "//" + (this.d.api || "fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/, "") + "/" + e + ".js" + (t ? "?v=" + t : "")
        }
        ,
        ae.prototype.load = function(e) {
            e(this.m)
        }
        ,
        J("monotype", function(e, n) {
            return new ae(new P(navigator.userAgent,t).parse(),n,e)
        }),
        se.prototype.D = function(e) {
            var t = S(this.c);
            return (this.d.api || t + "//use.typekit.net") + "/" + e + ".js"
        }
        ,
        se.prototype.v = function(e, t) {
            var n = this.d.id
              , r = this.d
              , o = this.c.u
              , a = this;
            n ? (o.__webfonttypekitmodule__ || (o.__webfonttypekitmodule__ = {}),
            o.__webfonttypekitmodule__[n] = function(n) {
                n(e, r, function(e, n, r) {
                    for (var i = 0; i < n.length; i += 1) {
                        var o = r[n[i]];
                        if (o)
                            for (var s = 0; s < o.length; s += 1)
                                a.m.push(new M(n[i],o[s]));
                        else
                            a.m.push(new M(n[i]))
                    }
                    t(e)
                })
            }
            ,
            n = v(this.c, this.D(n)),
            g(this.c, "head", n)) : t(i)
        }
        ,
        se.prototype.load = function(e) {
            e(this.m)
        }
        ,
        J("typekit", function(e, t) {
            return new se(t,e)
        });
        var le = "//fonts.googleapis.com/css";
        function ue(e) {
            this.p = e,
            this.aa = [],
            this.I = {}
        }
        ce.prototype.f = function() {
            if (0 == this.p.length)
                throw Error("No fonts to load !");
            if (-1 != this.L.indexOf("kit="))
                return this.L;
            for (var e = this.p.length, t = [], n = 0; n < e; n++)
                t.push(this.p[n].replace(/ /g, "+"));
            return e = this.L + "?family=" + t.join("%7C"),
            0 < this.Q.length && (e += "&subset=" + this.Q.join(",")),
            0 < this.da.length && (e += "&text=" + encodeURIComponent(this.da)),
            e
        }
        ;
        var de = {
            latin: "BESbswy",
            cyrillic: "&#1081;&#1103;&#1046;",
            greek: "&#945;&#946;&#931;",
            khmer: "&#x1780;&#x1781;&#x1782;",
            Hanuman: "&#x1780;&#x1781;&#x1782;"
        }
          , fe = {
            thin: "1",
            extralight: "2",
            "extra-light": "2",
            ultralight: "2",
            "ultra-light": "2",
            light: "3",
            regular: "4",
            book: "4",
            medium: "5",
            "semi-bold": "6",
            semibold: "6",
            "demi-bold": "6",
            demibold: "6",
            bold: "7",
            "extra-bold": "8",
            extrabold: "8",
            "ultra-bold": "8",
            ultrabold: "8",
            black: "9",
            heavy: "9",
            l: "3",
            r: "4",
            b: "7"
        }
          , he = {
            i: "i",
            italic: "i",
            n: "n",
            normal: "n"
        }
          , pe = RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");
        function ge(e, t, n) {
            this.a = e,
            this.c = t,
            this.d = n
        }
        ue.prototype.parse = function() {
            for (var e = this.p.length, t = 0; t < e; t++) {
                var n = this.p[t].split(":")
                  , i = n[0].replace(/\+/g, " ")
                  , a = ["n4"];
                if (2 <= n.length) {
                    var s;
                    if (s = [],
                    c = n[1])
                        for (var c, l = (c = c.split(",")).length, u = 0; u < l; u++) {
                            var d;
                            if ((d = c[u]).match(/^[\w]+$/)) {
                                d = pe.exec(d.toLowerCase());
                                var f = r;
                                if (d == o)
                                    f = "";
                                else {
                                    if (f = r,
                                    (f = d[1]) == o || "" == f)
                                        f = "4";
                                    else
                                        f = fe[f] || (isNaN(f) ? "4" : f.substr(0, 1));
                                    f = [d[2] == o || "" == d[2] ? "n" : he[d[2]], f].join("")
                                }
                                d = f
                            } else
                                d = "";
                            d && s.push(d)
                        }
                    0 < s.length && (a = s),
                    3 == n.length && (s = [],
                    0 < (n = (n = n[2]) ? n.split(",") : s).length && (n = de[n[0]]) && (this.I[i] = n))
                }
                for (this.I[i] || (n = de[i]) && (this.I[i] = n),
                n = 0; n < a.length; n += 1)
                    this.aa.push(new M(i,a[n]))
            }
        }
        ;
        var me = {
            Arimo: i,
            Cousine: i,
            Tinos: i
        };
        function ve(e, t) {
            this.c = e,
            this.d = t,
            this.m = []
        }
        ge.prototype.v = function(e, t) {
            t(e.k.w)
        }
        ,
        ge.prototype.load = function(e) {
            var t = this.c;
            if ("MSIE" == this.a.getName() && this.d.blocking != i) {
                var n = f(this.X, this, e)
                  , r = function() {
                    t.z.body ? n() : setTimeout(r, 0)
                };
                r()
            } else
                this.X(e)
        }
        ,
        ge.prototype.X = function(e) {
            for (var t = this.c, n = new ce(this.d.api,S(t),this.d.text), r = this.d.families, i = r.length, o = 0; o < i; o++) {
                var a = r[o].split(":");
                3 == a.length && n.Q.push(a.pop());
                var s = "";
                2 == a.length && "" != a[1] && (s = ":"),
                n.p.push(a.join(s))
            }
            (r = new ue(r)).parse(),
            g(t, "head", m(t, n.f())),
            e(r.aa, r.I, me)
        }
        ,
        J("google", function(e, n) {
            return new ge(new P(navigator.userAgent,t).parse(),n,e)
        }),
        ve.prototype.D = function(e) {
            return S(this.c) + (this.d.api || "//f.fontdeck.com/s/css/js/") + (this.c.u.location.hostname || this.c.G.location.hostname) + "/" + e + ".js"
        }
        ,
        ve.prototype.v = function(e, t) {
            var n = this.d.id
              , r = this.c.u
              , o = this;
            n ? (r.__webfontfontdeckmodule__ || (r.__webfontfontdeckmodule__ = {}),
            r.__webfontfontdeckmodule__[n] = function(e, n) {
                for (var r = 0, i = n.fonts.length; r < i; ++r) {
                    var a = n.fonts[r];
                    o.m.push(new M(a.name,L("font-weight:" + a.weight + ";font-style:" + a.style)))
                }
                t(e)
            }
            ,
            n = v(this.c, this.D(n)),
            g(this.c, "head", n)) : t(i)
        }
        ,
        ve.prototype.load = function(e) {
            e(this.m)
        }
        ,
        J("fontdeck", function(e, t) {
            return new ve(t,e)
        }),
        e.WebFontConfig && te.load(e.WebFontConfig)
    }(this, document)
}
, function(module, exports, __webpack_require__) {
    (function(Buffer, process) {
        var fabric = fabric || {
            version: "1.7.3"
        }, t, e, i, r, n, s;
        void 0 !== exports && (exports.fabric = fabric),
        "undefined" != typeof document && "undefined" != typeof window ? (fabric.document = document,
        fabric.window = window,
        window.fabric = fabric) : (fabric.document = __webpack_require__(97).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),
        fabric.document.createWindow ? fabric.window = fabric.document.createWindow() : fabric.window = fabric.document.parentWindow),
        fabric.isTouchSupported = "ontouchstart"in fabric.document.documentElement,
        fabric.isLikelyNode = void 0 !== Buffer && "undefined" == typeof window,
        fabric.SHARED_ATTRIBUTES = ["display", "transform", "fill", "fill-opacity", "fill-rule", "opacity", "stroke", "stroke-dasharray", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "id"],
        fabric.DPI = 96,
        fabric.reNum = "(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",
        fabric.fontPaths = {},
        fabric.charWidthsCache = {},
        fabric.devicePixelRatio = fabric.window.devicePixelRatio || fabric.window.webkitDevicePixelRatio || fabric.window.mozDevicePixelRatio || 1,
        function() {
            function e(e, t) {
                if (this.__eventListeners[e]) {
                    var n = this.__eventListeners[e];
                    t ? n[n.indexOf(t)] = !1 : fabric.util.array.fill(n, !1)
                }
            }
            function t(e, t) {
                if (this.__eventListeners || (this.__eventListeners = {}),
                1 === arguments.length)
                    for (var n in e)
                        this.on(n, e[n]);
                else
                    this.__eventListeners[e] || (this.__eventListeners[e] = []),
                    this.__eventListeners[e].push(t);
                return this
            }
            function n(t, n) {
                if (this.__eventListeners) {
                    if (0 === arguments.length)
                        for (t in this.__eventListeners)
                            e.call(this, t);
                    else if (1 === arguments.length && "object" == typeof arguments[0])
                        for (var r in t)
                            e.call(this, r, t[r]);
                    else
                        e.call(this, t, n);
                    return this
                }
            }
            function r(e, t) {
                if (this.__eventListeners) {
                    var n = this.__eventListeners[e];
                    if (n) {
                        for (var r = 0, i = n.length; r < i; r++)
                            n[r] && n[r].call(this, t || {});
                        return this.__eventListeners[e] = n.filter(function(e) {
                            return !1 !== e
                        }),
                        this
                    }
                }
            }
            fabric.Observable = {
                observe: t,
                stopObserving: n,
                fire: r,
                on: t,
                off: n,
                trigger: r
            }
        }(),
        fabric.Collection = {
            _objects: [],
            add: function() {
                if (this._objects.push.apply(this._objects, arguments),
                this._onObjectAdded)
                    for (var e = 0, t = arguments.length; e < t; e++)
                        this._onObjectAdded(arguments[e]);
                return this.renderOnAddRemove && this.renderAll(),
                this
            },
            insertAt: function(e, t, n) {
                var r = this.getObjects();
                return n ? r[t] = e : r.splice(t, 0, e),
                this._onObjectAdded && this._onObjectAdded(e),
                this.renderOnAddRemove && this.renderAll(),
                this
            },
            remove: function() {
                for (var e, t = this.getObjects(), n = !1, r = 0, i = arguments.length; r < i; r++)
                    -1 !== (e = t.indexOf(arguments[r])) && (n = !0,
                    t.splice(e, 1),
                    this._onObjectRemoved && this._onObjectRemoved(arguments[r]));
                return this.renderOnAddRemove && n && this.renderAll(),
                this
            },
            forEachObject: function(e, t) {
                for (var n = this.getObjects(), r = 0, i = n.length; r < i; r++)
                    e.call(t, n[r], r, n);
                return this
            },
            getObjects: function(e) {
                return void 0 === e ? this._objects : this._objects.filter(function(t) {
                    return t.type === e
                })
            },
            item: function(e) {
                return this.getObjects()[e]
            },
            isEmpty: function() {
                return 0 === this.getObjects().length
            },
            size: function() {
                return this.getObjects().length
            },
            contains: function(e) {
                return this.getObjects().indexOf(e) > -1
            },
            complexity: function() {
                return this.getObjects().reduce(function(e, t) {
                    return e + (t.complexity ? t.complexity() : 0)
                }, 0)
            }
        },
        fabric.CommonMethods = {
            _setOptions: function(e) {
                for (var t in e)
                    this.set(t, e[t])
            },
            _initGradient: function(e, t) {
                !e || !e.colorStops || e instanceof fabric.Gradient || this.set(t, new fabric.Gradient(e))
            },
            _initPattern: function(e, t, n) {
                !e || !e.source || e instanceof fabric.Pattern ? n && n() : this.set(t, new fabric.Pattern(e,n))
            },
            _initClipping: function(e) {
                if (e.clipTo && "string" == typeof e.clipTo) {
                    var t = fabric.util.getFunctionBody(e.clipTo);
                    void 0 !== t && (this.clipTo = new Function("ctx",t))
                }
            },
            _setObject: function(e) {
                for (var t in e)
                    this._set(t, e[t])
            },
            set: function(e, t) {
                return "object" == typeof e ? this._setObject(e) : "function" == typeof t && "clipTo" !== e ? this._set(e, t(this.get(e))) : this._set(e, t),
                this
            },
            _set: function(e, t) {
                this[e] = t
            },
            toggle: function(e) {
                var t = this.get(e);
                return "boolean" == typeof t && this.set(e, !t),
                this
            },
            get: function(e) {
                return this[e]
            }
        },
        t = exports,
        e = Math.sqrt,
        i = Math.atan2,
        r = Math.pow,
        n = Math.abs,
        s = Math.PI / 180,
        fabric.util = {
            removeFromArray: function(e, t) {
                var n = e.indexOf(t);
                return -1 !== n && e.splice(n, 1),
                e
            },
            getRandomInt: function(e, t) {
                return Math.floor(Math.random() * (t - e + 1)) + e
            },
            degreesToRadians: function(e) {
                return e * s
            },
            radiansToDegrees: function(e) {
                return e / s
            },
            rotatePoint: function(e, t, n) {
                e.subtractEquals(t);
                var r = fabric.util.rotateVector(e, n);
                return new fabric.Point(r.x,r.y).addEquals(t)
            },
            rotateVector: function(e, t) {
                var n = Math.sin(t)
                  , r = Math.cos(t);
                return {
                    x: e.x * r - e.y * n,
                    y: e.x * n + e.y * r
                }
            },
            transformPoint: function(e, t, n) {
                return n ? new fabric.Point(t[0] * e.x + t[2] * e.y,t[1] * e.x + t[3] * e.y) : new fabric.Point(t[0] * e.x + t[2] * e.y + t[4],t[1] * e.x + t[3] * e.y + t[5])
            },
            makeBoundingBoxFromPoints: function(e) {
                var t = [e[0].x, e[1].x, e[2].x, e[3].x]
                  , n = fabric.util.array.min(t)
                  , r = fabric.util.array.max(t)
                  , i = Math.abs(n - r)
                  , o = [e[0].y, e[1].y, e[2].y, e[3].y]
                  , a = fabric.util.array.min(o)
                  , s = fabric.util.array.max(o);
                return {
                    left: n,
                    top: a,
                    width: i,
                    height: Math.abs(a - s)
                }
            },
            invertTransform: function(e) {
                var t = 1 / (e[0] * e[3] - e[1] * e[2])
                  , n = [t * e[3], -t * e[1], -t * e[2], t * e[0]]
                  , r = fabric.util.transformPoint({
                    x: e[4],
                    y: e[5]
                }, n, !0);
                return n[4] = -r.x,
                n[5] = -r.y,
                n
            },
            toFixed: function(e, t) {
                return parseFloat(Number(e).toFixed(t))
            },
            parseUnit: function(e, t) {
                var n = /\D{0,2}$/.exec(e)
                  , r = parseFloat(e);
                switch (t || (t = fabric.Text.DEFAULT_SVG_FONT_SIZE),
                n[0]) {
                case "mm":
                    return r * fabric.DPI / 25.4;
                case "cm":
                    return r * fabric.DPI / 2.54;
                case "in":
                    return r * fabric.DPI;
                case "pt":
                    return r * fabric.DPI / 72;
                case "pc":
                    return r * fabric.DPI / 72 * 12;
                case "em":
                    return r * t;
                default:
                    return r
                }
            },
            falseFunction: function() {
                return !1
            },
            getKlass: function(e, t) {
                return e = fabric.util.string.camelize(e.charAt(0).toUpperCase() + e.slice(1)),
                fabric.util.resolveNamespace(t)[e]
            },
            resolveNamespace: function(e) {
                if (!e)
                    return fabric;
                var n, r = e.split("."), i = r.length, o = t || fabric.window;
                for (n = 0; n < i; ++n)
                    o = o[r[n]];
                return o
            },
            loadImage: function(e, t, n, r) {
                if (e) {
                    var i = fabric.util.createImage();
                    i.onload = function() {
                        t && t.call(n, i),
                        i = i.onload = i.onerror = null
                    }
                    ,
                    i.onerror = function() {
                        fabric.log("Error loading " + i.src),
                        t && t.call(n, null, !0),
                        i = i.onload = i.onerror = null
                    }
                    ,
                    0 !== e.indexOf("data") && r && (i.crossOrigin = r),
                    i.src = e
                } else
                    t && t.call(n, e)
            },
            enlivenObjects: function(e, t, n, r) {
                function i() {
                    ++a === s && t && t(o)
                }
                var o = []
                  , a = 0
                  , s = (e = e || []).length;
                return s ? void e.forEach(function(e, t) {
                    e && e.type ? fabric.util.getKlass(e.type, n).fromObject(e, function(n, a) {
                        a || (o[t] = n),
                        r && r(e, n, a),
                        i()
                    }, !0) : i()
                }) : void (t && t(o))
            },
            enlivenPatterns: function(e, t) {
                function n() {
                    ++i === o && t && t(r)
                }
                var r = []
                  , i = 0
                  , o = (e = e || []).length;
                return o ? void e.forEach(function(e, t) {
                    e && e.source ? new fabric.Pattern(e,function(e) {
                        r[t] = e,
                        n()
                    }
                    ) : (r[t] = e,
                    n())
                }) : void (t && t(r))
            },
            groupSVGElements: function(e, t, n) {
                var r;
                return r = new fabric.PathGroup(e,t),
                void 0 !== n && r.setSourcePath(n),
                r
            },
            populateWithProperties: function(e, t, n) {
                if (n && "[object Array]" === Object.prototype.toString.call(n))
                    for (var r = 0, i = n.length; r < i; r++)
                        n[r]in e && (t[n[r]] = e[n[r]])
            },
            drawDashedLine: function(t, n, r, o, a, s) {
                var c = o - n
                  , l = a - r
                  , u = e(c * c + l * l)
                  , d = i(l, c)
                  , f = s.length
                  , h = 0
                  , p = !0;
                for (t.save(),
                t.translate(n, r),
                t.moveTo(0, 0),
                t.rotate(d),
                n = 0; u > n; )
                    (n += s[h++ % f]) > u && (n = u),
                    t[p ? "lineTo" : "moveTo"](n, 0),
                    p = !p;
                t.restore()
            },
            createCanvasElement: function(e) {
                return e || (e = fabric.document.createElement("canvas")),
                e.getContext || "undefined" == typeof G_vmlCanvasManager || G_vmlCanvasManager.initElement(e),
                e
            },
            createImage: function() {
                return fabric.isLikelyNode ? new (__webpack_require__(17).Image) : fabric.document.createElement("img")
            },
            createAccessors: function(e) {
                var t, n, r, i, o, a = e.prototype;
                for (t = a.stateProperties.length; t--; )
                    i = "set" + (r = (n = a.stateProperties[t]).charAt(0).toUpperCase() + n.slice(1)),
                    a[o = "get" + r] || (a[o] = new Function('return this.get("' + n + '")')),
                    a[i] || (a[i] = new Function("value",'return this.set("' + n + '", value)'))
            },
            clipContext: function(e, t) {
                t.save(),
                t.beginPath(),
                e.clipTo(t),
                t.clip()
            },
            multiplyTransformMatrices: function(e, t, n) {
                return [e[0] * t[0] + e[2] * t[1], e[1] * t[0] + e[3] * t[1], e[0] * t[2] + e[2] * t[3], e[1] * t[2] + e[3] * t[3], n ? 0 : e[0] * t[4] + e[2] * t[5] + e[4], n ? 0 : e[1] * t[4] + e[3] * t[5] + e[5]]
            },
            qrDecompose: function(t) {
                var n = i(t[1], t[0])
                  , o = r(t[0], 2) + r(t[1], 2)
                  , a = e(o)
                  , c = (t[0] * t[3] - t[2] * t[1]) / a
                  , l = i(t[0] * t[2] + t[1] * t[3], o);
                return {
                    angle: n / s,
                    scaleX: a,
                    scaleY: c,
                    skewX: l / s,
                    skewY: 0,
                    translateX: t[4],
                    translateY: t[5]
                }
            },
            customTransformMatrix: function(e, t, r) {
                var i = [1, 0, n(Math.tan(r * s)), 1]
                  , o = [n(e), 0, 0, n(t)];
                return fabric.util.multiplyTransformMatrices(o, i, !0)
            },
            resetObjectTransform: function(e) {
                e.scaleX = 1,
                e.scaleY = 1,
                e.skewX = 0,
                e.skewY = 0,
                e.flipX = !1,
                e.flipY = !1,
                e.setAngle(0)
            },
            getFunctionBody: function(e) {
                return (String(e).match(/function[^{]*\{([\s\S]*)\}/) || {})[1]
            },
            isTransparent: function(e, t, n, r) {
                r > 0 && (t > r ? t -= r : t = 0,
                n > r ? n -= r : n = 0);
                var i, o = !0, a = e.getImageData(t, n, 2 * r || 1, 2 * r || 1), s = a.data.length;
                for (i = 3; i < s && 0 != (o = a.data[i] <= 0); i += 4)
                    ;
                return a = null,
                o
            },
            parsePreserveAspectRatioAttribute: function(e) {
                var t, n = "meet", r = e.split(" ");
                return r && r.length && ("meet" !== (n = r.pop()) && "slice" !== n ? (t = n,
                n = "meet") : r.length && (t = r.pop())),
                {
                    meetOrSlice: n,
                    alignX: "none" !== t ? t.slice(1, 4) : "none",
                    alignY: "none" !== t ? t.slice(5, 8) : "none"
                }
            },
            clearFabricFontCache: function(e) {
                e ? fabric.charWidthsCache[e] && delete fabric.charWidthsCache[e] : fabric.charWidthsCache = {}
            }
        },
        function() {
            function e(e, r, o, a, c, l, u) {
                var d = s.call(arguments);
                if (i[d])
                    return i[d];
                var f = Math.PI
                  , h = u * f / 180
                  , p = Math.sin(h)
                  , g = Math.cos(h)
                  , m = 0
                  , v = 0
                  , y = -g * e * .5 - p * r * .5
                  , b = -g * r * .5 + p * e * .5
                  , w = (o = Math.abs(o)) * o
                  , x = (a = Math.abs(a)) * a
                  , S = b * b
                  , C = y * y
                  , _ = w * x - w * S - x * C
                  , k = 0;
                if (_ < 0) {
                    var E = Math.sqrt(1 - _ / (w * x));
                    o *= E,
                    a *= E
                } else
                    k = (c === l ? -1 : 1) * Math.sqrt(_ / (w * S + x * C));
                var T = k * o * b / a
                  , P = -k * a * y / o
                  , A = g * T - p * P + .5 * e
                  , O = p * T + g * P + .5 * r
                  , $ = n(1, 0, (y - T) / o, (b - P) / a)
                  , j = n((y - T) / o, (b - P) / a, (-y - T) / o, (-b - P) / a);
                0 === l && j > 0 ? j -= 2 * f : 1 === l && j < 0 && (j += 2 * f);
                for (var D = Math.ceil(Math.abs(j / f * 2)), R = [], M = j / D, I = 8 / 3 * Math.sin(M / 4) * Math.sin(M / 4) / Math.sin(M / 2), L = $ + M, F = 0; F < D; F++)
                    R[F] = t($, L, g, p, o, a, A, O, I, m, v),
                    m = R[F][4],
                    v = R[F][5],
                    $ = L,
                    L += M;
                return i[d] = R,
                R
            }
            function t(e, t, n, r, i, a, c, l, u, d, f) {
                var h = s.call(arguments);
                if (o[h])
                    return o[h];
                var p = Math.cos(e)
                  , g = Math.sin(e)
                  , m = Math.cos(t)
                  , v = Math.sin(t)
                  , y = n * i * m - r * a * v + c
                  , b = r * i * m + n * a * v + l
                  , w = d + u * (-n * i * g - r * a * p)
                  , x = f + u * (-r * i * g + n * a * p)
                  , S = y + u * (n * i * v + r * a * m)
                  , C = b + u * (r * i * v - n * a * m);
                return o[h] = [w, x, S, C, y, b],
                o[h]
            }
            function n(e, t, n, r) {
                var i = Math.atan2(t, e)
                  , o = Math.atan2(r, n);
                return o >= i ? o - i : 2 * Math.PI - (i - o)
            }
            function r(e, t, n, r, i, o, c, l) {
                var u = s.call(arguments);
                if (a[u])
                    return a[u];
                var d, f, h, p, g, m, v, y, b = Math.sqrt, w = Math.min, x = Math.max, S = Math.abs, C = [], _ = [[], []];
                f = 6 * e - 12 * n + 6 * i,
                d = -3 * e + 9 * n - 9 * i + 3 * c,
                h = 3 * n - 3 * e;
                for (var k = 0; k < 2; ++k)
                    if (k > 0 && (f = 6 * t - 12 * r + 6 * o,
                    d = -3 * t + 9 * r - 9 * o + 3 * l,
                    h = 3 * r - 3 * t),
                    S(d) < 1e-12) {
                        if (S(f) < 1e-12)
                            continue;
                        0 < (p = -h / f) && p < 1 && C.push(p)
                    } else
                        (v = f * f - 4 * h * d) < 0 || (0 < (g = (-f + (y = b(v))) / (2 * d)) && g < 1 && C.push(g),
                        0 < (m = (-f - y) / (2 * d)) && m < 1 && C.push(m));
                for (var E, T, P, A = C.length, O = A; A--; )
                    E = (P = 1 - (p = C[A])) * P * P * e + 3 * P * P * p * n + 3 * P * p * p * i + p * p * p * c,
                    _[0][A] = E,
                    T = P * P * P * t + 3 * P * P * p * r + 3 * P * p * p * o + p * p * p * l,
                    _[1][A] = T;
                _[0][O] = e,
                _[1][O] = t,
                _[0][O + 1] = c,
                _[1][O + 1] = l;
                var $ = [{
                    x: w.apply(null, _[0]),
                    y: w.apply(null, _[1])
                }, {
                    x: x.apply(null, _[0]),
                    y: x.apply(null, _[1])
                }];
                return a[u] = $,
                $
            }
            var i = {}
              , o = {}
              , a = {}
              , s = Array.prototype.join;
            fabric.util.drawArc = function(t, n, r, i) {
                for (var o = i[0], a = i[1], s = i[2], c = i[3], l = i[4], u = [[], [], [], []], d = e(i[5] - n, i[6] - r, o, a, c, l, s), f = 0, h = d.length; f < h; f++)
                    u[f][0] = d[f][0] + n,
                    u[f][1] = d[f][1] + r,
                    u[f][2] = d[f][2] + n,
                    u[f][3] = d[f][3] + r,
                    u[f][4] = d[f][4] + n,
                    u[f][5] = d[f][5] + r,
                    t.bezierCurveTo.apply(t, u[f])
            }
            ,
            fabric.util.getBoundsOfArc = function(t, n, i, o, a, s, c, l, u) {
                for (var d, f = 0, h = 0, p = [], g = e(l - t, u - n, i, o, s, c, a), m = 0, v = g.length; m < v; m++)
                    d = r(f, h, g[m][0], g[m][1], g[m][2], g[m][3], g[m][4], g[m][5]),
                    p.push({
                        x: d[0].x + t,
                        y: d[0].y + n
                    }),
                    p.push({
                        x: d[1].x + t,
                        y: d[1].y + n
                    }),
                    f = g[m][4],
                    h = g[m][5];
                return p
            }
            ,
            fabric.util.getBoundsOfCurve = r
        }(),
        function() {
            function e(e, t, n) {
                if (e && 0 !== e.length) {
                    var r = e.length - 1
                      , i = t ? e[r][t] : e[r];
                    if (t)
                        for (; r--; )
                            n(e[r][t], i) && (i = e[r][t]);
                    else
                        for (; r--; )
                            n(e[r], i) && (i = e[r]);
                    return i
                }
            }
            var t = Array.prototype.slice;
            Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
                if (void 0 === this || null === this)
                    throw new TypeError;
                var t = Object(this)
                  , n = t.length >>> 0;
                if (0 === n)
                    return -1;
                var r = 0;
                if (arguments.length > 0 && ((r = Number(arguments[1])) != r ? r = 0 : 0 !== r && r !== Number.POSITIVE_INFINITY && r !== Number.NEGATIVE_INFINITY && (r = (r > 0 || -1) * Math.floor(Math.abs(r)))),
                r >= n)
                    return -1;
                for (var i = r >= 0 ? r : Math.max(n - Math.abs(r), 0); i < n; i++)
                    if (i in t && t[i] === e)
                        return i;
                return -1
            }
            ),
            Array.prototype.forEach || (Array.prototype.forEach = function(e, t) {
                for (var n = 0, r = this.length >>> 0; n < r; n++)
                    n in this && e.call(t, this[n], n, this)
            }
            ),
            Array.prototype.map || (Array.prototype.map = function(e, t) {
                for (var n = [], r = 0, i = this.length >>> 0; r < i; r++)
                    r in this && (n[r] = e.call(t, this[r], r, this));
                return n
            }
            ),
            Array.prototype.every || (Array.prototype.every = function(e, t) {
                for (var n = 0, r = this.length >>> 0; n < r; n++)
                    if (n in this && !e.call(t, this[n], n, this))
                        return !1;
                return !0
            }
            ),
            Array.prototype.some || (Array.prototype.some = function(e, t) {
                for (var n = 0, r = this.length >>> 0; n < r; n++)
                    if (n in this && e.call(t, this[n], n, this))
                        return !0;
                return !1
            }
            ),
            Array.prototype.filter || (Array.prototype.filter = function(e, t) {
                for (var n, r = [], i = 0, o = this.length >>> 0; i < o; i++)
                    i in this && (n = this[i],
                    e.call(t, n, i, this) && r.push(n));
                return r
            }
            ),
            Array.prototype.reduce || (Array.prototype.reduce = function(e) {
                var t, n = this.length >>> 0, r = 0;
                if (arguments.length > 1)
                    t = arguments[1];
                else
                    for (; ; ) {
                        if (r in this) {
                            t = this[r++];
                            break
                        }
                        if (++r >= n)
                            throw new TypeError
                    }
                for (; r < n; r++)
                    r in this && (t = e.call(null, t, this[r], r, this));
                return t
            }
            ),
            fabric.util.array = {
                fill: function(e, t) {
                    for (var n = e.length; n--; )
                        e[n] = t;
                    return e
                },
                invoke: function(e, n) {
                    for (var r = t.call(arguments, 2), i = [], o = 0, a = e.length; o < a; o++)
                        i[o] = r.length ? e[o][n].apply(e[o], r) : e[o][n].call(e[o]);
                    return i
                },
                min: function(t, n) {
                    return e(t, n, function(e, t) {
                        return e < t
                    })
                },
                max: function(t, n) {
                    return e(t, n, function(e, t) {
                        return e >= t
                    })
                }
            }
        }(),
        function() {
            function e(t, n, r) {
                if (r)
                    if (!fabric.isLikelyNode && n instanceof Element)
                        t = n;
                    else if (n instanceof Array) {
                        t = [];
                        for (var i = 0, o = n.length; i < o; i++)
                            t[i] = e({}, n[i], r)
                    } else if (n && "object" == typeof n)
                        for (var a in n)
                            n.hasOwnProperty(a) && (t[a] = e({}, n[a], r));
                    else
                        t = n;
                else
                    for (var a in n)
                        t[a] = n[a];
                return t
            }
            fabric.util.object = {
                extend: e,
                clone: function(t, n) {
                    return e({}, t, n)
                }
            }
        }(),
        String.prototype.trim || (String.prototype.trim = function() {
            return this.replace(/^[\s\xA0]+/, "").replace(/[\s\xA0]+$/, "")
        }
        ),
        fabric.util.string = {
            camelize: function(e) {
                return e.replace(/-+(.)?/g, function(e, t) {
                    return t ? t.toUpperCase() : ""
                })
            },
            capitalize: function(e, t) {
                return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase())
            },
            escapeXml: function(e) {
                return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
            }
        },
        function() {
            var e = Array.prototype.slice
              , t = Function.prototype.apply
              , n = function() {};
            Function.prototype.bind || (Function.prototype.bind = function(r) {
                var i, o = this, a = e.call(arguments, 1);
                return i = a.length ? function() {
                    return t.call(o, this instanceof n ? this : r, a.concat(e.call(arguments)))
                }
                : function() {
                    return t.call(o, this instanceof n ? this : r, arguments)
                }
                ,
                n.prototype = this.prototype,
                i.prototype = new n,
                i
            }
            )
        }(),
        function() {
            function e() {}
            function t(e) {
                var t = this.constructor.superclass.prototype[e];
                return arguments.length > 1 ? t.apply(this, n.call(arguments, 1)) : t.call(this)
            }
            var n = Array.prototype.slice
              , r = function() {}
              , i = function() {
                for (var e in {
                    toString: 1
                })
                    if ("toString" === e)
                        return !1;
                return !0
            }()
              , o = function(e, t, n) {
                for (var r in t)
                    r in e.prototype && "function" == typeof e.prototype[r] && (t[r] + "").indexOf("callSuper") > -1 ? e.prototype[r] = function(e) {
                        return function() {
                            var r = this.constructor.superclass;
                            this.constructor.superclass = n;
                            var i = t[e].apply(this, arguments);
                            if (this.constructor.superclass = r,
                            "initialize" !== e)
                                return i
                        }
                    }(r) : e.prototype[r] = t[r],
                    i && (t.toString !== Object.prototype.toString && (e.prototype.toString = t.toString),
                    t.valueOf !== Object.prototype.valueOf && (e.prototype.valueOf = t.valueOf))
            };
            fabric.util.createClass = function() {
                function i() {
                    this.initialize.apply(this, arguments)
                }
                var a = null
                  , s = n.call(arguments, 0);
                "function" == typeof s[0] && (a = s.shift()),
                i.superclass = a,
                i.subclasses = [],
                a && (e.prototype = a.prototype,
                i.prototype = new e,
                a.subclasses.push(i));
                for (var c = 0, l = s.length; c < l; c++)
                    o(i, s[c], a);
                return i.prototype.initialize || (i.prototype.initialize = r),
                i.prototype.constructor = i,
                i.prototype.callSuper = t,
                i
            }
        }(),
        function() {
            function e(e) {
                var t, n, r = Array.prototype.slice.call(arguments, 1), i = r.length;
                for (n = 0; n < i; n++)
                    if (t = typeof e[r[n]],
                    !/^(?:function|object|unknown)$/.test(t))
                        return !1;
                return !0
            }
            function t(e, t) {
                return {
                    handler: t,
                    wrappedHandler: function(e, t) {
                        return function(n) {
                            t.call(r(e), n || fabric.window.event)
                        }
                    }(e, t)
                }
            }
            function n(e, t, n) {
                var r = "touchend" === e.type ? "changedTouches" : "touches";
                return e[r] && e[r][0] && e[r][0][t] - (e[r][0][t] - e[r][0][n]) || e[n]
            }
            var r, i, o = "unknown", a = function() {
                var e = 0;
                return function(t) {
                    return t.__uniqueID || (t.__uniqueID = "uniqueID__" + e++)
                }
            }();
            !function() {
                var e = {};
                r = function(t) {
                    return e[t]
                }
                ,
                i = function(t, n) {
                    e[t] = n
                }
            }();
            var s, c, l = e(fabric.document.documentElement, "addEventListener", "removeEventListener") && e(fabric.window, "addEventListener", "removeEventListener"), u = e(fabric.document.documentElement, "attachEvent", "detachEvent") && e(fabric.window, "attachEvent", "detachEvent"), d = {}, f = {};
            l ? (s = function(e, t, n) {
                e.addEventListener(t, n, !1)
            }
            ,
            c = function(e, t, n) {
                e.removeEventListener(t, n, !1)
            }
            ) : u ? (s = function(e, n, r) {
                var o = a(e);
                i(o, e),
                d[o] || (d[o] = {}),
                d[o][n] || (d[o][n] = []);
                var s = t(o, r);
                d[o][n].push(s),
                e.attachEvent("on" + n, s.wrappedHandler)
            }
            ,
            c = function(e, t, n) {
                var r, i = a(e);
                if (d[i] && d[i][t])
                    for (var o = 0, s = d[i][t].length; o < s; o++)
                        (r = d[i][t][o]) && r.handler === n && (e.detachEvent("on" + t, r.wrappedHandler),
                        d[i][t][o] = null)
            }
            ) : (s = function(e, t, n) {
                var r = a(e);
                if (f[r] || (f[r] = {}),
                !f[r][t]) {
                    f[r][t] = [];
                    var i = e["on" + t];
                    i && f[r][t].push(i),
                    e["on" + t] = function(e, t) {
                        return function(n) {
                            if (f[e] && f[e][t])
                                for (var r = f[e][t], i = 0, o = r.length; i < o; i++)
                                    r[i].call(this, n || fabric.window.event)
                        }
                    }(r, t)
                }
                f[r][t].push(n)
            }
            ,
            c = function(e, t, n) {
                var r = a(e);
                if (f[r] && f[r][t])
                    for (var i = f[r][t], o = 0, s = i.length; o < s; o++)
                        i[o] === n && i.splice(o, 1)
            }
            ),
            fabric.util.addListener = s,
            fabric.util.removeListener = c;
            var h = function(e) {
                return typeof e.clientX !== o ? e.clientX : 0
            }
              , p = function(e) {
                return typeof e.clientY !== o ? e.clientY : 0
            };
            fabric.isTouchSupported && (h = function(e) {
                return n(e, "pageX", "clientX")
            }
            ,
            p = function(e) {
                return n(e, "pageY", "clientY")
            }
            ),
            fabric.util.getPointer = function(e) {
                e || (e = fabric.window.event);
                var t = e.target || (typeof e.srcElement !== o ? e.srcElement : null)
                  , n = fabric.util.getScrollLeftTop(t);
                return {
                    x: h(e) + n.left,
                    y: p(e) + n.top
                }
            }
            ,
            fabric.util.object.extend(fabric.util, fabric.Observable)
        }(),
        function() {
            var e = fabric.document.createElement("div")
              , t = "string" == typeof e.style.opacity
              , n = "string" == typeof e.style.filter
              , r = /alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/
              , i = function(e) {
                return e
            };
            t ? i = function(e, t) {
                return e.style.opacity = t,
                e
            }
            : n && (i = function(e, t) {
                var n = e.style;
                return e.currentStyle && !e.currentStyle.hasLayout && (n.zoom = 1),
                r.test(n.filter) ? (t = t >= .9999 ? "" : "alpha(opacity=" + 100 * t + ")",
                n.filter = n.filter.replace(r, t)) : n.filter += " alpha(opacity=" + 100 * t + ")",
                e
            }
            ),
            fabric.util.setStyle = function(e, t) {
                var n = e.style;
                if (!n)
                    return e;
                if ("string" == typeof t)
                    return e.style.cssText += ";" + t,
                    t.indexOf("opacity") > -1 ? i(e, t.match(/opacity:\s*(\d?\.?\d*)/)[1]) : e;
                for (var r in t)
                    "opacity" === r ? i(e, t[r]) : n["float" === r || "cssFloat" === r ? void 0 === n.styleFloat ? "cssFloat" : "styleFloat" : r] = t[r];
                return e
            }
        }(),
        function() {
            function e(e, t) {
                var n = fabric.document.createElement(e);
                for (var r in t)
                    "class" === r ? n.className = t[r] : "for" === r ? n.htmlFor = t[r] : n.setAttribute(r, t[r]);
                return n
            }
            function t(e) {
                for (var t = 0, n = 0, r = fabric.document.documentElement, i = fabric.document.body || {
                    scrollLeft: 0,
                    scrollTop: 0
                }; e && (e.parentNode || e.host) && ((e = e.parentNode || e.host) === fabric.document ? (t = i.scrollLeft || r.scrollLeft || 0,
                n = i.scrollTop || r.scrollTop || 0) : (t += e.scrollLeft || 0,
                n += e.scrollTop || 0),
                1 !== e.nodeType || "fixed" !== fabric.util.getElementStyle(e, "position")); )
                    ;
                return {
                    left: t,
                    top: n
                }
            }
            var n, r, i = Array.prototype.slice, o = function(e) {
                return i.call(e, 0)
            };
            try {
                n = o(fabric.document.childNodes)instanceof Array
            } catch (e) {}
            n || (o = function(e) {
                for (var t = new Array(e.length), n = e.length; n--; )
                    t[n] = e[n];
                return t
            }
            ),
            r = fabric.document.defaultView && fabric.document.defaultView.getComputedStyle ? function(e, t) {
                var n = fabric.document.defaultView.getComputedStyle(e, null);
                return n ? n[t] : void 0
            }
            : function(e, t) {
                var n = e.style[t];
                return !n && e.currentStyle && (n = e.currentStyle[t]),
                n
            }
            ,
            function() {
                var e = fabric.document.documentElement.style
                  , t = "userSelect"in e ? "userSelect" : "MozUserSelect"in e ? "MozUserSelect" : "WebkitUserSelect"in e ? "WebkitUserSelect" : "KhtmlUserSelect"in e ? "KhtmlUserSelect" : "";
                fabric.util.makeElementUnselectable = function(e) {
                    return void 0 !== e.onselectstart && (e.onselectstart = fabric.util.falseFunction),
                    t ? e.style[t] = "none" : "string" == typeof e.unselectable && (e.unselectable = "on"),
                    e
                }
                ,
                fabric.util.makeElementSelectable = function(e) {
                    return void 0 !== e.onselectstart && (e.onselectstart = null),
                    t ? e.style[t] = "" : "string" == typeof e.unselectable && (e.unselectable = ""),
                    e
                }
            }(),
            fabric.util.getScript = function(e, t) {
                var n = fabric.document.getElementsByTagName("head")[0]
                  , r = fabric.document.createElement("script")
                  , i = !0;
                r.onload = r.onreadystatechange = function(e) {
                    if (i) {
                        if ("string" == typeof this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState)
                            return;
                        i = !1,
                        t(e || fabric.window.event),
                        r = r.onload = r.onreadystatechange = null
                    }
                }
                ,
                r.src = e,
                n.appendChild(r)
            }
            ,
            fabric.util.getById = function(e) {
                return "string" == typeof e ? fabric.document.getElementById(e) : e
            }
            ,
            fabric.util.toArray = o,
            fabric.util.makeElement = e,
            fabric.util.addClass = function(e, t) {
                e && -1 === (" " + e.className + " ").indexOf(" " + t + " ") && (e.className += (e.className ? " " : "") + t)
            }
            ,
            fabric.util.wrapElement = function(t, n, r) {
                return "string" == typeof n && (n = e(n, r)),
                t.parentNode && t.parentNode.replaceChild(n, t),
                n.appendChild(t),
                n
            }
            ,
            fabric.util.getScrollLeftTop = t,
            fabric.util.getElementOffset = function(e) {
                var n, i, o = e && e.ownerDocument, a = {
                    left: 0,
                    top: 0
                }, s = {
                    left: 0,
                    top: 0
                }, c = {
                    borderLeftWidth: "left",
                    borderTopWidth: "top",
                    paddingLeft: "left",
                    paddingTop: "top"
                };
                if (!o)
                    return s;
                for (var l in c)
                    s[c[l]] += parseInt(r(e, l), 10) || 0;
                return n = o.documentElement,
                void 0 !== e.getBoundingClientRect && (a = e.getBoundingClientRect()),
                i = t(e),
                {
                    left: a.left + i.left - (n.clientLeft || 0) + s.left,
                    top: a.top + i.top - (n.clientTop || 0) + s.top
                }
            }
            ,
            fabric.util.getElementStyle = r
        }(),
        function() {
            function e() {}
            var t = function() {
                for (var e = [function() {
                    return new ActiveXObject("Microsoft.XMLHTTP")
                }
                , function() {
                    return new ActiveXObject("Msxml2.XMLHTTP")
                }
                , function() {
                    return new ActiveXObject("Msxml2.XMLHTTP.3.0")
                }
                , function() {
                    return new XMLHttpRequest
                }
                ], t = e.length; t--; )
                    try {
                        if (e[t]())
                            return e[t]
                    } catch (e) {}
            }();
            fabric.util.request = function(n, r) {
                r || (r = {});
                var i = r.method ? r.method.toUpperCase() : "GET"
                  , o = r.onComplete || function() {}
                  , a = t()
                  , s = r.body || r.parameters;
                return a.onreadystatechange = function() {
                    4 === a.readyState && (o(a),
                    a.onreadystatechange = e)
                }
                ,
                "GET" === i && (s = null,
                "string" == typeof r.parameters && (n = function(e, t) {
                    return e + (/\?/.test(e) ? "&" : "?") + t
                }(n, r.parameters))),
                a.open(i, n, !0),
                "POST" !== i && "PUT" !== i || a.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                a.send(s),
                a
            }
        }(),
        fabric.log = function() {}
        ,
        fabric.warn = function() {}
        ,
        "undefined" != typeof console && ["log", "warn"].forEach(function(e) {
            void 0 !== console[e] && "function" == typeof console[e].apply && (fabric[e] = function() {
                return console[e].apply(console, arguments)
            }
            )
        }),
        function() {
            function e() {
                return t.apply(fabric.window, arguments)
            }
            var t = fabric.window.requestAnimationFrame || fabric.window.webkitRequestAnimationFrame || fabric.window.mozRequestAnimationFrame || fabric.window.oRequestAnimationFrame || fabric.window.msRequestAnimationFrame || function(e) {
                fabric.window.setTimeout(e, 1e3 / 60)
            }
            ;
            fabric.util.animate = function(t) {
                e(function(n) {
                    t || (t = {});
                    var r, i = n || +new Date, o = t.duration || 500, a = i + o, s = t.onChange || function() {}
                    , c = t.abort || function() {
                        return !1
                    }
                    , l = t.easing || function(e, t, n, r) {
                        return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
                    }
                    , u = "startValue"in t ? t.startValue : 0, d = "endValue"in t ? t.endValue : 100, f = t.byValue || d - u;
                    t.onStart && t.onStart(),
                    function n(d) {
                        var h = (r = d || +new Date) > a ? o : r - i;
                        return c() ? void (t.onComplete && t.onComplete()) : (s(l(h, u, f, o)),
                        r > a ? void (t.onComplete && t.onComplete()) : void e(n))
                    }(i)
                })
            }
            ,
            fabric.util.requestAnimFrame = e
        }(),
        fabric.util.animateColor = function(e, t, n, r) {
            var i = new fabric.Color(e).getSource()
              , o = new fabric.Color(t).getSource();
            r = r || {},
            fabric.util.animate(fabric.util.object.extend(r, {
                duration: n || 500,
                startValue: i,
                endValue: o,
                byValue: o,
                easing: function(e, t, n, i) {
                    return function(e, t, n) {
                        var r = "rgba(" + parseInt(e[0] + n * (t[0] - e[0]), 10) + "," + parseInt(e[1] + n * (t[1] - e[1]), 10) + "," + parseInt(e[2] + n * (t[2] - e[2]), 10);
                        return (r += "," + (e && t ? parseFloat(e[3] + n * (t[3] - e[3])) : 1)) + ")"
                    }(t, n, r.colorEasing ? r.colorEasing(e, i) : 1 - Math.cos(e / i * (Math.PI / 2)))
                }
            }))
        }
        ,
        function() {
            function e(e, t, n, r) {
                return e < Math.abs(t) ? (e = t,
                r = n / 4) : r = 0 === t && 0 === e ? n / (2 * Math.PI) * Math.asin(1) : n / (2 * Math.PI) * Math.asin(t / e),
                {
                    a: e,
                    c: t,
                    p: n,
                    s: r
                }
            }
            function t(e, t, n) {
                return e.a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - e.s) * (2 * Math.PI) / e.p)
            }
            function n(e, t, n, i) {
                return n - r(i - e, 0, n, i) + t
            }
            function r(e, t, n, r) {
                return (e /= r) < 1 / 2.75 ? n * (7.5625 * e * e) + t : e < 2 / 2.75 ? n * (7.5625 * (e -= 1.5 / 2.75) * e + .75) + t : e < 2.5 / 2.75 ? n * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + t : n * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + t
            }
            fabric.util.ease = {
                easeInQuad: function(e, t, n, r) {
                    return n * (e /= r) * e + t
                },
                easeOutQuad: function(e, t, n, r) {
                    return -n * (e /= r) * (e - 2) + t
                },
                easeInOutQuad: function(e, t, n, r) {
                    return (e /= r / 2) < 1 ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t
                },
                easeInCubic: function(e, t, n, r) {
                    return n * (e /= r) * e * e + t
                },
                easeOutCubic: function(e, t, n, r) {
                    return n * ((e = e / r - 1) * e * e + 1) + t
                },
                easeInOutCubic: function(e, t, n, r) {
                    return (e /= r / 2) < 1 ? n / 2 * e * e * e + t : n / 2 * ((e -= 2) * e * e + 2) + t
                },
                easeInQuart: function(e, t, n, r) {
                    return n * (e /= r) * e * e * e + t
                },
                easeOutQuart: function(e, t, n, r) {
                    return -n * ((e = e / r - 1) * e * e * e - 1) + t
                },
                easeInOutQuart: function(e, t, n, r) {
                    return (e /= r / 2) < 1 ? n / 2 * e * e * e * e + t : -n / 2 * ((e -= 2) * e * e * e - 2) + t
                },
                easeInQuint: function(e, t, n, r) {
                    return n * (e /= r) * e * e * e * e + t
                },
                easeOutQuint: function(e, t, n, r) {
                    return n * ((e = e / r - 1) * e * e * e * e + 1) + t
                },
                easeInOutQuint: function(e, t, n, r) {
                    return (e /= r / 2) < 1 ? n / 2 * e * e * e * e * e + t : n / 2 * ((e -= 2) * e * e * e * e + 2) + t
                },
                easeInSine: function(e, t, n, r) {
                    return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
                },
                easeOutSine: function(e, t, n, r) {
                    return n * Math.sin(e / r * (Math.PI / 2)) + t
                },
                easeInOutSine: function(e, t, n, r) {
                    return -n / 2 * (Math.cos(Math.PI * e / r) - 1) + t
                },
                easeInExpo: function(e, t, n, r) {
                    return 0 === e ? t : n * Math.pow(2, 10 * (e / r - 1)) + t
                },
                easeOutExpo: function(e, t, n, r) {
                    return e === r ? t + n : n * (1 - Math.pow(2, -10 * e / r)) + t
                },
                easeInOutExpo: function(e, t, n, r) {
                    return 0 === e ? t : e === r ? t + n : (e /= r / 2) < 1 ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : n / 2 * (2 - Math.pow(2, -10 * --e)) + t
                },
                easeInCirc: function(e, t, n, r) {
                    return -n * (Math.sqrt(1 - (e /= r) * e) - 1) + t
                },
                easeOutCirc: function(e, t, n, r) {
                    return n * Math.sqrt(1 - (e = e / r - 1) * e) + t
                },
                easeInOutCirc: function(e, t, n, r) {
                    return (e /= r / 2) < 1 ? -n / 2 * (Math.sqrt(1 - e * e) - 1) + t : n / 2 * (Math.sqrt(1 - (e -= 2) * e) + 1) + t
                },
                easeInElastic: function(n, r, i, o) {
                    var a = 0;
                    return 0 === n ? r : 1 == (n /= o) ? r + i : (a || (a = .3 * o),
                    -t(e(i, i, a, 1.70158), n, o) + r)
                },
                easeOutElastic: function(t, n, r, i) {
                    var o = 0
                      , a = r;
                    if (0 === t)
                        return n;
                    if (1 == (t /= i))
                        return n + r;
                    o || (o = .3 * i);
                    var s = e(a, r, o, 1.70158);
                    return s.a * Math.pow(2, -10 * t) * Math.sin((t * i - s.s) * (2 * Math.PI) / s.p) + s.c + n
                },
                easeInOutElastic: function(n, r, i, o) {
                    var a = 0
                      , s = i;
                    if (0 === n)
                        return r;
                    if (2 == (n /= o / 2))
                        return r + i;
                    a || (a = o * (.3 * 1.5));
                    var c = e(s, i, a, 1.70158);
                    return n < 1 ? -.5 * t(c, n, o) + r : c.a * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * o - c.s) * (2 * Math.PI) / c.p) * .5 + c.c + r
                },
                easeInBack: function(e, t, n, r, i) {
                    return void 0 === i && (i = 1.70158),
                    n * (e /= r) * e * ((i + 1) * e - i) + t
                },
                easeOutBack: function(e, t, n, r, i) {
                    return void 0 === i && (i = 1.70158),
                    n * ((e = e / r - 1) * e * ((i + 1) * e + i) + 1) + t
                },
                easeInOutBack: function(e, t, n, r, i) {
                    return void 0 === i && (i = 1.70158),
                    (e /= r / 2) < 1 ? n / 2 * (e * e * ((1 + (i *= 1.525)) * e - i)) + t : n / 2 * ((e -= 2) * e * ((1 + (i *= 1.525)) * e + i) + 2) + t
                },
                easeInBounce: n,
                easeOutBounce: r,
                easeInOutBounce: function(e, t, i, o) {
                    return e < o / 2 ? .5 * n(2 * e, 0, i, o) + t : .5 * r(2 * e - o, 0, i, o) + .5 * i + t
                }
            }
        }(),
        function(e) {
            "use strict";
            function t(e) {
                return e in S ? S[e] : e
            }
            function n(e, t, n, r) {
                var i, o = "[object Array]" === Object.prototype.toString.call(t);
                return "fill" !== e && "stroke" !== e || "none" !== t ? "strokeDashArray" === e ? t = "none" === t ? null : t.replace(/,/g, " ").split(/\s+/).map(function(e) {
                    return parseFloat(e)
                }) : "transformMatrix" === e ? t = n && n.transformMatrix ? v(n.transformMatrix, f.parseTransformAttribute(t)) : f.parseTransformAttribute(t) : "visible" === e ? (t = "none" !== t && "hidden" !== t,
                n && !1 === n.visible && (t = !1)) : "originX" === e ? t = "start" === t ? "left" : "end" === t ? "right" : "center" : i = o ? t.map(m) : m(t, r) : t = "",
                !o && isNaN(i) ? t : i
            }
            function r(e, t) {
                for (var n, r, i = [], o = 0; o < t.length; o++)
                    n = t[o],
                    r = e.getElementsByTagName(n),
                    i = i.concat(Array.prototype.slice.call(r));
                return i
            }
            function i(e, r) {
                var i, o;
                e.replace(/;\s*$/, "").split(";").forEach(function(e) {
                    var a = e.split(":");
                    i = t(a[0].trim().toLowerCase()),
                    o = n(i, a[1].trim()),
                    r[i] = o
                })
            }
            function o(e, r) {
                var i, o;
                for (var a in e)
                    void 0 !== e[a] && (o = n(i = t(a.toLowerCase()), e[a]),
                    r[i] = o)
            }
            function a(e, t) {
                var n = {};
                for (var r in f.cssRules[t])
                    if (s(e, r.split(" ")))
                        for (var i in f.cssRules[t][r])
                            n[i] = f.cssRules[t][r][i];
                return n
            }
            function s(e, t) {
                var n, r = !0;
                return (n = c(e, t.pop())) && t.length && (r = function(e, t) {
                    for (var n, r = !0; e.parentNode && 1 === e.parentNode.nodeType && t.length; )
                        r && (n = t.pop()),
                        r = c(e = e.parentNode, n);
                    return 0 === t.length
                }(e, t)),
                n && r && 0 === t.length
            }
            function c(e, t) {
                var n, r = e.nodeName, i = e.getAttribute("class"), o = e.getAttribute("id");
                if (n = new RegExp("^" + r,"i"),
                t = t.replace(n, ""),
                o && t.length && (n = new RegExp("#" + o + "(?![a-zA-Z\\-]+)","i"),
                t = t.replace(n, "")),
                i && t.length)
                    for (var a = (i = i.split(" ")).length; a--; )
                        n = new RegExp("\\." + i[a] + "(?![a-zA-Z\\-]+)","i"),
                        t = t.replace(n, "");
                return 0 === t.length
            }
            function l(e, t) {
                var n;
                if (e.getElementById && (n = e.getElementById(t)),
                n)
                    return n;
                var r, i, o = e.getElementsByTagName("*");
                for (i = 0; i < o.length; i++)
                    if (t === (r = o[i]).getAttribute("id"))
                        return r
            }
            function u(e) {
                for (var t = r(e, ["use", "svg:use"]), n = 0; t.length && n < t.length; ) {
                    var i, o, a, s, c = t[n], u = c.getAttribute("xlink:href").substr(1), f = c.getAttribute("x") || 0, h = c.getAttribute("y") || 0, p = l(e, u).cloneNode(!0), g = (p.getAttribute("transform") || "") + " translate(" + f + ", " + h + ")", m = t.length;
                    if (d(p),
                    /^svg$/i.test(p.nodeName)) {
                        var v = p.ownerDocument.createElement("g");
                        for (o = 0,
                        s = (a = p.attributes).length; o < s; o++)
                            i = a.item(o),
                            v.setAttribute(i.nodeName, i.nodeValue);
                        for (; p.firstChild; )
                            v.appendChild(p.firstChild);
                        p = v
                    }
                    for (o = 0,
                    s = (a = c.attributes).length; o < s; o++)
                        "x" !== (i = a.item(o)).nodeName && "y" !== i.nodeName && "xlink:href" !== i.nodeName && ("transform" === i.nodeName ? g = i.nodeValue + " " + g : p.setAttribute(i.nodeName, i.nodeValue));
                    p.setAttribute("transform", g),
                    p.setAttribute("instantiated_by_use", "1"),
                    p.removeAttribute("id"),
                    c.parentNode.replaceChild(p, c),
                    t.length === m && n++
                }
            }
            function d(e) {
                var t, n, r, i, o, a, s = e.getAttribute("viewBox"), c = 1, l = 1, u = e.getAttribute("width"), d = e.getAttribute("height"), h = e.getAttribute("x") || 0, p = e.getAttribute("y") || 0, g = e.getAttribute("preserveAspectRatio") || "", v = !s || !b.test(e.nodeName) || !(s = s.match(_)), y = !u || !d || "100%" === u || "100%" === d, w = v && y, x = {}, S = "";
                if (x.width = 0,
                x.height = 0,
                x.toBeParsed = w,
                w)
                    return x;
                if (v)
                    return x.width = m(u),
                    x.height = m(d),
                    x;
                if (o = -parseFloat(s[1]),
                a = -parseFloat(s[2]),
                t = parseFloat(s[3]),
                n = parseFloat(s[4]),
                y ? (x.width = t,
                x.height = n) : (x.width = m(u),
                x.height = m(d),
                c = x.width / t,
                l = x.height / n),
                "none" !== (g = f.util.parsePreserveAspectRatioAttribute(g)).alignX && (l = c = c > l ? l : c),
                1 === c && 1 === l && 0 === o && 0 === a && 0 === h && 0 === p)
                    return x;
                if ((h || p) && (S = " translate(" + m(h) + " " + m(p) + ") "),
                r = S + " matrix(" + c + " 0 0 " + l + " " + o * c + " " + a * l + ") ",
                "svg" === e.nodeName) {
                    for (i = e.ownerDocument.createElement("g"); e.firstChild; )
                        i.appendChild(e.firstChild);
                    e.appendChild(i)
                } else
                    r = (i = e).getAttribute("transform") + r;
                return i.setAttribute("transform", r),
                x
            }
            var f = e.fabric || (e.fabric = {})
              , h = f.util.object.extend
              , p = f.util.object.clone
              , g = f.util.toFixed
              , m = f.util.parseUnit
              , v = f.util.multiplyTransformMatrices
              , y = /^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i
              , b = /^(symbol|image|marker|pattern|view|svg)$/i
              , w = /^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i
              , x = /^(symbol|g|a|svg)$/i
              , S = {
                cx: "left",
                x: "left",
                r: "radius",
                cy: "top",
                y: "top",
                display: "visible",
                visibility: "visible",
                transform: "transformMatrix",
                "fill-opacity": "fillOpacity",
                "fill-rule": "fillRule",
                "font-family": "fontFamily",
                "font-size": "fontSize",
                "font-style": "fontStyle",
                "font-weight": "fontWeight",
                "stroke-dasharray": "strokeDashArray",
                "stroke-linecap": "strokeLineCap",
                "stroke-linejoin": "strokeLineJoin",
                "stroke-miterlimit": "strokeMiterLimit",
                "stroke-opacity": "strokeOpacity",
                "stroke-width": "strokeWidth",
                "text-decoration": "textDecoration",
                "text-anchor": "originX"
            }
              , C = {
                stroke: "strokeOpacity",
                fill: "fillOpacity"
            };
            f.cssRules = {},
            f.gradientDefs = {},
            f.parseTransformAttribute = function() {
                function e(e, t, n) {
                    e[n] = Math.tan(f.util.degreesToRadians(t[0]))
                }
                var t = [1, 0, 0, 1, 0, 0]
                  , n = f.reNum
                  , r = "(?:\\s+,?\\s*|,\\s*)"
                  , i = "(?:(?:(matrix)\\s*\\(\\s*(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")" + r + "(" + n + ")\\s*\\))|(?:(translate)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n + "))?\\s*\\))|(?:(scale)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n + "))?\\s*\\))|(?:(rotate)\\s*\\(\\s*(" + n + ")(?:" + r + "(" + n + ")" + r + "(" + n + "))?\\s*\\))|(?:(skewX)\\s*\\(\\s*(" + n + ")\\s*\\))|(?:(skewY)\\s*\\(\\s*(" + n + ")\\s*\\)))"
                  , o = new RegExp("^\\s*(?:(?:" + i + "(?:" + r + "*" + i + ")*)?)\\s*$")
                  , a = new RegExp(i,"g");
                return function(n) {
                    var r = t.concat()
                      , s = [];
                    if (!n || n && !o.test(n))
                        return r;
                    n.replace(a, function(n) {
                        var o = new RegExp(i).exec(n).filter(function(e) {
                            return !!e
                        })
                          , a = o[1]
                          , c = o.slice(2).map(parseFloat);
                        switch (a) {
                        case "translate":
                            !function(e, t) {
                                e[4] = t[0],
                                2 === t.length && (e[5] = t[1])
                            }(r, c);
                            break;
                        case "rotate":
                            c[0] = f.util.degreesToRadians(c[0]),
                            function(e, t) {
                                var n = Math.cos(t[0])
                                  , r = Math.sin(t[0])
                                  , i = 0
                                  , o = 0;
                                3 === t.length && (i = t[1],
                                o = t[2]),
                                e[0] = n,
                                e[1] = r,
                                e[2] = -r,
                                e[3] = n,
                                e[4] = i - (n * i - r * o),
                                e[5] = o - (r * i + n * o)
                            }(r, c);
                            break;
                        case "scale":
                            !function(e, t) {
                                var n = t[0]
                                  , r = 2 === t.length ? t[1] : t[0];
                                e[0] = n,
                                e[3] = r
                            }(r, c);
                            break;
                        case "skewX":
                            e(r, c, 2);
                            break;
                        case "skewY":
                            e(r, c, 1);
                            break;
                        case "matrix":
                            r = c
                        }
                        s.push(r.concat()),
                        r = t.concat()
                    });
                    for (var c = s[0]; s.length > 1; )
                        s.shift(),
                        c = f.util.multiplyTransformMatrices(c, s[0]);
                    return c
                }
            }();
            var _ = new RegExp("^\\s*(" + f.reNum + "+)\\s*,?\\s*(" + f.reNum + "+)\\s*,?\\s*(" + f.reNum + "+)\\s*,?\\s*(" + f.reNum + "+)\\s*$");
            f.parseSVGDocument = function(e, t, n) {
                if (e) {
                    u(e);
                    var r = f.Object.__uid++
                      , i = d(e)
                      , o = f.util.toArray(e.getElementsByTagName("*"));
                    if (i.svgUid = r,
                    0 === o.length && f.isLikelyNode) {
                        for (var a = [], s = 0, c = (o = e.selectNodes('//*[name(.)!="svg"]')).length; s < c; s++)
                            a[s] = o[s];
                        o = a
                    }
                    var l = o.filter(function(e) {
                        return d(e),
                        y.test(e.nodeName.replace("svg:", "")) && !function(e, t) {
                            for (; e && (e = e.parentNode); )
                                if (e.nodeName && t.test(e.nodeName.replace("svg:", "")) && !e.getAttribute("instantiated_by_use"))
                                    return !0;
                            return !1
                        }(e, w)
                    });
                    if (!l || l && !l.length)
                        return void (t && t([], {}));
                    f.gradientDefs[r] = f.getGradientDefs(e),
                    f.cssRules[r] = f.getCSSRules(e),
                    f.parseElements(l, function(e) {
                        t && t(e, i)
                    }, p(i), n)
                }
            }
            ;
            var k = new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*(" + f.reNum + "(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|" + f.reNum + "))?\\s+(.*)");
            h(f, {
                parseFontDeclaration: function(e, t) {
                    var n = e.match(k);
                    if (n) {
                        var r = n[1]
                          , i = n[3]
                          , o = n[4]
                          , a = n[5]
                          , s = n[6];
                        r && (t.fontStyle = r),
                        i && (t.fontWeight = isNaN(parseFloat(i)) ? i : parseFloat(i)),
                        o && (t.fontSize = m(o)),
                        s && (t.fontFamily = s),
                        a && (t.lineHeight = "normal" === a ? 1 : a)
                    }
                },
                getGradientDefs: function(e) {
                    var t, n, i, o = r(e, ["linearGradient", "radialGradient", "svg:linearGradient", "svg:radialGradient"]), a = 0, s = {}, c = {};
                    for (a = o.length; a--; )
                        i = (t = o[a]).getAttribute("xlink:href"),
                        n = t.getAttribute("id"),
                        i && (c[n] = i.substr(1)),
                        s[n] = t;
                    for (n in c) {
                        var l = s[c[n]].cloneNode(!0);
                        for (t = s[n]; l.firstChild; )
                            t.appendChild(l.firstChild)
                    }
                    return s
                },
                parseAttributes: function(e, r, i) {
                    if (e) {
                        var o, s, c = {};
                        void 0 === i && (i = e.getAttribute("svgUid")),
                        e.parentNode && x.test(e.parentNode.nodeName) && (c = f.parseAttributes(e.parentNode, r, i)),
                        s = c && c.fontSize || e.getAttribute("font-size") || f.Text.DEFAULT_SVG_FONT_SIZE;
                        var l = r.reduce(function(r, i) {
                            return (o = e.getAttribute(i)) && (i = t(i),
                            o = n(i, o, c, s),
                            r[i] = o),
                            r
                        }, {});
                        return (l = h(l, h(a(e, i), f.parseStyleAttribute(e)))).font && f.parseFontDeclaration(l.font, l),
                        function(e) {
                            for (var t in C)
                                if (void 0 !== e[C[t]] && "" !== e[t]) {
                                    if (void 0 === e[t]) {
                                        if (!f.Object.prototype[t])
                                            continue;
                                        e[t] = f.Object.prototype[t]
                                    }
                                    if (0 !== e[t].indexOf("url(")) {
                                        var n = new f.Color(e[t]);
                                        e[t] = n.setAlpha(g(n.getAlpha() * e[C[t]], 2)).toRgba()
                                    }
                                }
                            return e
                        }(h(c, l))
                    }
                },
                parseElements: function(e, t, n, r) {
                    new f.ElementsParser(e,t,n,r).parse()
                },
                parseStyleAttribute: function(e) {
                    var t = {}
                      , n = e.getAttribute("style");
                    return n ? ("string" == typeof n ? i(n, t) : o(n, t),
                    t) : t
                },
                parsePointsAttribute: function(e) {
                    if (!e)
                        return null;
                    var t, n, r = [];
                    for (t = 0,
                    n = (e = (e = e.replace(/,/g, " ").trim()).split(/\s+/)).length; t < n; t += 2)
                        r.push({
                            x: parseFloat(e[t]),
                            y: parseFloat(e[t + 1])
                        });
                    return r
                },
                getCSSRules: function(e) {
                    for (var r = e.getElementsByTagName("style"), i = {}, o = 0, a = r.length; o < a; o++) {
                        var s = r[o].textContent || r[o].text;
                        "" !== (s = s.replace(/\/\*[\s\S]*?\*\//g, "")).trim() && s.match(/[^{]*\{[\s\S]*?\}/g).map(function(e) {
                            return e.trim()
                        }).forEach(function(e) {
                            for (var r = e.match(/([\s\S]*?)\s*\{([^}]*)\}/), o = {}, a = r[2].trim().replace(/;$/, "").split(/\s*;\s*/), s = 0, c = a.length; s < c; s++) {
                                var l = a[s].split(/\s*:\s*/)
                                  , u = t(l[0])
                                  , d = n(u, l[1], l[0]);
                                o[u] = d
                            }
                            (e = r[1]).split(",").forEach(function(e) {
                                "" !== (e = e.replace(/^svg/i, "").trim()) && (i[e] ? f.util.object.extend(i[e], o) : i[e] = f.util.object.clone(o))
                            })
                        })
                    }
                    return i
                },
                loadSVGFromURL: function(e, t, n) {
                    e = e.replace(/^\n\s*/, "").trim(),
                    new f.util.request(e,{
                        method: "get",
                        onComplete: function(e) {
                            var r = e.responseXML;
                            r && !r.documentElement && f.window.ActiveXObject && e.responseText && ((r = new ActiveXObject("Microsoft.XMLDOM")).async = "false",
                            r.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, ""))),
                            r && r.documentElement || t && t(null),
                            f.parseSVGDocument(r.documentElement, function(e, n) {
                                t && t(e, n)
                            }, n)
                        }
                    })
                },
                loadSVGFromString: function(e, t, n) {
                    var r;
                    if (e = e.trim(),
                    "undefined" != typeof DOMParser) {
                        var i = new DOMParser;
                        i && i.parseFromString && (r = i.parseFromString(e, "text/xml"))
                    } else
                        f.window.ActiveXObject && ((r = new ActiveXObject("Microsoft.XMLDOM")).async = "false",
                        r.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, "")));
                    f.parseSVGDocument(r.documentElement, function(e, n) {
                        t(e, n)
                    }, n)
                }
            })
        }(exports),
        fabric.ElementsParser = function(e, t, n, r) {
            this.elements = e,
            this.callback = t,
            this.options = n,
            this.reviver = r,
            this.svgUid = n && n.svgUid || 0
        }
        ,
        fabric.ElementsParser.prototype.parse = function() {
            this.instances = new Array(this.elements.length),
            this.numElements = this.elements.length,
            this.createObjects()
        }
        ,
        fabric.ElementsParser.prototype.createObjects = function() {
            for (var e = 0, t = this.elements.length; e < t; e++)
                this.elements[e].setAttribute("svgUid", this.svgUid),
                function(e, t) {
                    setTimeout(function() {
                        e.createObject(e.elements[t], t)
                    }, 0)
                }(this, e)
        }
        ,
        fabric.ElementsParser.prototype.createObject = function(e, t) {
            var n = fabric[fabric.util.string.capitalize(e.tagName.replace("svg:", ""))];
            if (n && n.fromElement)
                try {
                    this._createObject(n, e, t)
                } catch (e) {
                    fabric.log(e)
                }
            else
                this.checkIfDone()
        }
        ,
        fabric.ElementsParser.prototype._createObject = function(e, t, n) {
            if (e.async)
                e.fromElement(t, this.createCallback(n, t), this.options);
            else {
                var r = e.fromElement(t, this.options);
                this.resolveGradient(r, "fill"),
                this.resolveGradient(r, "stroke"),
                this.reviver && this.reviver(t, r),
                this.instances[n] = r,
                this.checkIfDone()
            }
        }
        ,
        fabric.ElementsParser.prototype.createCallback = function(e, t) {
            var n = this;
            return function(r) {
                n.resolveGradient(r, "fill"),
                n.resolveGradient(r, "stroke"),
                n.reviver && n.reviver(t, r),
                n.instances[e] = r,
                n.checkIfDone()
            }
        }
        ,
        fabric.ElementsParser.prototype.resolveGradient = function(e, t) {
            var n = e.get(t);
            if (/^url\(/.test(n)) {
                var r = n.slice(5, n.length - 1);
                fabric.gradientDefs[this.svgUid][r] && e.set(t, fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r], e))
            }
        }
        ,
        fabric.ElementsParser.prototype.checkIfDone = function() {
            0 == --this.numElements && (this.instances = this.instances.filter(function(e) {
                return null != e
            }),
            this.callback(this.instances))
        }
        ,
        function(e) {
            "use strict";
            function t(e, t) {
                this.x = e,
                this.y = t
            }
            var n = e.fabric || (e.fabric = {});
            n.Point ? n.warn("fabric.Point is already defined") : (n.Point = t,
            t.prototype = {
                type: "point",
                constructor: t,
                add: function(e) {
                    return new t(this.x + e.x,this.y + e.y)
                },
                addEquals: function(e) {
                    return this.x += e.x,
                    this.y += e.y,
                    this
                },
                scalarAdd: function(e) {
                    return new t(this.x + e,this.y + e)
                },
                scalarAddEquals: function(e) {
                    return this.x += e,
                    this.y += e,
                    this
                },
                subtract: function(e) {
                    return new t(this.x - e.x,this.y - e.y)
                },
                subtractEquals: function(e) {
                    return this.x -= e.x,
                    this.y -= e.y,
                    this
                },
                scalarSubtract: function(e) {
                    return new t(this.x - e,this.y - e)
                },
                scalarSubtractEquals: function(e) {
                    return this.x -= e,
                    this.y -= e,
                    this
                },
                multiply: function(e) {
                    return new t(this.x * e,this.y * e)
                },
                multiplyEquals: function(e) {
                    return this.x *= e,
                    this.y *= e,
                    this
                },
                divide: function(e) {
                    return new t(this.x / e,this.y / e)
                },
                divideEquals: function(e) {
                    return this.x /= e,
                    this.y /= e,
                    this
                },
                eq: function(e) {
                    return this.x === e.x && this.y === e.y
                },
                lt: function(e) {
                    return this.x < e.x && this.y < e.y
                },
                lte: function(e) {
                    return this.x <= e.x && this.y <= e.y
                },
                gt: function(e) {
                    return this.x > e.x && this.y > e.y
                },
                gte: function(e) {
                    return this.x >= e.x && this.y >= e.y
                },
                lerp: function(e, n) {
                    return void 0 === n && (n = .5),
                    n = Math.max(Math.min(1, n), 0),
                    new t(this.x + (e.x - this.x) * n,this.y + (e.y - this.y) * n)
                },
                distanceFrom: function(e) {
                    var t = this.x - e.x
                      , n = this.y - e.y;
                    return Math.sqrt(t * t + n * n)
                },
                midPointFrom: function(e) {
                    return this.lerp(e)
                },
                min: function(e) {
                    return new t(Math.min(this.x, e.x),Math.min(this.y, e.y))
                },
                max: function(e) {
                    return new t(Math.max(this.x, e.x),Math.max(this.y, e.y))
                },
                toString: function() {
                    return this.x + "," + this.y
                },
                setXY: function(e, t) {
                    return this.x = e,
                    this.y = t,
                    this
                },
                setX: function(e) {
                    return this.x = e,
                    this
                },
                setY: function(e) {
                    return this.y = e,
                    this
                },
                setFromPoint: function(e) {
                    return this.x = e.x,
                    this.y = e.y,
                    this
                },
                swap: function(e) {
                    var t = this.x
                      , n = this.y;
                    this.x = e.x,
                    this.y = e.y,
                    e.x = t,
                    e.y = n
                },
                clone: function() {
                    return new t(this.x,this.y)
                }
            })
        }(exports),
        function(e) {
            "use strict";
            function t(e) {
                this.status = e,
                this.points = []
            }
            var n = e.fabric || (e.fabric = {});
            n.Intersection ? n.warn("fabric.Intersection is already defined") : (n.Intersection = t,
            n.Intersection.prototype = {
                constructor: t,
                appendPoint: function(e) {
                    return this.points.push(e),
                    this
                },
                appendPoints: function(e) {
                    return this.points = this.points.concat(e),
                    this
                }
            },
            n.Intersection.intersectLineLine = function(e, r, i, o) {
                var a, s = (o.x - i.x) * (e.y - i.y) - (o.y - i.y) * (e.x - i.x), c = (r.x - e.x) * (e.y - i.y) - (r.y - e.y) * (e.x - i.x), l = (o.y - i.y) * (r.x - e.x) - (o.x - i.x) * (r.y - e.y);
                if (0 !== l) {
                    var u = s / l
                      , d = c / l;
                    0 <= u && u <= 1 && 0 <= d && d <= 1 ? (a = new t("Intersection")).appendPoint(new n.Point(e.x + u * (r.x - e.x),e.y + u * (r.y - e.y))) : a = new t
                } else
                    a = new t(0 === s || 0 === c ? "Coincident" : "Parallel");
                return a
            }
            ,
            n.Intersection.intersectLinePolygon = function(e, n, r) {
                for (var i, o, a, s = new t, c = r.length, l = 0; l < c; l++)
                    i = r[l],
                    o = r[(l + 1) % c],
                    a = t.intersectLineLine(e, n, i, o),
                    s.appendPoints(a.points);
                return s.points.length > 0 && (s.status = "Intersection"),
                s
            }
            ,
            n.Intersection.intersectPolygonPolygon = function(e, n) {
                for (var r = new t, i = e.length, o = 0; o < i; o++) {
                    var a = e[o]
                      , s = e[(o + 1) % i]
                      , c = t.intersectLinePolygon(a, s, n);
                    r.appendPoints(c.points)
                }
                return r.points.length > 0 && (r.status = "Intersection"),
                r
            }
            ,
            n.Intersection.intersectPolygonRectangle = function(e, r, i) {
                var o = r.min(i)
                  , a = r.max(i)
                  , s = new n.Point(a.x,o.y)
                  , c = new n.Point(o.x,a.y)
                  , l = t.intersectLinePolygon(o, s, e)
                  , u = t.intersectLinePolygon(s, a, e)
                  , d = t.intersectLinePolygon(a, c, e)
                  , f = t.intersectLinePolygon(c, o, e)
                  , h = new t;
                return h.appendPoints(l.points),
                h.appendPoints(u.points),
                h.appendPoints(d.points),
                h.appendPoints(f.points),
                h.points.length > 0 && (h.status = "Intersection"),
                h
            }
            )
        }(exports),
        function(e) {
            "use strict";
            function t(e) {
                e ? this._tryParsingColor(e) : this.setSource([0, 0, 0, 1])
            }
            function n(e, t, n) {
                return n < 0 && (n += 1),
                n > 1 && (n -= 1),
                n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e
            }
            var r = e.fabric || (e.fabric = {});
            r.Color ? r.warn("fabric.Color is already defined.") : (r.Color = t,
            r.Color.prototype = {
                _tryParsingColor: function(e) {
                    var n;
                    e in t.colorNameMap && (e = t.colorNameMap[e]),
                    "transparent" === e && (n = [255, 255, 255, 0]),
                    n || (n = t.sourceFromHex(e)),
                    n || (n = t.sourceFromRgb(e)),
                    n || (n = t.sourceFromHsl(e)),
                    n || (n = [0, 0, 0, 1]),
                    n && this.setSource(n)
                },
                _rgbToHsl: function(e, t, n) {
                    e /= 255,
                    t /= 255,
                    n /= 255;
                    var i, o, a, s = r.util.array.max([e, t, n]), c = r.util.array.min([e, t, n]);
                    if (a = (s + c) / 2,
                    s === c)
                        i = o = 0;
                    else {
                        var l = s - c;
                        switch (o = a > .5 ? l / (2 - s - c) : l / (s + c),
                        s) {
                        case e:
                            i = (t - n) / l + (t < n ? 6 : 0);
                            break;
                        case t:
                            i = (n - e) / l + 2;
                            break;
                        case n:
                            i = (e - t) / l + 4
                        }
                        i /= 6
                    }
                    return [Math.round(360 * i), Math.round(100 * o), Math.round(100 * a)]
                },
                getSource: function() {
                    return this._source
                },
                setSource: function(e) {
                    this._source = e
                },
                toRgb: function() {
                    var e = this.getSource();
                    return "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")"
                },
                toRgba: function() {
                    var e = this.getSource();
                    return "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + e[3] + ")"
                },
                toHsl: function() {
                    var e = this.getSource()
                      , t = this._rgbToHsl(e[0], e[1], e[2]);
                    return "hsl(" + t[0] + "," + t[1] + "%," + t[2] + "%)"
                },
                toHsla: function() {
                    var e = this.getSource()
                      , t = this._rgbToHsl(e[0], e[1], e[2]);
                    return "hsla(" + t[0] + "," + t[1] + "%," + t[2] + "%," + e[3] + ")"
                },
                toHex: function() {
                    var e, t, n, r = this.getSource();
                    return e = 1 === (e = r[0].toString(16)).length ? "0" + e : e,
                    t = 1 === (t = r[1].toString(16)).length ? "0" + t : t,
                    n = 1 === (n = r[2].toString(16)).length ? "0" + n : n,
                    e.toUpperCase() + t.toUpperCase() + n.toUpperCase()
                },
                getAlpha: function() {
                    return this.getSource()[3]
                },
                setAlpha: function(e) {
                    var t = this.getSource();
                    return t[3] = e,
                    this.setSource(t),
                    this
                },
                toGrayscale: function() {
                    var e = this.getSource()
                      , t = parseInt((.3 * e[0] + .59 * e[1] + .11 * e[2]).toFixed(0), 10)
                      , n = e[3];
                    return this.setSource([t, t, t, n]),
                    this
                },
                toBlackWhite: function(e) {
                    var t = this.getSource()
                      , n = (.3 * t[0] + .59 * t[1] + .11 * t[2]).toFixed(0)
                      , r = t[3];
                    return e = e || 127,
                    n = Number(n) < Number(e) ? 0 : 255,
                    this.setSource([n, n, n, r]),
                    this
                },
                overlayWith: function(e) {
                    e instanceof t || (e = new t(e));
                    for (var n = [], r = this.getAlpha(), i = this.getSource(), o = e.getSource(), a = 0; a < 3; a++)
                        n.push(Math.round(.5 * i[a] + .5 * o[a]));
                    return n[3] = r,
                    this.setSource(n),
                    this
                }
            },
            r.Color.reRGBa = /^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,
            r.Color.reHSLa = /^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,
            r.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,
            r.Color.colorNameMap = {
                aqua: "#00FFFF",
                black: "#000000",
                blue: "#0000FF",
                fuchsia: "#FF00FF",
                gray: "#808080",
                grey: "#808080",
                green: "#008000",
                lime: "#00FF00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                orange: "#FFA500",
                purple: "#800080",
                red: "#FF0000",
                silver: "#C0C0C0",
                teal: "#008080",
                white: "#FFFFFF",
                yellow: "#FFFF00"
            },
            r.Color.fromRgb = function(e) {
                return t.fromSource(t.sourceFromRgb(e))
            }
            ,
            r.Color.sourceFromRgb = function(e) {
                var n = e.match(t.reRGBa);
                if (n) {
                    var r = parseInt(n[1], 10) / (/%$/.test(n[1]) ? 100 : 1) * (/%$/.test(n[1]) ? 255 : 1)
                      , i = parseInt(n[2], 10) / (/%$/.test(n[2]) ? 100 : 1) * (/%$/.test(n[2]) ? 255 : 1)
                      , o = parseInt(n[3], 10) / (/%$/.test(n[3]) ? 100 : 1) * (/%$/.test(n[3]) ? 255 : 1);
                    return [parseInt(r, 10), parseInt(i, 10), parseInt(o, 10), n[4] ? parseFloat(n[4]) : 1]
                }
            }
            ,
            r.Color.fromRgba = t.fromRgb,
            r.Color.fromHsl = function(e) {
                return t.fromSource(t.sourceFromHsl(e))
            }
            ,
            r.Color.sourceFromHsl = function(e) {
                var r = e.match(t.reHSLa);
                if (r) {
                    var i, o, a, s = (parseFloat(r[1]) % 360 + 360) % 360 / 360, c = parseFloat(r[2]) / (/%$/.test(r[2]) ? 100 : 1), l = parseFloat(r[3]) / (/%$/.test(r[3]) ? 100 : 1);
                    if (0 === c)
                        i = o = a = l;
                    else {
                        var u = l <= .5 ? l * (c + 1) : l + c - l * c
                          , d = 2 * l - u;
                        i = n(d, u, s + 1 / 3),
                        o = n(d, u, s),
                        a = n(d, u, s - 1 / 3)
                    }
                    return [Math.round(255 * i), Math.round(255 * o), Math.round(255 * a), r[4] ? parseFloat(r[4]) : 1]
                }
            }
            ,
            r.Color.fromHsla = t.fromHsl,
            r.Color.fromHex = function(e) {
                return t.fromSource(t.sourceFromHex(e))
            }
            ,
            r.Color.sourceFromHex = function(e) {
                if (e.match(t.reHex)) {
                    var n = e.slice(e.indexOf("#") + 1)
                      , r = 3 === n.length || 4 === n.length
                      , i = 8 === n.length || 4 === n.length
                      , o = r ? n.charAt(0) + n.charAt(0) : n.substring(0, 2)
                      , a = r ? n.charAt(1) + n.charAt(1) : n.substring(2, 4)
                      , s = r ? n.charAt(2) + n.charAt(2) : n.substring(4, 6)
                      , c = i ? r ? n.charAt(3) + n.charAt(3) : n.substring(6, 8) : "FF";
                    return [parseInt(o, 16), parseInt(a, 16), parseInt(s, 16), parseFloat((parseInt(c, 16) / 255).toFixed(2))]
                }
            }
            ,
            r.Color.fromSource = function(e) {
                var n = new t;
                return n.setSource(e),
                n
            }
            )
        }(exports),
        function() {
            function e(e) {
                var t, n, r, i = e.getAttribute("style"), o = e.getAttribute("offset") || 0;
                if (o = (o = parseFloat(o) / (/%$/.test(o) ? 100 : 1)) < 0 ? 0 : o > 1 ? 1 : o,
                i) {
                    var a = i.split(/\s*;\s*/);
                    "" === a[a.length - 1] && a.pop();
                    for (var s = a.length; s--; ) {
                        var c = a[s].split(/\s*:\s*/)
                          , l = c[0].trim()
                          , u = c[1].trim();
                        "stop-color" === l ? t = u : "stop-opacity" === l && (r = u)
                    }
                }
                return t || (t = e.getAttribute("stop-color") || "rgb(0,0,0)"),
                r || (r = e.getAttribute("stop-opacity")),
                n = (t = new fabric.Color(t)).getAlpha(),
                r = isNaN(parseFloat(r)) ? 1 : parseFloat(r),
                r *= n,
                {
                    offset: o,
                    color: t.toRgb(),
                    opacity: r
                }
            }
            function t(e, t, n) {
                var r, i = 0, o = 1, a = "";
                for (var s in t)
                    "Infinity" === t[s] ? t[s] = 1 : "-Infinity" === t[s] && (t[s] = 0),
                    r = parseFloat(t[s], 10),
                    o = "string" == typeof t[s] && /^\d+%$/.test(t[s]) ? .01 : 1,
                    "x1" === s || "x2" === s || "r2" === s ? (o *= "objectBoundingBox" === n ? e.width : 1,
                    i = "objectBoundingBox" === n && e.left || 0) : "y1" !== s && "y2" !== s || (o *= "objectBoundingBox" === n ? e.height : 1,
                    i = "objectBoundingBox" === n && e.top || 0),
                    t[s] = r * o + i;
                if ("ellipse" === e.type && null !== t.r2 && "objectBoundingBox" === n && e.rx !== e.ry) {
                    var c = e.ry / e.rx;
                    a = " scale(1, " + c + ")",
                    t.y1 && (t.y1 /= c),
                    t.y2 && (t.y2 /= c)
                }
                return a
            }
            fabric.Gradient = fabric.util.createClass({
                offsetX: 0,
                offsetY: 0,
                initialize: function(e) {
                    e || (e = {});
                    var t = {};
                    this.id = fabric.Object.__uid++,
                    this.type = e.type || "linear",
                    t = {
                        x1: e.coords.x1 || 0,
                        y1: e.coords.y1 || 0,
                        x2: e.coords.x2 || 0,
                        y2: e.coords.y2 || 0
                    },
                    "radial" === this.type && (t.r1 = e.coords.r1 || 0,
                    t.r2 = e.coords.r2 || 0),
                    this.coords = t,
                    this.colorStops = e.colorStops.slice(),
                    e.gradientTransform && (this.gradientTransform = e.gradientTransform),
                    this.offsetX = e.offsetX || this.offsetX,
                    this.offsetY = e.offsetY || this.offsetY
                },
                addColorStop: function(e) {
                    for (var t in e) {
                        var n = new fabric.Color(e[t]);
                        this.colorStops.push({
                            offset: t,
                            color: n.toRgb(),
                            opacity: n.getAlpha()
                        })
                    }
                    return this
                },
                toObject: function(e) {
                    var t = {
                        type: this.type,
                        coords: this.coords,
                        colorStops: this.colorStops,
                        offsetX: this.offsetX,
                        offsetY: this.offsetY,
                        gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform
                    };
                    return fabric.util.populateWithProperties(this, t, e),
                    t
                },
                toSVG: function(e) {
                    var t, n, r = fabric.util.object.clone(this.coords);
                    if (this.colorStops.sort(function(e, t) {
                        return e.offset - t.offset
                    }),
                    !e.group || "path-group" !== e.group.type)
                        for (var i in r)
                            "x1" === i || "x2" === i || "r2" === i ? r[i] += this.offsetX - e.width / 2 : "y1" !== i && "y2" !== i || (r[i] += this.offsetY - e.height / 2);
                    n = 'id="SVGID_' + this.id + '" gradientUnits="userSpaceOnUse"',
                    this.gradientTransform && (n += ' gradientTransform="matrix(' + this.gradientTransform.join(" ") + ')" '),
                    "linear" === this.type ? t = ["<linearGradient ", n, ' x1="', r.x1, '" y1="', r.y1, '" x2="', r.x2, '" y2="', r.y2, '">\n'] : "radial" === this.type && (t = ["<radialGradient ", n, ' cx="', r.x2, '" cy="', r.y2, '" r="', r.r2, '" fx="', r.x1, '" fy="', r.y1, '">\n']);
                    for (var o = 0; o < this.colorStops.length; o++)
                        t.push("<stop ", 'offset="', 100 * this.colorStops[o].offset + "%", '" style="stop-color:', this.colorStops[o].color, null !== this.colorStops[o].opacity ? ";stop-opacity: " + this.colorStops[o].opacity : ";", '"/>\n');
                    return t.push("linear" === this.type ? "</linearGradient>\n" : "</radialGradient>\n"),
                    t.join("")
                },
                toLive: function(e, t) {
                    var n, r, i = fabric.util.object.clone(this.coords);
                    if (this.type) {
                        if (t.group && "path-group" === t.group.type)
                            for (r in i)
                                "x1" === r || "x2" === r ? i[r] += -this.offsetX + t.width / 2 : "y1" !== r && "y2" !== r || (i[r] += -this.offsetY + t.height / 2);
                        "linear" === this.type ? n = e.createLinearGradient(i.x1, i.y1, i.x2, i.y2) : "radial" === this.type && (n = e.createRadialGradient(i.x1, i.y1, i.r1, i.x2, i.y2, i.r2));
                        for (var o = 0, a = this.colorStops.length; o < a; o++) {
                            var s = this.colorStops[o].color
                              , c = this.colorStops[o].opacity
                              , l = this.colorStops[o].offset;
                            void 0 !== c && (s = new fabric.Color(s).setAlpha(c).toRgba()),
                            n.addColorStop(parseFloat(l), s)
                        }
                        return n
                    }
                }
            }),
            fabric.util.object.extend(fabric.Gradient, {
                fromElement: function(n, r) {
                    var i, o, a, s = n.getElementsByTagName("stop"), c = n.getAttribute("gradientUnits") || "objectBoundingBox", l = n.getAttribute("gradientTransform"), u = [];
                    "linear" == (i = "linearGradient" === n.nodeName || "LINEARGRADIENT" === n.nodeName ? "linear" : "radial") ? o = function(e) {
                        return {
                            x1: e.getAttribute("x1") || 0,
                            y1: e.getAttribute("y1") || 0,
                            x2: e.getAttribute("x2") || "100%",
                            y2: e.getAttribute("y2") || 0
                        }
                    }(n) : "radial" === i && (o = function(e) {
                        return {
                            x1: e.getAttribute("fx") || e.getAttribute("cx") || "50%",
                            y1: e.getAttribute("fy") || e.getAttribute("cy") || "50%",
                            r1: 0,
                            x2: e.getAttribute("cx") || "50%",
                            y2: e.getAttribute("cy") || "50%",
                            r2: e.getAttribute("r") || "50%"
                        }
                    }(n));
                    for (var d = s.length; d--; )
                        u.push(e(s[d]));
                    a = t(r, o, c);
                    var f = new fabric.Gradient({
                        type: i,
                        coords: o,
                        colorStops: u,
                        offsetX: -r.left,
                        offsetY: -r.top
                    });
                    return (l || "" !== a) && (f.gradientTransform = fabric.parseTransformAttribute((l || "") + a)),
                    f
                },
                forObject: function(e, n) {
                    return n || (n = {}),
                    t(e, n.coords, "userSpaceOnUse"),
                    new fabric.Gradient(n)
                }
            })
        }(),
        function() {
            "use strict";
            var e = fabric.util.toFixed;
            fabric.Pattern = fabric.util.createClass({
                repeat: "repeat",
                offsetX: 0,
                offsetY: 0,
                initialize: function(e, t) {
                    if (e || (e = {}),
                    this.id = fabric.Object.__uid++,
                    this.setOptions(e),
                    !e.source || e.source && "string" != typeof e.source)
                        t && t(this);
                    else if (void 0 !== fabric.util.getFunctionBody(e.source))
                        this.source = new Function(fabric.util.getFunctionBody(e.source)),
                        t && t(this);
                    else {
                        var n = this;
                        this.source = fabric.util.createImage(),
                        fabric.util.loadImage(e.source, function(e) {
                            n.source = e,
                            t && t(n)
                        })
                    }
                },
                toObject: function(t) {
                    var n, r, i = fabric.Object.NUM_FRACTION_DIGITS;
                    return "function" == typeof this.source ? n = String(this.source) : "string" == typeof this.source.src ? n = this.source.src : "object" == typeof this.source && this.source.toDataURL && (n = this.source.toDataURL()),
                    r = {
                        type: "pattern",
                        source: n,
                        repeat: this.repeat,
                        offsetX: e(this.offsetX, i),
                        offsetY: e(this.offsetY, i)
                    },
                    fabric.util.populateWithProperties(this, r, t),
                    r
                },
                toSVG: function(e) {
                    var t = "function" == typeof this.source ? this.source() : this.source
                      , n = t.width / e.width
                      , r = t.height / e.height
                      , i = this.offsetX / e.width
                      , o = this.offsetY / e.height
                      , a = "";
                    return "repeat-x" !== this.repeat && "no-repeat" !== this.repeat || (r = 1),
                    "repeat-y" !== this.repeat && "no-repeat" !== this.repeat || (n = 1),
                    t.src ? a = t.src : t.toDataURL && (a = t.toDataURL()),
                    '<pattern id="SVGID_' + this.id + '" x="' + i + '" y="' + o + '" width="' + n + '" height="' + r + '">\n<image x="0" y="0" width="' + t.width + '" height="' + t.height + '" xlink:href="' + a + '"></image>\n</pattern>\n'
                },
                setOptions: function(e) {
                    for (var t in e)
                        this[t] = e[t]
                },
                toLive: function(e) {
                    var t = "function" == typeof this.source ? this.source() : this.source;
                    if (!t)
                        return "";
                    if (void 0 !== t.src) {
                        if (!t.complete)
                            return "";
                        if (0 === t.naturalWidth || 0 === t.naturalHeight)
                            return ""
                    }
                    return e.createPattern(t, this.repeat)
                }
            })
        }(),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.toFixed;
            t.Shadow ? t.warn("fabric.Shadow is already defined.") : (t.Shadow = t.util.createClass({
                color: "rgb(0,0,0)",
                blur: 0,
                offsetX: 0,
                offsetY: 0,
                affectStroke: !1,
                includeDefaultValues: !0,
                initialize: function(e) {
                    for (var n in "string" == typeof e && (e = this._parseShadow(e)),
                    e)
                        this[n] = e[n];
                    this.id = t.Object.__uid++
                },
                _parseShadow: function(e) {
                    var n = e.trim()
                      , r = t.Shadow.reOffsetsAndBlur.exec(n) || [];
                    return {
                        color: (n.replace(t.Shadow.reOffsetsAndBlur, "") || "rgb(0,0,0)").trim(),
                        offsetX: parseInt(r[1], 10) || 0,
                        offsetY: parseInt(r[2], 10) || 0,
                        blur: parseInt(r[3], 10) || 0
                    }
                },
                toString: function() {
                    return [this.offsetX, this.offsetY, this.blur, this.color].join("px ")
                },
                toSVG: function(e) {
                    var r = 40
                      , i = 40
                      , o = t.Object.NUM_FRACTION_DIGITS
                      , a = t.util.rotateVector({
                        x: this.offsetX,
                        y: this.offsetY
                    }, t.util.degreesToRadians(-e.angle));
                    return e.width && e.height && (r = 100 * n((Math.abs(a.x) + this.blur) / e.width, o) + 20,
                    i = 100 * n((Math.abs(a.y) + this.blur) / e.height, o) + 20),
                    e.flipX && (a.x *= -1),
                    e.flipY && (a.y *= -1),
                    '<filter id="SVGID_' + this.id + '" y="-' + i + '%" height="' + (100 + 2 * i) + '%" x="-' + r + '%" width="' + (100 + 2 * r) + '%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="' + n(this.blur ? this.blur / 2 : 0, o) + '"></feGaussianBlur>\n\t<feOffset dx="' + n(a.x, o) + '" dy="' + n(a.y, o) + '" result="oBlur" ></feOffset>\n\t<feFlood flood-color="' + this.color + '"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'
                },
                toObject: function() {
                    if (this.includeDefaultValues)
                        return {
                            color: this.color,
                            blur: this.blur,
                            offsetX: this.offsetX,
                            offsetY: this.offsetY,
                            affectStroke: this.affectStroke
                        };
                    var e = {}
                      , n = t.Shadow.prototype;
                    return ["color", "blur", "offsetX", "offsetY", "affectStroke"].forEach(function(t) {
                        this[t] !== n[t] && (e[t] = this[t])
                    }, this),
                    e
                }
            }),
            t.Shadow.reOffsetsAndBlur = /(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)
        }(exports),
        function() {
            "use strict";
            if (fabric.StaticCanvas)
                fabric.warn("fabric.StaticCanvas is already defined.");
            else {
                var e = fabric.util.object.extend
                  , t = fabric.util.getElementOffset
                  , n = fabric.util.removeFromArray
                  , r = fabric.util.toFixed
                  , i = new Error("Could not initialize `canvas` element");
                fabric.StaticCanvas = fabric.util.createClass(fabric.CommonMethods, {
                    initialize: function(e, t) {
                        t || (t = {}),
                        this._initStatic(e, t)
                    },
                    backgroundColor: "",
                    backgroundImage: null,
                    overlayColor: "",
                    overlayImage: null,
                    includeDefaultValues: !0,
                    stateful: !1,
                    renderOnAddRemove: !0,
                    clipTo: null,
                    controlsAboveOverlay: !1,
                    allowTouchScrolling: !1,
                    imageSmoothingEnabled: !0,
                    viewportTransform: [1, 0, 0, 1, 0, 0],
                    backgroundVpt: !0,
                    overlayVpt: !0,
                    onBeforeScaleRotate: function() {},
                    enableRetinaScaling: !0,
                    _initStatic: function(e, t) {
                        var n = fabric.StaticCanvas.prototype.renderAll.bind(this);
                        this._objects = [],
                        this._createLowerCanvas(e),
                        this._initOptions(t),
                        this._setImageSmoothing(),
                        this.interactive || this._initRetinaScaling(),
                        t.overlayImage && this.setOverlayImage(t.overlayImage, n),
                        t.backgroundImage && this.setBackgroundImage(t.backgroundImage, n),
                        t.backgroundColor && this.setBackgroundColor(t.backgroundColor, n),
                        t.overlayColor && this.setOverlayColor(t.overlayColor, n),
                        this.calcOffset()
                    },
                    _isRetinaScaling: function() {
                        return 1 !== fabric.devicePixelRatio && this.enableRetinaScaling
                    },
                    getRetinaScaling: function() {
                        return this._isRetinaScaling() ? fabric.devicePixelRatio : 1
                    },
                    _initRetinaScaling: function() {
                        this._isRetinaScaling() && (this.lowerCanvasEl.setAttribute("width", this.width * fabric.devicePixelRatio),
                        this.lowerCanvasEl.setAttribute("height", this.height * fabric.devicePixelRatio),
                        this.contextContainer.scale(fabric.devicePixelRatio, fabric.devicePixelRatio))
                    },
                    calcOffset: function() {
                        return this._offset = t(this.lowerCanvasEl),
                        this
                    },
                    setOverlayImage: function(e, t, n) {
                        return this.__setBgOverlayImage("overlayImage", e, t, n)
                    },
                    setBackgroundImage: function(e, t, n) {
                        return this.__setBgOverlayImage("backgroundImage", e, t, n)
                    },
                    setOverlayColor: function(e, t) {
                        return this.__setBgOverlayColor("overlayColor", e, t)
                    },
                    setBackgroundColor: function(e, t) {
                        return this.__setBgOverlayColor("backgroundColor", e, t)
                    },
                    _setImageSmoothing: function() {
                        var e = this.getContext();
                        e.imageSmoothingEnabled = e.imageSmoothingEnabled || e.webkitImageSmoothingEnabled || e.mozImageSmoothingEnabled || e.msImageSmoothingEnabled || e.oImageSmoothingEnabled,
                        e.imageSmoothingEnabled = this.imageSmoothingEnabled
                    },
                    __setBgOverlayImage: function(e, t, n, r) {
                        return "string" == typeof t ? fabric.util.loadImage(t, function(t) {
                            t && (this[e] = new fabric.Image(t,r)),
                            n && n(t)
                        }, this, r && r.crossOrigin) : (r && t.setOptions(r),
                        this[e] = t,
                        n && n(t)),
                        this
                    },
                    __setBgOverlayColor: function(e, t, n) {
                        return this[e] = t,
                        this._initGradient(t, e),
                        this._initPattern(t, e, n),
                        this
                    },
                    _createCanvasElement: function(e) {
                        var t = fabric.util.createCanvasElement(e);
                        if (t.style || (t.style = {}),
                        !t)
                            throw i;
                        if (void 0 === t.getContext)
                            throw i;
                        return t
                    },
                    _initOptions: function(e) {
                        this._setOptions(e),
                        this.width = this.width || parseInt(this.lowerCanvasEl.width, 10) || 0,
                        this.height = this.height || parseInt(this.lowerCanvasEl.height, 10) || 0,
                        this.lowerCanvasEl.style && (this.lowerCanvasEl.width = this.width,
                        this.lowerCanvasEl.height = this.height,
                        this.lowerCanvasEl.style.width = this.width + "px",
                        this.lowerCanvasEl.style.height = this.height + "px",
                        this.viewportTransform = this.viewportTransform.slice())
                    },
                    _createLowerCanvas: function(e) {
                        this.lowerCanvasEl = fabric.util.getById(e) || this._createCanvasElement(e),
                        fabric.util.addClass(this.lowerCanvasEl, "lower-canvas"),
                        this.interactive && this._applyCanvasStyle(this.lowerCanvasEl),
                        this.contextContainer = this.lowerCanvasEl.getContext("2d")
                    },
                    getWidth: function() {
                        return this.width
                    },
                    getHeight: function() {
                        return this.height
                    },
                    setWidth: function(e, t) {
                        return this.setDimensions({
                            width: e
                        }, t)
                    },
                    setHeight: function(e, t) {
                        return this.setDimensions({
                            height: e
                        }, t)
                    },
                    setDimensions: function(e, t) {
                        var n;
                        for (var r in t = t || {},
                        e)
                            n = e[r],
                            t.cssOnly || (this._setBackstoreDimension(r, e[r]),
                            n += "px"),
                            t.backstoreOnly || this._setCssDimension(r, n);
                        return this._initRetinaScaling(),
                        this._setImageSmoothing(),
                        this.calcOffset(),
                        t.cssOnly || this.renderAll(),
                        this
                    },
                    _setBackstoreDimension: function(e, t) {
                        return this.lowerCanvasEl[e] = t,
                        this.upperCanvasEl && (this.upperCanvasEl[e] = t),
                        this.cacheCanvasEl && (this.cacheCanvasEl[e] = t),
                        this[e] = t,
                        this
                    },
                    _setCssDimension: function(e, t) {
                        return this.lowerCanvasEl.style[e] = t,
                        this.upperCanvasEl && (this.upperCanvasEl.style[e] = t),
                        this.wrapperEl && (this.wrapperEl.style[e] = t),
                        this
                    },
                    getZoom: function() {
                        return this.viewportTransform[0]
                    },
                    setViewportTransform: function(e) {
                        var t, n = this._activeGroup;
                        this.viewportTransform = e;
                        for (var r = 0, i = this._objects.length; r < i; r++)
                            (t = this._objects[r]).group || t.setCoords(!1, !0);
                        return n && n.setCoords(!1, !0),
                        this.renderAll(),
                        this
                    },
                    zoomToPoint: function(e, t) {
                        var n = e
                          , r = this.viewportTransform.slice(0);
                        e = fabric.util.transformPoint(e, fabric.util.invertTransform(this.viewportTransform)),
                        r[0] = t,
                        r[3] = t;
                        var i = fabric.util.transformPoint(e, r);
                        return r[4] += n.x - i.x,
                        r[5] += n.y - i.y,
                        this.setViewportTransform(r)
                    },
                    setZoom: function(e) {
                        return this.zoomToPoint(new fabric.Point(0,0), e),
                        this
                    },
                    absolutePan: function(e) {
                        var t = this.viewportTransform.slice(0);
                        return t[4] = -e.x,
                        t[5] = -e.y,
                        this.setViewportTransform(t)
                    },
                    relativePan: function(e) {
                        return this.absolutePan(new fabric.Point(-e.x - this.viewportTransform[4],-e.y - this.viewportTransform[5]))
                    },
                    getElement: function() {
                        return this.lowerCanvasEl
                    },
                    _onObjectAdded: function(e) {
                        this.stateful && e.setupState(),
                        e._set("canvas", this),
                        e.setCoords(),
                        this.fire("object:added", {
                            target: e
                        }),
                        e.fire("added")
                    },
                    _onObjectRemoved: function(e) {
                        this.fire("object:removed", {
                            target: e
                        }),
                        e.fire("removed"),
                        delete e.canvas
                    },
                    clearContext: function(e) {
                        return e.clearRect(0, 0, this.width, this.height),
                        this
                    },
                    getContext: function() {
                        return this.contextContainer
                    },
                    clear: function() {
                        return this._objects.length = 0,
                        this.backgroundImage = null,
                        this.overlayImage = null,
                        this.backgroundColor = "",
                        this.overlayColor = "",
                        this._hasITextHandlers && (this.off("selection:cleared", this._canvasITextSelectionClearedHanlder),
                        this.off("object:selected", this._canvasITextSelectionClearedHanlder),
                        this.off("mouse:up", this._mouseUpITextHandler),
                        this._iTextInstances = null,
                        this._hasITextHandlers = !1),
                        this.clearContext(this.contextContainer),
                        this.fire("canvas:cleared"),
                        this.renderAll(),
                        this
                    },
                    renderAll: function() {
                        var e = this.contextContainer;
                        return this.renderCanvas(e, this._objects),
                        this
                    },
                    renderCanvas: function(e, t) {
                        this.clearContext(e),
                        this.fire("before:render"),
                        this.clipTo && fabric.util.clipContext(this, e),
                        this._renderBackground(e),
                        e.save(),
                        e.transform.apply(e, this.viewportTransform),
                        this._renderObjects(e, t),
                        e.restore(),
                        !this.controlsAboveOverlay && this.interactive && this.drawControls(e),
                        this.clipTo && e.restore(),
                        this._renderOverlay(e),
                        this.controlsAboveOverlay && this.interactive && this.drawControls(e),
                        this.fire("after:render")
                    },
                    _renderObjects: function(e, t) {
                        for (var n = 0, r = t.length; n < r; ++n)
                            t[n] && t[n].render(e)
                    },
                    _renderBackgroundOrOverlay: function(e, t) {
                        var n = this[t + "Color"];
                        n && (e.fillStyle = n.toLive ? n.toLive(e, this) : n,
                        e.fillRect(n.offsetX || 0, n.offsetY || 0, this.width, this.height)),
                        (n = this[t + "Image"]) && (this[t + "Vpt"] && (e.save(),
                        e.transform.apply(e, this.viewportTransform)),
                        n.render(e),
                        this[t + "Vpt"] && e.restore())
                    },
                    _renderBackground: function(e) {
                        this._renderBackgroundOrOverlay(e, "background")
                    },
                    _renderOverlay: function(e) {
                        this._renderBackgroundOrOverlay(e, "overlay")
                    },
                    getCenter: function() {
                        return {
                            top: this.getHeight() / 2,
                            left: this.getWidth() / 2
                        }
                    },
                    centerObjectH: function(e) {
                        return this._centerObject(e, new fabric.Point(this.getCenter().left,e.getCenterPoint().y))
                    },
                    centerObjectV: function(e) {
                        return this._centerObject(e, new fabric.Point(e.getCenterPoint().x,this.getCenter().top))
                    },
                    centerObject: function(e) {
                        var t = this.getCenter();
                        return this._centerObject(e, new fabric.Point(t.left,t.top))
                    },
                    viewportCenterObject: function(e) {
                        var t = this.getVpCenter();
                        return this._centerObject(e, t)
                    },
                    viewportCenterObjectH: function(e) {
                        var t = this.getVpCenter();
                        return this._centerObject(e, new fabric.Point(t.x,e.getCenterPoint().y)),
                        this
                    },
                    viewportCenterObjectV: function(e) {
                        var t = this.getVpCenter();
                        return this._centerObject(e, new fabric.Point(e.getCenterPoint().x,t.y))
                    },
                    getVpCenter: function() {
                        var e = this.getCenter()
                          , t = fabric.util.invertTransform(this.viewportTransform);
                        return fabric.util.transformPoint({
                            x: e.left,
                            y: e.top
                        }, t)
                    },
                    _centerObject: function(e, t) {
                        return e.setPositionByOrigin(t, "center", "center"),
                        this.renderAll(),
                        this
                    },
                    toDatalessJSON: function(e) {
                        return this.toDatalessObject(e)
                    },
                    toObject: function(e) {
                        return this._toObjectMethod("toObject", e)
                    },
                    toDatalessObject: function(e) {
                        return this._toObjectMethod("toDatalessObject", e)
                    },
                    _toObjectMethod: function(t, n) {
                        var r = {
                            objects: this._toObjects(t, n)
                        };
                        return e(r, this.__serializeBgOverlay(t, n)),
                        fabric.util.populateWithProperties(this, r, n),
                        r
                    },
                    _toObjects: function(e, t) {
                        return this.getObjects().filter(function(e) {
                            return !e.excludeFromExport
                        }).map(function(n) {
                            return this._toObject(n, e, t)
                        }, this)
                    },
                    _toObject: function(e, t, n) {
                        var r;
                        this.includeDefaultValues || (r = e.includeDefaultValues,
                        e.includeDefaultValues = !1);
                        var i = e[t](n);
                        return this.includeDefaultValues || (e.includeDefaultValues = r),
                        i
                    },
                    __serializeBgOverlay: function(e, t) {
                        var n = {};
                        return this.backgroundColor && (n.background = this.backgroundColor.toObject ? this.backgroundColor.toObject(t) : this.backgroundColor),
                        this.overlayColor && (n.overlay = this.overlayColor.toObject ? this.overlayColor.toObject(t) : this.overlayColor),
                        this.backgroundImage && (n.backgroundImage = this._toObject(this.backgroundImage, e, t)),
                        this.overlayImage && (n.overlayImage = this._toObject(this.overlayImage, e, t)),
                        n
                    },
                    svgViewportTransformation: !0,
                    toSVG: function(e, t) {
                        e || (e = {});
                        var n = [];
                        return this._setSVGPreamble(n, e),
                        this._setSVGHeader(n, e),
                        this._setSVGBgOverlayColor(n, "backgroundColor"),
                        this._setSVGBgOverlayImage(n, "backgroundImage", t),
                        this._setSVGObjects(n, t),
                        this._setSVGBgOverlayColor(n, "overlayColor"),
                        this._setSVGBgOverlayImage(n, "overlayImage", t),
                        n.push("</svg>"),
                        n.join("")
                    },
                    _setSVGPreamble: function(e, t) {
                        t.suppressPreamble || e.push('<?xml version="1.0" encoding="', t.encoding || "UTF-8", '" standalone="no" ?>\n', '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ', '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')
                    },
                    _setSVGHeader: function(e, t) {
                        var n, i = t.width || this.width, o = t.height || this.height, a = 'viewBox="0 0 ' + this.width + " " + this.height + '" ', s = fabric.Object.NUM_FRACTION_DIGITS;
                        t.viewBox ? a = 'viewBox="' + t.viewBox.x + " " + t.viewBox.y + " " + t.viewBox.width + " " + t.viewBox.height + '" ' : this.svgViewportTransformation && (n = this.viewportTransform,
                        a = 'viewBox="' + r(-n[4] / n[0], s) + " " + r(-n[5] / n[3], s) + " " + r(this.width / n[0], s) + " " + r(this.height / n[3], s) + '" '),
                        e.push("<svg ", 'xmlns="http://www.w3.org/2000/svg" ', 'xmlns:xlink="http://www.w3.org/1999/xlink" ', 'version="1.1" ', 'width="', i, '" ', 'height="', o, '" ', a, 'xml:space="preserve">\n', "<desc>Created with Fabric.js ", fabric.version, "</desc>\n", "<defs>\n", this.createSVGFontFacesMarkup(), this.createSVGRefElementsMarkup(), "</defs>\n")
                    },
                    createSVGRefElementsMarkup: function() {
                        var e = this;
                        return ["backgroundColor", "overlayColor"].map(function(t) {
                            var n = e[t];
                            if (n && n.toLive)
                                return n.toSVG(e, !1)
                        }).join("")
                    },
                    createSVGFontFacesMarkup: function() {
                        for (var e, t, n, r, i, o, a = "", s = {}, c = fabric.fontPaths, l = this.getObjects(), u = 0, d = l.length; u < d; u++)
                            if (t = (e = l[u]).fontFamily,
                            -1 !== e.type.indexOf("text") && !s[t] && c[t] && (s[t] = !0,
                            e.styles))
                                for (i in n = e.styles)
                                    for (o in r = n[i])
                                        !s[t = r[o].fontFamily] && c[t] && (s[t] = !0);
                        for (var f in s)
                            a += ["\t\t@font-face {\n", "\t\t\tfont-family: '", f, "';\n", "\t\t\tsrc: url('", c[f], "');\n", "\t\t}\n"].join("");
                        return a && (a = ['\t<style type="text/css">', "<![CDATA[\n", a, "]]>", "</style>\n"].join("")),
                        a
                    },
                    _setSVGObjects: function(e, t) {
                        for (var n, r = 0, i = this.getObjects(), o = i.length; r < o; r++)
                            (n = i[r]).excludeFromExport || this._setSVGObject(e, n, t)
                    },
                    _setSVGObject: function(e, t, n) {
                        e.push(t.toSVG(n))
                    },
                    _setSVGBgOverlayImage: function(e, t, n) {
                        this[t] && this[t].toSVG && e.push(this[t].toSVG(n))
                    },
                    _setSVGBgOverlayColor: function(e, t) {
                        var n = this[t];
                        if (n)
                            if (n.toLive) {
                                var r = n.repeat;
                                e.push('<rect transform="translate(', this.width / 2, ",", this.height / 2, ')"', ' x="', n.offsetX - this.width / 2, '" y="', n.offsetY - this.height / 2, '" ', 'width="', "repeat-y" === r || "no-repeat" === r ? n.source.width : this.width, '" height="', "repeat-x" === r || "no-repeat" === r ? n.source.height : this.height, '" fill="url(#SVGID_' + n.id + ')"', "></rect>\n")
                            } else
                                e.push('<rect x="0" y="0" ', 'width="', this.width, '" height="', this.height, '" fill="', this[t], '"', "></rect>\n")
                    },
                    sendToBack: function(e) {
                        if (!e)
                            return this;
                        var t, r, i, o = this._activeGroup;
                        if (e === o)
                            for (t = (i = o._objects).length; t--; )
                                r = i[t],
                                n(this._objects, r),
                                this._objects.unshift(r);
                        else
                            n(this._objects, e),
                            this._objects.unshift(e);
                        return this.renderAll && this.renderAll()
                    },
                    bringToFront: function(e) {
                        if (!e)
                            return this;
                        var t, r, i, o = this._activeGroup;
                        if (e === o)
                            for (i = o._objects,
                            t = 0; t < i.length; t++)
                                r = i[t],
                                n(this._objects, r),
                                this._objects.push(r);
                        else
                            n(this._objects, e),
                            this._objects.push(e);
                        return this.renderAll && this.renderAll()
                    },
                    sendBackwards: function(e, t) {
                        if (!e)
                            return this;
                        var r, i, o, a, s, c = this._activeGroup;
                        if (e === c)
                            for (s = c._objects,
                            r = 0; r < s.length; r++)
                                i = s[r],
                                0 !== (o = this._objects.indexOf(i)) && (a = o - 1,
                                n(this._objects, i),
                                this._objects.splice(a, 0, i));
                        else
                            0 !== (o = this._objects.indexOf(e)) && (a = this._findNewLowerIndex(e, o, t),
                            n(this._objects, e),
                            this._objects.splice(a, 0, e));
                        return this.renderAll && this.renderAll(),
                        this
                    },
                    _findNewLowerIndex: function(e, t, n) {
                        var r;
                        if (n) {
                            r = t;
                            for (var i = t - 1; i >= 0; --i)
                                if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(e)) {
                                    r = i;
                                    break
                                }
                        } else
                            r = t - 1;
                        return r
                    },
                    bringForward: function(e, t) {
                        if (!e)
                            return this;
                        var r, i, o, a, s, c = this._activeGroup;
                        if (e === c)
                            for (r = (s = c._objects).length; r--; )
                                i = s[r],
                                (o = this._objects.indexOf(i)) !== this._objects.length - 1 && (a = o + 1,
                                n(this._objects, i),
                                this._objects.splice(a, 0, i));
                        else
                            (o = this._objects.indexOf(e)) !== this._objects.length - 1 && (a = this._findNewUpperIndex(e, o, t),
                            n(this._objects, e),
                            this._objects.splice(a, 0, e));
                        return this.renderAll && this.renderAll(),
                        this
                    },
                    _findNewUpperIndex: function(e, t, n) {
                        var r;
                        if (n) {
                            r = t;
                            for (var i = t + 1; i < this._objects.length; ++i)
                                if (e.intersectsWithObject(this._objects[i]) || e.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(e)) {
                                    r = i;
                                    break
                                }
                        } else
                            r = t + 1;
                        return r
                    },
                    moveTo: function(e, t) {
                        return n(this._objects, e),
                        this._objects.splice(t, 0, e),
                        this.renderAll && this.renderAll()
                    },
                    dispose: function() {
                        return this.clear(),
                        this
                    },
                    toString: function() {
                        return "#<fabric.Canvas (" + this.complexity() + "): { objects: " + this.getObjects().length + " }>"
                    }
                }),
                e(fabric.StaticCanvas.prototype, fabric.Observable),
                e(fabric.StaticCanvas.prototype, fabric.Collection),
                e(fabric.StaticCanvas.prototype, fabric.DataURLExporter),
                e(fabric.StaticCanvas, {
                    EMPTY_JSON: '{"objects": [], "background": "white"}',
                    supports: function(e) {
                        var t = fabric.util.createCanvasElement();
                        if (!t || !t.getContext)
                            return null;
                        var n = t.getContext("2d");
                        if (!n)
                            return null;
                        switch (e) {
                        case "getImageData":
                            return void 0 !== n.getImageData;
                        case "setLineDash":
                            return void 0 !== n.setLineDash;
                        case "toDataURL":
                            return void 0 !== t.toDataURL;
                        case "toDataURLWithQuality":
                            try {
                                return t.toDataURL("image/jpeg", 0),
                                !0
                            } catch (e) {}
                            return !1;
                        default:
                            return null
                        }
                    }
                }),
                fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject
            }
        }(),
        fabric.BaseBrush = fabric.util.createClass({
            color: "rgb(0, 0, 0)",
            width: 1,
            shadow: null,
            strokeLineCap: "round",
            strokeLineJoin: "round",
            strokeDashArray: null,
            setShadow: function(e) {
                return this.shadow = new fabric.Shadow(e),
                this
            },
            _setBrushStyles: function() {
                var e = this.canvas.contextTop;
                e.strokeStyle = this.color,
                e.lineWidth = this.width,
                e.lineCap = this.strokeLineCap,
                e.lineJoin = this.strokeLineJoin,
                this.strokeDashArray && fabric.StaticCanvas.supports("setLineDash") && e.setLineDash(this.strokeDashArray)
            },
            _setShadow: function() {
                if (this.shadow) {
                    var e = this.canvas.contextTop
                      , t = this.canvas.getZoom();
                    e.shadowColor = this.shadow.color,
                    e.shadowBlur = this.shadow.blur * t,
                    e.shadowOffsetX = this.shadow.offsetX * t,
                    e.shadowOffsetY = this.shadow.offsetY * t
                }
            },
            _resetShadow: function() {
                var e = this.canvas.contextTop;
                e.shadowColor = "",
                e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0
            }
        }),
        fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, {
            initialize: function(e) {
                this.canvas = e,
                this._points = []
            },
            onMouseDown: function(e) {
                this._prepareForDrawing(e),
                this._captureDrawingPath(e),
                this._render()
            },
            onMouseMove: function(e) {
                this._captureDrawingPath(e),
                this.canvas.clearContext(this.canvas.contextTop),
                this._render()
            },
            onMouseUp: function() {
                this._finalizeAndAddPath()
            },
            _prepareForDrawing: function(e) {
                var t = new fabric.Point(e.x,e.y);
                this._reset(),
                this._addPoint(t),
                this.canvas.contextTop.moveTo(t.x, t.y)
            },
            _addPoint: function(e) {
                this._points.push(e)
            },
            _reset: function() {
                this._points.length = 0,
                this._setBrushStyles(),
                this._setShadow()
            },
            _captureDrawingPath: function(e) {
                var t = new fabric.Point(e.x,e.y);
                this._addPoint(t)
            },
            _render: function() {
                var e = this.canvas.contextTop
                  , t = this.canvas.viewportTransform
                  , n = this._points[0]
                  , r = this._points[1];
                e.save(),
                e.transform(t[0], t[1], t[2], t[3], t[4], t[5]),
                e.beginPath(),
                2 === this._points.length && n.x === r.x && n.y === r.y && (n.x -= .5,
                r.x += .5),
                e.moveTo(n.x, n.y);
                for (var i = 1, o = this._points.length; i < o; i++) {
                    var a = n.midPointFrom(r);
                    e.quadraticCurveTo(n.x, n.y, a.x, a.y),
                    n = this._points[i],
                    r = this._points[i + 1]
                }
                e.lineTo(n.x, n.y),
                e.stroke(),
                e.restore()
            },
            convertPointsToSVGPath: function(e) {
                var t = []
                  , n = new fabric.Point(e[0].x,e[0].y)
                  , r = new fabric.Point(e[1].x,e[1].y);
                t.push("M ", e[0].x, " ", e[0].y, " ");
                for (var i = 1, o = e.length; i < o; i++) {
                    var a = n.midPointFrom(r);
                    t.push("Q ", n.x, " ", n.y, " ", a.x, " ", a.y, " "),
                    n = new fabric.Point(e[i].x,e[i].y),
                    i + 1 < e.length && (r = new fabric.Point(e[i + 1].x,e[i + 1].y))
                }
                return t.push("L ", n.x, " ", n.y, " "),
                t
            },
            createPath: function(e) {
                var t = new fabric.Path(e,{
                    fill: null,
                    stroke: this.color,
                    strokeWidth: this.width,
                    strokeLineCap: this.strokeLineCap,
                    strokeLineJoin: this.strokeLineJoin,
                    strokeDashArray: this.strokeDashArray,
                    originX: "center",
                    originY: "center"
                });
                return this.shadow && (this.shadow.affectStroke = !0,
                t.setShadow(this.shadow)),
                t
            },
            _finalizeAndAddPath: function() {
                this.canvas.contextTop.closePath();
                var e = this.convertPointsToSVGPath(this._points).join("");
                if ("M 0 0 Q 0 0 0 0 L 0 0" !== e) {
                    var t = this.createPath(e);
                    this.canvas.add(t),
                    t.setCoords(),
                    this.canvas.clearContext(this.canvas.contextTop),
                    this._resetShadow(),
                    this.canvas.renderAll(),
                    this.canvas.fire("path:created", {
                        path: t
                    })
                } else
                    this.canvas.renderAll()
            }
        }),
        fabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, {
            width: 10,
            initialize: function(e) {
                this.canvas = e,
                this.points = []
            },
            drawDot: function(e) {
                var t = this.addPoint(e)
                  , n = this.canvas.contextTop
                  , r = this.canvas.viewportTransform;
                n.save(),
                n.transform(r[0], r[1], r[2], r[3], r[4], r[5]),
                n.fillStyle = t.fill,
                n.beginPath(),
                n.arc(t.x, t.y, t.radius, 0, 2 * Math.PI, !1),
                n.closePath(),
                n.fill(),
                n.restore()
            },
            onMouseDown: function(e) {
                this.points.length = 0,
                this.canvas.clearContext(this.canvas.contextTop),
                this._setShadow(),
                this.drawDot(e)
            },
            onMouseMove: function(e) {
                this.drawDot(e)
            },
            onMouseUp: function() {
                var e = this.canvas.renderOnAddRemove;
                this.canvas.renderOnAddRemove = !1;
                for (var t = [], n = 0, r = this.points.length; n < r; n++) {
                    var i = this.points[n]
                      , o = new fabric.Circle({
                        radius: i.radius,
                        left: i.x,
                        top: i.y,
                        originX: "center",
                        originY: "center",
                        fill: i.fill
                    });
                    this.shadow && o.setShadow(this.shadow),
                    t.push(o)
                }
                var a = new fabric.Group(t,{
                    originX: "center",
                    originY: "center"
                });
                a.canvas = this.canvas,
                this.canvas.add(a),
                this.canvas.fire("path:created", {
                    path: a
                }),
                this.canvas.clearContext(this.canvas.contextTop),
                this._resetShadow(),
                this.canvas.renderOnAddRemove = e,
                this.canvas.renderAll()
            },
            addPoint: function(e) {
                var t = new fabric.Point(e.x,e.y)
                  , n = fabric.util.getRandomInt(Math.max(0, this.width - 20), this.width + 20) / 2
                  , r = new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0, 100) / 100).toRgba();
                return t.radius = n,
                t.fill = r,
                this.points.push(t),
                t
            }
        }),
        fabric.SprayBrush = fabric.util.createClass(fabric.BaseBrush, {
            width: 10,
            density: 20,
            dotWidth: 1,
            dotWidthVariance: 1,
            randomOpacity: !1,
            optimizeOverlapping: !0,
            initialize: function(e) {
                this.canvas = e,
                this.sprayChunks = []
            },
            onMouseDown: function(e) {
                this.sprayChunks.length = 0,
                this.canvas.clearContext(this.canvas.contextTop),
                this._setShadow(),
                this.addSprayChunk(e),
                this.render()
            },
            onMouseMove: function(e) {
                this.addSprayChunk(e),
                this.render()
            },
            onMouseUp: function() {
                var e = this.canvas.renderOnAddRemove;
                this.canvas.renderOnAddRemove = !1;
                for (var t = [], n = 0, r = this.sprayChunks.length; n < r; n++)
                    for (var i = this.sprayChunks[n], o = 0, a = i.length; o < a; o++) {
                        var s = new fabric.Rect({
                            width: i[o].width,
                            height: i[o].width,
                            left: i[o].x + 1,
                            top: i[o].y + 1,
                            originX: "center",
                            originY: "center",
                            fill: this.color
                        });
                        this.shadow && s.setShadow(this.shadow),
                        t.push(s)
                    }
                this.optimizeOverlapping && (t = this._getOptimizedRects(t));
                var c = new fabric.Group(t,{
                    originX: "center",
                    originY: "center"
                });
                c.canvas = this.canvas,
                this.canvas.add(c),
                this.canvas.fire("path:created", {
                    path: c
                }),
                this.canvas.clearContext(this.canvas.contextTop),
                this._resetShadow(),
                this.canvas.renderOnAddRemove = e,
                this.canvas.renderAll()
            },
            _getOptimizedRects: function(e) {
                for (var t, n = {}, r = 0, i = e.length; r < i; r++)
                    n[t = e[r].left + "" + e[r].top] || (n[t] = e[r]);
                var o = [];
                for (t in n)
                    o.push(n[t]);
                return o
            },
            render: function() {
                var e = this.canvas.contextTop;
                e.fillStyle = this.color;
                var t = this.canvas.viewportTransform;
                e.save(),
                e.transform(t[0], t[1], t[2], t[3], t[4], t[5]);
                for (var n = 0, r = this.sprayChunkPoints.length; n < r; n++) {
                    var i = this.sprayChunkPoints[n];
                    void 0 !== i.opacity && (e.globalAlpha = i.opacity),
                    e.fillRect(i.x, i.y, i.width, i.width)
                }
                e.restore()
            },
            addSprayChunk: function(e) {
                this.sprayChunkPoints = [];
                for (var t, n, r, i = this.width / 2, o = 0; o < this.density; o++) {
                    t = fabric.util.getRandomInt(e.x - i, e.x + i),
                    n = fabric.util.getRandomInt(e.y - i, e.y + i),
                    r = this.dotWidthVariance ? fabric.util.getRandomInt(Math.max(1, this.dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance) : this.dotWidth;
                    var a = new fabric.Point(t,n);
                    a.width = r,
                    this.randomOpacity && (a.opacity = fabric.util.getRandomInt(0, 100) / 100),
                    this.sprayChunkPoints.push(a)
                }
                this.sprayChunks.push(this.sprayChunkPoints)
            }
        }),
        fabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, {
            getPatternSrc: function() {
                var e = fabric.document.createElement("canvas")
                  , t = e.getContext("2d");
                return e.width = e.height = 25,
                t.fillStyle = this.color,
                t.beginPath(),
                t.arc(10, 10, 10, 0, 2 * Math.PI, !1),
                t.closePath(),
                t.fill(),
                e
            },
            getPatternSrcFunction: function() {
                return String(this.getPatternSrc).replace("this.color", '"' + this.color + '"')
            },
            getPattern: function() {
                return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), "repeat")
            },
            _setBrushStyles: function() {
                this.callSuper("_setBrushStyles"),
                this.canvas.contextTop.strokeStyle = this.getPattern()
            },
            createPath: function(e) {
                var t = this.callSuper("createPath", e)
                  , n = t._getLeftTopCoords().scalarAdd(t.strokeWidth / 2);
                return t.stroke = new fabric.Pattern({
                    source: this.source || this.getPatternSrcFunction(),
                    offsetX: -n.x,
                    offsetY: -n.y
                }),
                t
            }
        }),
        function() {
            var e = fabric.util.getPointer
              , t = fabric.util.degreesToRadians
              , n = fabric.util.radiansToDegrees
              , r = Math.atan2
              , i = Math.abs
              , o = fabric.StaticCanvas.supports("setLineDash");
            for (var a in fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, {
                initialize: function(e, t) {
                    t || (t = {}),
                    this._initStatic(e, t),
                    this._initInteractive(),
                    this._createCacheCanvas()
                },
                uniScaleTransform: !1,
                uniScaleKey: "shiftKey",
                centeredScaling: !1,
                centeredRotation: !1,
                centeredKey: "altKey",
                altActionKey: "shiftKey",
                interactive: !0,
                selection: !0,
                selectionKey: "shiftKey",
                altSelectionKey: null,
                selectionColor: "rgba(100, 100, 255, 0.3)",
                selectionDashArray: [],
                selectionBorderColor: "rgba(255, 255, 255, 0.3)",
                selectionLineWidth: 1,
                hoverCursor: "move",
                moveCursor: "move",
                defaultCursor: "default",
                freeDrawingCursor: "crosshair",
                rotationCursor: "crosshair",
                containerClass: "canvas-container",
                perPixelTargetFind: !1,
                targetFindTolerance: 0,
                skipTargetFind: !1,
                isDrawingMode: !1,
                preserveObjectStacking: !1,
                snapAngle: 0,
                snapThreshold: null,
                stopContextMenu: !1,
                fireRightClick: !1,
                _initInteractive: function() {
                    this._currentTransform = null,
                    this._groupSelector = null,
                    this._initWrapperElement(),
                    this._createUpperCanvas(),
                    this._initEventListeners(),
                    this._initRetinaScaling(),
                    this.freeDrawingBrush = fabric.PencilBrush && new fabric.PencilBrush(this),
                    this.calcOffset()
                },
                _chooseObjectsToRender: function() {
                    var e, t = this.getActiveGroup(), n = this.getActiveObject(), r = [], i = [];
                    if (!t && !n || this.preserveObjectStacking)
                        r = this._objects;
                    else {
                        for (var o = 0, a = this._objects.length; o < a; o++)
                            e = this._objects[o],
                            t && t.contains(e) || e === n ? i.push(e) : r.push(e);
                        t && (t._set("_objects", i),
                        r.push(t)),
                        n && r.push(n)
                    }
                    return r
                },
                renderAll: function() {
                    !this.contextTopDirty || this._groupSelector || this.isDrawingMode || (this.clearContext(this.contextTop),
                    this.contextTopDirty = !1);
                    var e = this.contextContainer;
                    return this.renderCanvas(e, this._chooseObjectsToRender()),
                    this
                },
                renderTop: function() {
                    var e = this.contextTop;
                    return this.clearContext(e),
                    this.selection && this._groupSelector && this._drawSelection(e),
                    this.fire("after:render"),
                    this.contextTopDirty = !0,
                    this
                },
                _resetCurrentTransform: function() {
                    var e = this._currentTransform;
                    e.target.set({
                        scaleX: e.original.scaleX,
                        scaleY: e.original.scaleY,
                        skewX: e.original.skewX,
                        skewY: e.original.skewY,
                        left: e.original.left,
                        top: e.original.top
                    }),
                    this._shouldCenterTransform(e.target) ? "rotate" === e.action ? this._setOriginToCenter(e.target) : ("center" !== e.originX && ("right" === e.originX ? e.mouseXSign = -1 : e.mouseXSign = 1),
                    "center" !== e.originY && ("bottom" === e.originY ? e.mouseYSign = -1 : e.mouseYSign = 1),
                    e.originX = "center",
                    e.originY = "center") : (e.originX = e.original.originX,
                    e.originY = e.original.originY)
                },
                containsPoint: function(e, t, n) {
                    var r, i = n || this.getPointer(e, !0);
                    return r = t.group && t.group === this.getActiveGroup() ? this._normalizePointer(t.group, i) : {
                        x: i.x,
                        y: i.y
                    },
                    t.containsPoint(r) || t._findTargetCorner(i)
                },
                _normalizePointer: function(e, t) {
                    var n = e.calcTransformMatrix()
                      , r = fabric.util.invertTransform(n)
                      , i = this.restorePointerVpt(t);
                    return fabric.util.transformPoint(i, r)
                },
                isTargetTransparent: function(e, t, n) {
                    var r = e.hasBorders
                      , i = e.transparentCorners
                      , o = this.contextCache
                      , a = e.selectionBackgroundColor;
                    e.hasBorders = e.transparentCorners = !1,
                    e.selectionBackgroundColor = "",
                    o.save(),
                    o.transform.apply(o, this.viewportTransform),
                    e.render(o),
                    o.restore(),
                    e.active && e._renderControls(o),
                    e.hasBorders = r,
                    e.transparentCorners = i,
                    e.selectionBackgroundColor = a;
                    var s = fabric.util.isTransparent(o, t, n, this.targetFindTolerance);
                    return this.clearContext(o),
                    s
                },
                _shouldClearSelection: function(e, t) {
                    var n = this.getActiveGroup()
                      , r = this.getActiveObject();
                    return !t || t && n && !n.contains(t) && n !== t && !e[this.selectionKey] || t && !t.evented || t && !t.selectable && r && r !== t
                },
                _shouldCenterTransform: function(e) {
                    if (e) {
                        var t, n = this._currentTransform;
                        return "scale" === n.action || "scaleX" === n.action || "scaleY" === n.action ? t = this.centeredScaling || e.centeredScaling : "rotate" === n.action && (t = this.centeredRotation || e.centeredRotation),
                        t ? !n.altKey : n.altKey
                    }
                },
                _getOriginFromCorner: function(e, t) {
                    var n = {
                        x: e.originX,
                        y: e.originY
                    };
                    return "ml" === t || "tl" === t || "bl" === t ? n.x = "right" : "mr" !== t && "tr" !== t && "br" !== t || (n.x = "left"),
                    "tl" === t || "mt" === t || "tr" === t ? n.y = "bottom" : "bl" !== t && "mb" !== t && "br" !== t || (n.y = "top"),
                    n
                },
                _getActionFromCorner: function(e, t, n) {
                    if (!t)
                        return "drag";
                    switch (t) {
                    case "mtr":
                        return "rotate";
                    case "ml":
                    case "mr":
                        return n[this.altActionKey] ? "skewY" : "scaleX";
                    case "mt":
                    case "mb":
                        return n[this.altActionKey] ? "skewX" : "scaleY";
                    default:
                        return "scale"
                    }
                },
                _setupCurrentTransform: function(e, n) {
                    if (n) {
                        var r = this.getPointer(e)
                          , i = n._findTargetCorner(this.getPointer(e, !0))
                          , o = this._getActionFromCorner(n, i, e)
                          , a = this._getOriginFromCorner(n, i);
                        this._currentTransform = {
                            target: n,
                            action: o,
                            corner: i,
                            scaleX: n.scaleX,
                            scaleY: n.scaleY,
                            skewX: n.skewX,
                            skewY: n.skewY,
                            offsetX: r.x - n.left,
                            offsetY: r.y - n.top,
                            originX: a.x,
                            originY: a.y,
                            ex: r.x,
                            ey: r.y,
                            lastX: r.x,
                            lastY: r.y,
                            left: n.left,
                            top: n.top,
                            theta: t(n.angle),
                            width: n.width * n.scaleX,
                            mouseXSign: 1,
                            mouseYSign: 1,
                            shiftKey: e.shiftKey,
                            altKey: e[this.centeredKey]
                        },
                        this._currentTransform.original = {
                            left: n.left,
                            top: n.top,
                            scaleX: n.scaleX,
                            scaleY: n.scaleY,
                            skewX: n.skewX,
                            skewY: n.skewY,
                            originX: a.x,
                            originY: a.y
                        },
                        this._resetCurrentTransform()
                    }
                },
                _translateObject: function(e, t) {
                    var n = this._currentTransform
                      , r = n.target
                      , i = e - n.offsetX
                      , o = t - n.offsetY
                      , a = !r.get("lockMovementX") && r.left !== i
                      , s = !r.get("lockMovementY") && r.top !== o;
                    return a && r.set("left", i),
                    s && r.set("top", o),
                    a || s
                },
                _changeSkewTransformOrigin: function(e, t, n) {
                    var r = "originX"
                      , i = {
                        0: "center"
                    }
                      , o = t.target.skewX
                      , a = "left"
                      , s = "right"
                      , c = "mt" === t.corner || "ml" === t.corner ? 1 : -1
                      , l = 1;
                    e = e > 0 ? 1 : -1,
                    "y" === n && (o = t.target.skewY,
                    a = "top",
                    s = "bottom",
                    r = "originY"),
                    i[-1] = a,
                    i[1] = s,
                    t.target.flipX && (l *= -1),
                    t.target.flipY && (l *= -1),
                    0 === o ? (t.skewSign = -c * e * l,
                    t[r] = i[-e]) : (o = o > 0 ? 1 : -1,
                    t.skewSign = o,
                    t[r] = i[o * c * l])
                },
                _skewObject: function(e, t, n) {
                    var r, i = this._currentTransform, o = i.target, a = o.get("lockSkewingX"), s = o.get("lockSkewingY");
                    if (a && "x" === n || s && "y" === n)
                        return !1;
                    var c, l, u = o.getCenterPoint(), d = o.toLocalPoint(new fabric.Point(e,t), "center", "center")[n], f = o.toLocalPoint(new fabric.Point(i.lastX,i.lastY), "center", "center")[n], h = o._getTransformedDimensions();
                    return this._changeSkewTransformOrigin(d - f, i, n),
                    c = o.toLocalPoint(new fabric.Point(e,t), i.originX, i.originY)[n],
                    l = o.translateToOriginPoint(u, i.originX, i.originY),
                    r = this._setObjectSkew(c, i, n, h),
                    i.lastX = e,
                    i.lastY = t,
                    o.setPositionByOrigin(l, i.originX, i.originY),
                    r
                },
                _setObjectSkew: function(e, t, n, r) {
                    var i, o, a, s, c, l, u, d, f, h, p = t.target, g = t.skewSign;
                    return "x" === n ? (s = "y",
                    c = "Y",
                    l = "X",
                    d = 0,
                    f = p.skewY) : (s = "x",
                    c = "X",
                    l = "Y",
                    d = p.skewX,
                    f = 0),
                    a = p._getTransformedDimensions(d, f),
                    (u = 2 * Math.abs(e) - a[n]) <= 2 ? i = 0 : (i = g * Math.atan(u / p["scale" + l] / (a[s] / p["scale" + c])),
                    i = fabric.util.radiansToDegrees(i)),
                    h = p["skew" + l] !== i,
                    p.set("skew" + l, i),
                    0 !== p["skew" + c] && (o = p._getTransformedDimensions(),
                    i = r[s] / o[s] * p["scale" + c],
                    p.set("scale" + c, i)),
                    h
                },
                _scaleObject: function(e, t, n) {
                    var r = this._currentTransform
                      , i = r.target
                      , o = i.get("lockScalingX")
                      , a = i.get("lockScalingY")
                      , s = i.get("lockScalingFlip");
                    if (o && a)
                        return !1;
                    var c, l = i.translateToOriginPoint(i.getCenterPoint(), r.originX, r.originY), u = i.toLocalPoint(new fabric.Point(e,t), r.originX, r.originY), d = i._getTransformedDimensions();
                    return this._setLocalMouse(u, r),
                    c = this._setObjectScale(u, r, o, a, n, s, d),
                    i.setPositionByOrigin(l, r.originX, r.originY),
                    c
                },
                _setObjectScale: function(e, t, n, r, i, o, a) {
                    var s, c, l, u, d = t.target, f = !1, h = !1, p = !1;
                    return l = e.x * d.scaleX / a.x,
                    u = e.y * d.scaleY / a.y,
                    s = d.scaleX !== l,
                    c = d.scaleY !== u,
                    o && l <= 0 && l < d.scaleX && (f = !0),
                    o && u <= 0 && u < d.scaleY && (h = !0),
                    "equally" !== i || n || r ? i ? "x" !== i || d.get("lockUniScaling") ? "y" !== i || d.get("lockUniScaling") || h || r || d.set("scaleY", u) && (p = p || c) : f || n || d.set("scaleX", l) && (p = p || s) : (f || n || d.set("scaleX", l) && (p = p || s),
                    h || r || d.set("scaleY", u) && (p = p || c)) : f || h || (p = this._scaleObjectEqually(e, d, t, a)),
                    t.newScaleX = l,
                    t.newScaleY = u,
                    f || h || this._flipObject(t, i),
                    p
                },
                _scaleObjectEqually: function(e, t, n, r) {
                    var i, o = e.y + e.x, a = r.y * n.original.scaleY / t.scaleY + r.x * n.original.scaleX / t.scaleX;
                    return n.newScaleX = n.original.scaleX * o / a,
                    n.newScaleY = n.original.scaleY * o / a,
                    i = n.newScaleX !== t.scaleX || n.newScaleY !== t.scaleY,
                    t.set("scaleX", n.newScaleX),
                    t.set("scaleY", n.newScaleY),
                    i
                },
                _flipObject: function(e, t) {
                    e.newScaleX < 0 && "y" !== t && ("left" === e.originX ? e.originX = "right" : "right" === e.originX && (e.originX = "left")),
                    e.newScaleY < 0 && "x" !== t && ("top" === e.originY ? e.originY = "bottom" : "bottom" === e.originY && (e.originY = "top"))
                },
                _setLocalMouse: function(e, t) {
                    var n = t.target;
                    "right" === t.originX ? e.x *= -1 : "center" === t.originX && (e.x *= 2 * t.mouseXSign,
                    e.x < 0 && (t.mouseXSign = -t.mouseXSign)),
                    "bottom" === t.originY ? e.y *= -1 : "center" === t.originY && (e.y *= 2 * t.mouseYSign,
                    e.y < 0 && (t.mouseYSign = -t.mouseYSign)),
                    i(e.x) > n.padding ? e.x < 0 ? e.x += n.padding : e.x -= n.padding : e.x = 0,
                    i(e.y) > n.padding ? e.y < 0 ? e.y += n.padding : e.y -= n.padding : e.y = 0
                },
                _rotateObject: function(e, t) {
                    var i = this._currentTransform;
                    if (i.target.get("lockRotation"))
                        return !1;
                    var o = r(i.ey - i.top, i.ex - i.left)
                      , a = r(t - i.top, e - i.left)
                      , s = n(a - o + i.theta)
                      , c = !0;
                    if (s < 0 && (s = 360 + s),
                    s %= 360,
                    i.target.snapAngle > 0) {
                        var l = i.target.snapAngle
                          , u = i.target.snapThreshold || l
                          , d = Math.ceil(s / l) * l
                          , f = Math.floor(s / l) * l;
                        Math.abs(s - f) < u ? s = f : Math.abs(s - d) < u && (s = d),
                        i.target.angle === s && (c = !1)
                    }
                    return i.target.angle = s,
                    c
                },
                setCursor: function(e) {
                    this.upperCanvasEl.style.cursor = e
                },
                _resetObjectTransform: function(e) {
                    e.scaleX = 1,
                    e.scaleY = 1,
                    e.skewX = 0,
                    e.skewY = 0,
                    e.setAngle(0)
                },
                _drawSelection: function(e) {
                    var t = this._groupSelector
                      , n = t.left
                      , r = t.top
                      , a = i(n)
                      , s = i(r);
                    if (this.selectionColor && (e.fillStyle = this.selectionColor,
                    e.fillRect(t.ex - (n > 0 ? 0 : -n), t.ey - (r > 0 ? 0 : -r), a, s)),
                    this.selectionLineWidth && this.selectionBorderColor)
                        if (e.lineWidth = this.selectionLineWidth,
                        e.strokeStyle = this.selectionBorderColor,
                        this.selectionDashArray.length > 1 && !o) {
                            var c = t.ex + .5 - (n > 0 ? 0 : a)
                              , l = t.ey + .5 - (r > 0 ? 0 : s);
                            e.beginPath(),
                            fabric.util.drawDashedLine(e, c, l, c + a, l, this.selectionDashArray),
                            fabric.util.drawDashedLine(e, c, l + s - 1, c + a, l + s - 1, this.selectionDashArray),
                            fabric.util.drawDashedLine(e, c, l, c, l + s, this.selectionDashArray),
                            fabric.util.drawDashedLine(e, c + a - 1, l, c + a - 1, l + s, this.selectionDashArray),
                            e.closePath(),
                            e.stroke()
                        } else
                            fabric.Object.prototype._setLineDash.call(this, e, this.selectionDashArray),
                            e.strokeRect(t.ex + .5 - (n > 0 ? 0 : a), t.ey + .5 - (r > 0 ? 0 : s), a, s)
                },
                findTarget: function(e, t) {
                    if (!this.skipTargetFind) {
                        var n, r = this.getPointer(e, !0), i = this.getActiveGroup(), o = this.getActiveObject();
                        if (i && !t && this._checkTarget(r, i))
                            return this._fireOverOutEvents(i, e),
                            i;
                        if (o && o._findTargetCorner(r))
                            return this._fireOverOutEvents(o, e),
                            o;
                        if (o && this._checkTarget(r, o)) {
                            if (!this.preserveObjectStacking)
                                return this._fireOverOutEvents(o, e),
                                o;
                            n = o
                        }
                        this.targets = [];
                        var a = this._searchPossibleTargets(this._objects, r);
                        return e[this.altSelectionKey] && a && n && a !== n && (a = n),
                        this._fireOverOutEvents(a, e),
                        a
                    }
                },
                _fireOverOutEvents: function(e, t) {
                    e ? this._hoveredTarget !== e && (this._hoveredTarget && (this.fire("mouse:out", {
                        target: this._hoveredTarget,
                        e: t
                    }),
                    this._hoveredTarget.fire("mouseout")),
                    this.fire("mouse:over", {
                        target: e,
                        e: t
                    }),
                    e.fire("mouseover"),
                    this._hoveredTarget = e) : this._hoveredTarget && (this.fire("mouse:out", {
                        target: this._hoveredTarget,
                        e: t
                    }),
                    this._hoveredTarget.fire("mouseout"),
                    this._hoveredTarget = null)
                },
                _checkTarget: function(e, t) {
                    if (t && t.visible && t.evented && this.containsPoint(null, t, e)) {
                        if (!this.perPixelTargetFind && !t.perPixelTargetFind || t.isEditing)
                            return !0;
                        if (!this.isTargetTransparent(t, e.x, e.y))
                            return !0
                    }
                },
                _searchPossibleTargets: function(e, t) {
                    for (var n, r, i, o = e.length; o--; )
                        if (this._checkTarget(t, e[o])) {
                            "group" === (n = e[o]).type && n.subTargetCheck && (r = this._normalizePointer(n, t),
                            (i = this._searchPossibleTargets(n._objects, r)) && this.targets.push(i));
                            break
                        }
                    return n
                },
                restorePointerVpt: function(e) {
                    return fabric.util.transformPoint(e, fabric.util.invertTransform(this.viewportTransform))
                },
                getPointer: function(t, n, r) {
                    r || (r = this.upperCanvasEl);
                    var i, o = e(t), a = r.getBoundingClientRect(), s = a.width || 0, c = a.height || 0;
                    return s && c || ("top"in a && "bottom"in a && (c = Math.abs(a.top - a.bottom)),
                    "right"in a && "left"in a && (s = Math.abs(a.right - a.left))),
                    this.calcOffset(),
                    o.x = o.x - this._offset.left,
                    o.y = o.y - this._offset.top,
                    n || (o = this.restorePointerVpt(o)),
                    i = 0 === s || 0 === c ? {
                        width: 1,
                        height: 1
                    } : {
                        width: r.width / s,
                        height: r.height / c
                    },
                    {
                        x: o.x * i.width,
                        y: o.y * i.height
                    }
                },
                _createUpperCanvas: function() {
                    var e = this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/, "");
                    this.upperCanvasEl = this._createCanvasElement(),
                    fabric.util.addClass(this.upperCanvasEl, "upper-canvas " + e),
                    this.wrapperEl.appendChild(this.upperCanvasEl),
                    this._copyCanvasStyle(this.lowerCanvasEl, this.upperCanvasEl),
                    this._applyCanvasStyle(this.upperCanvasEl),
                    this.contextTop = this.upperCanvasEl.getContext("2d")
                },
                _createCacheCanvas: function() {
                    this.cacheCanvasEl = this._createCanvasElement(),
                    this.cacheCanvasEl.setAttribute("width", this.width),
                    this.cacheCanvasEl.setAttribute("height", this.height),
                    this.contextCache = this.cacheCanvasEl.getContext("2d")
                },
                _initWrapperElement: function() {
                    this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, "div", {
                        class: this.containerClass
                    }),
                    fabric.util.setStyle(this.wrapperEl, {
                        width: this.getWidth() + "px",
                        height: this.getHeight() + "px",
                        position: "relative"
                    }),
                    fabric.util.makeElementUnselectable(this.wrapperEl)
                },
                _applyCanvasStyle: function(e) {
                    var t = this.getWidth() || e.width
                      , n = this.getHeight() || e.height;
                    fabric.util.setStyle(e, {
                        position: "absolute",
                        width: t + "px",
                        height: n + "px",
                        left: 0,
                        top: 0
                    }),
                    e.width = t,
                    e.height = n,
                    fabric.util.makeElementUnselectable(e)
                },
                _copyCanvasStyle: function(e, t) {
                    t.style.cssText = e.style.cssText
                },
                getSelectionContext: function() {
                    return this.contextTop
                },
                getSelectionElement: function() {
                    return this.upperCanvasEl
                },
                _setActiveObject: function(e) {
                    this._activeObject && this._activeObject.set("active", !1),
                    this._activeObject = e,
                    e.set("active", !0)
                },
                setActiveObject: function(e, t) {
                    return this._setActiveObject(e),
                    this.renderAll(),
                    this.fire("object:selected", {
                        target: e,
                        e: t
                    }),
                    e.fire("selected", {
                        e: t
                    }),
                    this
                },
                getActiveObject: function() {
                    return this._activeObject
                },
                _onObjectRemoved: function(e) {
                    this.getActiveObject() === e && (this.fire("before:selection:cleared", {
                        target: e
                    }),
                    this._discardActiveObject(),
                    this.fire("selection:cleared", {
                        target: e
                    }),
                    e.fire("deselected")),
                    this.callSuper("_onObjectRemoved", e)
                },
                _discardActiveObject: function() {
                    this._activeObject && this._activeObject.set("active", !1),
                    this._activeObject = null
                },
                discardActiveObject: function(e) {
                    var t = this._activeObject;
                    return this.fire("before:selection:cleared", {
                        target: t,
                        e: e
                    }),
                    this._discardActiveObject(),
                    this.fire("selection:cleared", {
                        e: e
                    }),
                    t && t.fire("deselected", {
                        e: e
                    }),
                    this
                },
                _setActiveGroup: function(e) {
                    this._activeGroup = e,
                    e && e.set("active", !0)
                },
                setActiveGroup: function(e, t) {
                    return this._setActiveGroup(e),
                    e && (this.fire("object:selected", {
                        target: e,
                        e: t
                    }),
                    e.fire("selected", {
                        e: t
                    })),
                    this
                },
                getActiveGroup: function() {
                    return this._activeGroup
                },
                _discardActiveGroup: function() {
                    var e = this.getActiveGroup();
                    e && e.destroy(),
                    this.setActiveGroup(null)
                },
                discardActiveGroup: function(e) {
                    var t = this.getActiveGroup();
                    return this.fire("before:selection:cleared", {
                        e: e,
                        target: t
                    }),
                    this._discardActiveGroup(),
                    this.fire("selection:cleared", {
                        e: e
                    }),
                    this
                },
                deactivateAll: function() {
                    for (var e, t = this.getObjects(), n = 0, r = t.length; n < r; n++)
                        (e = t[n]) && e.set("active", !1);
                    return this._discardActiveGroup(),
                    this._discardActiveObject(),
                    this
                },
                deactivateAllWithDispatch: function(e) {
                    var t = this.getActiveGroup()
                      , n = this.getActiveObject();
                    return (n || t) && this.fire("before:selection:cleared", {
                        target: n || t,
                        e: e
                    }),
                    this.deactivateAll(),
                    (n || t) && (this.fire("selection:cleared", {
                        e: e,
                        target: n
                    }),
                    n && n.fire("deselected")),
                    this
                },
                dispose: function() {
                    this.callSuper("dispose");
                    var e = this.wrapperEl;
                    return this.removeListeners(),
                    e.removeChild(this.upperCanvasEl),
                    e.removeChild(this.lowerCanvasEl),
                    delete this.upperCanvasEl,
                    e.parentNode && e.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl),
                    delete this.wrapperEl,
                    this
                },
                clear: function() {
                    return this.discardActiveGroup(),
                    this.discardActiveObject(),
                    this.clearContext(this.contextTop),
                    this.callSuper("clear")
                },
                drawControls: function(e) {
                    var t = this.getActiveGroup();
                    t ? t._renderControls(e) : this._drawObjectsControls(e)
                },
                _drawObjectsControls: function(e) {
                    for (var t = 0, n = this._objects.length; t < n; ++t)
                        this._objects[t] && this._objects[t].active && this._objects[t]._renderControls(e)
                },
                _toObject: function(e, t, n) {
                    var r = this._realizeGroupTransformOnObject(e)
                      , i = this.callSuper("_toObject", e, t, n);
                    return this._unwindGroupTransformOnObject(e, r),
                    i
                },
                _realizeGroupTransformOnObject: function(e) {
                    if (e.group && e.group === this.getActiveGroup()) {
                        var t = {};
                        return ["angle", "flipX", "flipY", "height", "left", "scaleX", "scaleY", "top", "width"].forEach(function(n) {
                            t[n] = e[n]
                        }),
                        this.getActiveGroup().realizeTransform(e),
                        t
                    }
                    return null
                },
                _unwindGroupTransformOnObject: function(e, t) {
                    t && e.set(t)
                },
                _setSVGObject: function(e, t, n) {
                    var r;
                    r = this._realizeGroupTransformOnObject(t),
                    this.callSuper("_setSVGObject", e, t, n),
                    this._unwindGroupTransformOnObject(t, r)
                }
            }),
            fabric.StaticCanvas)
                "prototype" !== a && (fabric.Canvas[a] = fabric.StaticCanvas[a]);
            fabric.isTouchSupported && (fabric.Canvas.prototype._setCursorFromEvent = function() {}
            ),
            fabric.Element = fabric.Canvas
        }(),
        function() {
            var e = {
                mt: 0,
                tr: 1,
                mr: 2,
                br: 3,
                mb: 4,
                bl: 5,
                ml: 6,
                tl: 7
            }
              , t = fabric.util.addListener
              , n = fabric.util.removeListener;
            fabric.util.object.extend(fabric.Canvas.prototype, {
                cursorMap: ["n-resize", "ne-resize", "e-resize", "se-resize", "s-resize", "sw-resize", "w-resize", "nw-resize"],
                _initEventListeners: function() {
                    this._bindEvents(),
                    t(fabric.window, "resize", this._onResize),
                    t(this.upperCanvasEl, "mousedown", this._onMouseDown),
                    t(this.upperCanvasEl, "mousemove", this._onMouseMove),
                    t(this.upperCanvasEl, "mouseout", this._onMouseOut),
                    t(this.upperCanvasEl, "mouseenter", this._onMouseEnter),
                    t(this.upperCanvasEl, "wheel", this._onMouseWheel),
                    t(this.upperCanvasEl, "contextmenu", this._onContextMenu),
                    t(this.upperCanvasEl, "touchstart", this._onMouseDown),
                    t(this.upperCanvasEl, "touchmove", this._onMouseMove),
                    "undefined" != typeof eventjs && "add"in eventjs && (eventjs.add(this.upperCanvasEl, "gesture", this._onGesture),
                    eventjs.add(this.upperCanvasEl, "drag", this._onDrag),
                    eventjs.add(this.upperCanvasEl, "orientation", this._onOrientationChange),
                    eventjs.add(this.upperCanvasEl, "shake", this._onShake),
                    eventjs.add(this.upperCanvasEl, "longpress", this._onLongPress))
                },
                _bindEvents: function() {
                    this._onMouseDown = this._onMouseDown.bind(this),
                    this._onMouseMove = this._onMouseMove.bind(this),
                    this._onMouseUp = this._onMouseUp.bind(this),
                    this._onResize = this._onResize.bind(this),
                    this._onGesture = this._onGesture.bind(this),
                    this._onDrag = this._onDrag.bind(this),
                    this._onShake = this._onShake.bind(this),
                    this._onLongPress = this._onLongPress.bind(this),
                    this._onOrientationChange = this._onOrientationChange.bind(this),
                    this._onMouseWheel = this._onMouseWheel.bind(this),
                    this._onMouseOut = this._onMouseOut.bind(this),
                    this._onMouseEnter = this._onMouseEnter.bind(this),
                    this._onContextMenu = this._onContextMenu.bind(this)
                },
                removeListeners: function() {
                    n(fabric.window, "resize", this._onResize),
                    n(this.upperCanvasEl, "mousedown", this._onMouseDown),
                    n(this.upperCanvasEl, "mousemove", this._onMouseMove),
                    n(this.upperCanvasEl, "mouseout", this._onMouseOut),
                    n(this.upperCanvasEl, "mouseenter", this._onMouseEnter),
                    n(this.upperCanvasEl, "wheel", this._onMouseWheel),
                    n(this.upperCanvasEl, "contextmenu", this._onContextMenu),
                    n(this.upperCanvasEl, "touchstart", this._onMouseDown),
                    n(this.upperCanvasEl, "touchmove", this._onMouseMove),
                    "undefined" != typeof eventjs && "remove"in eventjs && (eventjs.remove(this.upperCanvasEl, "gesture", this._onGesture),
                    eventjs.remove(this.upperCanvasEl, "drag", this._onDrag),
                    eventjs.remove(this.upperCanvasEl, "orientation", this._onOrientationChange),
                    eventjs.remove(this.upperCanvasEl, "shake", this._onShake),
                    eventjs.remove(this.upperCanvasEl, "longpress", this._onLongPress))
                },
                _onGesture: function(e, t) {
                    this.__onTransformGesture && this.__onTransformGesture(e, t)
                },
                _onDrag: function(e, t) {
                    this.__onDrag && this.__onDrag(e, t)
                },
                _onMouseWheel: function(e) {
                    this.__onMouseWheel(e)
                },
                _onMouseOut: function(e) {
                    var t = this._hoveredTarget;
                    this.fire("mouse:out", {
                        target: t,
                        e: e
                    }),
                    this._hoveredTarget = null,
                    t && t.fire("mouseout", {
                        e: e
                    })
                },
                _onMouseEnter: function(e) {
                    this.findTarget(e) || (this.fire("mouse:over", {
                        target: null,
                        e: e
                    }),
                    this._hoveredTarget = null)
                },
                _onOrientationChange: function(e, t) {
                    this.__onOrientationChange && this.__onOrientationChange(e, t)
                },
                _onShake: function(e, t) {
                    this.__onShake && this.__onShake(e, t)
                },
                _onLongPress: function(e, t) {
                    this.__onLongPress && this.__onLongPress(e, t)
                },
                _onContextMenu: function(e) {
                    return this.stopContextMenu && (e.stopPropagation(),
                    e.preventDefault()),
                    !1
                },
                _onMouseDown: function(e) {
                    this.__onMouseDown(e),
                    t(fabric.document, "touchend", this._onMouseUp),
                    t(fabric.document, "touchmove", this._onMouseMove),
                    n(this.upperCanvasEl, "mousemove", this._onMouseMove),
                    n(this.upperCanvasEl, "touchmove", this._onMouseMove),
                    "touchstart" === e.type ? n(this.upperCanvasEl, "mousedown", this._onMouseDown) : (t(fabric.document, "mouseup", this._onMouseUp),
                    t(fabric.document, "mousemove", this._onMouseMove))
                },
                _onMouseUp: function(e) {
                    if (this.__onMouseUp(e),
                    n(fabric.document, "mouseup", this._onMouseUp),
                    n(fabric.document, "touchend", this._onMouseUp),
                    n(fabric.document, "mousemove", this._onMouseMove),
                    n(fabric.document, "touchmove", this._onMouseMove),
                    t(this.upperCanvasEl, "mousemove", this._onMouseMove),
                    t(this.upperCanvasEl, "touchmove", this._onMouseMove),
                    "touchend" === e.type) {
                        var r = this;
                        setTimeout(function() {
                            t(r.upperCanvasEl, "mousedown", r._onMouseDown)
                        }, 400)
                    }
                },
                _onMouseMove: function(e) {
                    !this.allowTouchScrolling && e.preventDefault && e.preventDefault(),
                    this.__onMouseMove(e)
                },
                _onResize: function() {
                    this.calcOffset()
                },
                _shouldRender: function(e, t) {
                    var n = this.getActiveGroup() || this.getActiveObject();
                    return !(n && n.isEditing && e === n || !(e && (e.isMoving || e !== n) || !e && n || !e && !n && !this._groupSelector || t && this._previousPointer && this.selection && (t.x !== this._previousPointer.x || t.y !== this._previousPointer.y)))
                },
                __onMouseUp: function(e) {
                    var t, n = !0, r = this._currentTransform, i = this._groupSelector, o = !i || 0 === i.left && 0 === i.top;
                    if (this.isDrawingMode && this._isCurrentlyDrawing)
                        this._onMouseUpInDrawingMode(e);
                    else {
                        r && (this._finalizeCurrentTransform(),
                        n = !r.actionPerformed),
                        t = n ? this.findTarget(e, !0) : r.target;
                        var a = this._shouldRender(t, this.getPointer(e));
                        t || !o ? this._maybeGroupObjects(e) : (this._groupSelector = null,
                        this._currentTransform = null),
                        t && (t.isMoving = !1),
                        this._handleCursorAndEvent(e, t, "up"),
                        t && (t.__corner = 0),
                        a && this.renderAll()
                    }
                },
                _handleCursorAndEvent: function(e, t, n) {
                    this._setCursorFromEvent(e, t),
                    this._handleEvent(e, n, t || null)
                },
                _handleEvent: function(e, t, n) {
                    var r = void 0 === n ? this.findTarget(e) : n
                      , i = this.targets || []
                      , o = {
                        e: e,
                        target: r,
                        subTargets: i
                    };
                    this.fire("mouse:" + t, o),
                    r && r.fire("mouse" + t, o);
                    for (var a = 0; a < i.length; a++)
                        i[a].fire("mouse" + t, o)
                },
                _finalizeCurrentTransform: function() {
                    var e = this._currentTransform
                      , t = e.target;
                    t._scaling && (t._scaling = !1),
                    t.setCoords(),
                    this._restoreOriginXY(t),
                    (e.actionPerformed || this.stateful && t.hasStateChanged()) && (this.fire("object:modified", {
                        target: t
                    }),
                    t.fire("modified"))
                },
                _restoreOriginXY: function(e) {
                    if (this._previousOriginX && this._previousOriginY) {
                        var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this._previousOriginY);
                        e.originX = this._previousOriginX,
                        e.originY = this._previousOriginY,
                        e.left = t.x,
                        e.top = t.y,
                        this._previousOriginX = null,
                        this._previousOriginY = null
                    }
                },
                _onMouseDownInDrawingMode: function(e) {
                    this._isCurrentlyDrawing = !0,
                    this.discardActiveObject(e).renderAll(),
                    this.clipTo && fabric.util.clipContext(this, this.contextTop);
                    var t = this.getPointer(e);
                    this.freeDrawingBrush.onMouseDown(t),
                    this._handleEvent(e, "down")
                },
                _onMouseMoveInDrawingMode: function(e) {
                    if (this._isCurrentlyDrawing) {
                        var t = this.getPointer(e);
                        this.freeDrawingBrush.onMouseMove(t)
                    }
                    this.setCursor(this.freeDrawingCursor),
                    this._handleEvent(e, "move")
                },
                _onMouseUpInDrawingMode: function(e) {
                    this._isCurrentlyDrawing = !1,
                    this.clipTo && this.contextTop.restore(),
                    this.freeDrawingBrush.onMouseUp(),
                    this._handleEvent(e, "up")
                },
                __onMouseDown: function(e) {
                    var t = this.findTarget(e);
                    if ("which"in e ? 3 === e.which : 2 === e.button)
                        this.fireRightClick && this._handleEvent(e, "down", t || null);
                    else if (this.isDrawingMode)
                        this._onMouseDownInDrawingMode(e);
                    else if (!this._currentTransform) {
                        var n = this.getPointer(e, !0);
                        this._previousPointer = n;
                        var r = this._shouldRender(t, n)
                          , i = this._shouldGroup(e, t);
                        this._shouldClearSelection(e, t) ? this._clearSelection(e, t, n) : i && (this._handleGrouping(e, t),
                        t = this.getActiveGroup()),
                        t && (!t.selectable || !t.__corner && i || (this._beforeTransform(e, t),
                        this._setupCurrentTransform(e, t)),
                        t !== this.getActiveGroup() && t !== this.getActiveObject() && (this.deactivateAll(),
                        t.selectable && this.setActiveObject(t, e))),
                        this._handleEvent(e, "down", t || null),
                        r && this.renderAll()
                    }
                },
                _beforeTransform: function(e, t) {
                    this.stateful && t.saveState(),
                    t._findTargetCorner(this.getPointer(e)) && this.onBeforeScaleRotate(t)
                },
                _clearSelection: function(e, t, n) {
                    this.deactivateAllWithDispatch(e),
                    t && t.selectable ? this.setActiveObject(t, e) : this.selection && (this._groupSelector = {
                        ex: n.x,
                        ey: n.y,
                        top: 0,
                        left: 0
                    })
                },
                _setOriginToCenter: function(e) {
                    this._previousOriginX = this._currentTransform.target.originX,
                    this._previousOriginY = this._currentTransform.target.originY;
                    var t = e.getCenterPoint();
                    e.originX = "center",
                    e.originY = "center",
                    e.left = t.x,
                    e.top = t.y,
                    this._currentTransform.left = e.left,
                    this._currentTransform.top = e.top
                },
                _setCenterToOrigin: function(e) {
                    var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this._previousOriginY);
                    e.originX = this._previousOriginX,
                    e.originY = this._previousOriginY,
                    e.left = t.x,
                    e.top = t.y,
                    this._previousOriginX = null,
                    this._previousOriginY = null
                },
                __onMouseMove: function(e) {
                    var t, n;
                    if (this.isDrawingMode)
                        this._onMouseMoveInDrawingMode(e);
                    else if (!(void 0 !== e.touches && e.touches.length > 1)) {
                        var r = this._groupSelector;
                        r ? (n = this.getPointer(e, !0),
                        r.left = n.x - r.ex,
                        r.top = n.y - r.ey,
                        this.renderTop()) : this._currentTransform ? this._transformObject(e) : (t = this.findTarget(e),
                        this._setCursorFromEvent(e, t)),
                        this._handleEvent(e, "move", t || null)
                    }
                },
                __onMouseWheel: function(e) {
                    this._handleEvent(e, "wheel")
                },
                _transformObject: function(e) {
                    var t = this.getPointer(e)
                      , n = this._currentTransform;
                    n.reset = !1,
                    n.target.isMoving = !0,
                    n.shiftKey = e.shiftKey,
                    n.altKey = e[this.centeredKey],
                    this._beforeScaleTransform(e, n),
                    this._performTransformAction(e, n, t),
                    n.actionPerformed && this.renderAll()
                },
                _performTransformAction: function(e, t, n) {
                    var r = n.x
                      , i = n.y
                      , o = t.target
                      , a = t.action
                      , s = !1;
                    "rotate" === a ? (s = this._rotateObject(r, i)) && this._fire("rotating", o, e) : "scale" === a ? (s = this._onScale(e, t, r, i)) && this._fire("scaling", o, e) : "scaleX" === a ? (s = this._scaleObject(r, i, "x")) && this._fire("scaling", o, e) : "scaleY" === a ? (s = this._scaleObject(r, i, "y")) && this._fire("scaling", o, e) : "skewX" === a ? (s = this._skewObject(r, i, "x")) && this._fire("skewing", o, e) : "skewY" === a ? (s = this._skewObject(r, i, "y")) && this._fire("skewing", o, e) : (s = this._translateObject(r, i)) && (this._fire("moving", o, e),
                    this.setCursor(o.moveCursor || this.moveCursor)),
                    t.actionPerformed = t.actionPerformed || s
                },
                _fire: function(e, t, n) {
                    this.fire("object:" + e, {
                        target: t,
                        e: n
                    }),
                    t.fire(e, {
                        e: n
                    })
                },
                _beforeScaleTransform: function(e, t) {
                    if ("scale" === t.action || "scaleX" === t.action || "scaleY" === t.action) {
                        var n = this._shouldCenterTransform(t.target);
                        (n && ("center" !== t.originX || "center" !== t.originY) || !n && "center" === t.originX && "center" === t.originY) && (this._resetCurrentTransform(),
                        t.reset = !0)
                    }
                },
                _onScale: function(e, t, n, r) {
                    return !e[this.uniScaleKey] && !this.uniScaleTransform || t.target.get("lockUniScaling") ? (t.reset || "scale" !== t.currentAction || this._resetCurrentTransform(),
                    t.currentAction = "scaleEqually",
                    this._scaleObject(n, r, "equally")) : (t.currentAction = "scale",
                    this._scaleObject(n, r))
                },
                _setCursorFromEvent: function(e, t) {
                    if (!t)
                        return this.setCursor(this.defaultCursor),
                        !1;
                    var n = t.hoverCursor || this.hoverCursor;
                    if (t.selectable) {
                        var r = this.getActiveGroup()
                          , i = t._findTargetCorner && (!r || !r.contains(t)) && t._findTargetCorner(this.getPointer(e, !0));
                        i ? this._setCornerCursor(i, t, e) : this.setCursor(n)
                    } else
                        this.setCursor(n);
                    return !0
                },
                _setCornerCursor: function(t, n, r) {
                    if (t in e)
                        this.setCursor(this._getRotatedCornerCursor(t, n, r));
                    else {
                        if ("mtr" !== t || !n.hasRotatingPoint)
                            return this.setCursor(this.defaultCursor),
                            !1;
                        this.setCursor(this.rotationCursor)
                    }
                },
                _getRotatedCornerCursor: function(t, n, r) {
                    var i = Math.round(n.getAngle() % 360 / 45);
                    return i < 0 && (i += 8),
                    i += e[t],
                    r[this.altActionKey] && e[t] % 2 == 0 && (i += 2),
                    i %= 8,
                    this.cursorMap[i]
                }
            })
        }(),
        function() {
            var e = Math.min
              , t = Math.max;
            fabric.util.object.extend(fabric.Canvas.prototype, {
                _shouldGroup: function(e, t) {
                    var n = this.getActiveObject();
                    return e[this.selectionKey] && t && t.selectable && (this.getActiveGroup() || n && n !== t) && this.selection
                },
                _handleGrouping: function(e, t) {
                    var n = this.getActiveGroup();
                    (t !== n || (t = this.findTarget(e, !0))) && (n ? this._updateActiveGroup(t, e) : this._createActiveGroup(t, e),
                    this._activeGroup && this._activeGroup.saveCoords())
                },
                _updateActiveGroup: function(e, t) {
                    var n = this.getActiveGroup();
                    if (n.contains(e)) {
                        if (n.removeWithUpdate(e),
                        e.set("active", !1),
                        1 === n.size())
                            return this.discardActiveGroup(t),
                            void this.setActiveObject(n.item(0))
                    } else
                        n.addWithUpdate(e);
                    this.fire("selection:created", {
                        target: n,
                        e: t
                    }),
                    n.set("active", !0)
                },
                _createActiveGroup: function(e, t) {
                    if (this._activeObject && e !== this._activeObject) {
                        var n = this._createGroup(e);
                        n.addWithUpdate(),
                        this.setActiveGroup(n),
                        this._activeObject = null,
                        this.fire("selection:created", {
                            target: n,
                            e: t
                        })
                    }
                    e.set("active", !0)
                },
                _createGroup: function(e) {
                    var t = this.getObjects()
                      , n = t.indexOf(this._activeObject) < t.indexOf(e) ? [this._activeObject, e] : [e, this._activeObject];
                    return this._activeObject.isEditing && this._activeObject.exitEditing(),
                    new fabric.Group(n,{
                        canvas: this
                    })
                },
                _groupSelectedObjects: function(e) {
                    var t = this._collectObjects();
                    1 === t.length ? this.setActiveObject(t[0], e) : t.length > 1 && ((t = new fabric.Group(t.reverse(),{
                        canvas: this
                    })).addWithUpdate(),
                    this.setActiveGroup(t, e),
                    t.saveCoords(),
                    this.fire("selection:created", {
                        target: t
                    }),
                    this.renderAll())
                },
                _collectObjects: function() {
                    for (var n, r = [], i = this._groupSelector.ex, o = this._groupSelector.ey, a = i + this._groupSelector.left, s = o + this._groupSelector.top, c = new fabric.Point(e(i, a),e(o, s)), l = new fabric.Point(t(i, a),t(o, s)), u = i === a && o === s, d = this._objects.length; d-- && !((n = this._objects[d]) && n.selectable && n.visible && (n.intersectsWithRect(c, l) || n.isContainedWithinRect(c, l) || n.containsPoint(c) || n.containsPoint(l)) && (n.set("active", !0),
                    r.push(n),
                    u)); )
                        ;
                    return r
                },
                _maybeGroupObjects: function(e) {
                    this.selection && this._groupSelector && this._groupSelectedObjects(e);
                    var t = this.getActiveGroup();
                    t && (t.setObjectsCoords().setCoords(),
                    t.isMoving = !1,
                    this.setCursor(this.defaultCursor)),
                    this._groupSelector = null,
                    this._currentTransform = null
                }
            })
        }(),
        function() {
            var e = fabric.StaticCanvas.supports("toDataURLWithQuality");
            fabric.util.object.extend(fabric.StaticCanvas.prototype, {
                toDataURL: function(e) {
                    e || (e = {});
                    var t = e.format || "png"
                      , n = e.quality || 1
                      , r = e.multiplier || 1
                      , i = {
                        left: e.left || 0,
                        top: e.top || 0,
                        width: e.width || 0,
                        height: e.height || 0
                    };
                    return this.__toDataURLWithMultiplier(t, n, i, r)
                },
                __toDataURLWithMultiplier: function(e, t, n, r) {
                    var i = this.getWidth()
                      , o = this.getHeight()
                      , a = (n.width || this.getWidth()) * r
                      , s = (n.height || this.getHeight()) * r
                      , c = this.getZoom() * r
                      , l = this.viewportTransform
                      , u = [c, 0, 0, c, (l[4] - n.left) * r, (l[5] - n.top) * r]
                      , d = this.interactive;
                    this.viewportTransform = u,
                    this.interactive && (this.interactive = !1),
                    i !== a || o !== s ? this.setDimensions({
                        width: a,
                        height: s
                    }) : this.renderAll();
                    var f = this.__toDataURL(e, t, n);
                    return d && (this.interactive = d),
                    this.viewportTransform = l,
                    this.setDimensions({
                        width: i,
                        height: o
                    }),
                    f
                },
                __toDataURL: function(t, n) {
                    var r = this.contextContainer.canvas;
                    return "jpg" === t && (t = "jpeg"),
                    e ? r.toDataURL("image/" + t, n) : r.toDataURL("image/" + t)
                },
                toDataURLWithMultiplier: function(e, t, n) {
                    return this.toDataURL({
                        format: e,
                        multiplier: t,
                        quality: n
                    })
                }
            })
        }(),
        fabric.util.object.extend(fabric.StaticCanvas.prototype, {
            loadFromDatalessJSON: function(e, t, n) {
                return this.loadFromJSON(e, t, n)
            },
            loadFromJSON: function(e, t, n) {
                if (e) {
                    var r = "string" == typeof e ? JSON.parse(e) : fabric.util.object.clone(e);
                    this.clear();
                    var i = this;
                    return this._enlivenObjects(r.objects, function() {
                        i._setBgOverlay(r, function() {
                            delete r.objects,
                            delete r.backgroundImage,
                            delete r.overlayImage,
                            delete r.background,
                            delete r.overlay,
                            i._setOptions(r),
                            t && t()
                        })
                    }, n),
                    this
                }
            },
            _setBgOverlay: function(e, t) {
                var n = this
                  , r = {
                    backgroundColor: !1,
                    overlayColor: !1,
                    backgroundImage: !1,
                    overlayImage: !1
                };
                if (e.backgroundImage || e.overlayImage || e.background || e.overlay) {
                    var i = function() {
                        r.backgroundImage && r.overlayImage && r.backgroundColor && r.overlayColor && (n.renderAll(),
                        t && t())
                    };
                    this.__setBgOverlay("backgroundImage", e.backgroundImage, r, i),
                    this.__setBgOverlay("overlayImage", e.overlayImage, r, i),
                    this.__setBgOverlay("backgroundColor", e.background, r, i),
                    this.__setBgOverlay("overlayColor", e.overlay, r, i)
                } else
                    t && t()
            },
            __setBgOverlay: function(e, t, n, r) {
                var i = this;
                return t ? void ("backgroundImage" === e || "overlayImage" === e ? fabric.util.enlivenObjects([t], function(t) {
                    i[e] = t[0],
                    n[e] = !0,
                    r && r()
                }) : this["set" + fabric.util.string.capitalize(e, !0)](t, function() {
                    n[e] = !0,
                    r && r()
                })) : (n[e] = !0,
                void (r && r()))
            },
            _enlivenObjects: function(e, t, n) {
                var r = this;
                if (e && 0 !== e.length) {
                    var i = this.renderOnAddRemove;
                    this.renderOnAddRemove = !1,
                    fabric.util.enlivenObjects(e, function(e) {
                        e.forEach(function(e, t) {
                            r.insertAt(e, t)
                        }),
                        r.renderOnAddRemove = i,
                        t && t()
                    }, null, n)
                } else
                    t && t()
            },
            _toDataURL: function(e, t) {
                this.clone(function(n) {
                    t(n.toDataURL(e))
                })
            },
            _toDataURLWithMultiplier: function(e, t, n) {
                this.clone(function(r) {
                    n(r.toDataURLWithMultiplier(e, t))
                })
            },
            clone: function(e, t) {
                var n = JSON.stringify(this.toJSON(t));
                this.cloneWithoutData(function(t) {
                    t.loadFromJSON(n, function() {
                        e && e(t)
                    })
                })
            },
            cloneWithoutData: function(e) {
                var t = fabric.document.createElement("canvas");
                t.width = this.getWidth(),
                t.height = this.getHeight();
                var n = new fabric.Canvas(t);
                n.clipTo = this.clipTo,
                this.backgroundImage ? (n.setBackgroundImage(this.backgroundImage.src, function() {
                    n.renderAll(),
                    e && e(n)
                }),
                n.backgroundImageOpacity = this.backgroundImageOpacity,
                n.backgroundImageStretch = this.backgroundImageStretch) : e && e(n)
            }
        }),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.util.object.clone
              , i = t.util.toFixed
              , o = t.util.string.capitalize
              , a = t.util.degreesToRadians
              , s = t.StaticCanvas.supports("setLineDash")
              , c = !t.isLikelyNode;
            t.Object || (t.Object = t.util.createClass(t.CommonMethods, {
                type: "object",
                originX: "left",
                originY: "top",
                top: 0,
                left: 0,
                width: 0,
                height: 0,
                scaleX: 1,
                scaleY: 1,
                flipX: !1,
                flipY: !1,
                opacity: 1,
                angle: 0,
                skewX: 0,
                skewY: 0,
                cornerSize: 13,
                transparentCorners: !0,
                hoverCursor: null,
                moveCursor: null,
                padding: 0,
                borderColor: "rgba(102,153,255,0.75)",
                borderDashArray: null,
                cornerColor: "rgba(102,153,255,0.5)",
                cornerStrokeColor: null,
                cornerStyle: "rect",
                cornerDashArray: null,
                centeredScaling: !1,
                centeredRotation: !0,
                fill: "rgb(0,0,0)",
                fillRule: "nonzero",
                globalCompositeOperation: "source-over",
                backgroundColor: "",
                selectionBackgroundColor: "",
                stroke: null,
                strokeWidth: 1,
                strokeDashArray: null,
                strokeLineCap: "butt",
                strokeLineJoin: "miter",
                strokeMiterLimit: 10,
                shadow: null,
                borderOpacityWhenMoving: .4,
                borderScaleFactor: 1,
                transformMatrix: null,
                minScaleLimit: .01,
                selectable: !0,
                evented: !0,
                visible: !0,
                hasControls: !0,
                hasBorders: !0,
                hasRotatingPoint: !0,
                rotatingPointOffset: 40,
                perPixelTargetFind: !1,
                includeDefaultValues: !0,
                clipTo: null,
                lockMovementX: !1,
                lockMovementY: !1,
                lockRotation: !1,
                lockScalingX: !1,
                lockScalingY: !1,
                lockUniScaling: !1,
                lockSkewingX: !1,
                lockSkewingY: !1,
                lockScalingFlip: !1,
                excludeFromExport: !1,
                objectCaching: c,
                statefullCache: !1,
                noScaleCache: !0,
                dirty: !1,
                stateProperties: "top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY".split(" "),
                cacheProperties: "fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor".split(" "),
                initialize: function(e) {
                    (e = e || {}) && this.setOptions(e),
                    this.objectCaching && (this._createCacheCanvas(),
                    this.setupState({
                        propertySet: "cacheProperties"
                    }))
                },
                _createCacheCanvas: function() {
                    this._cacheCanvas = t.document.createElement("canvas"),
                    this._cacheContext = this._cacheCanvas.getContext("2d"),
                    this._updateCacheCanvas()
                },
                _getCacheCanvasDimensions: function() {
                    var e = this.canvas && this.canvas.getZoom() || 1
                      , n = this.getObjectScaling()
                      , r = this._getNonTransformedDimensions()
                      , i = this.canvas && this.canvas._isRetinaScaling() ? t.devicePixelRatio : 1
                      , o = n.scaleX * e * i
                      , a = n.scaleY * e * i
                      , s = r.x * o
                      , c = r.y * a;
                    return {
                        width: Math.ceil(s) + 2,
                        height: Math.ceil(c) + 2,
                        zoomX: o,
                        zoomY: a
                    }
                },
                _updateCacheCanvas: function() {
                    if (this.noScaleCache && this.canvas && this.canvas._currentTransform && "scale" === this.canvas._currentTransform.action.slice(0, 5))
                        return !1;
                    var e = this._getCacheCanvasDimensions()
                      , t = e.width
                      , n = e.height
                      , r = e.zoomX
                      , i = e.zoomY;
                    return (t !== this.cacheWidth || n !== this.cacheHeight) && (this._cacheCanvas.width = t,
                    this._cacheCanvas.height = n,
                    this._cacheContext.translate(t / 2, n / 2),
                    this._cacheContext.scale(r, i),
                    this.cacheWidth = t,
                    this.cacheHeight = n,
                    this.zoomX = r,
                    this.zoomY = i,
                    !0)
                },
                setOptions: function(e) {
                    this._setOptions(e),
                    this._initGradient(e.fill, "fill"),
                    this._initGradient(e.stroke, "stroke"),
                    this._initClipping(e),
                    this._initPattern(e.fill, "fill"),
                    this._initPattern(e.stroke, "stroke")
                },
                transform: function(e, t) {
                    this.group && !this.group._transformDone && this.group === this.canvas._activeGroup && this.group.transform(e);
                    var n = t ? this._getLeftTopCoords() : this.getCenterPoint();
                    e.translate(n.x, n.y),
                    e.rotate(a(this.angle)),
                    e.scale(this.scaleX * (this.flipX ? -1 : 1), this.scaleY * (this.flipY ? -1 : 1)),
                    e.transform(1, 0, Math.tan(a(this.skewX)), 1, 0, 0),
                    e.transform(1, Math.tan(a(this.skewY)), 0, 1, 0, 0)
                },
                toObject: function(e) {
                    var n = t.Object.NUM_FRACTION_DIGITS
                      , r = {
                        type: this.type,
                        originX: this.originX,
                        originY: this.originY,
                        left: i(this.left, n),
                        top: i(this.top, n),
                        width: i(this.width, n),
                        height: i(this.height, n),
                        fill: this.fill && this.fill.toObject ? this.fill.toObject() : this.fill,
                        stroke: this.stroke && this.stroke.toObject ? this.stroke.toObject() : this.stroke,
                        strokeWidth: i(this.strokeWidth, n),
                        strokeDashArray: this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray,
                        strokeLineCap: this.strokeLineCap,
                        strokeLineJoin: this.strokeLineJoin,
                        strokeMiterLimit: i(this.strokeMiterLimit, n),
                        scaleX: i(this.scaleX, n),
                        scaleY: i(this.scaleY, n),
                        angle: i(this.getAngle(), n),
                        flipX: this.flipX,
                        flipY: this.flipY,
                        opacity: i(this.opacity, n),
                        shadow: this.shadow && this.shadow.toObject ? this.shadow.toObject() : this.shadow,
                        visible: this.visible,
                        clipTo: this.clipTo && String(this.clipTo),
                        backgroundColor: this.backgroundColor,
                        fillRule: this.fillRule,
                        globalCompositeOperation: this.globalCompositeOperation,
                        transformMatrix: this.transformMatrix ? this.transformMatrix.concat() : null,
                        skewX: i(this.skewX, n),
                        skewY: i(this.skewY, n)
                    };
                    return t.util.populateWithProperties(this, r, e),
                    this.includeDefaultValues || (r = this._removeDefaultValues(r)),
                    r
                },
                toDatalessObject: function(e) {
                    return this.toObject(e)
                },
                _removeDefaultValues: function(e) {
                    var n = t.util.getKlass(e.type).prototype;
                    return n.stateProperties.forEach(function(t) {
                        e[t] === n[t] && delete e[t],
                        "[object Array]" === Object.prototype.toString.call(e[t]) && "[object Array]" === Object.prototype.toString.call(n[t]) && 0 === e[t].length && 0 === n[t].length && delete e[t]
                    }),
                    e
                },
                toString: function() {
                    return "#<fabric." + o(this.type) + ">"
                },
                getObjectScaling: function() {
                    var e = this.scaleX
                      , t = this.scaleY;
                    if (this.group) {
                        var n = this.group.getObjectScaling();
                        e *= n.scaleX,
                        t *= n.scaleY
                    }
                    return {
                        scaleX: e,
                        scaleY: t
                    }
                },
                _set: function(e, n) {
                    return ("scaleX" === e || "scaleY" === e) && (n = this._constrainScale(n)),
                    "scaleX" === e && n < 0 ? (this.flipX = !this.flipX,
                    n *= -1) : "scaleY" === e && n < 0 ? (this.flipY = !this.flipY,
                    n *= -1) : "shadow" !== e || !n || n instanceof t.Shadow ? "dirty" === e && this.group && this.group.set("dirty", n) : n = new t.Shadow(n),
                    this[e] = n,
                    this.cacheProperties.indexOf(e) > -1 && (this.group && this.group.set("dirty", !0),
                    this.dirty = !0),
                    "width" !== e && "height" !== e || (this.minScaleLimit = Math.min(.1, 1 / Math.max(this.width, this.height))),
                    this
                },
                setOnGroup: function() {},
                setSourcePath: function(e) {
                    return this.sourcePath = e,
                    this
                },
                getViewportTransform: function() {
                    return this.canvas && this.canvas.viewportTransform ? this.canvas.viewportTransform : [1, 0, 0, 1, 0, 0]
                },
                render: function(e, n) {
                    0 === this.width && 0 === this.height || !this.visible || (e.save(),
                    this._setupCompositeOperation(e),
                    this.drawSelectionBackground(e),
                    n || this.transform(e),
                    this._setOpacity(e),
                    this._setShadow(e),
                    this.transformMatrix && e.transform.apply(e, this.transformMatrix),
                    this.clipTo && t.util.clipContext(this, e),
                    this.objectCaching && !this.group ? (this.isCacheDirty(n) && (this.statefullCache && this.saveState({
                        propertySet: "cacheProperties"
                    }),
                    this.drawObject(this._cacheContext, n),
                    this.dirty = !1),
                    this.drawCacheOnCanvas(e)) : (this.drawObject(e, n),
                    n && this.objectCaching && this.statefullCache && this.saveState({
                        propertySet: "cacheProperties"
                    })),
                    this.clipTo && e.restore(),
                    e.restore())
                },
                drawObject: function(e, t) {
                    this._renderBackground(e),
                    this._setStrokeStyles(e),
                    this._setFillStyles(e),
                    this._render(e, t)
                },
                drawCacheOnCanvas: function(e) {
                    e.scale(1 / this.zoomX, 1 / this.zoomY),
                    e.drawImage(this._cacheCanvas, -this.cacheWidth / 2, -this.cacheHeight / 2)
                },
                isCacheDirty: function(e) {
                    if (!e && this._updateCacheCanvas())
                        return !0;
                    if (this.dirty || this.statefullCache && this.hasStateChanged("cacheProperties")) {
                        if (!e) {
                            var t = this._getNonTransformedDimensions();
                            this._cacheContext.clearRect(-t.x / 2, -t.y / 2, t.x, t.y)
                        }
                        return !0
                    }
                    return !1
                },
                _renderBackground: function(e) {
                    if (this.backgroundColor) {
                        var t = this._getNonTransformedDimensions();
                        e.fillStyle = this.backgroundColor,
                        e.fillRect(-t.x / 2, -t.y / 2, t.x, t.y),
                        this._removeShadow(e)
                    }
                },
                _setOpacity: function(e) {
                    e.globalAlpha *= this.opacity
                },
                _setStrokeStyles: function(e) {
                    this.stroke && (e.lineWidth = this.strokeWidth,
                    e.lineCap = this.strokeLineCap,
                    e.lineJoin = this.strokeLineJoin,
                    e.miterLimit = this.strokeMiterLimit,
                    e.strokeStyle = this.stroke.toLive ? this.stroke.toLive(e, this) : this.stroke)
                },
                _setFillStyles: function(e) {
                    this.fill && (e.fillStyle = this.fill.toLive ? this.fill.toLive(e, this) : this.fill)
                },
                _setLineDash: function(e, t, n) {
                    t && (1 & t.length && t.push.apply(t, t),
                    s ? e.setLineDash(t) : n && n(e))
                },
                _renderControls: function(e, n) {
                    if (!(!this.active || n || this.group && this.group !== this.canvas.getActiveGroup())) {
                        var r, i = this.getViewportTransform(), o = this.calcTransformMatrix();
                        o = t.util.multiplyTransformMatrices(i, o),
                        r = t.util.qrDecompose(o),
                        e.save(),
                        e.translate(r.translateX, r.translateY),
                        e.lineWidth = 1 * this.borderScaleFactor,
                        this.group || (e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1),
                        this.group && this.group === this.canvas.getActiveGroup() ? (e.rotate(a(r.angle)),
                        this.drawBordersInGroup(e, r)) : (e.rotate(a(this.angle)),
                        this.drawBorders(e)),
                        this.drawControls(e),
                        e.restore()
                    }
                },
                _setShadow: function(e) {
                    if (this.shadow) {
                        var n = this.canvas && this.canvas.viewportTransform[0] || 1
                          , r = this.canvas && this.canvas.viewportTransform[3] || 1
                          , i = this.getObjectScaling();
                        this.canvas && this.canvas._isRetinaScaling() && (n *= t.devicePixelRatio,
                        r *= t.devicePixelRatio),
                        e.shadowColor = this.shadow.color,
                        e.shadowBlur = this.shadow.blur * (n + r) * (i.scaleX + i.scaleY) / 4,
                        e.shadowOffsetX = this.shadow.offsetX * n * i.scaleX,
                        e.shadowOffsetY = this.shadow.offsetY * r * i.scaleY
                    }
                },
                _removeShadow: function(e) {
                    this.shadow && (e.shadowColor = "",
                    e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0)
                },
                _applyPatternGradientTransform: function(e, t) {
                    if (t.toLive) {
                        var n = t.gradientTransform || t.patternTransform;
                        n && e.transform.apply(e, n);
                        var r = -this.width / 2 + t.offsetX || 0
                          , i = -this.height / 2 + t.offsetY || 0;
                        e.translate(r, i)
                    }
                },
                _renderFill: function(e) {
                    this.fill && (e.save(),
                    this._applyPatternGradientTransform(e, this.fill),
                    "evenodd" === this.fillRule ? e.fill("evenodd") : e.fill(),
                    e.restore())
                },
                _renderStroke: function(e) {
                    this.stroke && 0 !== this.strokeWidth && (this.shadow && !this.shadow.affectStroke && this._removeShadow(e),
                    e.save(),
                    this._setLineDash(e, this.strokeDashArray, this._renderDashedStroke),
                    this._applyPatternGradientTransform(e, this.stroke),
                    e.stroke(),
                    e.restore())
                },
                clone: function(e, n) {
                    return this.constructor.fromObject ? this.constructor.fromObject(this.toObject(n), e) : new t.Object(this.toObject(n))
                },
                cloneAsImage: function(e, n) {
                    var r = this.toDataURL(n);
                    return t.util.loadImage(r, function(n) {
                        e && e(new t.Image(n))
                    }),
                    this
                },
                toDataURL: function(e) {
                    e || (e = {});
                    var n = t.util.createCanvasElement()
                      , r = this.getBoundingRect();
                    n.width = r.width,
                    n.height = r.height,
                    t.util.wrapElement(n, "div");
                    var i = new t.StaticCanvas(n,{
                        enableRetinaScaling: e.enableRetinaScaling
                    });
                    "jpg" === e.format && (e.format = "jpeg"),
                    "jpeg" === e.format && (i.backgroundColor = "#fff");
                    var o = {
                        active: this.get("active"),
                        left: this.getLeft(),
                        top: this.getTop()
                    };
                    this.set("active", !1),
                    this.setPositionByOrigin(new t.Point(i.getWidth() / 2,i.getHeight() / 2), "center", "center");
                    var a = this.canvas;
                    i.add(this);
                    var s = i.toDataURL(e);
                    return this.set(o).setCoords(),
                    this.canvas = a,
                    i.dispose(),
                    i = null,
                    s
                },
                isType: function(e) {
                    return this.type === e
                },
                complexity: function() {
                    return 0
                },
                toJSON: function(e) {
                    return this.toObject(e)
                },
                setGradient: function(e, n) {
                    n || (n = {});
                    var r = {
                        colorStops: []
                    };
                    return r.type = n.type || (n.r1 || n.r2 ? "radial" : "linear"),
                    r.coords = {
                        x1: n.x1,
                        y1: n.y1,
                        x2: n.x2,
                        y2: n.y2
                    },
                    (n.r1 || n.r2) && (r.coords.r1 = n.r1,
                    r.coords.r2 = n.r2),
                    r.gradientTransform = n.gradientTransform,
                    t.Gradient.prototype.addColorStop.call(r, n.colorStops),
                    this.set(e, t.Gradient.forObject(this, r))
                },
                setPatternFill: function(e) {
                    return this.set("fill", new t.Pattern(e))
                },
                setShadow: function(e) {
                    return this.set("shadow", e ? new t.Shadow(e) : null)
                },
                setColor: function(e) {
                    return this.set("fill", e),
                    this
                },
                setAngle: function(e) {
                    var t = ("center" !== this.originX || "center" !== this.originY) && this.centeredRotation;
                    return t && this._setOriginToCenter(),
                    this.set("angle", e),
                    t && this._resetOrigin(),
                    this
                },
                centerH: function() {
                    return this.canvas && this.canvas.centerObjectH(this),
                    this
                },
                viewportCenterH: function() {
                    return this.canvas && this.canvas.viewportCenterObjectH(this),
                    this
                },
                centerV: function() {
                    return this.canvas && this.canvas.centerObjectV(this),
                    this
                },
                viewportCenterV: function() {
                    return this.canvas && this.canvas.viewportCenterObjectV(this),
                    this
                },
                center: function() {
                    return this.canvas && this.canvas.centerObject(this),
                    this
                },
                viewportCenter: function() {
                    return this.canvas && this.canvas.viewportCenterObject(this),
                    this
                },
                remove: function() {
                    return this.canvas && this.canvas.remove(this),
                    this
                },
                getLocalPointer: function(e, n) {
                    n = n || this.canvas.getPointer(e);
                    var r = new t.Point(n.x,n.y)
                      , i = this._getLeftTopCoords();
                    return this.angle && (r = t.util.rotatePoint(r, i, a(-this.angle))),
                    {
                        x: r.x - i.x,
                        y: r.y - i.y
                    }
                },
                _setupCompositeOperation: function(e) {
                    this.globalCompositeOperation && (e.globalCompositeOperation = this.globalCompositeOperation)
                }
            }),
            t.util.createAccessors(t.Object),
            t.Object.prototype.rotate = t.Object.prototype.setAngle,
            n(t.Object.prototype, t.Observable),
            t.Object.NUM_FRACTION_DIGITS = 2,
            t.Object._fromObject = function(e, n, i, o, a) {
                var s = t[e];
                if (n = r(n, !0),
                !o) {
                    var c = a ? new s(n[a],n) : new s(n);
                    return i && i(c),
                    c
                }
                t.util.enlivenPatterns([n.fill, n.stroke], function(e) {
                    n.fill = e[0],
                    n.stroke = e[1];
                    var t = a ? new s(n[a],n) : new s(n);
                    i && i(t)
                })
            }
            ,
            t.Object.__uid = 0)
        }(exports),
        function() {
            var e = fabric.util.degreesToRadians
              , t = {
                left: -.5,
                center: 0,
                right: .5
            }
              , n = {
                top: -.5,
                center: 0,
                bottom: .5
            };
            fabric.util.object.extend(fabric.Object.prototype, {
                translateToGivenOrigin: function(e, r, i, o, a) {
                    var s, c, l, u = e.x, d = e.y;
                    return "string" == typeof r ? r = t[r] : r -= .5,
                    "string" == typeof o ? o = t[o] : o -= .5,
                    s = o - r,
                    "string" == typeof i ? i = n[i] : i -= .5,
                    "string" == typeof a ? a = n[a] : a -= .5,
                    c = a - i,
                    (s || c) && (l = this._getTransformedDimensions(),
                    u = e.x + s * l.x,
                    d = e.y + c * l.y),
                    new fabric.Point(u,d)
                },
                translateToCenterPoint: function(t, n, r) {
                    var i = this.translateToGivenOrigin(t, n, r, "center", "center");
                    return this.angle ? fabric.util.rotatePoint(i, t, e(this.angle)) : i
                },
                translateToOriginPoint: function(t, n, r) {
                    var i = this.translateToGivenOrigin(t, "center", "center", n, r);
                    return this.angle ? fabric.util.rotatePoint(i, t, e(this.angle)) : i
                },
                getCenterPoint: function() {
                    var e = new fabric.Point(this.left,this.top);
                    return this.translateToCenterPoint(e, this.originX, this.originY)
                },
                getPointByOrigin: function(e, t) {
                    var n = this.getCenterPoint();
                    return this.translateToOriginPoint(n, e, t)
                },
                toLocalPoint: function(t, n, r) {
                    var i, o, a = this.getCenterPoint();
                    return i = void 0 !== n && void 0 !== r ? this.translateToGivenOrigin(a, "center", "center", n, r) : new fabric.Point(this.left,this.top),
                    o = new fabric.Point(t.x,t.y),
                    this.angle && (o = fabric.util.rotatePoint(o, a, -e(this.angle))),
                    o.subtractEquals(i)
                },
                setPositionByOrigin: function(e, t, n) {
                    var r = this.translateToCenterPoint(e, t, n)
                      , i = this.translateToOriginPoint(r, this.originX, this.originY);
                    this.set("left", i.x),
                    this.set("top", i.y)
                },
                adjustPosition: function(n) {
                    var r, i, o = e(this.angle), a = this.getWidth(), s = Math.cos(o) * a, c = Math.sin(o) * a;
                    r = "string" == typeof this.originX ? t[this.originX] : this.originX - .5,
                    i = "string" == typeof n ? t[n] : n - .5,
                    this.left += s * (i - r),
                    this.top += c * (i - r),
                    this.setCoords(),
                    this.originX = n
                },
                _setOriginToCenter: function() {
                    this._originalOriginX = this.originX,
                    this._originalOriginY = this.originY;
                    var e = this.getCenterPoint();
                    this.originX = "center",
                    this.originY = "center",
                    this.left = e.x,
                    this.top = e.y
                },
                _resetOrigin: function() {
                    var e = this.translateToOriginPoint(this.getCenterPoint(), this._originalOriginX, this._originalOriginY);
                    this.originX = this._originalOriginX,
                    this.originY = this._originalOriginY,
                    this.left = e.x,
                    this.top = e.y,
                    this._originalOriginX = null,
                    this._originalOriginY = null
                },
                _getLeftTopCoords: function() {
                    return this.translateToOriginPoint(this.getCenterPoint(), "left", "top")
                }
            })
        }(),
        function() {
            function e(e) {
                return [new fabric.Point(e.tl.x,e.tl.y), new fabric.Point(e.tr.x,e.tr.y), new fabric.Point(e.br.x,e.br.y), new fabric.Point(e.bl.x,e.bl.y)]
            }
            var t = fabric.util.degreesToRadians
              , n = fabric.util.multiplyTransformMatrices;
            fabric.util.object.extend(fabric.Object.prototype, {
                oCoords: null,
                intersectsWithRect: function(t, n) {
                    var r = e(this.oCoords);
                    return "Intersection" === fabric.Intersection.intersectPolygonRectangle(r, t, n).status
                },
                intersectsWithObject: function(t) {
                    return "Intersection" === fabric.Intersection.intersectPolygonPolygon(e(this.oCoords), e(t.oCoords)).status || t.isContainedWithinObject(this) || this.isContainedWithinObject(t)
                },
                isContainedWithinObject: function(t) {
                    for (var n = e(this.oCoords), r = 0; r < 4; r++)
                        if (!t.containsPoint(n[r]))
                            return !1;
                    return !0
                },
                isContainedWithinRect: function(e, t) {
                    var n = this.getBoundingRect();
                    return n.left >= e.x && n.left + n.width <= t.x && n.top >= e.y && n.top + n.height <= t.y
                },
                containsPoint: function(e) {
                    this.oCoords || this.setCoords();
                    var t = this._getImageLines(this.oCoords)
                      , n = this._findCrossPoints(e, t);
                    return 0 !== n && n % 2 == 1
                },
                _getImageLines: function(e) {
                    return {
                        topline: {
                            o: e.tl,
                            d: e.tr
                        },
                        rightline: {
                            o: e.tr,
                            d: e.br
                        },
                        bottomline: {
                            o: e.br,
                            d: e.bl
                        },
                        leftline: {
                            o: e.bl,
                            d: e.tl
                        }
                    }
                },
                _findCrossPoints: function(e, t) {
                    var n, r, i, o, a, s, c = 0;
                    for (var l in t)
                        if (!((s = t[l]).o.y < e.y && s.d.y < e.y || s.o.y >= e.y && s.d.y >= e.y || (s.o.x === s.d.x && s.o.x >= e.x ? a = s.o.x : (n = 0,
                        r = (s.d.y - s.o.y) / (s.d.x - s.o.x),
                        i = e.y - n * e.x,
                        o = s.o.y - r * s.o.x,
                        a = -(i - o) / (n - r)),
                        a >= e.x && (c += 1),
                        2 !== c)))
                            break;
                    return c
                },
                getBoundingRectWidth: function() {
                    return this.getBoundingRect().width
                },
                getBoundingRectHeight: function() {
                    return this.getBoundingRect().height
                },
                getBoundingRect: function(e) {
                    var t = this.calcCoords(e);
                    return fabric.util.makeBoundingBoxFromPoints([t.tl, t.tr, t.br, t.bl])
                },
                getWidth: function() {
                    return this._getTransformedDimensions().x
                },
                getHeight: function() {
                    return this._getTransformedDimensions().y
                },
                _constrainScale: function(e) {
                    return Math.abs(e) < this.minScaleLimit ? e < 0 ? -this.minScaleLimit : this.minScaleLimit : e
                },
                scale: function(e) {
                    return (e = this._constrainScale(e)) < 0 && (this.flipX = !this.flipX,
                    this.flipY = !this.flipY,
                    e *= -1),
                    this.scaleX = e,
                    this.scaleY = e,
                    this.setCoords()
                },
                scaleToWidth: function(e) {
                    var t = this.getBoundingRect().width / this.getWidth();
                    return this.scale(e / this.width / t)
                },
                scaleToHeight: function(e) {
                    var t = this.getBoundingRect().height / this.getHeight();
                    return this.scale(e / this.height / t)
                },
                calcCoords: function(e) {
                    var n = t(this.angle)
                      , r = this.getViewportTransform()
                      , i = e ? this._getTransformedDimensions() : this._calculateCurrentDimensions()
                      , o = i.x
                      , a = i.y
                      , s = Math.sin(n)
                      , c = Math.cos(n)
                      , l = o > 0 ? Math.atan(a / o) : 0
                      , u = o / Math.cos(l) / 2
                      , d = Math.cos(l + n) * u
                      , f = Math.sin(l + n) * u
                      , h = this.getCenterPoint()
                      , p = e ? h : fabric.util.transformPoint(h, r)
                      , g = new fabric.Point(p.x - d,p.y - f)
                      , m = new fabric.Point(g.x + o * c,g.y + o * s)
                      , v = new fabric.Point(g.x - a * s,g.y + a * c)
                      , y = new fabric.Point(p.x + d,p.y + f);
                    if (!e)
                        var b = new fabric.Point((g.x + v.x) / 2,(g.y + v.y) / 2)
                          , w = new fabric.Point((m.x + g.x) / 2,(m.y + g.y) / 2)
                          , x = new fabric.Point((y.x + m.x) / 2,(y.y + m.y) / 2)
                          , S = new fabric.Point((y.x + v.x) / 2,(y.y + v.y) / 2)
                          , C = new fabric.Point(w.x + s * this.rotatingPointOffset,w.y - c * this.rotatingPointOffset);
                    return p = {
                        tl: g,
                        tr: m,
                        br: y,
                        bl: v
                    },
                    e || (p.ml = b,
                    p.mt = w,
                    p.mr = x,
                    p.mb = S,
                    p.mtr = C),
                    p
                },
                setCoords: function(e, t) {
                    return this.oCoords = this.calcCoords(e),
                    t || e || (this.absoluteCoords = this.calcCoords(!0)),
                    e || this._setCornerCoords && this._setCornerCoords(),
                    this
                },
                _calcRotateMatrix: function() {
                    if (this.angle) {
                        var e = t(this.angle)
                          , n = Math.cos(e)
                          , r = Math.sin(e);
                        return [n, r, -r, n, 0, 0]
                    }
                    return [1, 0, 0, 1, 0, 0]
                },
                calcTransformMatrix: function() {
                    var e = this.getCenterPoint()
                      , t = [1, 0, 0, 1, e.x, e.y]
                      , r = this._calcRotateMatrix()
                      , i = this._calcDimensionsTransformMatrix(this.skewX, this.skewY, !0)
                      , o = this.group ? this.group.calcTransformMatrix() : [1, 0, 0, 1, 0, 0];
                    return o = n(o, t),
                    o = n(o, r),
                    n(o, i)
                },
                _calcDimensionsTransformMatrix: function(e, r, i) {
                    var o = [1, 0, Math.tan(t(e)), 1]
                      , a = [1, Math.tan(t(r)), 0, 1]
                      , s = this.scaleX * (i && this.flipX ? -1 : 1)
                      , c = this.scaleY * (i && this.flipY ? -1 : 1)
                      , l = n([s, 0, 0, c], o, !0);
                    return n(l, a, !0)
                }
            })
        }(),
        fabric.util.object.extend(fabric.Object.prototype, {
            sendToBack: function() {
                return this.group ? fabric.StaticCanvas.prototype.sendToBack.call(this.group, this) : this.canvas.sendToBack(this),
                this
            },
            bringToFront: function() {
                return this.group ? fabric.StaticCanvas.prototype.bringToFront.call(this.group, this) : this.canvas.bringToFront(this),
                this
            },
            sendBackwards: function(e) {
                return this.group ? fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, e) : this.canvas.sendBackwards(this, e),
                this
            },
            bringForward: function(e) {
                return this.group ? fabric.StaticCanvas.prototype.bringForward.call(this.group, this, e) : this.canvas.bringForward(this, e),
                this
            },
            moveTo: function(e) {
                return this.group ? fabric.StaticCanvas.prototype.moveTo.call(this.group, this, e) : this.canvas.moveTo(this, e),
                this
            }
        }),
        function() {
            function e(e, t) {
                if (t) {
                    if (t.toLive)
                        return e + ": url(#SVGID_" + t.id + "); ";
                    var n = new fabric.Color(t)
                      , r = e + ": " + n.toRgb() + "; "
                      , i = n.getAlpha();
                    return 1 !== i && (r += e + "-opacity: " + i.toString() + "; "),
                    r
                }
                return e + ": none; "
            }
            fabric.util.object.extend(fabric.Object.prototype, {
                getSvgStyles: function(t) {
                    var n = this.fillRule
                      , r = this.strokeWidth ? this.strokeWidth : "0"
                      , i = this.strokeDashArray ? this.strokeDashArray.join(" ") : "none"
                      , o = this.strokeLineCap ? this.strokeLineCap : "butt"
                      , a = this.strokeLineJoin ? this.strokeLineJoin : "miter"
                      , s = this.strokeMiterLimit ? this.strokeMiterLimit : "4"
                      , c = void 0 !== this.opacity ? this.opacity : "1"
                      , l = this.visible ? "" : " visibility: hidden;"
                      , u = t ? "" : this.getSvgFilter()
                      , d = e("fill", this.fill);
                    return [e("stroke", this.stroke), "stroke-width: ", r, "; ", "stroke-dasharray: ", i, "; ", "stroke-linecap: ", o, "; ", "stroke-linejoin: ", a, "; ", "stroke-miterlimit: ", s, "; ", d, "fill-rule: ", n, "; ", "opacity: ", c, ";", u, l].join("")
                },
                getSvgFilter: function() {
                    return this.shadow ? "filter: url(#SVGID_" + this.shadow.id + ");" : ""
                },
                getSvgId: function() {
                    return this.id ? 'id="' + this.id + '" ' : ""
                },
                getSvgTransform: function() {
                    if (this.group && "path-group" === this.group.type)
                        return "";
                    var e = fabric.util.toFixed
                      , t = this.getAngle()
                      , n = this.getSkewX() % 360
                      , r = this.getSkewY() % 360
                      , i = this.getCenterPoint()
                      , o = fabric.Object.NUM_FRACTION_DIGITS
                      , a = "path-group" === this.type ? "" : "translate(" + e(i.x, o) + " " + e(i.y, o) + ")"
                      , s = 0 !== t ? " rotate(" + e(t, o) + ")" : ""
                      , c = 1 === this.scaleX && 1 === this.scaleY ? "" : " scale(" + e(this.scaleX, o) + " " + e(this.scaleY, o) + ")"
                      , l = 0 !== n ? " skewX(" + e(n, o) + ")" : ""
                      , u = 0 !== r ? " skewY(" + e(r, o) + ")" : ""
                      , d = "path-group" === this.type ? this.width : 0
                      , f = this.flipX ? " matrix(-1 0 0 1 " + d + " 0) " : ""
                      , h = "path-group" === this.type ? this.height : 0;
                    return [a, s, c, f, this.flipY ? " matrix(1 0 0 -1 0 " + h + ")" : "", l, u].join("")
                },
                getSvgTransformMatrix: function() {
                    return this.transformMatrix ? " matrix(" + this.transformMatrix.join(" ") + ") " : ""
                },
                _createBaseSVGMarkup: function() {
                    var e = [];
                    return this.fill && this.fill.toLive && e.push(this.fill.toSVG(this, !1)),
                    this.stroke && this.stroke.toLive && e.push(this.stroke.toSVG(this, !1)),
                    this.shadow && e.push(this.shadow.toSVG(this)),
                    e
                }
            })
        }(),
        function() {
            function e(e, n, r) {
                var i = {};
                r.forEach(function(t) {
                    i[t] = e[t]
                }),
                t(e[n], i, !0)
            }
            var t = fabric.util.object.extend
              , n = "stateProperties";
            fabric.util.object.extend(fabric.Object.prototype, {
                hasStateChanged: function(e) {
                    return !function e(t, n, r) {
                        if (!fabric.isLikelyNode && t instanceof Element)
                            return t === n;
                        if (t instanceof Array) {
                            if (t.length !== n.length)
                                return !1;
                            for (var i = 0, o = t.length; i < o; i++)
                                if (t[i] !== n[i])
                                    return !1;
                            return !0
                        }
                        if (t && "object" == typeof t) {
                            if (!r && Object.keys(t).length !== Object.keys(n).length)
                                return !1;
                            for (var a in t)
                                if (!e(t[a], n[a]))
                                    return !1;
                            return !0
                        }
                        return t === n
                    }(this[e = "_" + (e = e || n)], this, !0)
                },
                saveState: function(t) {
                    var r = t && t.propertySet || n
                      , i = "_" + r;
                    return this[i] ? (e(this, i, this[r]),
                    t && t.stateProperties && e(this, i, t.stateProperties),
                    this) : this.setupState(t)
                },
                setupState: function(e) {
                    var t = (e = e || {}).propertySet || n;
                    return e.propertySet = t,
                    this["_" + t] = {},
                    this.saveState(e),
                    this
                }
            })
        }(),
        function() {
            var e = fabric.util.degreesToRadians;
            fabric.util.object.extend(fabric.Object.prototype, {
                _controlsVisibility: null,
                _findTargetCorner: function(e) {
                    if (!this.hasControls || !this.active)
                        return !1;
                    var t, n, r = e.x, i = e.y;
                    for (var o in this.__corner = 0,
                    this.oCoords)
                        if (this.isControlVisible(o) && ("mtr" !== o || this.hasRotatingPoint) && (!this.get("lockUniScaling") || "mt" !== o && "mr" !== o && "mb" !== o && "ml" !== o) && (n = this._getImageLines(this.oCoords[o].corner),
                        0 !== (t = this._findCrossPoints({
                            x: r,
                            y: i
                        }, n)) && t % 2 == 1))
                            return this.__corner = o,
                            o;
                    return !1
                },
                _setCornerCoords: function() {
                    var t, n, r = this.oCoords, i = e(45 - this.angle), o = .707106 * this.cornerSize, a = o * Math.cos(i), s = o * Math.sin(i);
                    for (var c in r)
                        t = r[c].x,
                        n = r[c].y,
                        r[c].corner = {
                            tl: {
                                x: t - s,
                                y: n - a
                            },
                            tr: {
                                x: t + a,
                                y: n - s
                            },
                            bl: {
                                x: t - a,
                                y: n + s
                            },
                            br: {
                                x: t + s,
                                y: n + a
                            }
                        }
                },
                _getNonTransformedDimensions: function() {
                    var e = this.strokeWidth;
                    return {
                        x: this.width + e,
                        y: this.height + e
                    }
                },
                _getTransformedDimensions: function(e, t) {
                    void 0 === e && (e = this.skewX),
                    void 0 === t && (t = this.skewY);
                    var n, r, i = this._getNonTransformedDimensions(), o = i.x / 2, a = i.y / 2, s = [{
                        x: -o,
                        y: -a
                    }, {
                        x: o,
                        y: -a
                    }, {
                        x: -o,
                        y: a
                    }, {
                        x: o,
                        y: a
                    }], c = this._calcDimensionsTransformMatrix(e, t, !1);
                    for (n = 0; n < s.length; n++)
                        s[n] = fabric.util.transformPoint(s[n], c);
                    return {
                        x: (r = fabric.util.makeBoundingBoxFromPoints(s)).width,
                        y: r.height
                    }
                },
                _calculateCurrentDimensions: function() {
                    var e = this.getViewportTransform()
                      , t = this._getTransformedDimensions();
                    return fabric.util.transformPoint(t, e, !0).scalarAdd(2 * this.padding)
                },
                drawSelectionBackground: function(t) {
                    if (!this.selectionBackgroundColor || this.group || !this.active)
                        return this;
                    t.save();
                    var n = this.getCenterPoint()
                      , r = this._calculateCurrentDimensions()
                      , i = this.canvas.viewportTransform;
                    return t.translate(n.x, n.y),
                    t.scale(1 / i[0], 1 / i[3]),
                    t.rotate(e(this.angle)),
                    t.fillStyle = this.selectionBackgroundColor,
                    t.fillRect(-r.x / 2, -r.y / 2, r.x, r.y),
                    t.restore(),
                    this
                },
                drawBorders: function(e) {
                    if (!this.hasBorders)
                        return this;
                    var t = this._calculateCurrentDimensions()
                      , n = 1 / this.borderScaleFactor
                      , r = t.x + n
                      , i = t.y + n;
                    if (e.save(),
                    e.strokeStyle = this.borderColor,
                    this._setLineDash(e, this.borderDashArray, null),
                    e.strokeRect(-r / 2, -i / 2, r, i),
                    this.hasRotatingPoint && this.isControlVisible("mtr") && !this.get("lockRotation") && this.hasControls) {
                        var o = -i / 2;
                        e.beginPath(),
                        e.moveTo(0, o),
                        e.lineTo(0, o - this.rotatingPointOffset),
                        e.closePath(),
                        e.stroke()
                    }
                    return e.restore(),
                    this
                },
                drawBordersInGroup: function(e, t) {
                    if (!this.hasBorders)
                        return this;
                    var n = this._getNonTransformedDimensions()
                      , r = fabric.util.customTransformMatrix(t.scaleX, t.scaleY, t.skewX)
                      , i = fabric.util.transformPoint(n, r)
                      , o = 1 / this.borderScaleFactor
                      , a = i.x + o
                      , s = i.y + o;
                    return e.save(),
                    this._setLineDash(e, this.borderDashArray, null),
                    e.strokeStyle = this.borderColor,
                    e.strokeRect(-a / 2, -s / 2, a, s),
                    e.restore(),
                    this
                },
                drawControls: function(e) {
                    if (!this.hasControls)
                        return this;
                    var t = this._calculateCurrentDimensions()
                      , n = t.x
                      , r = t.y
                      , i = this.cornerSize
                      , o = -(n + i) / 2
                      , a = -(r + i) / 2
                      , s = this.transparentCorners ? "stroke" : "fill";
                    return e.save(),
                    e.strokeStyle = e.fillStyle = this.cornerColor,
                    this.transparentCorners || (e.strokeStyle = this.cornerStrokeColor),
                    this._setLineDash(e, this.cornerDashArray, null),
                    this._drawControl("tl", e, s, o, a),
                    this._drawControl("tr", e, s, o + n, a),
                    this._drawControl("bl", e, s, o, a + r),
                    this._drawControl("br", e, s, o + n, a + r),
                    this.get("lockUniScaling") || (this._drawControl("mt", e, s, o + n / 2, a),
                    this._drawControl("mb", e, s, o + n / 2, a + r),
                    this._drawControl("mr", e, s, o + n, a + r / 2),
                    this._drawControl("ml", e, s, o, a + r / 2)),
                    this.hasRotatingPoint && this._drawControl("mtr", e, s, o + n / 2, a - this.rotatingPointOffset),
                    e.restore(),
                    this
                },
                _drawControl: function(e, t, n, r, i) {
                    if (this.isControlVisible(e)) {
                        var o = this.cornerSize
                          , a = !this.transparentCorners && this.cornerStrokeColor;
                        switch (this.cornerStyle) {
                        case "circle":
                            t.beginPath(),
                            t.arc(r + o / 2, i + o / 2, o / 2, 0, 2 * Math.PI, !1),
                            t[n](),
                            a && t.stroke();
                            break;
                        default:
                            "undefined" != typeof G_vmlCanvasManager || this.transparentCorners || t.clearRect(r, i, o, o),
                            t[n + "Rect"](r, i, o, o),
                            a && t.strokeRect(r, i, o, o)
                        }
                    }
                },
                isControlVisible: function(e) {
                    return this._getControlsVisibility()[e]
                },
                setControlVisible: function(e, t) {
                    return this._getControlsVisibility()[e] = t,
                    this
                },
                setControlsVisibility: function(e) {
                    for (var t in e || (e = {}),
                    e)
                        this.setControlVisible(t, e[t]);
                    return this
                },
                _getControlsVisibility: function() {
                    return this._controlsVisibility || (this._controlsVisibility = {
                        tl: !0,
                        tr: !0,
                        br: !0,
                        bl: !0,
                        ml: !0,
                        mt: !0,
                        mr: !0,
                        mb: !0,
                        mtr: !0
                    }),
                    this._controlsVisibility
                }
            })
        }(),
        fabric.util.object.extend(fabric.StaticCanvas.prototype, {
            FX_DURATION: 500,
            fxCenterObjectH: function(e, t) {
                var n = function() {}
                  , r = (t = t || {}).onComplete || n
                  , i = t.onChange || n
                  , o = this;
                return fabric.util.animate({
                    startValue: e.get("left"),
                    endValue: this.getCenter().left,
                    duration: this.FX_DURATION,
                    onChange: function(t) {
                        e.set("left", t),
                        o.renderAll(),
                        i()
                    },
                    onComplete: function() {
                        e.setCoords(),
                        r()
                    }
                }),
                this
            },
            fxCenterObjectV: function(e, t) {
                var n = function() {}
                  , r = (t = t || {}).onComplete || n
                  , i = t.onChange || n
                  , o = this;
                return fabric.util.animate({
                    startValue: e.get("top"),
                    endValue: this.getCenter().top,
                    duration: this.FX_DURATION,
                    onChange: function(t) {
                        e.set("top", t),
                        o.renderAll(),
                        i()
                    },
                    onComplete: function() {
                        e.setCoords(),
                        r()
                    }
                }),
                this
            },
            fxRemove: function(e, t) {
                var n = function() {}
                  , r = (t = t || {}).onComplete || n
                  , i = t.onChange || n
                  , o = this;
                return fabric.util.animate({
                    startValue: e.get("opacity"),
                    endValue: 0,
                    duration: this.FX_DURATION,
                    onStart: function() {
                        e.set("active", !1)
                    },
                    onChange: function(t) {
                        e.set("opacity", t),
                        o.renderAll(),
                        i()
                    },
                    onComplete: function() {
                        o.remove(e),
                        r()
                    }
                }),
                this
            }
        }),
        fabric.util.object.extend(fabric.Object.prototype, {
            animate: function() {
                if (arguments[0] && "object" == typeof arguments[0]) {
                    var e, t, n = [];
                    for (e in arguments[0])
                        n.push(e);
                    for (var r = 0, i = n.length; r < i; r++)
                        e = n[r],
                        t = r !== i - 1,
                        this._animate(e, arguments[0][e], arguments[1], t)
                } else
                    this._animate.apply(this, arguments);
                return this
            },
            _animate: function(e, t, n, r) {
                var i, o = this;
                t = t.toString(),
                n = n ? fabric.util.object.clone(n) : {},
                ~e.indexOf(".") && (i = e.split("."));
                var a = i ? this.get(i[0])[i[1]] : this.get(e);
                "from"in n || (n.from = a),
                t = ~t.indexOf("=") ? a + parseFloat(t.replace("=", "")) : parseFloat(t),
                fabric.util.animate({
                    startValue: n.from,
                    endValue: t,
                    byValue: n.by,
                    easing: n.easing,
                    duration: n.duration,
                    abort: n.abort && function() {
                        return n.abort.call(o)
                    }
                    ,
                    onChange: function(t) {
                        i ? o[i[0]][i[1]] = t : o.set(e, t),
                        r || n.onChange && n.onChange()
                    },
                    onComplete: function() {
                        r || (o.setCoords(),
                        n.onComplete && n.onComplete())
                    }
                })
            }
        }),
        function(e) {
            "use strict";
            function t(e, t) {
                var n = e.origin
                  , r = e.axis1
                  , i = e.axis2
                  , o = e.dimension
                  , a = t.nearest
                  , s = t.center
                  , c = t.farthest;
                return function() {
                    switch (this.get(n)) {
                    case a:
                        return Math.min(this.get(r), this.get(i));
                    case s:
                        return Math.min(this.get(r), this.get(i)) + .5 * this.get(o);
                    case c:
                        return Math.max(this.get(r), this.get(i))
                    }
                }
            }
            var n = e.fabric || (e.fabric = {})
              , r = n.util.object.extend
              , i = n.util.object.clone
              , o = {
                x1: 1,
                x2: 1,
                y1: 1,
                y2: 1
            }
              , a = n.StaticCanvas.supports("setLineDash");
            if (n.Line)
                n.warn("fabric.Line is already defined");
            else {
                var s = n.Object.prototype.cacheProperties.concat();
                s.push("x1", "x2", "y1", "y2"),
                n.Line = n.util.createClass(n.Object, {
                    type: "line",
                    x1: 0,
                    y1: 0,
                    x2: 0,
                    y2: 0,
                    cacheProperties: s,
                    initialize: function(e, t) {
                        e || (e = [0, 0, 0, 0]),
                        this.callSuper("initialize", t),
                        this.set("x1", e[0]),
                        this.set("y1", e[1]),
                        this.set("x2", e[2]),
                        this.set("y2", e[3]),
                        this._setWidthHeight(t)
                    },
                    _setWidthHeight: function(e) {
                        e || (e = {}),
                        this.width = Math.abs(this.x2 - this.x1),
                        this.height = Math.abs(this.y2 - this.y1),
                        this.left = "left"in e ? e.left : this._getLeftToOriginX(),
                        this.top = "top"in e ? e.top : this._getTopToOriginY()
                    },
                    _set: function(e, t) {
                        return this.callSuper("_set", e, t),
                        void 0 !== o[e] && this._setWidthHeight(),
                        this
                    },
                    _getLeftToOriginX: t({
                        origin: "originX",
                        axis1: "x1",
                        axis2: "x2",
                        dimension: "width"
                    }, {
                        nearest: "left",
                        center: "center",
                        farthest: "right"
                    }),
                    _getTopToOriginY: t({
                        origin: "originY",
                        axis1: "y1",
                        axis2: "y2",
                        dimension: "height"
                    }, {
                        nearest: "top",
                        center: "center",
                        farthest: "bottom"
                    }),
                    _render: function(e, t) {
                        if (e.beginPath(),
                        t) {
                            var n = this.getCenterPoint();
                            e.translate(n.x - this.strokeWidth / 2, n.y - this.strokeWidth / 2)
                        }
                        if (!this.strokeDashArray || this.strokeDashArray && a) {
                            var r = this.calcLinePoints();
                            e.moveTo(r.x1, r.y1),
                            e.lineTo(r.x2, r.y2)
                        }
                        e.lineWidth = this.strokeWidth;
                        var i = e.strokeStyle;
                        e.strokeStyle = this.stroke || e.fillStyle,
                        this.stroke && this._renderStroke(e),
                        e.strokeStyle = i
                    },
                    _renderDashedStroke: function(e) {
                        var t = this.calcLinePoints();
                        e.beginPath(),
                        n.util.drawDashedLine(e, t.x1, t.y1, t.x2, t.y2, this.strokeDashArray),
                        e.closePath()
                    },
                    toObject: function(e) {
                        return r(this.callSuper("toObject", e), this.calcLinePoints())
                    },
                    _getNonTransformedDimensions: function() {
                        var e = this.callSuper("_getNonTransformedDimensions");
                        return "butt" === this.strokeLineCap && (0 === e.x && (e.y -= this.strokeWidth),
                        0 === e.y && (e.x -= this.strokeWidth)),
                        e
                    },
                    calcLinePoints: function() {
                        var e = this.x1 <= this.x2 ? -1 : 1
                          , t = this.y1 <= this.y2 ? -1 : 1
                          , n = e * this.width * .5
                          , r = t * this.height * .5;
                        return {
                            x1: n,
                            x2: e * this.width * -.5,
                            y1: r,
                            y2: t * this.height * -.5
                        }
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup()
                          , n = {
                            x1: this.x1,
                            x2: this.x2,
                            y1: this.y1,
                            y2: this.y2
                        };
                        return this.group && "path-group" === this.group.type || (n = this.calcLinePoints()),
                        t.push("<line ", this.getSvgId(), 'x1="', n.x1, '" y1="', n.y1, '" x2="', n.x2, '" y2="', n.y2, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"/>\n'),
                        e ? e(t.join("")) : t.join("")
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                n.Line.ATTRIBUTE_NAMES = n.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),
                n.Line.fromElement = function(e, t) {
                    t = t || {};
                    var i = n.parseAttributes(e, n.Line.ATTRIBUTE_NAMES)
                      , o = [i.x1 || 0, i.y1 || 0, i.x2 || 0, i.y2 || 0];
                    return t.originX = "left",
                    t.originY = "top",
                    new n.Line(o,r(i, t))
                }
                ,
                n.Line.fromObject = function(e, t, r) {
                    var o = i(e, !0);
                    o.points = [e.x1, e.y1, e.x2, e.y2];
                    var a = n.Object._fromObject("Line", o, function(e) {
                        delete e.points,
                        t && t(e)
                    }, r, "points");
                    return a && delete a.points,
                    a
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = Math.PI
              , r = t.util.object.extend;
            if (t.Circle)
                t.warn("fabric.Circle is already defined.");
            else {
                var i = t.Object.prototype.cacheProperties.concat();
                i.push("radius"),
                t.Circle = t.util.createClass(t.Object, {
                    type: "circle",
                    radius: 0,
                    startAngle: 0,
                    endAngle: 2 * n,
                    cacheProperties: i,
                    initialize: function(e) {
                        this.callSuper("initialize", e),
                        this.set("radius", e && e.radius || 0)
                    },
                    _set: function(e, t) {
                        return this.callSuper("_set", e, t),
                        "radius" === e && this.setRadius(t),
                        this
                    },
                    toObject: function(e) {
                        return this.callSuper("toObject", ["radius", "startAngle", "endAngle"].concat(e))
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup()
                          , r = 0
                          , i = 0
                          , o = (this.endAngle - this.startAngle) % (2 * n);
                        if (0 === o)
                            this.group && "path-group" === this.group.type && (r = this.left + this.radius,
                            i = this.top + this.radius),
                            t.push("<circle ", this.getSvgId(), 'cx="' + r + '" cy="' + i + '" ', 'r="', this.radius, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), " ", this.getSvgTransformMatrix(), '"/>\n');
                        else {
                            var a = Math.cos(this.startAngle) * this.radius
                              , s = Math.sin(this.startAngle) * this.radius
                              , c = Math.cos(this.endAngle) * this.radius
                              , l = Math.sin(this.endAngle) * this.radius
                              , u = o > n ? "1" : "0";
                            t.push('<path d="M ' + a + " " + s, " A " + this.radius + " " + this.radius, " 0 ", +u + " 1", " " + c + " " + l, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), " ", this.getSvgTransformMatrix(), '"/>\n')
                        }
                        return e ? e(t.join("")) : t.join("")
                    },
                    _render: function(e, t) {
                        e.beginPath(),
                        e.arc(t ? this.left + this.radius : 0, t ? this.top + this.radius : 0, this.radius, this.startAngle, this.endAngle, !1),
                        this._renderFill(e),
                        this._renderStroke(e)
                    },
                    getRadiusX: function() {
                        return this.get("radius") * this.get("scaleX")
                    },
                    getRadiusY: function() {
                        return this.get("radius") * this.get("scaleY")
                    },
                    setRadius: function(e) {
                        return this.radius = e,
                        this.set("width", 2 * e).set("height", 2 * e)
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                t.Circle.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),
                t.Circle.fromElement = function(e, n) {
                    n || (n = {});
                    var i = t.parseAttributes(e, t.Circle.ATTRIBUTE_NAMES);
                    if (!("radius"in i && i.radius >= 0))
                        throw new Error("value of `r` attribute is required and can not be negative");
                    i.left = i.left || 0,
                    i.top = i.top || 0;
                    var o = new t.Circle(r(i, n));
                    return o.left -= o.radius,
                    o.top -= o.radius,
                    o
                }
                ,
                t.Circle.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Circle", e, n, r)
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {});
            t.Triangle ? t.warn("fabric.Triangle is already defined") : (t.Triangle = t.util.createClass(t.Object, {
                type: "triangle",
                initialize: function(e) {
                    this.callSuper("initialize", e),
                    this.set("width", e && e.width || 100).set("height", e && e.height || 100)
                },
                _render: function(e) {
                    var t = this.width / 2
                      , n = this.height / 2;
                    e.beginPath(),
                    e.moveTo(-t, n),
                    e.lineTo(0, -n),
                    e.lineTo(t, n),
                    e.closePath(),
                    this._renderFill(e),
                    this._renderStroke(e)
                },
                _renderDashedStroke: function(e) {
                    var n = this.width / 2
                      , r = this.height / 2;
                    e.beginPath(),
                    t.util.drawDashedLine(e, -n, r, 0, -r, this.strokeDashArray),
                    t.util.drawDashedLine(e, 0, -r, n, r, this.strokeDashArray),
                    t.util.drawDashedLine(e, n, r, -n, r, this.strokeDashArray),
                    e.closePath()
                },
                toSVG: function(e) {
                    var t = this._createBaseSVGMarkup()
                      , n = this.width / 2
                      , r = this.height / 2
                      , i = [-n + " " + r, "0 " + -r, n + " " + r].join(",");
                    return t.push("<polygon ", this.getSvgId(), 'points="', i, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), '"/>'),
                    e ? e(t.join("")) : t.join("")
                },
                complexity: function() {
                    return 1
                }
            }),
            t.Triangle.fromObject = function(e, n, r) {
                return t.Object._fromObject("Triangle", e, n, r)
            }
            )
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = 2 * Math.PI
              , r = t.util.object.extend;
            if (t.Ellipse)
                t.warn("fabric.Ellipse is already defined.");
            else {
                var i = t.Object.prototype.cacheProperties.concat();
                i.push("rx", "ry"),
                t.Ellipse = t.util.createClass(t.Object, {
                    type: "ellipse",
                    rx: 0,
                    ry: 0,
                    cacheProperties: i,
                    initialize: function(e) {
                        this.callSuper("initialize", e),
                        this.set("rx", e && e.rx || 0),
                        this.set("ry", e && e.ry || 0)
                    },
                    _set: function(e, t) {
                        switch (this.callSuper("_set", e, t),
                        e) {
                        case "rx":
                            this.rx = t,
                            this.set("width", 2 * t);
                            break;
                        case "ry":
                            this.ry = t,
                            this.set("height", 2 * t)
                        }
                        return this
                    },
                    getRx: function() {
                        return this.get("rx") * this.get("scaleX")
                    },
                    getRy: function() {
                        return this.get("ry") * this.get("scaleY")
                    },
                    toObject: function(e) {
                        return this.callSuper("toObject", ["rx", "ry"].concat(e))
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup()
                          , n = 0
                          , r = 0;
                        return this.group && "path-group" === this.group.type && (n = this.left + this.rx,
                        r = this.top + this.ry),
                        t.push("<ellipse ", this.getSvgId(), 'cx="', n, '" cy="', r, '" ', 'rx="', this.rx, '" ry="', this.ry, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"/>\n'),
                        e ? e(t.join("")) : t.join("")
                    },
                    _render: function(e, t) {
                        e.beginPath(),
                        e.save(),
                        e.transform(1, 0, 0, this.ry / this.rx, 0, 0),
                        e.arc(t ? this.left + this.rx : 0, t ? (this.top + this.ry) * this.rx / this.ry : 0, this.rx, 0, n, !1),
                        e.restore(),
                        this._renderFill(e),
                        this._renderStroke(e)
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                t.Ellipse.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),
                t.Ellipse.fromElement = function(e, n) {
                    n || (n = {});
                    var i = t.parseAttributes(e, t.Ellipse.ATTRIBUTE_NAMES);
                    i.left = i.left || 0,
                    i.top = i.top || 0;
                    var o = new t.Ellipse(r(i, n));
                    return o.top -= o.ry,
                    o.left -= o.rx,
                    o
                }
                ,
                t.Ellipse.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Ellipse", e, n, r)
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend;
            if (t.Rect)
                t.warn("fabric.Rect is already defined");
            else {
                var r = t.Object.prototype.stateProperties.concat();
                r.push("rx", "ry"),
                t.Rect = t.util.createClass(t.Object, {
                    stateProperties: r,
                    type: "rect",
                    rx: 0,
                    ry: 0,
                    strokeDashArray: null,
                    initialize: function(e) {
                        this.callSuper("initialize", e),
                        this._initRxRy()
                    },
                    _initRxRy: function() {
                        this.rx && !this.ry ? this.ry = this.rx : this.ry && !this.rx && (this.rx = this.ry)
                    },
                    _render: function(e, t) {
                        if (1 !== this.width || 1 !== this.height) {
                            var n = this.rx ? Math.min(this.rx, this.width / 2) : 0
                              , r = this.ry ? Math.min(this.ry, this.height / 2) : 0
                              , i = this.width
                              , o = this.height
                              , a = t ? this.left : -this.width / 2
                              , s = t ? this.top : -this.height / 2
                              , c = 0 !== n || 0 !== r
                              , l = .4477152502;
                            e.beginPath(),
                            e.moveTo(a + n, s),
                            e.lineTo(a + i - n, s),
                            c && e.bezierCurveTo(a + i - l * n, s, a + i, s + l * r, a + i, s + r),
                            e.lineTo(a + i, s + o - r),
                            c && e.bezierCurveTo(a + i, s + o - l * r, a + i - l * n, s + o, a + i - n, s + o),
                            e.lineTo(a + n, s + o),
                            c && e.bezierCurveTo(a + l * n, s + o, a, s + o - l * r, a, s + o - r),
                            e.lineTo(a, s + r),
                            c && e.bezierCurveTo(a, s + l * r, a + l * n, s, a + n, s),
                            e.closePath(),
                            this._renderFill(e),
                            this._renderStroke(e)
                        } else
                            e.fillRect(-.5, -.5, 1, 1)
                    },
                    _renderDashedStroke: function(e) {
                        var n = -this.width / 2
                          , r = -this.height / 2
                          , i = this.width
                          , o = this.height;
                        e.beginPath(),
                        t.util.drawDashedLine(e, n, r, n + i, r, this.strokeDashArray),
                        t.util.drawDashedLine(e, n + i, r, n + i, r + o, this.strokeDashArray),
                        t.util.drawDashedLine(e, n + i, r + o, n, r + o, this.strokeDashArray),
                        t.util.drawDashedLine(e, n, r + o, n, r, this.strokeDashArray),
                        e.closePath()
                    },
                    toObject: function(e) {
                        return this.callSuper("toObject", ["rx", "ry"].concat(e))
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup()
                          , n = this.left
                          , r = this.top;
                        return this.group && "path-group" === this.group.type || (n = -this.width / 2,
                        r = -this.height / 2),
                        t.push("<rect ", this.getSvgId(), 'x="', n, '" y="', r, '" rx="', this.get("rx"), '" ry="', this.get("ry"), '" width="', this.width, '" height="', this.height, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"/>\n'),
                        e ? e(t.join("")) : t.join("")
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                t.Rect.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),
                t.Rect.fromElement = function(e, r) {
                    if (!e)
                        return null;
                    r = r || {};
                    var i = t.parseAttributes(e, t.Rect.ATTRIBUTE_NAMES);
                    i.left = i.left || 0,
                    i.top = i.top || 0;
                    var o = new t.Rect(n(r ? t.util.object.clone(r) : {}, i));
                    return o.visible = o.visible && o.width > 0 && o.height > 0,
                    o
                }
                ,
                t.Rect.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Rect", e, n, r)
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {});
            if (t.Polyline)
                t.warn("fabric.Polyline is already defined");
            else {
                var n = t.Object.prototype.cacheProperties.concat();
                n.push("points"),
                t.Polyline = t.util.createClass(t.Object, {
                    type: "polyline",
                    points: null,
                    minX: 0,
                    minY: 0,
                    cacheProperties: n,
                    initialize: function(e, n) {
                        return t.Polygon.prototype.initialize.call(this, e, n)
                    },
                    _calcDimensions: function() {
                        return t.Polygon.prototype._calcDimensions.call(this)
                    },
                    toObject: function(e) {
                        return t.Polygon.prototype.toObject.call(this, e)
                    },
                    toSVG: function(e) {
                        return t.Polygon.prototype.toSVG.call(this, e)
                    },
                    _render: function(e, n) {
                        t.Polygon.prototype.commonRender.call(this, e, n) && (this._renderFill(e),
                        this._renderStroke(e))
                    },
                    _renderDashedStroke: function(e) {
                        var n, r;
                        e.beginPath();
                        for (var i = 0, o = this.points.length; i < o; i++)
                            n = this.points[i],
                            r = this.points[i + 1] || n,
                            t.util.drawDashedLine(e, n.x, n.y, r.x, r.y, this.strokeDashArray)
                    },
                    complexity: function() {
                        return this.get("points").length
                    }
                }),
                t.Polyline.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(),
                t.Polyline.fromElement = function(e, n) {
                    if (!e)
                        return null;
                    n || (n = {});
                    var r = t.parsePointsAttribute(e.getAttribute("points"))
                      , i = t.parseAttributes(e, t.Polyline.ATTRIBUTE_NAMES);
                    return new t.Polyline(r,t.util.object.extend(i, n))
                }
                ,
                t.Polyline.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Polyline", e, n, r, "points")
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.util.array.min
              , i = t.util.array.max
              , o = t.util.toFixed;
            if (t.Polygon)
                t.warn("fabric.Polygon is already defined");
            else {
                var a = t.Object.prototype.cacheProperties.concat();
                a.push("points"),
                t.Polygon = t.util.createClass(t.Object, {
                    type: "polygon",
                    points: null,
                    minX: 0,
                    minY: 0,
                    cacheProperties: a,
                    initialize: function(e, t) {
                        t = t || {},
                        this.points = e || [],
                        this.callSuper("initialize", t),
                        this._calcDimensions(),
                        "top"in t || (this.top = this.minY),
                        "left"in t || (this.left = this.minX),
                        this.pathOffset = {
                            x: this.minX + this.width / 2,
                            y: this.minY + this.height / 2
                        }
                    },
                    _calcDimensions: function() {
                        var e = this.points
                          , t = r(e, "x")
                          , n = r(e, "y")
                          , o = i(e, "x")
                          , a = i(e, "y");
                        this.width = o - t || 0,
                        this.height = a - n || 0,
                        this.minX = t || 0,
                        this.minY = n || 0
                    },
                    toObject: function(e) {
                        return n(this.callSuper("toObject", e), {
                            points: this.points.concat()
                        })
                    },
                    toSVG: function(e) {
                        for (var t, n = [], r = this._createBaseSVGMarkup(), i = 0, a = this.points.length; i < a; i++)
                            n.push(o(this.points[i].x, 2), ",", o(this.points[i].y, 2), " ");
                        return this.group && "path-group" === this.group.type || (t = " translate(" + -this.pathOffset.x + ", " + -this.pathOffset.y + ") "),
                        r.push("<", this.type, " ", this.getSvgId(), 'points="', n.join(""), '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), t, " ", this.getSvgTransformMatrix(), '"/>\n'),
                        e ? e(r.join("")) : r.join("")
                    },
                    _render: function(e, t) {
                        this.commonRender(e, t) && (this._renderFill(e),
                        (this.stroke || this.strokeDashArray) && (e.closePath(),
                        this._renderStroke(e)))
                    },
                    commonRender: function(e, t) {
                        var n, r = this.points.length, i = t ? 0 : this.pathOffset.x, o = t ? 0 : this.pathOffset.y;
                        if (!r || isNaN(this.points[r - 1].y))
                            return !1;
                        e.beginPath(),
                        e.moveTo(this.points[0].x - i, this.points[0].y - o);
                        for (var a = 0; a < r; a++)
                            n = this.points[a],
                            e.lineTo(n.x - i, n.y - o);
                        return !0
                    },
                    _renderDashedStroke: function(e) {
                        t.Polyline.prototype._renderDashedStroke.call(this, e),
                        e.closePath()
                    },
                    complexity: function() {
                        return this.points.length
                    }
                }),
                t.Polygon.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(),
                t.Polygon.fromElement = function(e, r) {
                    if (!e)
                        return null;
                    r || (r = {});
                    var i = t.parsePointsAttribute(e.getAttribute("points"))
                      , o = t.parseAttributes(e, t.Polygon.ATTRIBUTE_NAMES);
                    return new t.Polygon(i,n(o, r))
                }
                ,
                t.Polygon.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Polygon", e, n, r, "points")
                }
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.array.min
              , r = t.util.array.max
              , i = t.util.object.extend
              , o = Object.prototype.toString
              , a = t.util.drawArc
              , s = {
                m: 2,
                l: 2,
                h: 1,
                v: 1,
                c: 6,
                s: 4,
                q: 4,
                t: 2,
                a: 7
            }
              , c = {
                m: "l",
                M: "L"
            };
            if (t.Path)
                t.warn("fabric.Path is already defined");
            else {
                var l = t.Object.prototype.cacheProperties.concat();
                l.push("path"),
                t.Path = t.util.createClass(t.Object, {
                    type: "path",
                    path: null,
                    minX: 0,
                    minY: 0,
                    cacheProperties: l,
                    initialize: function(e, t) {
                        (t = t || {}) && this.setOptions(t),
                        e || (e = []);
                        var n = "[object Array]" === o.call(e);
                        this.path = n ? e : e.match && e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),
                        this.path && (n || (this.path = this._parsePath()),
                        this._setPositionDimensions(t),
                        t.sourcePath && this.setSourcePath(t.sourcePath),
                        this.objectCaching && (this._createCacheCanvas(),
                        this.setupState({
                            propertySet: "cacheProperties"
                        })))
                    },
                    _setPositionDimensions: function(e) {
                        var t = this._parseDimensions();
                        this.minX = t.left,
                        this.minY = t.top,
                        this.width = t.width,
                        this.height = t.height,
                        void 0 === e.left && (this.left = t.left + ("center" === this.originX ? this.width / 2 : "right" === this.originX ? this.width : 0)),
                        void 0 === e.top && (this.top = t.top + ("center" === this.originY ? this.height / 2 : "bottom" === this.originY ? this.height : 0)),
                        this.pathOffset = this.pathOffset || {
                            x: this.minX + this.width / 2,
                            y: this.minY + this.height / 2
                        }
                    },
                    _renderPathCommands: function(e) {
                        var t, n, r, i = null, o = 0, s = 0, c = 0, l = 0, u = 0, d = 0, f = -this.pathOffset.x, h = -this.pathOffset.y;
                        this.group && "path-group" === this.group.type && (f = 0,
                        h = 0),
                        e.beginPath();
                        for (var p = 0, g = this.path.length; p < g; ++p) {
                            switch ((t = this.path[p])[0]) {
                            case "l":
                                c += t[1],
                                l += t[2],
                                e.lineTo(c + f, l + h);
                                break;
                            case "L":
                                c = t[1],
                                l = t[2],
                                e.lineTo(c + f, l + h);
                                break;
                            case "h":
                                c += t[1],
                                e.lineTo(c + f, l + h);
                                break;
                            case "H":
                                c = t[1],
                                e.lineTo(c + f, l + h);
                                break;
                            case "v":
                                l += t[1],
                                e.lineTo(c + f, l + h);
                                break;
                            case "V":
                                l = t[1],
                                e.lineTo(c + f, l + h);
                                break;
                            case "m":
                                o = c += t[1],
                                s = l += t[2],
                                e.moveTo(c + f, l + h);
                                break;
                            case "M":
                                o = c = t[1],
                                s = l = t[2],
                                e.moveTo(c + f, l + h);
                                break;
                            case "c":
                                n = c + t[5],
                                r = l + t[6],
                                u = c + t[3],
                                d = l + t[4],
                                e.bezierCurveTo(c + t[1] + f, l + t[2] + h, u + f, d + h, n + f, r + h),
                                c = n,
                                l = r;
                                break;
                            case "C":
                                c = t[5],
                                l = t[6],
                                u = t[3],
                                d = t[4],
                                e.bezierCurveTo(t[1] + f, t[2] + h, u + f, d + h, c + f, l + h);
                                break;
                            case "s":
                                n = c + t[3],
                                r = l + t[4],
                                null === i[0].match(/[CcSs]/) ? (u = c,
                                d = l) : (u = 2 * c - u,
                                d = 2 * l - d),
                                e.bezierCurveTo(u + f, d + h, c + t[1] + f, l + t[2] + h, n + f, r + h),
                                u = c + t[1],
                                d = l + t[2],
                                c = n,
                                l = r;
                                break;
                            case "S":
                                n = t[3],
                                r = t[4],
                                null === i[0].match(/[CcSs]/) ? (u = c,
                                d = l) : (u = 2 * c - u,
                                d = 2 * l - d),
                                e.bezierCurveTo(u + f, d + h, t[1] + f, t[2] + h, n + f, r + h),
                                c = n,
                                l = r,
                                u = t[1],
                                d = t[2];
                                break;
                            case "q":
                                n = c + t[3],
                                r = l + t[4],
                                u = c + t[1],
                                d = l + t[2],
                                e.quadraticCurveTo(u + f, d + h, n + f, r + h),
                                c = n,
                                l = r;
                                break;
                            case "Q":
                                n = t[3],
                                r = t[4],
                                e.quadraticCurveTo(t[1] + f, t[2] + h, n + f, r + h),
                                c = n,
                                l = r,
                                u = t[1],
                                d = t[2];
                                break;
                            case "t":
                                n = c + t[1],
                                r = l + t[2],
                                null === i[0].match(/[QqTt]/) ? (u = c,
                                d = l) : (u = 2 * c - u,
                                d = 2 * l - d),
                                e.quadraticCurveTo(u + f, d + h, n + f, r + h),
                                c = n,
                                l = r;
                                break;
                            case "T":
                                n = t[1],
                                r = t[2],
                                null === i[0].match(/[QqTt]/) ? (u = c,
                                d = l) : (u = 2 * c - u,
                                d = 2 * l - d),
                                e.quadraticCurveTo(u + f, d + h, n + f, r + h),
                                c = n,
                                l = r;
                                break;
                            case "a":
                                a(e, c + f, l + h, [t[1], t[2], t[3], t[4], t[5], t[6] + c + f, t[7] + l + h]),
                                c += t[6],
                                l += t[7];
                                break;
                            case "A":
                                a(e, c + f, l + h, [t[1], t[2], t[3], t[4], t[5], t[6] + f, t[7] + h]),
                                c = t[6],
                                l = t[7];
                                break;
                            case "z":
                            case "Z":
                                c = o,
                                l = s,
                                e.closePath()
                            }
                            i = t
                        }
                    },
                    _render: function(e) {
                        this._renderPathCommands(e),
                        this._renderFill(e),
                        this._renderStroke(e)
                    },
                    toString: function() {
                        return "#<fabric.Path (" + this.complexity() + '): { "top": ' + this.top + ', "left": ' + this.left + " }>"
                    },
                    toObject: function(e) {
                        return i(this.callSuper("toObject", ["sourcePath", "pathOffset"].concat(e)), {
                            path: this.path.map(function(e) {
                                return e.slice()
                            })
                        })
                    },
                    toDatalessObject: function(e) {
                        var t = this.toObject(e);
                        return this.sourcePath && (t.path = this.sourcePath),
                        delete t.sourcePath,
                        t
                    },
                    toSVG: function(e) {
                        for (var t = [], n = this._createBaseSVGMarkup(), r = "", i = 0, o = this.path.length; i < o; i++)
                            t.push(this.path[i].join(" "));
                        var a = t.join(" ");
                        return this.group && "path-group" === this.group.type || (r = " translate(" + -this.pathOffset.x + ", " + -this.pathOffset.y + ") "),
                        n.push("<path ", this.getSvgId(), 'd="', a, '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(), r, this.getSvgTransformMatrix(), '" stroke-linecap="round" ', "/>\n"),
                        e ? e(n.join("")) : n.join("")
                    },
                    complexity: function() {
                        return this.path.length
                    },
                    _parsePath: function() {
                        for (var e, t, n, r, i, o = [], a = [], l = /([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi, u = 0, d = this.path.length; u < d; u++) {
                            for (r = (e = this.path[u]).slice(1).trim(),
                            a.length = 0; n = l.exec(r); )
                                a.push(n[0]);
                            i = [e.charAt(0)];
                            for (var f = 0, h = a.length; f < h; f++)
                                t = parseFloat(a[f]),
                                isNaN(t) || i.push(t);
                            var p = i[0]
                              , g = s[p.toLowerCase()]
                              , m = c[p] || p;
                            if (i.length - 1 > g)
                                for (var v = 1, y = i.length; v < y; v += g)
                                    o.push([p].concat(i.slice(v, v + g))),
                                    p = m;
                            else
                                o.push(i)
                        }
                        return o
                    },
                    _parseDimensions: function() {
                        for (var e, i, o, a, s = [], c = [], l = null, u = 0, d = 0, f = 0, h = 0, p = 0, g = 0, m = 0, v = this.path.length; m < v; ++m) {
                            switch ((e = this.path[m])[0]) {
                            case "l":
                                f += e[1],
                                h += e[2],
                                a = [];
                                break;
                            case "L":
                                f = e[1],
                                h = e[2],
                                a = [];
                                break;
                            case "h":
                                f += e[1],
                                a = [];
                                break;
                            case "H":
                                f = e[1],
                                a = [];
                                break;
                            case "v":
                                h += e[1],
                                a = [];
                                break;
                            case "V":
                                h = e[1],
                                a = [];
                                break;
                            case "m":
                                u = f += e[1],
                                d = h += e[2],
                                a = [];
                                break;
                            case "M":
                                u = f = e[1],
                                d = h = e[2],
                                a = [];
                                break;
                            case "c":
                                i = f + e[5],
                                o = h + e[6],
                                p = f + e[3],
                                g = h + e[4],
                                a = t.util.getBoundsOfCurve(f, h, f + e[1], h + e[2], p, g, i, o),
                                f = i,
                                h = o;
                                break;
                            case "C":
                                f = e[5],
                                h = e[6],
                                p = e[3],
                                g = e[4],
                                a = t.util.getBoundsOfCurve(f, h, e[1], e[2], p, g, f, h);
                                break;
                            case "s":
                                i = f + e[3],
                                o = h + e[4],
                                null === l[0].match(/[CcSs]/) ? (p = f,
                                g = h) : (p = 2 * f - p,
                                g = 2 * h - g),
                                a = t.util.getBoundsOfCurve(f, h, p, g, f + e[1], h + e[2], i, o),
                                p = f + e[1],
                                g = h + e[2],
                                f = i,
                                h = o;
                                break;
                            case "S":
                                i = e[3],
                                o = e[4],
                                null === l[0].match(/[CcSs]/) ? (p = f,
                                g = h) : (p = 2 * f - p,
                                g = 2 * h - g),
                                a = t.util.getBoundsOfCurve(f, h, p, g, e[1], e[2], i, o),
                                f = i,
                                h = o,
                                p = e[1],
                                g = e[2];
                                break;
                            case "q":
                                i = f + e[3],
                                o = h + e[4],
                                p = f + e[1],
                                g = h + e[2],
                                a = t.util.getBoundsOfCurve(f, h, p, g, p, g, i, o),
                                f = i,
                                h = o;
                                break;
                            case "Q":
                                p = e[1],
                                g = e[2],
                                a = t.util.getBoundsOfCurve(f, h, p, g, p, g, e[3], e[4]),
                                f = e[3],
                                h = e[4];
                                break;
                            case "t":
                                i = f + e[1],
                                o = h + e[2],
                                null === l[0].match(/[QqTt]/) ? (p = f,
                                g = h) : (p = 2 * f - p,
                                g = 2 * h - g),
                                a = t.util.getBoundsOfCurve(f, h, p, g, p, g, i, o),
                                f = i,
                                h = o;
                                break;
                            case "T":
                                i = e[1],
                                o = e[2],
                                null === l[0].match(/[QqTt]/) ? (p = f,
                                g = h) : (p = 2 * f - p,
                                g = 2 * h - g),
                                a = t.util.getBoundsOfCurve(f, h, p, g, p, g, i, o),
                                f = i,
                                h = o;
                                break;
                            case "a":
                                a = t.util.getBoundsOfArc(f, h, e[1], e[2], e[3], e[4], e[5], e[6] + f, e[7] + h),
                                f += e[6],
                                h += e[7];
                                break;
                            case "A":
                                a = t.util.getBoundsOfArc(f, h, e[1], e[2], e[3], e[4], e[5], e[6], e[7]),
                                f = e[6],
                                h = e[7];
                                break;
                            case "z":
                            case "Z":
                                f = u,
                                h = d
                            }
                            l = e,
                            a.forEach(function(e) {
                                s.push(e.x),
                                c.push(e.y)
                            }),
                            s.push(f),
                            c.push(h)
                        }
                        var y = n(s) || 0
                          , b = n(c) || 0;
                        return {
                            left: y,
                            top: b,
                            width: (r(s) || 0) - y,
                            height: (r(c) || 0) - b
                        }
                    }
                }),
                t.Path.fromObject = function(e, n, r) {
                    var i;
                    return "string" != typeof e.path ? t.Object._fromObject("Path", e, n, r, "path") : void t.loadSVGFromURL(e.path, function(r) {
                        var o = e.path;
                        i = r[0],
                        delete e.path,
                        t.util.object.extend(i, e),
                        i.setSourcePath(o),
                        n && n(i)
                    })
                }
                ,
                t.Path.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(["d"]),
                t.Path.fromElement = function(e, n, r) {
                    var o = t.parseAttributes(e, t.Path.ATTRIBUTE_NAMES);
                    n && n(new t.Path(o.d,i(o, r)))
                }
                ,
                t.Path.async = !0
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend;
            t.PathGroup ? t.warn("fabric.PathGroup is already defined") : (t.PathGroup = t.util.createClass(t.Object, {
                type: "path-group",
                fill: "",
                initialize: function(e, t) {
                    t = t || {},
                    this.paths = e || [];
                    for (var n = this.paths.length; n--; )
                        this.paths[n].group = this;
                    t.toBeParsed && (this.parseDimensionsFromPaths(t),
                    delete t.toBeParsed),
                    this.setOptions(t),
                    this.setCoords(),
                    t.sourcePath && this.setSourcePath(t.sourcePath),
                    this.objectCaching && (this._createCacheCanvas(),
                    this.setupState({
                        propertySet: "cacheProperties"
                    }))
                },
                parseDimensionsFromPaths: function(e) {
                    for (var n, r, i, o, a, s, c = [], l = [], u = this.paths.length; u--; ) {
                        o = (i = this.paths[u]).height + i.strokeWidth,
                        a = i.width + i.strokeWidth,
                        n = [{
                            x: i.left,
                            y: i.top
                        }, {
                            x: i.left + a,
                            y: i.top
                        }, {
                            x: i.left,
                            y: i.top + o
                        }, {
                            x: i.left + a,
                            y: i.top + o
                        }],
                        s = this.paths[u].transformMatrix;
                        for (var d = 0; d < n.length; d++)
                            r = n[d],
                            s && (r = t.util.transformPoint(r, s, !1)),
                            c.push(r.x),
                            l.push(r.y)
                    }
                    e.width = Math.max.apply(null, c),
                    e.height = Math.max.apply(null, l)
                },
                drawObject: function(e) {
                    e.save(),
                    e.translate(-this.width / 2, -this.height / 2);
                    for (var t = 0, n = this.paths.length; t < n; ++t)
                        this.paths[t].render(e, !0);
                    e.restore()
                },
                isCacheDirty: function() {
                    if (this.callSuper("isCacheDirty"))
                        return !0;
                    if (!this.statefullCache)
                        return !1;
                    for (var e = 0, t = this.paths.length; e < t; e++)
                        if (this.paths[e].isCacheDirty(!0)) {
                            var n = this._getNonTransformedDimensions();
                            return this._cacheContext.clearRect(-n.x / 2, -n.y / 2, n.x, n.y),
                            !0
                        }
                    return !1
                },
                _set: function(e, t) {
                    if ("fill" === e && t && this.isSameColor())
                        for (var n = this.paths.length; n--; )
                            this.paths[n]._set(e, t);
                    return this.callSuper("_set", e, t)
                },
                toObject: function(e) {
                    var t = this.paths.map(function(t) {
                        var n = t.includeDefaultValues;
                        t.includeDefaultValues = t.group.includeDefaultValues;
                        var r = t.toObject(e);
                        return t.includeDefaultValues = n,
                        r
                    });
                    return n(this.callSuper("toObject", ["sourcePath"].concat(e)), {
                        paths: t
                    })
                },
                toDatalessObject: function(e) {
                    var t = this.toObject(e);
                    return this.sourcePath && (t.paths = this.sourcePath),
                    t
                },
                toSVG: function(e) {
                    var t = this.getObjects()
                      , n = this.getPointByOrigin("left", "top")
                      , r = "translate(" + n.x + " " + n.y + ")"
                      , i = this._createBaseSVGMarkup();
                    i.push("<g ", this.getSvgId(), 'style="', this.getSvgStyles(), '" ', 'transform="', this.getSvgTransformMatrix(), r, this.getSvgTransform(), '" ', ">\n");
                    for (var o = 0, a = t.length; o < a; o++)
                        i.push("\t", t[o].toSVG(e));
                    return i.push("</g>\n"),
                    e ? e(i.join("")) : i.join("")
                },
                toString: function() {
                    return "#<fabric.PathGroup (" + this.complexity() + "): { top: " + this.top + ", left: " + this.left + " }>"
                },
                isSameColor: function() {
                    var e = this.getObjects()[0].get("fill") || "";
                    return "string" == typeof e && (e = e.toLowerCase(),
                    this.getObjects().every(function(t) {
                        var n = t.get("fill") || "";
                        return "string" == typeof n && n.toLowerCase() === e
                    }))
                },
                complexity: function() {
                    return this.paths.reduce(function(e, t) {
                        return e + (t && t.complexity ? t.complexity() : 0)
                    }, 0)
                },
                getObjects: function() {
                    return this.paths
                }
            }),
            t.PathGroup.fromObject = function(e, n) {
                "string" == typeof e.paths ? t.loadSVGFromURL(e.paths, function(r) {
                    var i = e.paths;
                    delete e.paths;
                    var o = t.util.groupSVGElements(r, e, i);
                    n(o)
                }) : t.util.enlivenObjects(e.paths, function(r) {
                    delete e.paths,
                    n(new t.PathGroup(r,e))
                })
            }
            ,
            t.PathGroup.async = !0)
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.util.array.min
              , i = t.util.array.max;
            if (!t.Group) {
                var o = {
                    lockMovementX: !0,
                    lockMovementY: !0,
                    lockRotation: !0,
                    lockScalingX: !0,
                    lockScalingY: !0,
                    lockUniScaling: !0
                };
                t.Group = t.util.createClass(t.Object, t.Collection, {
                    type: "group",
                    strokeWidth: 0,
                    subTargetCheck: !1,
                    initialize: function(e, t, n) {
                        t = t || {},
                        this._objects = [],
                        n && this.callSuper("initialize", t),
                        this._objects = e || [];
                        for (var r = this._objects.length; r--; )
                            this._objects[r].group = this;
                        this.originalState = {},
                        t.originX && (this.originX = t.originX),
                        t.originY && (this.originY = t.originY),
                        n ? this._updateObjectsCoords(!0) : (this._calcBounds(),
                        this._updateObjectsCoords(),
                        this.callSuper("initialize", t)),
                        this.setCoords(),
                        this.saveCoords()
                    },
                    _updateObjectsCoords: function(e) {
                        for (var t = this.getCenterPoint(), n = this._objects.length; n--; )
                            this._updateObjectCoords(this._objects[n], t, e)
                    },
                    _updateObjectCoords: function(e, t, n) {
                        if (e.__origHasControls = e.hasControls,
                        e.hasControls = !1,
                        !n) {
                            var r = e.getLeft()
                              , i = e.getTop();
                            e.set({
                                originalLeft: r,
                                originalTop: i,
                                left: r - t.x,
                                top: i - t.y
                            }),
                            e.setCoords(!0)
                        }
                    },
                    toString: function() {
                        return "#<fabric.Group: (" + this.complexity() + ")>"
                    },
                    addWithUpdate: function(e) {
                        return this._restoreObjectsState(),
                        t.util.resetObjectTransform(this),
                        e && (this._objects.push(e),
                        e.group = this,
                        e._set("canvas", this.canvas)),
                        this.forEachObject(this._setObjectActive, this),
                        this._calcBounds(),
                        this._updateObjectsCoords(),
                        this.dirty = !0,
                        this
                    },
                    _setObjectActive: function(e) {
                        e.set("active", !0),
                        e.group = this
                    },
                    removeWithUpdate: function(e) {
                        return this._restoreObjectsState(),
                        t.util.resetObjectTransform(this),
                        this.forEachObject(this._setObjectActive, this),
                        this.remove(e),
                        this._calcBounds(),
                        this._updateObjectsCoords(),
                        this.dirty = !0,
                        this
                    },
                    _onObjectAdded: function(e) {
                        this.dirty = !0,
                        e.group = this,
                        e._set("canvas", this.canvas)
                    },
                    _onObjectRemoved: function(e) {
                        this.dirty = !0,
                        delete e.group,
                        e.set("active", !1)
                    },
                    delegatedProperties: {
                        fill: !0,
                        stroke: !0,
                        strokeWidth: !0,
                        fontFamily: !0,
                        fontWeight: !0,
                        fontSize: !0,
                        fontStyle: !0,
                        lineHeight: !0,
                        textDecoration: !0,
                        textAlign: !0,
                        backgroundColor: !0
                    },
                    _set: function(e, t) {
                        var n = this._objects.length;
                        if (this.delegatedProperties[e] || "canvas" === e)
                            for (; n--; )
                                this._objects[n].set(e, t);
                        else
                            for (; n--; )
                                this._objects[n].setOnGroup(e, t);
                        this.callSuper("_set", e, t)
                    },
                    toObject: function(e) {
                        var t = this.getObjects().map(function(t) {
                            var n = t.includeDefaultValues;
                            t.includeDefaultValues = t.group.includeDefaultValues;
                            var r = t.toObject(e);
                            return t.includeDefaultValues = n,
                            r
                        });
                        return n(this.callSuper("toObject", e), {
                            objects: t
                        })
                    },
                    render: function(e) {
                        this._transformDone = !0,
                        this.callSuper("render", e),
                        this._transformDone = !1
                    },
                    drawObject: function(e) {
                        for (var t = 0, n = this._objects.length; t < n; t++)
                            this._renderObject(this._objects[t], e)
                    },
                    isCacheDirty: function() {
                        if (this.callSuper("isCacheDirty"))
                            return !0;
                        if (!this.statefullCache)
                            return !1;
                        for (var e = 0, t = this._objects.length; e < t; e++)
                            if (this._objects[e].isCacheDirty(!0)) {
                                var n = this._getNonTransformedDimensions();
                                return this._cacheContext.clearRect(-n.x / 2, -n.y / 2, n.x, n.y),
                                !0
                            }
                        return !1
                    },
                    _renderControls: function(e, t) {
                        e.save(),
                        e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1,
                        this.callSuper("_renderControls", e, t);
                        for (var n = 0, r = this._objects.length; n < r; n++)
                            this._objects[n]._renderControls(e);
                        e.restore()
                    },
                    _renderObject: function(e, t) {
                        if (e.visible) {
                            var n = e.hasRotatingPoint;
                            e.hasRotatingPoint = !1,
                            e.render(t),
                            e.hasRotatingPoint = n
                        }
                    },
                    _restoreObjectsState: function() {
                        return this._objects.forEach(this._restoreObjectState, this),
                        this
                    },
                    realizeTransform: function(e) {
                        var n = e.calcTransformMatrix()
                          , r = t.util.qrDecompose(n)
                          , i = new t.Point(r.translateX,r.translateY);
                        return e.flipX = !1,
                        e.flipY = !1,
                        e.set("scaleX", r.scaleX),
                        e.set("scaleY", r.scaleY),
                        e.skewX = r.skewX,
                        e.skewY = r.skewY,
                        e.angle = r.angle,
                        e.setPositionByOrigin(i, "center", "center"),
                        e
                    },
                    _restoreObjectState: function(e) {
                        return this.realizeTransform(e),
                        e.setCoords(),
                        e.hasControls = e.__origHasControls,
                        delete e.__origHasControls,
                        e.set("active", !1),
                        delete e.group,
                        this
                    },
                    destroy: function() {
                        return this._restoreObjectsState()
                    },
                    saveCoords: function() {
                        return this._originalLeft = this.get("left"),
                        this._originalTop = this.get("top"),
                        this
                    },
                    hasMoved: function() {
                        return this._originalLeft !== this.get("left") || this._originalTop !== this.get("top")
                    },
                    setObjectsCoords: function() {
                        return this.forEachObject(function(e) {
                            e.setCoords(!0)
                        }),
                        this
                    },
                    _calcBounds: function(e) {
                        for (var t, n, r, i = [], o = [], a = ["tr", "br", "bl", "tl"], s = 0, c = this._objects.length, l = a.length; s < c; ++s)
                            for ((t = this._objects[s]).setCoords(!0),
                            r = 0; r < l; r++)
                                n = a[r],
                                i.push(t.oCoords[n].x),
                                o.push(t.oCoords[n].y);
                        this.set(this._getBounds(i, o, e))
                    },
                    _getBounds: function(e, n, o) {
                        var a = new t.Point(r(e),r(n))
                          , s = new t.Point(i(e),i(n))
                          , c = {
                            width: s.x - a.x || 0,
                            height: s.y - a.y || 0
                        };
                        return o || (c.left = a.x || 0,
                        c.top = a.y || 0,
                        "center" === this.originX && (c.left += c.width / 2),
                        "right" === this.originX && (c.left += c.width),
                        "center" === this.originY && (c.top += c.height / 2),
                        "bottom" === this.originY && (c.top += c.height)),
                        c
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup();
                        t.push("<g ", this.getSvgId(), 'transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '" style="', this.getSvgFilter(), '">\n');
                        for (var n = 0, r = this._objects.length; n < r; n++)
                            t.push("\t", this._objects[n].toSVG(e));
                        return t.push("</g>\n"),
                        e ? e(t.join("")) : t.join("")
                    },
                    get: function(e) {
                        if (e in o) {
                            if (this[e])
                                return this[e];
                            for (var t = 0, n = this._objects.length; t < n; t++)
                                if (this._objects[t][e])
                                    return !0;
                            return !1
                        }
                        return e in this.delegatedProperties ? this._objects[0] && this._objects[0].get(e) : this[e]
                    }
                }),
                t.Group.fromObject = function(e, n) {
                    t.util.enlivenObjects(e.objects, function(r) {
                        delete e.objects,
                        n && n(new t.Group(r,e,!0))
                    })
                }
                ,
                t.Group.async = !0
            }
        }(exports),
        function(e) {
            "use strict";
            var t = fabric.util.object.extend;
            if (e.fabric || (e.fabric = {}),
            e.fabric.Image)
                fabric.warn("fabric.Image is already defined.");
            else {
                var n = fabric.Object.prototype.stateProperties.concat();
                n.push("alignX", "alignY", "meetOrSlice"),
                fabric.Image = fabric.util.createClass(fabric.Object, {
                    type: "image",
                    crossOrigin: "",
                    alignX: "none",
                    alignY: "none",
                    meetOrSlice: "meet",
                    strokeWidth: 0,
                    _lastScaleX: 1,
                    _lastScaleY: 1,
                    minimumScaleTrigger: .5,
                    stateProperties: n,
                    objectCaching: !1,
                    initialize: function(e, t, n) {
                        t || (t = {}),
                        this.filters = [],
                        this.resizeFilters = [],
                        this.callSuper("initialize", t),
                        this._initElement(e, t, n)
                    },
                    getElement: function() {
                        return this._element
                    },
                    setElement: function(e, t, n) {
                        var r, i;
                        return this._element = e,
                        this._originalElement = e,
                        this._initConfig(n),
                        0 === this.resizeFilters.length ? r = t : (i = this,
                        r = function() {
                            i.applyFilters(t, i.resizeFilters, i._filteredEl || i._originalElement, !0)
                        }
                        ),
                        0 !== this.filters.length ? this.applyFilters(r) : r && r(this),
                        this
                    },
                    setCrossOrigin: function(e) {
                        return this.crossOrigin = e,
                        this._element.crossOrigin = e,
                        this
                    },
                    getOriginalSize: function() {
                        var e = this.getElement();
                        return {
                            width: e.width,
                            height: e.height
                        }
                    },
                    _stroke: function(e) {
                        if (this.stroke && 0 !== this.strokeWidth) {
                            var t = this.width / 2
                              , n = this.height / 2;
                            e.beginPath(),
                            e.moveTo(-t, -n),
                            e.lineTo(t, -n),
                            e.lineTo(t, n),
                            e.lineTo(-t, n),
                            e.lineTo(-t, -n),
                            e.closePath()
                        }
                    },
                    _renderDashedStroke: function(e) {
                        var t = -this.width / 2
                          , n = -this.height / 2
                          , r = this.width
                          , i = this.height;
                        e.save(),
                        this._setStrokeStyles(e),
                        e.beginPath(),
                        fabric.util.drawDashedLine(e, t, n, t + r, n, this.strokeDashArray),
                        fabric.util.drawDashedLine(e, t + r, n, t + r, n + i, this.strokeDashArray),
                        fabric.util.drawDashedLine(e, t + r, n + i, t, n + i, this.strokeDashArray),
                        fabric.util.drawDashedLine(e, t, n + i, t, n, this.strokeDashArray),
                        e.closePath(),
                        e.restore()
                    },
                    toObject: function(e) {
                        var n = []
                          , r = []
                          , i = 1
                          , o = 1;
                        this.filters.forEach(function(e) {
                            e && ("Resize" === e.type && (i *= e.scaleX,
                            o *= e.scaleY),
                            n.push(e.toObject()))
                        }),
                        this.resizeFilters.forEach(function(e) {
                            e && r.push(e.toObject())
                        });
                        var a = t(this.callSuper("toObject", ["crossOrigin", "alignX", "alignY", "meetOrSlice"].concat(e)), {
                            src: this.getSrc(),
                            filters: n,
                            resizeFilters: r
                        });
                        return a.width /= i,
                        a.height /= o,
                        a
                    },
                    toSVG: function(e) {
                        var t = this._createBaseSVGMarkup()
                          , n = -this.width / 2
                          , r = -this.height / 2
                          , i = "none";
                        if (this.group && "path-group" === this.group.type && (n = this.left,
                        r = this.top),
                        "none" !== this.alignX && "none" !== this.alignY && (i = "x" + this.alignX + "Y" + this.alignY + " " + this.meetOrSlice),
                        t.push('<g transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '">\n', "<image ", this.getSvgId(), 'xlink:href="', this.getSvgSrc(!0), '" x="', n, '" y="', r, '" style="', this.getSvgStyles(), '" width="', this.width, '" height="', this.height, '" preserveAspectRatio="', i, '"', "></image>\n"),
                        this.stroke || this.strokeDashArray) {
                            var o = this.fill;
                            this.fill = null,
                            t.push("<rect ", 'x="', n, '" y="', r, '" width="', this.width, '" height="', this.height, '" style="', this.getSvgStyles(), '"/>\n'),
                            this.fill = o
                        }
                        return t.push("</g>\n"),
                        e ? e(t.join("")) : t.join("")
                    },
                    getSrc: function(e) {
                        var t = e ? this._element : this._originalElement;
                        return t ? fabric.isLikelyNode ? t._src : t.src : this.src || ""
                    },
                    setSrc: function(e, t, n) {
                        fabric.util.loadImage(e, function(e) {
                            return this.setElement(e, t, n)
                        }, this, n && n.crossOrigin)
                    },
                    toString: function() {
                        return '#<fabric.Image: { src: "' + this.getSrc() + '" }>'
                    },
                    applyFilters: function(e, t, n, r) {
                        if (t = t || this.filters,
                        n = n || this._originalElement) {
                            var i, o, a = fabric.util.createImage(), s = this.canvas ? this.canvas.getRetinaScaling() : fabric.devicePixelRatio, c = this.minimumScaleTrigger / s, l = this;
                            if (0 === t.length)
                                return this._element = n,
                                e && e(this),
                                n;
                            var u = fabric.util.createCanvasElement();
                            return u.width = n.width,
                            u.height = n.height,
                            u.getContext("2d").drawImage(n, 0, 0, n.width, n.height),
                            t.forEach(function(e) {
                                e && (r ? (i = l.scaleX < c ? l.scaleX : 1,
                                o = l.scaleY < c ? l.scaleY : 1,
                                i * s < 1 && (i *= s),
                                o * s < 1 && (o *= s)) : (i = e.scaleX,
                                o = e.scaleY),
                                e.applyTo(u, i, o),
                                r || "Resize" !== e.type || (l.width *= e.scaleX,
                                l.height *= e.scaleY))
                            }),
                            a.width = u.width,
                            a.height = u.height,
                            fabric.isLikelyNode ? (a.src = u.toBuffer(void 0, fabric.Image.pngCompression),
                            l._element = a,
                            !r && (l._filteredEl = a),
                            e && e(l)) : (a.onload = function() {
                                l._element = a,
                                !r && (l._filteredEl = a),
                                e && e(l),
                                a.onload = u = null
                            }
                            ,
                            a.src = u.toDataURL("image/png")),
                            u
                        }
                    },
                    _render: function(e, t) {
                        var n, r, i, o = this._findMargins();
                        n = t ? this.left : -this.width / 2,
                        r = t ? this.top : -this.height / 2,
                        "slice" === this.meetOrSlice && (e.beginPath(),
                        e.rect(n, r, this.width, this.height),
                        e.clip()),
                        !1 === this.isMoving && this.resizeFilters.length && this._needsResize() ? (this._lastScaleX = this.scaleX,
                        this._lastScaleY = this.scaleY,
                        i = this.applyFilters(null, this.resizeFilters, this._filteredEl || this._originalElement, !0)) : i = this._element,
                        i && e.drawImage(i, n + o.marginX, r + o.marginY, o.width, o.height),
                        this._stroke(e),
                        this._renderStroke(e)
                    },
                    _needsResize: function() {
                        return this.scaleX !== this._lastScaleX || this.scaleY !== this._lastScaleY
                    },
                    _findMargins: function() {
                        var e, t, n = this.width, r = this.height, i = 0, o = 0;
                        return "none" === this.alignX && "none" === this.alignY || (e = [this.width / this._element.width, this.height / this._element.height],
                        t = "meet" === this.meetOrSlice ? Math.min.apply(null, e) : Math.max.apply(null, e),
                        n = this._element.width * t,
                        r = this._element.height * t,
                        "Mid" === this.alignX && (i = (this.width - n) / 2),
                        "Max" === this.alignX && (i = this.width - n),
                        "Mid" === this.alignY && (o = (this.height - r) / 2),
                        "Max" === this.alignY && (o = this.height - r)),
                        {
                            width: n,
                            height: r,
                            marginX: i,
                            marginY: o
                        }
                    },
                    _resetWidthHeight: function() {
                        var e = this.getElement();
                        this.set("width", e.width),
                        this.set("height", e.height)
                    },
                    _initElement: function(e, t, n) {
                        this.setElement(fabric.util.getById(e), n, t),
                        fabric.util.addClass(this.getElement(), fabric.Image.CSS_CANVAS)
                    },
                    _initConfig: function(e) {
                        e || (e = {}),
                        this.setOptions(e),
                        this._setWidthHeight(e),
                        this._element && this.crossOrigin && (this._element.crossOrigin = this.crossOrigin)
                    },
                    _initFilters: function(e, t) {
                        e && e.length ? fabric.util.enlivenObjects(e, function(e) {
                            t && t(e)
                        }, "fabric.Image.filters") : t && t()
                    },
                    _setWidthHeight: function(e) {
                        this.width = "width"in e ? e.width : this.getElement() && this.getElement().width || 0,
                        this.height = "height"in e ? e.height : this.getElement() && this.getElement().height || 0
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                fabric.Image.CSS_CANVAS = "canvas-img",
                fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc,
                fabric.Image.fromObject = function(e, t) {
                    fabric.util.loadImage(e.src, function(n, r) {
                        return r ? void (t && t(null, r)) : void fabric.Image.prototype._initFilters.call(e, e.filters, function(r) {
                            e.filters = r || [],
                            fabric.Image.prototype._initFilters.call(e, e.resizeFilters, function(r) {
                                return e.resizeFilters = r || [],
                                new fabric.Image(n,e,t)
                            })
                        })
                    }, null, e.crossOrigin)
                }
                ,
                fabric.Image.fromURL = function(e, t, n) {
                    fabric.util.loadImage(e, function(e) {
                        t && t(new fabric.Image(e,n))
                    }, null, n && n.crossOrigin)
                }
                ,
                fabric.Image.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),
                fabric.Image.fromElement = function(e, n, r) {
                    var i, o = fabric.parseAttributes(e, fabric.Image.ATTRIBUTE_NAMES);
                    o.preserveAspectRatio && (i = fabric.util.parsePreserveAspectRatioAttribute(o.preserveAspectRatio),
                    t(o, i)),
                    fabric.Image.fromURL(o["xlink:href"], n, t(r ? fabric.util.object.clone(r) : {}, o))
                }
                ,
                fabric.Image.async = !0,
                fabric.Image.pngCompression = 1
            }
        }(exports),
        fabric.util.object.extend(fabric.Object.prototype, {
            _getAngleValueForStraighten: function() {
                var e = this.getAngle() % 360;
                return e > 0 ? 90 * Math.round((e - 1) / 90) : 90 * Math.round(e / 90)
            },
            straighten: function() {
                return this.setAngle(this._getAngleValueForStraighten()),
                this
            },
            fxStraighten: function(e) {
                var t = function() {}
                  , n = (e = e || {}).onComplete || t
                  , r = e.onChange || t
                  , i = this;
                return fabric.util.animate({
                    startValue: this.get("angle"),
                    endValue: this._getAngleValueForStraighten(),
                    duration: this.FX_DURATION,
                    onChange: function(e) {
                        i.setAngle(e),
                        r()
                    },
                    onComplete: function() {
                        i.setCoords(),
                        n()
                    },
                    onStart: function() {
                        i.set("active", !1)
                    }
                }),
                this
            }
        }),
        fabric.util.object.extend(fabric.StaticCanvas.prototype, {
            straightenObject: function(e) {
                return e.straighten(),
                this.renderAll(),
                this
            },
            fxStraightenObject: function(e) {
                return e.fxStraighten({
                    onChange: this.renderAll.bind(this)
                }),
                this
            }
        }),
        fabric.Image.filters = fabric.Image.filters || {},
        fabric.Image.filters.BaseFilter = fabric.util.createClass({
            type: "BaseFilter",
            initialize: function(e) {
                e && this.setOptions(e)
            },
            setOptions: function(e) {
                for (var t in e)
                    this[t] = e[t]
            },
            toObject: function() {
                return {
                    type: this.type
                }
            },
            toJSON: function() {
                return this.toObject()
            }
        }),
        fabric.Image.filters.BaseFilter.fromObject = function(e, t) {
            var n = new fabric.Image.filters[e.type](e);
            return t && t(n),
            n
        }
        ,
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Brightness = i(r.BaseFilter, {
                type: "Brightness",
                initialize: function(e) {
                    e = e || {},
                    this.brightness = e.brightness || 0
                },
                applyTo: function(e) {
                    for (var t = e.getContext("2d"), n = t.getImageData(0, 0, e.width, e.height), r = n.data, i = this.brightness, o = 0, a = r.length; o < a; o += 4)
                        r[o] += i,
                        r[o + 1] += i,
                        r[o + 2] += i;
                    t.putImageData(n, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        brightness: this.brightness
                    })
                }
            }),
            t.Image.filters.Brightness.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Convolute = i(r.BaseFilter, {
                type: "Convolute",
                initialize: function(e) {
                    e = e || {},
                    this.opaque = e.opaque,
                    this.matrix = e.matrix || [0, 0, 0, 0, 1, 0, 0, 0, 0]
                },
                applyTo: function(e) {
                    for (var t, n, r, i, o, a, s, c, l, u = this.matrix, d = e.getContext("2d"), f = d.getImageData(0, 0, e.width, e.height), h = Math.round(Math.sqrt(u.length)), p = Math.floor(h / 2), g = f.data, m = f.width, v = f.height, y = d.createImageData(m, v), b = y.data, w = this.opaque ? 1 : 0, x = 0; x < v; x++)
                        for (var S = 0; S < m; S++) {
                            o = 4 * (x * m + S),
                            t = 0,
                            n = 0,
                            r = 0,
                            i = 0;
                            for (var C = 0; C < h; C++)
                                for (var _ = 0; _ < h; _++)
                                    a = S + _ - p,
                                    (s = x + C - p) < 0 || s > v || a < 0 || a > m || (c = 4 * (s * m + a),
                                    l = u[C * h + _],
                                    t += g[c] * l,
                                    n += g[c + 1] * l,
                                    r += g[c + 2] * l,
                                    i += g[c + 3] * l);
                            b[o] = t,
                            b[o + 1] = n,
                            b[o + 2] = r,
                            b[o + 3] = i + w * (255 - i)
                        }
                    d.putImageData(y, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        opaque: this.opaque,
                        matrix: this.matrix
                    })
                }
            }),
            t.Image.filters.Convolute.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.GradientTransparency = i(r.BaseFilter, {
                type: "GradientTransparency",
                initialize: function(e) {
                    e = e || {},
                    this.threshold = e.threshold || 100
                },
                applyTo: function(e) {
                    for (var t = e.getContext("2d"), n = t.getImageData(0, 0, e.width, e.height), r = n.data, i = this.threshold, o = r.length, a = 0, s = r.length; a < s; a += 4)
                        r[a + 3] = i + 255 * (o - a) / o;
                    t.putImageData(n, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        threshold: this.threshold
                    })
                }
            }),
            t.Image.filters.GradientTransparency.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.Image.filters
              , r = t.util.createClass;
            n.Grayscale = r(n.BaseFilter, {
                type: "Grayscale",
                applyTo: function(e) {
                    for (var t, n = e.getContext("2d"), r = n.getImageData(0, 0, e.width, e.height), i = r.data, o = r.width * r.height * 4, a = 0; a < o; )
                        t = (i[a] + i[a + 1] + i[a + 2]) / 3,
                        i[a] = t,
                        i[a + 1] = t,
                        i[a + 2] = t,
                        a += 4;
                    n.putImageData(r, 0, 0)
                }
            }),
            t.Image.filters.Grayscale.fromObject = function(e, n) {
                return (e = e || {}).type = "Grayscale",
                t.Image.filters.BaseFilter.fromObject(e, n)
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.Image.filters
              , r = t.util.createClass;
            n.Invert = r(n.BaseFilter, {
                type: "Invert",
                applyTo: function(e) {
                    var t, n = e.getContext("2d"), r = n.getImageData(0, 0, e.width, e.height), i = r.data, o = i.length;
                    for (t = 0; t < o; t += 4)
                        i[t] = 255 - i[t],
                        i[t + 1] = 255 - i[t + 1],
                        i[t + 2] = 255 - i[t + 2];
                    n.putImageData(r, 0, 0)
                }
            }),
            t.Image.filters.Invert.fromObject = function(e, n) {
                return (e = e || {}).type = "Invert",
                t.Image.filters.BaseFilter.fromObject(e, n)
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Mask = i(r.BaseFilter, {
                type: "Mask",
                initialize: function(e) {
                    e = e || {},
                    this.mask = e.mask,
                    this.channel = [0, 1, 2, 3].indexOf(e.channel) > -1 ? e.channel : 0
                },
                applyTo: function(e) {
                    if (this.mask) {
                        var n, r = e.getContext("2d"), i = r.getImageData(0, 0, e.width, e.height), o = i.data, a = this.mask.getElement(), s = t.util.createCanvasElement(), c = this.channel, l = i.width * i.height * 4;
                        s.width = e.width,
                        s.height = e.height,
                        s.getContext("2d").drawImage(a, 0, 0, e.width, e.height);
                        var u = s.getContext("2d").getImageData(0, 0, e.width, e.height).data;
                        for (n = 0; n < l; n += 4)
                            o[n + 3] = u[n + c];
                        r.putImageData(i, 0, 0)
                    }
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        mask: this.mask.toObject(),
                        channel: this.channel
                    })
                }
            }),
            t.Image.filters.Mask.fromObject = function(e, n) {
                t.util.loadImage(e.mask.src, function(r) {
                    return e.mask = new t.Image(r,e.mask),
                    t.Image.filters.BaseFilter.fromObject(e, n)
                })
            }
            ,
            t.Image.filters.Mask.async = !0
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Noise = i(r.BaseFilter, {
                type: "Noise",
                initialize: function(e) {
                    e = e || {},
                    this.noise = e.noise || 0
                },
                applyTo: function(e) {
                    for (var t, n = e.getContext("2d"), r = n.getImageData(0, 0, e.width, e.height), i = r.data, o = this.noise, a = 0, s = i.length; a < s; a += 4)
                        t = (.5 - Math.random()) * o,
                        i[a] += t,
                        i[a + 1] += t,
                        i[a + 2] += t;
                    n.putImageData(r, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        noise: this.noise
                    })
                }
            }),
            t.Image.filters.Noise.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Pixelate = i(r.BaseFilter, {
                type: "Pixelate",
                initialize: function(e) {
                    e = e || {},
                    this.blocksize = e.blocksize || 4
                },
                applyTo: function(e) {
                    var t, n, r, i, o, a, s, c = e.getContext("2d"), l = c.getImageData(0, 0, e.width, e.height), u = l.data, d = l.height, f = l.width;
                    for (n = 0; n < d; n += this.blocksize)
                        for (r = 0; r < f; r += this.blocksize) {
                            i = u[t = 4 * n * f + 4 * r],
                            o = u[t + 1],
                            a = u[t + 2],
                            s = u[t + 3];
                            for (var h = n, p = n + this.blocksize; h < p; h++)
                                for (var g = r, m = r + this.blocksize; g < m; g++)
                                    u[t = 4 * h * f + 4 * g] = i,
                                    u[t + 1] = o,
                                    u[t + 2] = a,
                                    u[t + 3] = s
                        }
                    c.putImageData(l, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        blocksize: this.blocksize
                    })
                }
            }),
            t.Image.filters.Pixelate.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.RemoveWhite = i(r.BaseFilter, {
                type: "RemoveWhite",
                initialize: function(e) {
                    e = e || {},
                    this.threshold = e.threshold || 30,
                    this.distance = e.distance || 20
                },
                applyTo: function(e) {
                    for (var t, n, r, i = e.getContext("2d"), o = i.getImageData(0, 0, e.width, e.height), a = o.data, s = this.threshold, c = this.distance, l = 255 - s, u = Math.abs, d = 0, f = a.length; d < f; d += 4)
                        t = a[d],
                        n = a[d + 1],
                        r = a[d + 2],
                        t > l && n > l && r > l && u(t - n) < c && u(t - r) < c && u(n - r) < c && (a[d + 3] = 0);
                    i.putImageData(o, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        threshold: this.threshold,
                        distance: this.distance
                    })
                }
            }),
            t.Image.filters.RemoveWhite.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.Image.filters
              , r = t.util.createClass;
            n.Sepia = r(n.BaseFilter, {
                type: "Sepia",
                applyTo: function(e) {
                    var t, n, r = e.getContext("2d"), i = r.getImageData(0, 0, e.width, e.height), o = i.data, a = o.length;
                    for (t = 0; t < a; t += 4)
                        n = .3 * o[t] + .59 * o[t + 1] + .11 * o[t + 2],
                        o[t] = n + 100,
                        o[t + 1] = n + 50,
                        o[t + 2] = n + 255;
                    r.putImageData(i, 0, 0)
                }
            }),
            t.Image.filters.Sepia.fromObject = function(e, n) {
                return (e = e || {}).type = "Sepia",
                new t.Image.filters.BaseFilter.fromObject(e,n)
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.Image.filters
              , r = t.util.createClass;
            n.Sepia2 = r(n.BaseFilter, {
                type: "Sepia2",
                applyTo: function(e) {
                    var t, n, r, i, o = e.getContext("2d"), a = o.getImageData(0, 0, e.width, e.height), s = a.data, c = s.length;
                    for (t = 0; t < c; t += 4)
                        n = s[t],
                        r = s[t + 1],
                        i = s[t + 2],
                        s[t] = (.393 * n + .769 * r + .189 * i) / 1.351,
                        s[t + 1] = (.349 * n + .686 * r + .168 * i) / 1.203,
                        s[t + 2] = (.272 * n + .534 * r + .131 * i) / 2.14;
                    o.putImageData(a, 0, 0)
                }
            }),
            t.Image.filters.Sepia2.fromObject = function(e, n) {
                return (e = e || {}).type = "Sepia2",
                new t.Image.filters.BaseFilter.fromObject(e,n)
            }
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Tint = i(r.BaseFilter, {
                type: "Tint",
                initialize: function(e) {
                    e = e || {},
                    this.color = e.color || "#000000",
                    this.opacity = void 0 !== e.opacity ? e.opacity : new t.Color(this.color).getAlpha()
                },
                applyTo: function(e) {
                    var n, r, i, o, a, s, c, l, u, d = e.getContext("2d"), f = d.getImageData(0, 0, e.width, e.height), h = f.data, p = h.length;
                    for (r = (u = new t.Color(this.color).getSource())[0] * this.opacity,
                    i = u[1] * this.opacity,
                    o = u[2] * this.opacity,
                    l = 1 - this.opacity,
                    n = 0; n < p; n += 4)
                        a = h[n],
                        s = h[n + 1],
                        c = h[n + 2],
                        h[n] = r + a * l,
                        h[n + 1] = i + s * l,
                        h[n + 2] = o + c * l;
                    d.putImageData(f, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        color: this.color,
                        opacity: this.opacity
                    })
                }
            }),
            t.Image.filters.Tint.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Multiply = i(r.BaseFilter, {
                type: "Multiply",
                initialize: function(e) {
                    e = e || {},
                    this.color = e.color || "#000000"
                },
                applyTo: function(e) {
                    var n, r, i = e.getContext("2d"), o = i.getImageData(0, 0, e.width, e.height), a = o.data, s = a.length;
                    for (r = new t.Color(this.color).getSource(),
                    n = 0; n < s; n += 4)
                        a[n] *= r[0] / 255,
                        a[n + 1] *= r[1] / 255,
                        a[n + 2] *= r[2] / 255;
                    i.putImageData(o, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        color: this.color
                    })
                }
            }),
            t.Image.filters.Multiply.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = exports.fabric
              , n = t.Image.filters
              , r = t.util.createClass;
            n.Blend = r(n.BaseFilter, {
                type: "Blend",
                initialize: function(e) {
                    e = e || {},
                    this.color = e.color || "#000",
                    this.image = e.image || !1,
                    this.mode = e.mode || "multiply",
                    this.alpha = e.alpha || 1
                },
                applyTo: function(e) {
                    var n, r, i, o, a, s, c, l, u, d, f = e.getContext("2d"), h = f.getImageData(0, 0, e.width, e.height), p = h.data, g = !1;
                    if (this.image) {
                        g = !0;
                        var m = t.util.createCanvasElement();
                        m.width = this.image.width,
                        m.height = this.image.height;
                        var v = new t.StaticCanvas(m);
                        v.add(this.image),
                        d = v.getContext("2d").getImageData(0, 0, v.width, v.height).data
                    } else
                        n = (d = new t.Color(this.color).getSource())[0] * this.alpha,
                        r = d[1] * this.alpha,
                        i = d[2] * this.alpha;
                    for (var y = 0, b = p.length; y < b; y += 4)
                        switch (o = p[y],
                        a = p[y + 1],
                        s = p[y + 2],
                        g && (n = d[y] * this.alpha,
                        r = d[y + 1] * this.alpha,
                        i = d[y + 2] * this.alpha),
                        this.mode) {
                        case "multiply":
                            p[y] = o * n / 255,
                            p[y + 1] = a * r / 255,
                            p[y + 2] = s * i / 255;
                            break;
                        case "screen":
                            p[y] = 1 - (1 - o) * (1 - n),
                            p[y + 1] = 1 - (1 - a) * (1 - r),
                            p[y + 2] = 1 - (1 - s) * (1 - i);
                            break;
                        case "add":
                            p[y] = Math.min(255, o + n),
                            p[y + 1] = Math.min(255, a + r),
                            p[y + 2] = Math.min(255, s + i);
                            break;
                        case "diff":
                        case "difference":
                            p[y] = Math.abs(o - n),
                            p[y + 1] = Math.abs(a - r),
                            p[y + 2] = Math.abs(s - i);
                            break;
                        case "subtract":
                            c = o - n,
                            l = a - r,
                            u = s - i,
                            p[y] = c < 0 ? 0 : c,
                            p[y + 1] = l < 0 ? 0 : l,
                            p[y + 2] = u < 0 ? 0 : u;
                            break;
                        case "darken":
                            p[y] = Math.min(o, n),
                            p[y + 1] = Math.min(a, r),
                            p[y + 2] = Math.min(s, i);
                            break;
                        case "lighten":
                            p[y] = Math.max(o, n),
                            p[y + 1] = Math.max(a, r),
                            p[y + 2] = Math.max(s, i)
                        }
                    f.putImageData(h, 0, 0)
                },
                toObject: function() {
                    return {
                        color: this.color,
                        image: this.image,
                        mode: this.mode,
                        alpha: this.alpha
                    }
                }
            }),
            t.Image.filters.Blend.fromObject = t.Image.filters.BaseFilter.fromObject
        }(),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = Math.pow
              , r = Math.floor
              , i = Math.sqrt
              , o = Math.abs
              , a = Math.max
              , s = Math.round
              , c = Math.sin
              , l = Math.ceil
              , u = t.Image.filters
              , d = t.util.createClass;
            u.Resize = d(u.BaseFilter, {
                type: "Resize",
                resizeType: "hermite",
                scaleX: 0,
                scaleY: 0,
                lanczosLobes: 3,
                applyTo: function(e, t, n) {
                    if (1 !== t || 1 !== n) {
                        this.rcpScaleX = 1 / t,
                        this.rcpScaleY = 1 / n;
                        var r, i = e.width, o = e.height, a = s(i * t), c = s(o * n);
                        "sliceHack" === this.resizeType && (r = this.sliceByTwo(e, i, o, a, c)),
                        "hermite" === this.resizeType && (r = this.hermiteFastResize(e, i, o, a, c)),
                        "bilinear" === this.resizeType && (r = this.bilinearFiltering(e, i, o, a, c)),
                        "lanczos" === this.resizeType && (r = this.lanczosResize(e, i, o, a, c)),
                        e.width = a,
                        e.height = c,
                        e.getContext("2d").putImageData(r, 0, 0)
                    }
                },
                sliceByTwo: function(e, n, i, o, s) {
                    var c, l = e.getContext("2d"), u = .5, d = .5, f = 1, h = 1, p = !1, g = !1, m = n, v = i, y = t.util.createCanvasElement(), b = y.getContext("2d");
                    for (o = r(o),
                    s = r(s),
                    y.width = a(o, n),
                    y.height = a(s, i),
                    o > n && (u = 2,
                    f = -1),
                    s > i && (d = 2,
                    h = -1),
                    c = l.getImageData(0, 0, n, i),
                    e.width = a(o, n),
                    e.height = a(s, i),
                    l.putImageData(c, 0, 0); !p || !g; )
                        n = m,
                        i = v,
                        o * f < r(m * u * f) ? m = r(m * u) : (m = o,
                        p = !0),
                        s * h < r(v * d * h) ? v = r(v * d) : (v = s,
                        g = !0),
                        c = l.getImageData(0, 0, n, i),
                        b.putImageData(c, 0, 0),
                        l.clearRect(0, 0, m, v),
                        l.drawImage(y, 0, 0, n, i, 0, 0, m, v);
                    return l.getImageData(0, 0, o, s)
                },
                lanczosResize: function(e, t, a, s, u) {
                    var d = e.getContext("2d")
                      , f = d.getImageData(0, 0, t, a)
                      , h = d.getImageData(0, 0, s, u)
                      , p = f.data
                      , g = h.data
                      , m = function(e) {
                        return function(t) {
                            if (t > e)
                                return 0;
                            if (t *= Math.PI,
                            o(t) < 1e-16)
                                return 1;
                            var n = t / e;
                            return c(t) * c(n) / t / n
                        }
                    }(this.lanczosLobes)
                      , v = this.rcpScaleX
                      , y = this.rcpScaleY
                      , b = 2 / this.rcpScaleX
                      , w = 2 / this.rcpScaleY
                      , x = l(v * this.lanczosLobes / 2)
                      , S = l(y * this.lanczosLobes / 2)
                      , C = {}
                      , _ = {}
                      , k = {};
                    return function e(c) {
                        var l, d, f, E, T, P, A, O, $, j, D;
                        for (_.x = (c + .5) * v,
                        k.x = r(_.x),
                        l = 0; l < u; l++) {
                            for (_.y = (l + .5) * y,
                            k.y = r(_.y),
                            T = 0,
                            P = 0,
                            A = 0,
                            O = 0,
                            $ = 0,
                            d = k.x - x; d <= k.x + x; d++)
                                if (!(d < 0 || d >= t)) {
                                    j = r(1e3 * o(d - _.x)),
                                    C[j] || (C[j] = {});
                                    for (var R = k.y - S; R <= k.y + S; R++)
                                        R < 0 || R >= a || (D = r(1e3 * o(R - _.y)),
                                        C[j][D] || (C[j][D] = m(i(n(j * b, 2) + n(D * w, 2)) / 1e3)),
                                        (f = C[j][D]) > 0 && (T += f,
                                        P += f * p[E = 4 * (R * t + d)],
                                        A += f * p[E + 1],
                                        O += f * p[E + 2],
                                        $ += f * p[E + 3]))
                                }
                            g[E = 4 * (l * s + c)] = P / T,
                            g[E + 1] = A / T,
                            g[E + 2] = O / T,
                            g[E + 3] = $ / T
                        }
                        return ++c < s ? e(c) : h
                    }(0)
                },
                bilinearFiltering: function(e, t, n, i, o) {
                    var a, s, c, l, u, d, f, h, p, g = 0, m = this.rcpScaleX, v = this.rcpScaleY, y = e.getContext("2d"), b = 4 * (t - 1), w = y.getImageData(0, 0, t, n).data, x = y.getImageData(0, 0, i, o), S = x.data;
                    for (c = 0; c < o; c++)
                        for (l = 0; l < i; l++)
                            for (u = m * l - (a = r(m * l)),
                            d = v * c - (s = r(v * c)),
                            p = 4 * (s * t + a),
                            f = 0; f < 4; f++)
                                h = w[p + f] * (1 - u) * (1 - d) + w[p + 4 + f] * u * (1 - d) + w[p + b + f] * d * (1 - u) + w[p + b + 4 + f] * u * d,
                                S[g++] = h;
                    return x
                },
                hermiteFastResize: function(e, t, n, a, s) {
                    for (var c = this.rcpScaleX, u = this.rcpScaleY, d = l(c / 2), f = l(u / 2), h = e.getContext("2d"), p = h.getImageData(0, 0, t, n).data, g = h.getImageData(0, 0, a, s), m = g.data, v = 0; v < s; v++)
                        for (var y = 0; y < a; y++) {
                            for (var b = 4 * (y + v * a), w = 0, x = 0, S = 0, C = 0, _ = 0, k = 0, E = 0, T = (v + .5) * u, P = r(v * u); P < (v + 1) * u; P++)
                                for (var A = o(T - (P + .5)) / f, O = (y + .5) * c, $ = A * A, j = r(y * c); j < (y + 1) * c; j++) {
                                    var D = o(O - (j + .5)) / d
                                      , R = i($ + D * D);
                                    R > 1 && R < -1 || (w = 2 * R * R * R - 3 * R * R + 1) > 0 && (E += w * p[3 + (D = 4 * (j + P * t))],
                                    S += w,
                                    p[D + 3] < 255 && (w = w * p[D + 3] / 250),
                                    C += w * p[D],
                                    _ += w * p[D + 1],
                                    k += w * p[D + 2],
                                    x += w)
                                }
                            m[b] = C / x,
                            m[b + 1] = _ / x,
                            m[b + 2] = k / x,
                            m[b + 3] = E / S
                        }
                    return g
                },
                toObject: function() {
                    return {
                        type: this.type,
                        scaleX: this.scaleX,
                        scaleY: this.scaleY,
                        resizeType: this.resizeType,
                        lanczosLobes: this.lanczosLobes
                    }
                }
            }),
            t.Image.filters.Resize.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.ColorMatrix = i(r.BaseFilter, {
                type: "ColorMatrix",
                initialize: function(e) {
                    e || (e = {}),
                    this.matrix = e.matrix || [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]
                },
                applyTo: function(e) {
                    var t, n, r, i, o, a = e.getContext("2d"), s = a.getImageData(0, 0, e.width, e.height), c = s.data, l = c.length, u = this.matrix;
                    for (t = 0; t < l; t += 4)
                        n = c[t],
                        r = c[t + 1],
                        i = c[t + 2],
                        o = c[t + 3],
                        c[t] = n * u[0] + r * u[1] + i * u[2] + o * u[3] + u[4],
                        c[t + 1] = n * u[5] + r * u[6] + i * u[7] + o * u[8] + u[9],
                        c[t + 2] = n * u[10] + r * u[11] + i * u[12] + o * u[13] + u[14],
                        c[t + 3] = n * u[15] + r * u[16] + i * u[17] + o * u[18] + u[19];
                    a.putImageData(s, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        type: this.type,
                        matrix: this.matrix
                    })
                }
            }),
            t.Image.filters.ColorMatrix.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Contrast = i(r.BaseFilter, {
                type: "Contrast",
                initialize: function(e) {
                    e = e || {},
                    this.contrast = e.contrast || 0
                },
                applyTo: function(e) {
                    for (var t = e.getContext("2d"), n = t.getImageData(0, 0, e.width, e.height), r = n.data, i = 259 * (this.contrast + 255) / (255 * (259 - this.contrast)), o = 0, a = r.length; o < a; o += 4)
                        r[o] = i * (r[o] - 128) + 128,
                        r[o + 1] = i * (r[o + 1] - 128) + 128,
                        r[o + 2] = i * (r[o + 2] - 128) + 128;
                    t.putImageData(n, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        contrast: this.contrast
                    })
                }
            }),
            t.Image.filters.Contrast.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.object.extend
              , r = t.Image.filters
              , i = t.util.createClass;
            r.Saturate = i(r.BaseFilter, {
                type: "Saturate",
                initialize: function(e) {
                    e = e || {},
                    this.saturate = e.saturate || 0
                },
                applyTo: function(e) {
                    for (var t, n = e.getContext("2d"), r = n.getImageData(0, 0, e.width, e.height), i = r.data, o = .01 * -this.saturate, a = 0, s = i.length; a < s; a += 4)
                        t = Math.max(i[a], i[a + 1], i[a + 2]),
                        i[a] += t !== i[a] ? (t - i[a]) * o : 0,
                        i[a + 1] += t !== i[a + 1] ? (t - i[a + 1]) * o : 0,
                        i[a + 2] += t !== i[a + 2] ? (t - i[a + 2]) * o : 0;
                    n.putImageData(r, 0, 0)
                },
                toObject: function() {
                    return n(this.callSuper("toObject"), {
                        saturate: this.saturate
                    })
                }
            }),
            t.Image.filters.Saturate.fromObject = t.Image.filters.BaseFilter.fromObject
        }(exports),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {})
              , n = t.util.toFixed
              , r = t.Object.NUM_FRACTION_DIGITS;
            if (t.Text)
                t.warn("fabric.Text is already defined");
            else {
                var i = t.Object.prototype.stateProperties.concat();
                i.push("fontFamily", "fontWeight", "fontSize", "text", "textDecoration", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor", "charSpacing");
                var o = t.Object.prototype.cacheProperties.concat();
                o.push("fontFamily", "fontWeight", "fontSize", "text", "textDecoration", "textAlign", "fontStyle", "lineHeight", "textBackgroundColor", "charSpacing", "styles"),
                t.Text = t.util.createClass(t.Object, {
                    _dimensionAffectingProps: ["fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "text", "charSpacing", "textAlign"],
                    _reNewline: /\r?\n/,
                    _reSpacesAndTabs: /[ \t\r]+/g,
                    type: "text",
                    fontSize: 40,
                    fontWeight: "normal",
                    fontFamily: "Times New Roman",
                    textDecoration: "",
                    textAlign: "left",
                    fontStyle: "",
                    lineHeight: 1.16,
                    textBackgroundColor: "",
                    stateProperties: i,
                    cacheProperties: o,
                    stroke: null,
                    shadow: null,
                    _fontSizeFraction: .25,
                    _fontSizeMult: 1.13,
                    charSpacing: 0,
                    initialize: function(e, t) {
                        t = t || {},
                        this.text = e,
                        this.__skipDimension = !0,
                        this.callSuper("initialize", t),
                        this.__skipDimension = !1,
                        this._initDimensions(),
                        this.setupState({
                            propertySet: "_dimensionAffectingProps"
                        })
                    },
                    _initDimensions: function(e) {
                        this.__skipDimension || (e || (e = t.util.createCanvasElement().getContext("2d"),
                        this._setTextStyles(e)),
                        this._textLines = this._splitTextIntoLines(),
                        this._clearCache(),
                        this.width = this._getTextWidth(e) || this.cursorWidth || 2,
                        this.height = this._getTextHeight(e))
                    },
                    toString: function() {
                        return "#<fabric.Text (" + this.complexity() + '): { "text": "' + this.text + '", "fontFamily": "' + this.fontFamily + '" }>'
                    },
                    _getCacheCanvasDimensions: function() {
                        var e = this.callSuper("_getCacheCanvasDimensions")
                          , t = 2 * Math.ceil(this.fontSize);
                        return e.width += t,
                        e.height += t,
                        e
                    },
                    _render: function(e) {
                        this._setTextStyles(e),
                        this.group && "path-group" === this.group.type && e.translate(this.left, this.top),
                        this._renderTextLinesBackground(e),
                        this._renderText(e),
                        this._renderTextDecoration(e)
                    },
                    _renderText: function(e) {
                        this._renderTextFill(e),
                        this._renderTextStroke(e)
                    },
                    _setTextStyles: function(e) {
                        e.textBaseline = "alphabetic",
                        e.font = this._getFontDeclaration()
                    },
                    _getTextHeight: function() {
                        return this._getHeightOfSingleLine() + (this._textLines.length - 1) * this._getHeightOfLine()
                    },
                    _getTextWidth: function(e) {
                        for (var t = this._getLineWidth(e, 0), n = 1, r = this._textLines.length; n < r; n++) {
                            var i = this._getLineWidth(e, n);
                            i > t && (t = i)
                        }
                        return t
                    },
                    _renderChars: function(e, t, n, r, i) {
                        var o, a, s = e.slice(0, -4);
                        if (this[s].toLive) {
                            var c = -this.width / 2 + this[s].offsetX || 0
                              , l = -this.height / 2 + this[s].offsetY || 0;
                            t.save(),
                            t.translate(c, l),
                            r -= c,
                            i -= l
                        }
                        if (0 !== this.charSpacing)
                            for (var u = this._getWidthOfCharSpacing(), d = 0, f = (n = n.split("")).length; d < f; d++)
                                o = n[d],
                                a = t.measureText(o).width + u,
                                t[e](o, r, i),
                                r += a > 0 ? a : 0;
                        else
                            t[e](n, r, i);
                        this[s].toLive && t.restore()
                    },
                    _renderTextLine: function(e, t, n, r, i, o) {
                        i -= this.fontSize * this._fontSizeFraction;
                        var a = this._getLineWidth(t, o);
                        if ("justify" !== this.textAlign || this.width < a)
                            this._renderChars(e, t, n, r, i, o);
                        else
                            for (var s, c = n.split(/\s+/), l = 0, u = this._getWidthOfWords(t, c.join(" "), o, 0), d = this.width - u, f = c.length - 1, h = f > 0 ? d / f : 0, p = 0, g = 0, m = c.length; g < m; g++) {
                                for (; " " === n[l] && l < n.length; )
                                    l++;
                                s = c[g],
                                this._renderChars(e, t, s, r + p, i, o, l),
                                p += this._getWidthOfWords(t, s, o, l) + h,
                                l += s.length
                            }
                    },
                    _getWidthOfWords: function(e, t) {
                        var n = e.measureText(t).width;
                        return 0 !== this.charSpacing && (n += t.split("").length * this._getWidthOfCharSpacing()),
                        n > 0 ? n : 0
                    },
                    _getLeftOffset: function() {
                        return -this.width / 2
                    },
                    _getTopOffset: function() {
                        return -this.height / 2
                    },
                    isEmptyStyles: function() {
                        return !0
                    },
                    _renderTextCommon: function(e, t) {
                        for (var n = 0, r = this._getLeftOffset(), i = this._getTopOffset(), o = 0, a = this._textLines.length; o < a; o++) {
                            var s = this._getHeightOfLine(e, o)
                              , c = s / this.lineHeight
                              , l = this._getLineWidth(e, o)
                              , u = this._getLineLeftOffset(l);
                            this._renderTextLine(t, e, this._textLines[o], r + u, i + n + c, o),
                            n += s
                        }
                    },
                    _renderTextFill: function(e) {
                        !this.fill && this.isEmptyStyles() || this._renderTextCommon(e, "fillText")
                    },
                    _renderTextStroke: function(e) {
                        (this.stroke && 0 !== this.strokeWidth || !this.isEmptyStyles()) && (this.shadow && !this.shadow.affectStroke && this._removeShadow(e),
                        e.save(),
                        this._setLineDash(e, this.strokeDashArray),
                        e.beginPath(),
                        this._renderTextCommon(e, "strokeText"),
                        e.closePath(),
                        e.restore())
                    },
                    _getHeightOfLine: function() {
                        return this._getHeightOfSingleLine() * this.lineHeight
                    },
                    _getHeightOfSingleLine: function() {
                        return this.fontSize * this._fontSizeMult
                    },
                    _renderTextLinesBackground: function(e) {
                        if (this.textBackgroundColor) {
                            var t, n, r, i = 0, o = e.fillStyle;
                            e.fillStyle = this.textBackgroundColor;
                            for (var a = 0, s = this._textLines.length; a < s; a++)
                                t = this._getHeightOfLine(e, a),
                                (n = this._getLineWidth(e, a)) > 0 && (r = this._getLineLeftOffset(n),
                                e.fillRect(this._getLeftOffset() + r, this._getTopOffset() + i, n, t / this.lineHeight)),
                                i += t;
                            e.fillStyle = o,
                            this._removeShadow(e)
                        }
                    },
                    _getLineLeftOffset: function(e) {
                        return "center" === this.textAlign ? (this.width - e) / 2 : "right" === this.textAlign ? this.width - e : 0
                    },
                    _clearCache: function() {
                        this.__lineWidths = [],
                        this.__lineHeights = []
                    },
                    _shouldClearDimensionCache: function() {
                        var e = this._forceClearCache;
                        return e || (e = this.hasStateChanged("_dimensionAffectingProps")),
                        e && (this.saveState({
                            propertySet: "_dimensionAffectingProps"
                        }),
                        this.dirty = !0),
                        e
                    },
                    _getLineWidth: function(e, t) {
                        if (this.__lineWidths[t])
                            return -1 === this.__lineWidths[t] ? this.width : this.__lineWidths[t];
                        var n, r = this._textLines[t];
                        return n = "" === r ? 0 : this._measureLine(e, t),
                        this.__lineWidths[t] = n,
                        n && "justify" === this.textAlign && r.split(/\s+/).length > 1 && (this.__lineWidths[t] = -1),
                        n
                    },
                    _getWidthOfCharSpacing: function() {
                        return 0 !== this.charSpacing ? this.fontSize * this.charSpacing / 1e3 : 0
                    },
                    _measureLine: function(e, t) {
                        var n, r = this._textLines[t], i = e.measureText(r).width, o = 0;
                        return 0 !== this.charSpacing && (o = (r.split("").length - 1) * this._getWidthOfCharSpacing()),
                        (n = i + o) > 0 ? n : 0
                    },
                    _renderTextDecoration: function(e) {
                        if (this.textDecoration) {
                            var t = this.height / 2
                              , n = this
                              , r = [];
                            this.textDecoration.indexOf("underline") > -1 && r.push(.85),
                            this.textDecoration.indexOf("line-through") > -1 && r.push(.43),
                            this.textDecoration.indexOf("overline") > -1 && r.push(-.12),
                            r.length > 0 && function(r) {
                                var i, o, a, s, c, l, u, d = 0;
                                for (i = 0,
                                o = n._textLines.length; i < o; i++) {
                                    for (c = n._getLineWidth(e, i),
                                    l = n._getLineLeftOffset(c),
                                    u = n._getHeightOfLine(e, i),
                                    a = 0,
                                    s = r.length; a < s; a++)
                                        e.fillRect(n._getLeftOffset() + l, d + (n._fontSizeMult - 1 + r[a]) * n.fontSize - t, c, n.fontSize / 15);
                                    d += u
                                }
                            }(r)
                        }
                    },
                    _getFontDeclaration: function() {
                        return [t.isLikelyNode ? this.fontWeight : this.fontStyle, t.isLikelyNode ? this.fontStyle : this.fontWeight, this.fontSize + "px", t.isLikelyNode ? '"' + this.fontFamily + '"' : this.fontFamily].join(" ")
                    },
                    render: function(e, t) {
                        this.visible && (this._shouldClearDimensionCache() && (this._setTextStyles(e),
                        this._initDimensions(e)),
                        this.callSuper("render", e, t))
                    },
                    _splitTextIntoLines: function() {
                        return this.text.split(this._reNewline)
                    },
                    toObject: function(e) {
                        var t = ["text", "fontSize", "fontWeight", "fontFamily", "fontStyle", "lineHeight", "textDecoration", "textAlign", "textBackgroundColor", "charSpacing"].concat(e);
                        return this.callSuper("toObject", t)
                    },
                    toSVG: function(e) {
                        this.ctx || (this.ctx = t.util.createCanvasElement().getContext("2d"));
                        var n = this._createBaseSVGMarkup()
                          , r = this._getSVGLeftTopOffsets(this.ctx)
                          , i = this._getSVGTextAndBg(r.textTop, r.textLeft);
                        return this._wrapSVGTextAndBg(n, i),
                        e ? e(n.join("")) : n.join("")
                    },
                    _getSVGLeftTopOffsets: function(e) {
                        var t = this._getHeightOfLine(e, 0);
                        return {
                            textLeft: -this.width / 2 + (this.group && "path-group" === this.group.type ? this.left : 0),
                            textTop: 0 + (this.group && "path-group" === this.group.type ? -this.top : 0),
                            lineTop: t
                        }
                    },
                    _wrapSVGTextAndBg: function(e, t) {
                        var n = this.getSvgFilter()
                          , r = "" === n ? "" : ' style="' + n + '"';
                        e.push("\t<g ", this.getSvgId(), 'transform="', this.getSvgTransform(), this.getSvgTransformMatrix(), '"', r, ">\n", t.textBgRects.join(""), "\t\t<text ", this.fontFamily ? 'font-family="' + this.fontFamily.replace(/"/g, "'") + '" ' : "", this.fontSize ? 'font-size="' + this.fontSize + '" ' : "", this.fontStyle ? 'font-style="' + this.fontStyle + '" ' : "", this.fontWeight ? 'font-weight="' + this.fontWeight + '" ' : "", this.textDecoration ? 'text-decoration="' + this.textDecoration + '" ' : "", 'style="', this.getSvgStyles(!0), '" >\n', t.textSpans.join(""), "\t\t</text>\n", "\t</g>\n")
                    },
                    _getSVGTextAndBg: function(e, t) {
                        var n = []
                          , r = []
                          , i = 0;
                        this._setSVGBg(r);
                        for (var o = 0, a = this._textLines.length; o < a; o++)
                            this.textBackgroundColor && this._setSVGTextLineBg(r, o, t, e, i),
                            this._setSVGTextLineText(o, n, i, t, e, r),
                            i += this._getHeightOfLine(this.ctx, o);
                        return {
                            textSpans: n,
                            textBgRects: r
                        }
                    },
                    _setSVGTextLineText: function(e, i, o, a, s) {
                        var c = this.fontSize * (this._fontSizeMult - this._fontSizeFraction) - s + o - this.height / 2;
                        return "justify" === this.textAlign ? void this._setSVGTextLineJustifed(e, i, c, a) : void i.push('\t\t\t<tspan x="', n(a + this._getLineLeftOffset(this._getLineWidth(this.ctx, e)), r), '" ', 'y="', n(c, r), '" ', this._getFillAttributes(this.fill), ">", t.util.string.escapeXml(this._textLines[e]), "</tspan>\n")
                    },
                    _setSVGTextLineJustifed: function(e, i, o, a) {
                        var s = t.util.createCanvasElement().getContext("2d");
                        this._setTextStyles(s);
                        var c, l, u = this._textLines[e].split(/\s+/), d = this._getWidthOfWords(s, u.join("")), f = this.width - d, h = u.length - 1, p = h > 0 ? f / h : 0, g = this._getFillAttributes(this.fill);
                        for (a += this._getLineLeftOffset(this._getLineWidth(s, e)),
                        e = 0,
                        l = u.length; e < l; e++)
                            c = u[e],
                            i.push('\t\t\t<tspan x="', n(a, r), '" ', 'y="', n(o, r), '" ', g, ">", t.util.string.escapeXml(c), "</tspan>\n"),
                            a += this._getWidthOfWords(s, c) + p
                    },
                    _setSVGTextLineBg: function(e, t, i, o, a) {
                        e.push("\t\t<rect ", this._getFillAttributes(this.textBackgroundColor), ' x="', n(i + this._getLineLeftOffset(this._getLineWidth(this.ctx, t)), r), '" y="', n(a - this.height / 2, r), '" width="', n(this._getLineWidth(this.ctx, t), r), '" height="', n(this._getHeightOfLine(this.ctx, t) / this.lineHeight, r), '"></rect>\n')
                    },
                    _setSVGBg: function(e) {
                        this.backgroundColor && e.push("\t\t<rect ", this._getFillAttributes(this.backgroundColor), ' x="', n(-this.width / 2, r), '" y="', n(-this.height / 2, r), '" width="', n(this.width, r), '" height="', n(this.height, r), '"></rect>\n')
                    },
                    _getFillAttributes: function(e) {
                        var n = e && "string" == typeof e ? new t.Color(e) : "";
                        return n && n.getSource() && 1 !== n.getAlpha() ? 'opacity="' + n.getAlpha() + '" fill="' + n.setAlpha(1).toRgb() + '"' : 'fill="' + e + '"'
                    },
                    _set: function(e, t) {
                        this.callSuper("_set", e, t),
                        this._dimensionAffectingProps.indexOf(e) > -1 && (this._initDimensions(),
                        this.setCoords())
                    },
                    complexity: function() {
                        return 1
                    }
                }),
                t.Text.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),
                t.Text.DEFAULT_SVG_FONT_SIZE = 16,
                t.Text.fromElement = function(e, n) {
                    if (!e)
                        return null;
                    var r = t.parseAttributes(e, t.Text.ATTRIBUTE_NAMES);
                    (n = t.util.object.extend(n ? t.util.object.clone(n) : {}, r)).top = n.top || 0,
                    n.left = n.left || 0,
                    "dx"in r && (n.left += r.dx),
                    "dy"in r && (n.top += r.dy),
                    "fontSize"in n || (n.fontSize = t.Text.DEFAULT_SVG_FONT_SIZE),
                    n.originX || (n.originX = "left");
                    var i = "";
                    "textContent"in e ? i = e.textContent : "firstChild"in e && null !== e.firstChild && "data"in e.firstChild && null !== e.firstChild.data && (i = e.firstChild.data),
                    i = i.replace(/^\s+|\s+$|\n+/g, "").replace(/\s+/g, " ");
                    var o = new t.Text(i,n)
                      , a = o.getHeight() / o.height
                      , s = ((o.height + o.strokeWidth) * o.lineHeight - o.height) * a
                      , c = o.getHeight() + s
                      , l = 0;
                    return "left" === o.originX && (l = o.getWidth() / 2),
                    "right" === o.originX && (l = -o.getWidth() / 2),
                    o.set({
                        left: o.getLeft() + l,
                        top: o.getTop() - c / 2 + o.fontSize * (.18 + o._fontSizeFraction) / o.lineHeight
                    }),
                    o
                }
                ,
                t.Text.fromObject = function(e, n, r) {
                    return t.Object._fromObject("Text", e, n, r, "text")
                }
                ,
                t.util.createAccessors(t.Text)
            }
        }(exports),
        function() {
            var e = fabric.util.object.clone;
            fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, {
                type: "i-text",
                selectionStart: 0,
                selectionEnd: 0,
                selectionColor: "rgba(17,119,255,0.3)",
                isEditing: !1,
                editable: !0,
                editingBorderColor: "rgba(102,153,255,0.25)",
                cursorWidth: 2,
                cursorColor: "#333",
                cursorDelay: 1e3,
                cursorDuration: 600,
                styles: null,
                caching: !0,
                _reSpace: /\s|\n/,
                _currentCursorOpacity: 0,
                _selectionDirection: null,
                _abortCursorAnimation: !1,
                __widthOfSpace: [],
                initialize: function(e, t) {
                    this.styles = t && t.styles || {},
                    this.callSuper("initialize", e, t),
                    this.initBehavior()
                },
                _clearCache: function() {
                    this.callSuper("_clearCache"),
                    this.__widthOfSpace = []
                },
                isEmptyStyles: function() {
                    if (!this.styles)
                        return !0;
                    var e = this.styles;
                    for (var t in e)
                        for (var n in e[t])
                            for (var r in e[t][n])
                                return !1;
                    return !0
                },
                setSelectionStart: function(e) {
                    e = Math.max(e, 0),
                    this._updateAndFire("selectionStart", e)
                },
                setSelectionEnd: function(e) {
                    e = Math.min(e, this.text.length),
                    this._updateAndFire("selectionEnd", e)
                },
                _updateAndFire: function(e, t) {
                    this[e] !== t && (this._fireSelectionChanged(),
                    this[e] = t),
                    this._updateTextarea()
                },
                _fireSelectionChanged: function() {
                    this.fire("selection:changed"),
                    this.canvas && this.canvas.fire("text:selection:changed", {
                        target: this
                    })
                },
                getSelectionStyles: function(e, t) {
                    if (2 === arguments.length) {
                        for (var n = [], r = e; r < t; r++)
                            n.push(this.getSelectionStyles(r));
                        return n
                    }
                    var i = this.get2DCursorLocation(e);
                    return this._getStyleDeclaration(i.lineIndex, i.charIndex) || {}
                },
                setSelectionStyles: function(e) {
                    if (this.selectionStart === this.selectionEnd)
                        this._extendStyles(this.selectionStart, e);
                    else
                        for (var t = this.selectionStart; t < this.selectionEnd; t++)
                            this._extendStyles(t, e);
                    return this._forceClearCache = !0,
                    this
                },
                _extendStyles: function(e, t) {
                    var n = this.get2DCursorLocation(e);
                    this._getLineStyle(n.lineIndex) || this._setLineStyle(n.lineIndex, {}),
                    this._getStyleDeclaration(n.lineIndex, n.charIndex) || this._setStyleDeclaration(n.lineIndex, n.charIndex, {}),
                    fabric.util.object.extend(this._getStyleDeclaration(n.lineIndex, n.charIndex), t)
                },
                _initDimensions: function(e) {
                    e || this.clearContextTop(),
                    this.callSuper("_initDimensions", e)
                },
                render: function(e, t) {
                    this.clearContextTop(),
                    this.callSuper("render", e, t),
                    this.cursorOffsetCache = {},
                    this.renderCursorOrSelection()
                },
                _render: function(e) {
                    this.callSuper("_render", e),
                    this.ctx = e
                },
                clearContextTop: function() {
                    if (this.active && this.isEditing && this.canvas && this.canvas.contextTop) {
                        var e = this.canvas.contextTop;
                        e.save(),
                        e.transform.apply(e, this.canvas.viewportTransform),
                        this.transform(e),
                        this.transformMatrix && e.transform.apply(e, this.transformMatrix),
                        this._clearTextArea(e),
                        e.restore()
                    }
                },
                renderCursorOrSelection: function() {
                    if (this.active && this.isEditing) {
                        var e, t, n = this.text.split("");
                        this.canvas && this.canvas.contextTop ? ((t = this.canvas.contextTop).save(),
                        t.transform.apply(t, this.canvas.viewportTransform),
                        this.transform(t),
                        this.transformMatrix && t.transform.apply(t, this.transformMatrix),
                        this._clearTextArea(t)) : (t = this.ctx).save(),
                        this.selectionStart === this.selectionEnd ? (e = this._getCursorBoundaries(n, "cursor"),
                        this.renderCursor(e, t)) : (e = this._getCursorBoundaries(n, "selection"),
                        this.renderSelection(n, e, t)),
                        t.restore()
                    }
                },
                _clearTextArea: function(e) {
                    var t = this.width + 4
                      , n = this.height + 4;
                    e.clearRect(-t / 2, -n / 2, t, n)
                },
                get2DCursorLocation: function(e) {
                    void 0 === e && (e = this.selectionStart);
                    for (var t = this._textLines.length, n = 0; n < t; n++) {
                        if (e <= this._textLines[n].length)
                            return {
                                lineIndex: n,
                                charIndex: e
                            };
                        e -= this._textLines[n].length + 1
                    }
                    return {
                        lineIndex: n - 1,
                        charIndex: this._textLines[n - 1].length < e ? this._textLines[n - 1].length : e
                    }
                },
                getCurrentCharStyle: function(e, t) {
                    var n = this._getStyleDeclaration(e, 0 === t ? 0 : t - 1);
                    return {
                        fontSize: n && n.fontSize || this.fontSize,
                        fill: n && n.fill || this.fill,
                        textBackgroundColor: n && n.textBackgroundColor || this.textBackgroundColor,
                        textDecoration: n && n.textDecoration || this.textDecoration,
                        fontFamily: n && n.fontFamily || this.fontFamily,
                        fontWeight: n && n.fontWeight || this.fontWeight,
                        fontStyle: n && n.fontStyle || this.fontStyle,
                        stroke: n && n.stroke || this.stroke,
                        strokeWidth: n && n.strokeWidth || this.strokeWidth
                    }
                },
                getCurrentCharFontSize: function(e, t) {
                    var n = this._getStyleDeclaration(e, 0 === t ? 0 : t - 1);
                    return n && n.fontSize ? n.fontSize : this.fontSize
                },
                getCurrentCharColor: function(e, t) {
                    var n = this._getStyleDeclaration(e, 0 === t ? 0 : t - 1);
                    return n && n.fill ? n.fill : this.cursorColor
                },
                _getCursorBoundaries: function(e, t) {
                    var n = Math.round(this._getLeftOffset())
                      , r = this._getTopOffset()
                      , i = this._getCursorBoundariesOffsets(e, t);
                    return {
                        left: n,
                        top: r,
                        leftOffset: i.left + i.lineLeft,
                        topOffset: i.top
                    }
                },
                _getCursorBoundariesOffsets: function(e, t) {
                    if (this.cursorOffsetCache && "top"in this.cursorOffsetCache)
                        return this.cursorOffsetCache;
                    for (var n, r = 0, i = 0, o = 0, a = 0, s = 0, c = 0; c < this.selectionStart; c++)
                        "\n" === e[c] ? (s = 0,
                        a += this._getHeightOfLine(this.ctx, i),
                        i++,
                        o = 0) : (s += this._getWidthOfChar(this.ctx, e[c], i, o),
                        o++),
                        r = this._getLineLeftOffset(this._getLineWidth(this.ctx, i));
                    return "cursor" === t && (a += (1 - this._fontSizeFraction) * this._getHeightOfLine(this.ctx, i) / this.lineHeight - this.getCurrentCharFontSize(i, o) * (1 - this._fontSizeFraction)),
                    0 !== this.charSpacing && o === this._textLines[i].length && (s -= this._getWidthOfCharSpacing()),
                    n = {
                        top: a,
                        left: s > 0 ? s : 0,
                        lineLeft: r
                    },
                    this.cursorOffsetCache = n,
                    this.cursorOffsetCache
                },
                renderCursor: function(e, t) {
                    var n = this.get2DCursorLocation()
                      , r = n.lineIndex
                      , i = n.charIndex
                      , o = this.getCurrentCharFontSize(r, i)
                      , a = 0 === r && 0 === i ? this._getLineLeftOffset(this._getLineWidth(t, r)) : e.leftOffset
                      , s = this.scaleX * this.canvas.getZoom()
                      , c = this.cursorWidth / s;
                    t.fillStyle = this.getCurrentCharColor(r, i),
                    t.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity,
                    t.fillRect(e.left + a - c / 2, e.top + e.topOffset, c, o)
                },
                renderSelection: function(e, t, n) {
                    n.fillStyle = this.selectionColor;
                    for (var r = this.get2DCursorLocation(this.selectionStart), i = this.get2DCursorLocation(this.selectionEnd), o = r.lineIndex, a = i.lineIndex, s = o; s <= a; s++) {
                        var c, l = this._getLineLeftOffset(this._getLineWidth(n, s)) || 0, u = this._getHeightOfLine(this.ctx, s), d = 0, f = this._textLines[s];
                        if (s === o) {
                            for (var h = 0, p = f.length; h < p; h++)
                                h >= r.charIndex && (s !== a || h < i.charIndex) && (d += this._getWidthOfChar(n, f[h], s, h)),
                                h < r.charIndex && (l += this._getWidthOfChar(n, f[h], s, h));
                            h === f.length && (d -= this._getWidthOfCharSpacing())
                        } else if (s > o && s < a)
                            d += this._getLineWidth(n, s) || 5;
                        else if (s === a) {
                            for (var g = 0, m = i.charIndex; g < m; g++)
                                d += this._getWidthOfChar(n, f[g], s, g);
                            i.charIndex === f.length && (d -= this._getWidthOfCharSpacing())
                        }
                        c = u,
                        (this.lineHeight < 1 || s === a && this.lineHeight > 1) && (u /= this.lineHeight),
                        n.fillRect(t.left + l, t.top + t.topOffset, d > 0 ? d : 0, u),
                        t.topOffset += c
                    }
                },
                _renderChars: function(e, t, n, r, i, o, a) {
                    if (this.isEmptyStyles())
                        return this._renderCharsFast(e, t, n, r, i);
                    a = a || 0;
                    var s, c, l = this._getHeightOfLine(t, o), u = "";
                    t.save(),
                    i -= l / this.lineHeight * this._fontSizeFraction;
                    for (var d = a, f = n.length + a; d <= f; d++)
                        s = s || this.getCurrentCharStyle(o, d),
                        c = this.getCurrentCharStyle(o, d + 1),
                        (this._hasStyleChanged(s, c) || d === f) && (this._renderChar(e, t, o, d - 1, u, r, i, l),
                        u = "",
                        s = c),
                        u += n[d - a];
                    t.restore()
                },
                _renderCharsFast: function(e, t, n, r, i) {
                    "fillText" === e && this.fill && this.callSuper("_renderChars", e, t, n, r, i),
                    "strokeText" === e && (this.stroke && this.strokeWidth > 0 || this.skipFillStrokeCheck) && this.callSuper("_renderChars", e, t, n, r, i)
                },
                _renderChar: function(e, t, n, r, i, o, a, s) {
                    var c, l, u, d, f, h, p, g, m, v = this._getStyleDeclaration(n, r);
                    if (v ? (l = this._getHeightOfChar(t, i, n, r),
                    d = v.stroke,
                    u = v.fill,
                    h = v.textDecoration) : l = this.fontSize,
                    d = (d || this.stroke) && "strokeText" === e,
                    u = (u || this.fill) && "fillText" === e,
                    v && t.save(),
                    c = this._applyCharStylesGetWidth(t, i, n, r, v || null),
                    h = h || this.textDecoration,
                    v && v.textBackgroundColor && this._removeShadow(t),
                    0 !== this.charSpacing) {
                        g = this._getWidthOfCharSpacing(),
                        c = 0;
                        for (var y, b = 0, w = (p = i.split("")).length; b < w; b++)
                            y = p[b],
                            u && t.fillText(y, o + c, a),
                            d && t.strokeText(y, o + c, a),
                            c += (m = t.measureText(y).width + g) > 0 ? m : 0
                    } else
                        u && t.fillText(i, o, a),
                        d && t.strokeText(i, o, a);
                    (h || "" !== h) && (f = this._fontSizeFraction * s / this.lineHeight,
                    this._renderCharDecoration(t, h, o, a, f, c, l)),
                    v && t.restore(),
                    t.translate(c, 0)
                },
                _hasStyleChanged: function(e, t) {
                    return e.fill !== t.fill || e.fontSize !== t.fontSize || e.textBackgroundColor !== t.textBackgroundColor || e.textDecoration !== t.textDecoration || e.fontFamily !== t.fontFamily || e.fontWeight !== t.fontWeight || e.fontStyle !== t.fontStyle || e.stroke !== t.stroke || e.strokeWidth !== t.strokeWidth
                },
                _renderCharDecoration: function(e, t, n, r, i, o, a) {
                    if (t) {
                        var s, c, l = a / 15, u = {
                            underline: r + a / 10,
                            "line-through": r - a * (this._fontSizeFraction + this._fontSizeMult - 1) + l,
                            overline: r - (this._fontSizeMult - this._fontSizeFraction) * a
                        }, d = ["underline", "line-through", "overline"];
                        for (s = 0; s < d.length; s++)
                            c = d[s],
                            t.indexOf(c) > -1 && e.fillRect(n, u[c], o, l)
                    }
                },
                _renderTextLine: function(e, t, n, r, i, o) {
                    this.isEmptyStyles() || (i += this.fontSize * (this._fontSizeFraction + .03)),
                    this.callSuper("_renderTextLine", e, t, n, r, i, o)
                },
                _renderTextDecoration: function(e) {
                    if (this.isEmptyStyles())
                        return this.callSuper("_renderTextDecoration", e)
                },
                _renderTextLinesBackground: function(e) {
                    this.callSuper("_renderTextLinesBackground", e);
                    var t, n, r, i, o, a, s = 0, c = this._getLeftOffset(), l = this._getTopOffset();
                    e.save();
                    for (var u = 0, d = this._textLines.length; u < d; u++)
                        if (t = this._getHeightOfLine(e, u),
                        "" !== (i = this._textLines[u]) && this.styles && this._getLineStyle(u)) {
                            n = this._getLineWidth(e, u),
                            r = this._getLineLeftOffset(n);
                            for (var f = 0, h = i.length; f < h; f++)
                                (a = this._getStyleDeclaration(u, f)) && a.textBackgroundColor && (o = i[f],
                                e.fillStyle = a.textBackgroundColor,
                                e.fillRect(c + r + this._getWidthOfCharsAt(e, u, f), l + s, this._getWidthOfChar(e, o, u, f), t / this.lineHeight));
                            s += t
                        } else
                            s += t;
                    e.restore()
                },
                _getCacheProp: function(e, t) {
                    return e + t.fontSize + t.fontWeight + t.fontStyle
                },
                _getFontCache: function(e) {
                    return fabric.charWidthsCache[e] || (fabric.charWidthsCache[e] = {}),
                    fabric.charWidthsCache[e]
                },
                _applyCharStylesGetWidth: function(t, n, r, i, o) {
                    var a, s, c, l = o || this._getStyleDeclaration(r, i), u = e(l);
                    if (this._applyFontStyles(u),
                    c = this._getFontCache(u.fontFamily),
                    s = this._getCacheProp(n, u),
                    !l && c[s] && this.caching)
                        return c[s];
                    "string" == typeof u.shadow && (u.shadow = new fabric.Shadow(u.shadow));
                    var d = u.fill || this.fill;
                    return t.fillStyle = d.toLive ? d.toLive(t, this) : d,
                    u.stroke && (t.strokeStyle = u.stroke && u.stroke.toLive ? u.stroke.toLive(t, this) : u.stroke),
                    t.lineWidth = u.strokeWidth || this.strokeWidth,
                    t.font = this._getFontDeclaration.call(u),
                    u.shadow && (u.scaleX = this.scaleX,
                    u.scaleY = this.scaleY,
                    u.canvas = this.canvas,
                    u.getObjectScaling = this.getObjectScaling,
                    this._setShadow.call(u, t)),
                    this.caching && c[s] ? c[s] : (a = t.measureText(n).width,
                    this.caching && (c[s] = a),
                    a)
                },
                _applyFontStyles: function(e) {
                    e.fontFamily || (e.fontFamily = this.fontFamily),
                    e.fontSize || (e.fontSize = this.fontSize),
                    e.fontWeight || (e.fontWeight = this.fontWeight),
                    e.fontStyle || (e.fontStyle = this.fontStyle)
                },
                _getStyleDeclaration: function(t, n, r) {
                    return r ? this.styles[t] && this.styles[t][n] ? e(this.styles[t][n]) : {} : this.styles[t] && this.styles[t][n] ? this.styles[t][n] : null
                },
                _setStyleDeclaration: function(e, t, n) {
                    this.styles[e][t] = n
                },
                _deleteStyleDeclaration: function(e, t) {
                    delete this.styles[e][t]
                },
                _getLineStyle: function(e) {
                    return this.styles[e]
                },
                _setLineStyle: function(e, t) {
                    this.styles[e] = t
                },
                _deleteLineStyle: function(e) {
                    delete this.styles[e]
                },
                _getWidthOfChar: function(e, t, n, r) {
                    if (!this._isMeasuring && "justify" === this.textAlign && this._reSpacesAndTabs.test(t))
                        return this._getWidthOfSpace(e, n);
                    e.save();
                    var i = this._applyCharStylesGetWidth(e, t, n, r);
                    return 0 !== this.charSpacing && (i += this._getWidthOfCharSpacing()),
                    e.restore(),
                    i > 0 ? i : 0
                },
                _getHeightOfChar: function(e, t, n) {
                    var r = this._getStyleDeclaration(t, n);
                    return r && r.fontSize ? r.fontSize : this.fontSize
                },
                _getWidthOfCharsAt: function(e, t, n) {
                    var r, i, o = 0;
                    for (r = 0; r < n; r++)
                        i = this._textLines[t][r],
                        o += this._getWidthOfChar(e, i, t, r);
                    return o
                },
                _measureLine: function(e, t) {
                    this._isMeasuring = !0;
                    var n = this._getWidthOfCharsAt(e, t, this._textLines[t].length);
                    return 0 !== this.charSpacing && (n -= this._getWidthOfCharSpacing()),
                    this._isMeasuring = !1,
                    n > 0 ? n : 0
                },
                _getWidthOfSpace: function(e, t) {
                    if (this.__widthOfSpace[t])
                        return this.__widthOfSpace[t];
                    var n = this._textLines[t]
                      , r = this._getWidthOfWords(e, n, t, 0)
                      , i = this.width - r
                      , o = n.length - n.replace(this._reSpacesAndTabs, "").length
                      , a = Math.max(i / o, e.measureText(" ").width);
                    return this.__widthOfSpace[t] = a,
                    a
                },
                _getWidthOfWords: function(e, t, n, r) {
                    for (var i = 0, o = 0; o < t.length; o++) {
                        var a = t[o];
                        a.match(/\s/) || (i += this._getWidthOfChar(e, a, n, o + r))
                    }
                    return i
                },
                _getHeightOfLine: function(e, t) {
                    if (this.__lineHeights[t])
                        return this.__lineHeights[t];
                    for (var n = this._textLines[t], r = this._getHeightOfChar(e, t, 0), i = 1, o = n.length; i < o; i++) {
                        var a = this._getHeightOfChar(e, t, i);
                        a > r && (r = a)
                    }
                    return this.__lineHeights[t] = r * this.lineHeight * this._fontSizeMult,
                    this.__lineHeights[t]
                },
                _getTextHeight: function(e) {
                    for (var t, n = 0, r = 0, i = this._textLines.length; r < i; r++)
                        t = this._getHeightOfLine(e, r),
                        n += r === i - 1 ? t / this.lineHeight : t;
                    return n
                },
                toObject: function(t) {
                    return fabric.util.object.extend(this.callSuper("toObject", t), {
                        styles: e(this.styles, !0)
                    })
                }
            }),
            fabric.IText.fromObject = function(e, t, n) {
                return fabric.Object._fromObject("IText", e, t, n, "text")
            }
        }(),
        function() {
            var e = fabric.util.object.clone;
            fabric.util.object.extend(fabric.IText.prototype, {
                initBehavior: function() {
                    this.initAddedHandler(),
                    this.initRemovedHandler(),
                    this.initCursorSelectionHandlers(),
                    this.initDoubleClickSimulation(),
                    this.mouseMoveHandler = this.mouseMoveHandler.bind(this)
                },
                initSelectedHandler: function() {
                    this.on("selected", function() {
                        var e = this;
                        setTimeout(function() {
                            e.selected = !0
                        }, 100)
                    })
                },
                initAddedHandler: function() {
                    var e = this;
                    this.on("added", function() {
                        var t = e.canvas;
                        t && (t._hasITextHandlers || (t._hasITextHandlers = !0,
                        e._initCanvasHandlers(t)),
                        t._iTextInstances = t._iTextInstances || [],
                        t._iTextInstances.push(e))
                    })
                },
                initRemovedHandler: function() {
                    var e = this;
                    this.on("removed", function() {
                        var t = e.canvas;
                        t && (t._iTextInstances = t._iTextInstances || [],
                        fabric.util.removeFromArray(t._iTextInstances, e),
                        0 === t._iTextInstances.length && (t._hasITextHandlers = !1,
                        e._removeCanvasHandlers(t)))
                    })
                },
                _initCanvasHandlers: function(e) {
                    e._canvasITextSelectionClearedHanlder = function() {
                        fabric.IText.prototype.exitEditingOnOthers(e)
                    }
                    .bind(this),
                    e._mouseUpITextHandler = function() {
                        e._iTextInstances && e._iTextInstances.forEach(function(e) {
                            e.__isMousedown = !1
                        })
                    }
                    .bind(this),
                    e.on("selection:cleared", e._canvasITextSelectionClearedHanlder),
                    e.on("object:selected", e._canvasITextSelectionClearedHanlder),
                    e.on("mouse:up", e._mouseUpITextHandler)
                },
                _removeCanvasHandlers: function(e) {
                    e.off("selection:cleared", e._canvasITextSelectionClearedHanlder),
                    e.off("object:selected", e._canvasITextSelectionClearedHanlder),
                    e.off("mouse:up", e._mouseUpITextHandler)
                },
                _tick: function() {
                    this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, "_onTickComplete")
                },
                _animateCursor: function(e, t, n, r) {
                    var i;
                    return i = {
                        isAborted: !1,
                        abort: function() {
                            this.isAborted = !0
                        }
                    },
                    e.animate("_currentCursorOpacity", t, {
                        duration: n,
                        onComplete: function() {
                            i.isAborted || e[r]()
                        },
                        onChange: function() {
                            e.canvas && e.selectionStart === e.selectionEnd && e.renderCursorOrSelection()
                        },
                        abort: function() {
                            return i.isAborted
                        }
                    }),
                    i
                },
                _onTickComplete: function() {
                    var e = this;
                    this._cursorTimeout1 && clearTimeout(this._cursorTimeout1),
                    this._cursorTimeout1 = setTimeout(function() {
                        e._currentTickCompleteState = e._animateCursor(e, 0, this.cursorDuration / 2, "_tick")
                    }, 100)
                },
                initDelayedCursor: function(e) {
                    var t = this
                      , n = e ? 0 : this.cursorDelay;
                    this.abortCursorAnimation(),
                    this._currentCursorOpacity = 1,
                    this._cursorTimeout2 = setTimeout(function() {
                        t._tick()
                    }, n)
                },
                abortCursorAnimation: function() {
                    var e = this._currentTickState || this._currentTickCompleteState;
                    this._currentTickState && this._currentTickState.abort(),
                    this._currentTickCompleteState && this._currentTickCompleteState.abort(),
                    clearTimeout(this._cursorTimeout1),
                    clearTimeout(this._cursorTimeout2),
                    this._currentCursorOpacity = 0,
                    e && this.canvas && this.canvas.clearContext(this.canvas.contextTop || this.ctx)
                },
                selectAll: function() {
                    this.selectionStart = 0,
                    this.selectionEnd = this.text.length,
                    this._fireSelectionChanged(),
                    this._updateTextarea()
                },
                getSelectedText: function() {
                    return this.text.slice(this.selectionStart, this.selectionEnd)
                },
                findWordBoundaryLeft: function(e) {
                    var t = 0
                      , n = e - 1;
                    if (this._reSpace.test(this.text.charAt(n)))
                        for (; this._reSpace.test(this.text.charAt(n)); )
                            t++,
                            n--;
                    for (; /\S/.test(this.text.charAt(n)) && n > -1; )
                        t++,
                        n--;
                    return e - t
                },
                findWordBoundaryRight: function(e) {
                    var t = 0
                      , n = e;
                    if (this._reSpace.test(this.text.charAt(n)))
                        for (; this._reSpace.test(this.text.charAt(n)); )
                            t++,
                            n++;
                    for (; /\S/.test(this.text.charAt(n)) && n < this.text.length; )
                        t++,
                        n++;
                    return e + t
                },
                findLineBoundaryLeft: function(e) {
                    for (var t = 0, n = e - 1; !/\n/.test(this.text.charAt(n)) && n > -1; )
                        t++,
                        n--;
                    return e - t
                },
                findLineBoundaryRight: function(e) {
                    for (var t = 0, n = e; !/\n/.test(this.text.charAt(n)) && n < this.text.length; )
                        t++,
                        n++;
                    return e + t
                },
                getNumNewLinesInSelectedText: function() {
                    for (var e = this.getSelectedText(), t = 0, n = 0, r = e.length; n < r; n++)
                        "\n" === e[n] && t++;
                    return t
                },
                searchWordBoundary: function(e, t) {
                    for (var n = this._reSpace.test(this.text.charAt(e)) ? e - 1 : e, r = this.text.charAt(n), i = /[ \n\.,;!\?\-]/; !i.test(r) && n > 0 && n < this.text.length; )
                        n += t,
                        r = this.text.charAt(n);
                    return i.test(r) && "\n" !== r && (n += 1 === t ? 0 : 1),
                    n
                },
                selectWord: function(e) {
                    e = e || this.selectionStart;
                    var t = this.searchWordBoundary(e, -1)
                      , n = this.searchWordBoundary(e, 1);
                    this.selectionStart = t,
                    this.selectionEnd = n,
                    this._fireSelectionChanged(),
                    this._updateTextarea(),
                    this.renderCursorOrSelection()
                },
                selectLine: function(e) {
                    e = e || this.selectionStart;
                    var t = this.findLineBoundaryLeft(e)
                      , n = this.findLineBoundaryRight(e);
                    this.selectionStart = t,
                    this.selectionEnd = n,
                    this._fireSelectionChanged(),
                    this._updateTextarea()
                },
                enterEditing: function(e) {
                    if (!this.isEditing && this.editable)
                        return this.canvas && this.exitEditingOnOthers(this.canvas),
                        this.isEditing = !0,
                        this.initHiddenTextarea(e),
                        this.hiddenTextarea.focus(),
                        this._updateTextarea(),
                        this._saveEditingProps(),
                        this._setEditingProps(),
                        this._textBeforeEdit = this.text,
                        this._tick(),
                        this.fire("editing:entered"),
                        this.canvas ? (this.canvas.fire("text:editing:entered", {
                            target: this
                        }),
                        this.initMouseMoveHandler(),
                        this.canvas.renderAll(),
                        this) : this
                },
                exitEditingOnOthers: function(e) {
                    e._iTextInstances && e._iTextInstances.forEach(function(e) {
                        e.selected = !1,
                        e.isEditing && e.exitEditing()
                    })
                },
                initMouseMoveHandler: function() {
                    this.canvas.on("mouse:move", this.mouseMoveHandler)
                },
                mouseMoveHandler: function(e) {
                    if (this.__isMousedown && this.isEditing) {
                        var t = this.getSelectionStartFromPointer(e.e)
                          , n = this.selectionStart
                          , r = this.selectionEnd;
                        t !== this.__selectionStartOnMouseDown && (t > this.__selectionStartOnMouseDown ? (this.selectionStart = this.__selectionStartOnMouseDown,
                        this.selectionEnd = t) : (this.selectionStart = t,
                        this.selectionEnd = this.__selectionStartOnMouseDown),
                        this.selectionStart === n && this.selectionEnd === r || (this._fireSelectionChanged(),
                        this._updateTextarea(),
                        this.renderCursorOrSelection()))
                    }
                },
                _setEditingProps: function() {
                    this.hoverCursor = "text",
                    this.canvas && (this.canvas.defaultCursor = this.canvas.moveCursor = "text"),
                    this.borderColor = this.editingBorderColor,
                    this.hasControls = this.selectable = !1,
                    this.lockMovementX = this.lockMovementY = !0
                },
                _updateTextarea: function() {
                    if (this.hiddenTextarea && !this.inCompositionMode && (this.cursorOffsetCache = {},
                    this.hiddenTextarea.value = this.text,
                    this.hiddenTextarea.selectionStart = this.selectionStart,
                    this.hiddenTextarea.selectionEnd = this.selectionEnd,
                    this.selectionStart === this.selectionEnd)) {
                        var e = this._calcTextareaPosition();
                        this.hiddenTextarea.style.left = e.left,
                        this.hiddenTextarea.style.top = e.top,
                        this.hiddenTextarea.style.fontSize = e.fontSize
                    }
                },
                _calcTextareaPosition: function() {
                    if (!this.canvas)
                        return {
                            x: 1,
                            y: 1
                        };
                    var e = this.text.split("")
                      , t = this._getCursorBoundaries(e, "cursor")
                      , n = this.get2DCursorLocation()
                      , r = n.lineIndex
                      , i = n.charIndex
                      , o = this.getCurrentCharFontSize(r, i)
                      , a = 0 === r && 0 === i ? this._getLineLeftOffset(this._getLineWidth(this.ctx, r)) : t.leftOffset
                      , s = this.calcTransformMatrix()
                      , c = {
                        x: t.left + a,
                        y: t.top + t.topOffset + o
                    }
                      , l = this.canvas.upperCanvasEl
                      , u = l.width - o
                      , d = l.height - o;
                    return c = fabric.util.transformPoint(c, s),
                    (c = fabric.util.transformPoint(c, this.canvas.viewportTransform)).x < 0 && (c.x = 0),
                    c.x > u && (c.x = u),
                    c.y < 0 && (c.y = 0),
                    c.y > d && (c.y = d),
                    c.x += this.canvas._offset.left,
                    c.y += this.canvas._offset.top,
                    {
                        left: c.x + "px",
                        top: c.y + "px",
                        fontSize: o
                    }
                },
                _saveEditingProps: function() {
                    this._savedProps = {
                        hasControls: this.hasControls,
                        borderColor: this.borderColor,
                        lockMovementX: this.lockMovementX,
                        lockMovementY: this.lockMovementY,
                        hoverCursor: this.hoverCursor,
                        defaultCursor: this.canvas && this.canvas.defaultCursor,
                        moveCursor: this.canvas && this.canvas.moveCursor
                    }
                },
                _restoreEditingProps: function() {
                    this._savedProps && (this.hoverCursor = this._savedProps.overCursor,
                    this.hasControls = this._savedProps.hasControls,
                    this.borderColor = this._savedProps.borderColor,
                    this.lockMovementX = this._savedProps.lockMovementX,
                    this.lockMovementY = this._savedProps.lockMovementY,
                    this.canvas && (this.canvas.defaultCursor = this._savedProps.defaultCursor,
                    this.canvas.moveCursor = this._savedProps.moveCursor))
                },
                exitEditing: function() {
                    var e = this._textBeforeEdit !== this.text;
                    return this.selected = !1,
                    this.isEditing = !1,
                    this.selectable = !0,
                    this.selectionEnd = this.selectionStart,
                    this.hiddenTextarea.blur && this.hiddenTextarea.blur(),
                    this.hiddenTextarea && this.canvas && this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),
                    this.hiddenTextarea = null,
                    this.abortCursorAnimation(),
                    this._restoreEditingProps(),
                    this._currentCursorOpacity = 0,
                    this.fire("editing:exited"),
                    e && this.fire("modified"),
                    this.canvas && (this.canvas.off("mouse:move", this.mouseMoveHandler),
                    this.canvas.fire("text:editing:exited", {
                        target: this
                    }),
                    e && this.canvas.fire("object:modified", {
                        target: this
                    })),
                    this
                },
                _removeExtraneousStyles: function() {
                    for (var e in this.styles)
                        this._textLines[e] || delete this.styles[e]
                },
                _removeCharsFromTo: function(e, t) {
                    for (; t !== e; )
                        this._removeSingleCharAndStyle(e + 1),
                        t--;
                    this.selectionStart = e,
                    this.selectionEnd = e
                },
                _removeSingleCharAndStyle: function(e) {
                    var t = "\n" === this.text[e - 1]
                      , n = t ? e : e - 1;
                    this.removeStyleObject(t, n),
                    this.text = this.text.slice(0, e - 1) + this.text.slice(e),
                    this._textLines = this._splitTextIntoLines()
                },
                insertChars: function(e, t) {
                    var n;
                    if (this.selectionEnd - this.selectionStart > 1 && this._removeCharsFromTo(this.selectionStart, this.selectionEnd),
                    t || !this.isEmptyStyles())
                        for (var r = 0, i = e.length; r < i; r++)
                            t && (n = fabric.util.object.clone(fabric.copiedTextStyle[r], !0)),
                            this.insertChar(e[r], r < i - 1, n);
                    else
                        this.insertChar(e, !1)
                },
                insertChar: function(e, t, n) {
                    var r = "\n" === this.text[this.selectionStart];
                    this.text = this.text.slice(0, this.selectionStart) + e + this.text.slice(this.selectionEnd),
                    this._textLines = this._splitTextIntoLines(),
                    this.insertStyleObjects(e, r, n),
                    this.selectionStart += e.length,
                    this.selectionEnd = this.selectionStart,
                    t || (this._updateTextarea(),
                    this.setCoords(),
                    this._fireSelectionChanged(),
                    this.fire("changed"),
                    this.canvas && this.canvas.fire("text:changed", {
                        target: this
                    }),
                    this.canvas && this.canvas.renderAll())
                },
                insertNewlineStyleObject: function(t, n, r) {
                    this.shiftLineStyles(t, 1),
                    this.styles[t + 1] || (this.styles[t + 1] = {});
                    var i = {}
                      , o = {};
                    if (this.styles[t] && this.styles[t][n - 1] && (i = this.styles[t][n - 1]),
                    r)
                        o[0] = e(i),
                        this.styles[t + 1] = o;
                    else {
                        for (var a in this.styles[t])
                            parseInt(a, 10) >= n && (o[parseInt(a, 10) - n] = this.styles[t][a],
                            delete this.styles[t][a]);
                        this.styles[t + 1] = o
                    }
                    this._forceClearCache = !0
                },
                insertCharStyleObject: function(t, n, r) {
                    var i = this.styles[t]
                      , o = e(i);
                    for (var a in 0 !== n || r || (n = 1),
                    o) {
                        var s = parseInt(a, 10);
                        s >= n && (i[s + 1] = o[s],
                        o[s - 1] || delete i[s])
                    }
                    this.styles[t][n] = r || e(i[n - 1]),
                    this._forceClearCache = !0
                },
                insertStyleObjects: function(e, t, n) {
                    var r = this.get2DCursorLocation()
                      , i = r.lineIndex
                      , o = r.charIndex;
                    this._getLineStyle(i) || this._setLineStyle(i, {}),
                    "\n" === e ? this.insertNewlineStyleObject(i, o, t) : this.insertCharStyleObject(i, o, n)
                },
                shiftLineStyles: function(t, n) {
                    var r = e(this.styles);
                    for (var i in this.styles) {
                        var o = parseInt(i, 10);
                        o > t && (this.styles[o + n] = r[o],
                        r[o - n] || delete this.styles[o])
                    }
                },
                removeStyleObject: function(e, t) {
                    var n = this.get2DCursorLocation(t)
                      , r = n.lineIndex
                      , i = n.charIndex;
                    this._removeStyleObject(e, n, r, i)
                },
                _getTextOnPreviousLine: function(e) {
                    return this._textLines[e - 1]
                },
                _removeStyleObject: function(t, n, r, i) {
                    if (t) {
                        var o = this._getTextOnPreviousLine(n.lineIndex)
                          , a = o ? o.length : 0;
                        for (i in this.styles[r - 1] || (this.styles[r - 1] = {}),
                        this.styles[r])
                            this.styles[r - 1][parseInt(i, 10) + a] = this.styles[r][i];
                        this.shiftLineStyles(n.lineIndex, -1)
                    } else {
                        var s = this.styles[r];
                        s && delete s[i];
                        var c = e(s);
                        for (var l in c) {
                            var u = parseInt(l, 10);
                            u >= i && 0 !== u && (s[u - 1] = c[u],
                            delete s[u])
                        }
                    }
                },
                insertNewline: function() {
                    this.insertChars("\n")
                },
                setSelectionStartEndWithShift: function(e, t, n) {
                    n <= e ? (t === e ? this._selectionDirection = "left" : "right" === this._selectionDirection && (this._selectionDirection = "left",
                    this.selectionEnd = e),
                    this.selectionStart = n) : n > e && n < t ? "right" === this._selectionDirection ? this.selectionEnd = n : this.selectionStart = n : (t === e ? this._selectionDirection = "right" : "left" === this._selectionDirection && (this._selectionDirection = "right",
                    this.selectionStart = t),
                    this.selectionEnd = n)
                },
                setSelectionInBoundaries: function() {
                    var e = this.text.length;
                    this.selectionStart > e ? this.selectionStart = e : this.selectionStart < 0 && (this.selectionStart = 0),
                    this.selectionEnd > e ? this.selectionEnd = e : this.selectionEnd < 0 && (this.selectionEnd = 0)
                }
            })
        }(),
        fabric.util.object.extend(fabric.IText.prototype, {
            initDoubleClickSimulation: function() {
                this.__lastClickTime = +new Date,
                this.__lastLastClickTime = +new Date,
                this.__lastPointer = {},
                this.on("mousedown", this.onMouseDown.bind(this))
            },
            onMouseDown: function(e) {
                this.__newClickTime = +new Date;
                var t = this.canvas.getPointer(e.e);
                this.isTripleClick(t) ? (this.fire("tripleclick", e),
                this._stopEvent(e.e)) : this.isDoubleClick(t) && (this.fire("dblclick", e),
                this._stopEvent(e.e)),
                this.__lastLastClickTime = this.__lastClickTime,
                this.__lastClickTime = this.__newClickTime,
                this.__lastPointer = t,
                this.__lastIsEditing = this.isEditing,
                this.__lastSelected = this.selected
            },
            isDoubleClick: function(e) {
                return this.__newClickTime - this.__lastClickTime < 500 && this.__lastPointer.x === e.x && this.__lastPointer.y === e.y && this.__lastIsEditing
            },
            isTripleClick: function(e) {
                return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this.__lastLastClickTime < 500 && this.__lastPointer.x === e.x && this.__lastPointer.y === e.y
            },
            _stopEvent: function(e) {
                e.preventDefault && e.preventDefault(),
                e.stopPropagation && e.stopPropagation()
            },
            initCursorSelectionHandlers: function() {
                this.initSelectedHandler(),
                this.initMousedownHandler(),
                this.initMouseupHandler(),
                this.initClicks()
            },
            initClicks: function() {
                this.on("dblclick", function(e) {
                    this.selectWord(this.getSelectionStartFromPointer(e.e))
                }),
                this.on("tripleclick", function(e) {
                    this.selectLine(this.getSelectionStartFromPointer(e.e))
                })
            },
            initMousedownHandler: function() {
                this.on("mousedown", function(e) {
                    if (this.editable) {
                        var t = this.canvas.getPointer(e.e);
                        this.__mousedownX = t.x,
                        this.__mousedownY = t.y,
                        this.__isMousedown = !0,
                        this.selected && this.setCursorByClick(e.e),
                        this.isEditing && (this.__selectionStartOnMouseDown = this.selectionStart,
                        this.selectionStart === this.selectionEnd && this.abortCursorAnimation(),
                        this.renderCursorOrSelection())
                    }
                })
            },
            _isObjectMoved: function(e) {
                var t = this.canvas.getPointer(e);
                return this.__mousedownX !== t.x || this.__mousedownY !== t.y
            },
            initMouseupHandler: function() {
                this.on("mouseup", function(e) {
                    this.__isMousedown = !1,
                    this.editable && !this._isObjectMoved(e.e) && (this.__lastSelected && !this.__corner && (this.enterEditing(e.e),
                    this.selectionStart === this.selectionEnd ? this.initDelayedCursor(!0) : this.renderCursorOrSelection()),
                    this.selected = !0)
                })
            },
            setCursorByClick: function(e) {
                var t = this.getSelectionStartFromPointer(e)
                  , n = this.selectionStart
                  , r = this.selectionEnd;
                e.shiftKey ? this.setSelectionStartEndWithShift(n, r, t) : (this.selectionStart = t,
                this.selectionEnd = t),
                this._fireSelectionChanged(),
                this._updateTextarea()
            },
            getSelectionStartFromPointer: function(e) {
                for (var t, n = this.getLocalPointer(e), r = 0, i = 0, o = 0, a = 0, s = 0, c = this._textLines.length; s < c; s++) {
                    t = this._textLines[s],
                    o += this._getHeightOfLine(this.ctx, s) * this.scaleY;
                    var l = this._getLineWidth(this.ctx, s);
                    i = this._getLineLeftOffset(l) * this.scaleX;
                    for (var u = 0, d = t.length; u < d; u++) {
                        if (r = i,
                        i += this._getWidthOfChar(this.ctx, t[u], s, this.flipX ? d - u : u) * this.scaleX,
                        !(o <= n.y || i <= n.x))
                            return this._getNewSelectionStartFromOffset(n, r, i, a + s, d);
                        a++
                    }
                    if (n.y < o)
                        return this._getNewSelectionStartFromOffset(n, r, i, a + s - 1, d)
                }
                return this.text.length
            },
            _getNewSelectionStartFromOffset: function(e, t, n, r, i) {
                var o = e.x - t
                  , a = r + (n - e.x > o ? 0 : 1);
                return this.flipX && (a = i - a),
                a > this.text.length && (a = this.text.length),
                a
            }
        }),
        fabric.util.object.extend(fabric.IText.prototype, {
            initHiddenTextarea: function() {
                this.hiddenTextarea = fabric.document.createElement("textarea"),
                this.hiddenTextarea.setAttribute("autocapitalize", "off");
                var e = this._calcTextareaPosition();
                this.hiddenTextarea.style.cssText = "position: absolute; top: " + e.top + "; left: " + e.left + "; opacity: 0; width: 0px; height: 0px; z-index: -999;",
                fabric.document.body.appendChild(this.hiddenTextarea),
                fabric.util.addListener(this.hiddenTextarea, "keydown", this.onKeyDown.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "keyup", this.onKeyUp.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "input", this.onInput.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "copy", this.copy.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "cut", this.cut.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "paste", this.paste.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "compositionstart", this.onCompositionStart.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "compositionupdate", this.onCompositionUpdate.bind(this)),
                fabric.util.addListener(this.hiddenTextarea, "compositionend", this.onCompositionEnd.bind(this)),
                !this._clickHandlerInitialized && this.canvas && (fabric.util.addListener(this.canvas.upperCanvasEl, "click", this.onClick.bind(this)),
                this._clickHandlerInitialized = !0)
            },
            _keysMap: {
                8: "removeChars",
                9: "exitEditing",
                27: "exitEditing",
                13: "insertNewline",
                33: "moveCursorUp",
                34: "moveCursorDown",
                35: "moveCursorRight",
                36: "moveCursorLeft",
                37: "moveCursorLeft",
                38: "moveCursorUp",
                39: "moveCursorRight",
                40: "moveCursorDown",
                46: "forwardDelete"
            },
            _ctrlKeysMapUp: {
                67: "copy",
                88: "cut"
            },
            _ctrlKeysMapDown: {
                65: "selectAll"
            },
            onClick: function() {
                this.hiddenTextarea && this.hiddenTextarea.focus()
            },
            onKeyDown: function(e) {
                if (this.isEditing) {
                    if (e.keyCode in this._keysMap)
                        this[this._keysMap[e.keyCode]](e);
                    else {
                        if (!(e.keyCode in this._ctrlKeysMapDown && (e.ctrlKey || e.metaKey)))
                            return;
                        this[this._ctrlKeysMapDown[e.keyCode]](e)
                    }
                    e.stopImmediatePropagation(),
                    e.preventDefault(),
                    e.keyCode >= 33 && e.keyCode <= 40 ? (this.clearContextTop(),
                    this.renderCursorOrSelection()) : this.canvas && this.canvas.renderAll()
                }
            },
            onKeyUp: function(e) {
                return !this.isEditing || this._copyDone ? void (this._copyDone = !1) : void (e.keyCode in this._ctrlKeysMapUp && (e.ctrlKey || e.metaKey) && (this[this._ctrlKeysMapUp[e.keyCode]](e),
                e.stopImmediatePropagation(),
                e.preventDefault(),
                this.canvas && this.canvas.renderAll()))
            },
            onInput: function(e) {
                if (this.isEditing && !this.inCompositionMode) {
                    var t, n, r, i = this.selectionStart || 0, o = this.selectionEnd || 0, a = this.text.length, s = this.hiddenTextarea.value.length;
                    s > a ? (r = "left" === this._selectionDirection ? o : i,
                    t = s - a,
                    n = this.hiddenTextarea.value.slice(r, r + t)) : (t = s - a + o - i,
                    n = this.hiddenTextarea.value.slice(i, i + t)),
                    this.insertChars(n),
                    e.stopPropagation()
                }
            },
            onCompositionStart: function() {
                this.inCompositionMode = !0,
                this.prevCompositionLength = 0,
                this.compositionStart = this.selectionStart
            },
            onCompositionEnd: function() {
                this.inCompositionMode = !1
            },
            onCompositionUpdate: function(e) {
                var t = e.data;
                this.selectionStart = this.compositionStart,
                this.selectionEnd = this.selectionEnd === this.selectionStart ? this.compositionStart + this.prevCompositionLength : this.selectionEnd,
                this.insertChars(t, !1),
                this.prevCompositionLength = t.length
            },
            forwardDelete: function(e) {
                if (this.selectionStart === this.selectionEnd) {
                    if (this.selectionStart === this.text.length)
                        return;
                    this.moveCursorRight(e)
                }
                this.removeChars(e)
            },
            copy: function(e) {
                if (this.selectionStart !== this.selectionEnd) {
                    var t = this.getSelectedText()
                      , n = this._getClipboardData(e);
                    n && n.setData("text", t),
                    fabric.copiedText = t,
                    fabric.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd),
                    e.stopImmediatePropagation(),
                    e.preventDefault(),
                    this._copyDone = !0
                }
            },
            paste: function(e) {
                var t = null
                  , n = this._getClipboardData(e)
                  , r = !0;
                n ? (t = n.getData("text").replace(/\r/g, ""),
                fabric.copiedTextStyle && fabric.copiedText === t || (r = !1)) : t = fabric.copiedText,
                t && this.insertChars(t, r),
                e.stopImmediatePropagation(),
                e.preventDefault()
            },
            cut: function(e) {
                this.selectionStart !== this.selectionEnd && (this.copy(e),
                this.removeChars(e))
            },
            _getClipboardData: function(e) {
                return e && e.clipboardData || fabric.window.clipboardData
            },
            _getWidthBeforeCursor: function(e, t) {
                for (var n, r = this._textLines[e].slice(0, t), i = this._getLineWidth(this.ctx, e), o = this._getLineLeftOffset(i), a = 0, s = r.length; a < s; a++)
                    n = r[a],
                    o += this._getWidthOfChar(this.ctx, n, e, a);
                return o
            },
            getDownCursorOffset: function(e, t) {
                var n = this._getSelectionForOffset(e, t)
                  , r = this.get2DCursorLocation(n)
                  , i = r.lineIndex;
                if (i === this._textLines.length - 1 || e.metaKey || 34 === e.keyCode)
                    return this.text.length - n;
                var o = r.charIndex
                  , a = this._getWidthBeforeCursor(i, o)
                  , s = this._getIndexOnLine(i + 1, a);
                return this._textLines[i].slice(o).length + s + 2
            },
            _getSelectionForOffset: function(e, t) {
                return e.shiftKey && this.selectionStart !== this.selectionEnd && t ? this.selectionEnd : this.selectionStart
            },
            getUpCursorOffset: function(e, t) {
                var n = this._getSelectionForOffset(e, t)
                  , r = this.get2DCursorLocation(n)
                  , i = r.lineIndex;
                if (0 === i || e.metaKey || 33 === e.keyCode)
                    return -n;
                var o = r.charIndex
                  , a = this._getWidthBeforeCursor(i, o)
                  , s = this._getIndexOnLine(i - 1, a)
                  , c = this._textLines[i].slice(0, o);
                return -this._textLines[i - 1].length + s - c.length
            },
            _getIndexOnLine: function(e, t) {
                for (var n, r = this._getLineWidth(this.ctx, e), i = this._textLines[e], o = this._getLineLeftOffset(r), a = 0, s = 0, c = i.length; s < c; s++) {
                    var l = i[s]
                      , u = this._getWidthOfChar(this.ctx, l, e, s);
                    if ((o += u) > t) {
                        n = !0;
                        var d = o - u
                          , f = o
                          , h = Math.abs(d - t);
                        a = Math.abs(f - t) < h ? s : s - 1;
                        break
                    }
                }
                return n || (a = i.length - 1),
                a
            },
            moveCursorDown: function(e) {
                this.selectionStart >= this.text.length && this.selectionEnd >= this.text.length || this._moveCursorUpOrDown("Down", e)
            },
            moveCursorUp: function(e) {
                0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorUpOrDown("Up", e)
            },
            _moveCursorUpOrDown: function(e, t) {
                var n = this["get" + e + "CursorOffset"](t, "right" === this._selectionDirection);
                t.shiftKey ? this.moveCursorWithShift(n) : this.moveCursorWithoutShift(n),
                0 !== n && (this.setSelectionInBoundaries(),
                this.abortCursorAnimation(),
                this._currentCursorOpacity = 1,
                this.initDelayedCursor(),
                this._fireSelectionChanged(),
                this._updateTextarea())
            },
            moveCursorWithShift: function(e) {
                var t = "left" === this._selectionDirection ? this.selectionStart + e : this.selectionEnd + e;
                return this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, t),
                0 !== e
            },
            moveCursorWithoutShift: function(e) {
                return e < 0 ? (this.selectionStart += e,
                this.selectionEnd = this.selectionStart) : (this.selectionEnd += e,
                this.selectionStart = this.selectionEnd),
                0 !== e
            },
            moveCursorLeft: function(e) {
                0 === this.selectionStart && 0 === this.selectionEnd || this._moveCursorLeftOrRight("Left", e)
            },
            _move: function(e, t, n) {
                var r;
                if (e.altKey)
                    r = this["findWordBoundary" + n](this[t]);
                else {
                    if (!e.metaKey && 35 !== e.keyCode && 36 !== e.keyCode)
                        return this[t] += "Left" === n ? -1 : 1,
                        !0;
                    r = this["findLineBoundary" + n](this[t])
                }
                if (void 0 !== typeof r && this[t] !== r)
                    return this[t] = r,
                    !0
            },
            _moveLeft: function(e, t) {
                return this._move(e, t, "Left")
            },
            _moveRight: function(e, t) {
                return this._move(e, t, "Right")
            },
            moveCursorLeftWithoutShift: function(e) {
                var t = !0;
                return this._selectionDirection = "left",
                this.selectionEnd === this.selectionStart && 0 !== this.selectionStart && (t = this._moveLeft(e, "selectionStart")),
                this.selectionEnd = this.selectionStart,
                t
            },
            moveCursorLeftWithShift: function(e) {
                return "right" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveLeft(e, "selectionEnd") : 0 !== this.selectionStart ? (this._selectionDirection = "left",
                this._moveLeft(e, "selectionStart")) : void 0
            },
            moveCursorRight: function(e) {
                this.selectionStart >= this.text.length && this.selectionEnd >= this.text.length || this._moveCursorLeftOrRight("Right", e)
            },
            _moveCursorLeftOrRight: function(e, t) {
                var n = "moveCursor" + e + "With";
                this._currentCursorOpacity = 1,
                this[n += t.shiftKey ? "Shift" : "outShift"](t) && (this.abortCursorAnimation(),
                this.initDelayedCursor(),
                this._fireSelectionChanged(),
                this._updateTextarea())
            },
            moveCursorRightWithShift: function(e) {
                return "left" === this._selectionDirection && this.selectionStart !== this.selectionEnd ? this._moveRight(e, "selectionStart") : this.selectionEnd !== this.text.length ? (this._selectionDirection = "right",
                this._moveRight(e, "selectionEnd")) : void 0
            },
            moveCursorRightWithoutShift: function(e) {
                var t = !0;
                return this._selectionDirection = "right",
                this.selectionStart === this.selectionEnd ? (t = this._moveRight(e, "selectionStart"),
                this.selectionEnd = this.selectionStart) : this.selectionStart = this.selectionEnd,
                t
            },
            removeChars: function(e) {
                this.selectionStart === this.selectionEnd ? this._removeCharsNearCursor(e) : this._removeCharsFromTo(this.selectionStart, this.selectionEnd),
                this.set("dirty", !0),
                this.setSelectionEnd(this.selectionStart),
                this._removeExtraneousStyles(),
                this.canvas && this.canvas.renderAll(),
                this.setCoords(),
                this.fire("changed"),
                this.canvas && this.canvas.fire("text:changed", {
                    target: this
                })
            },
            _removeCharsNearCursor: function(e) {
                if (0 !== this.selectionStart)
                    if (e.metaKey) {
                        var t = this.findLineBoundaryLeft(this.selectionStart);
                        this._removeCharsFromTo(t, this.selectionStart),
                        this.setSelectionStart(t)
                    } else if (e.altKey) {
                        var n = this.findWordBoundaryLeft(this.selectionStart);
                        this._removeCharsFromTo(n, this.selectionStart),
                        this.setSelectionStart(n)
                    } else
                        this._removeSingleCharAndStyle(this.selectionStart),
                        this.setSelectionStart(this.selectionStart - 1)
            }
        }),
        function() {
            var e = fabric.util.toFixed
              , t = fabric.Object.NUM_FRACTION_DIGITS;
            fabric.util.object.extend(fabric.IText.prototype, {
                _setSVGTextLineText: function(e, t, n, r, i, o) {
                    this._getLineStyle(e) ? this._setSVGTextLineChars(e, t, n, r, o) : fabric.Text.prototype._setSVGTextLineText.call(this, e, t, n, r, i)
                },
                _setSVGTextLineChars: function(e, t, n, r, i) {
                    for (var o = this._textLines[e], a = 0, s = this._getLineLeftOffset(this._getLineWidth(this.ctx, e)) - this.width / 2, c = this._getSVGLineTopOffset(e), l = this._getHeightOfLine(this.ctx, e), u = 0, d = o.length; u < d; u++) {
                        var f = this._getStyleDeclaration(e, u) || {};
                        t.push(this._createTextCharSpan(o[u], f, s, c.lineTop + c.offset, a));
                        var h = this._getWidthOfChar(this.ctx, o[u], e, u);
                        f.textBackgroundColor && i.push(this._createTextCharBg(f, s, c.lineTop, l, h, a)),
                        a += h
                    }
                },
                _getSVGLineTopOffset: function(e) {
                    for (var t, n = 0, r = 0; r < e; r++)
                        n += this._getHeightOfLine(this.ctx, r);
                    return t = this._getHeightOfLine(this.ctx, r),
                    {
                        lineTop: n,
                        offset: (this._fontSizeMult - this._fontSizeFraction) * t / (this.lineHeight * this._fontSizeMult)
                    }
                },
                _createTextCharBg: function(n, r, i, o, a, s) {
                    return ['\t\t<rect fill="', n.textBackgroundColor, '" x="', e(r + s, t), '" y="', e(i - this.height / 2, t), '" width="', e(a, t), '" height="', e(o / this.lineHeight, t), '"></rect>\n'].join("")
                },
                _createTextCharSpan: function(n, r, i, o, a) {
                    var s = this.getSvgStyles.call(fabric.util.object.extend({
                        visible: !0,
                        fill: this.fill,
                        stroke: this.stroke,
                        type: "text",
                        getSvgFilter: fabric.Object.prototype.getSvgFilter
                    }, r));
                    return ['\t\t\t<tspan x="', e(i + a, t), '" y="', e(o - this.height / 2, t), '" ', r.fontFamily ? 'font-family="' + r.fontFamily.replace(/"/g, "'") + '" ' : "", r.fontSize ? 'font-size="' + r.fontSize + '" ' : "", r.fontStyle ? 'font-style="' + r.fontStyle + '" ' : "", r.fontWeight ? 'font-weight="' + r.fontWeight + '" ' : "", r.textDecoration ? 'text-decoration="' + r.textDecoration + '" ' : "", 'style="', s, '">', fabric.util.string.escapeXml(n), "</tspan>\n"].join("")
                }
            })
        }(),
        function(e) {
            "use strict";
            var t = e.fabric || (e.fabric = {});
            t.Textbox = t.util.createClass(t.IText, t.Observable, {
                type: "textbox",
                minWidth: 20,
                dynamicMinWidth: 2,
                __cachedLines: null,
                lockScalingY: !0,
                lockScalingFlip: !0,
                noScaleCache: !1,
                initialize: function(e, n) {
                    this.callSuper("initialize", e, n),
                    this.setControlsVisibility(t.Textbox.getTextboxControlVisibility()),
                    this.ctx = this.objectCaching ? this._cacheContext : t.util.createCanvasElement().getContext("2d"),
                    this._dimensionAffectingProps.push("width")
                },
                _initDimensions: function(e) {
                    this.__skipDimension || (e || (e = t.util.createCanvasElement().getContext("2d"),
                    this._setTextStyles(e),
                    this.clearContextTop()),
                    this.dynamicMinWidth = 0,
                    this._textLines = this._splitTextIntoLines(e),
                    this.dynamicMinWidth > this.width && this._set("width", this.dynamicMinWidth),
                    this._clearCache(),
                    this.height = this._getTextHeight(e))
                },
                _generateStyleMap: function() {
                    for (var e = 0, t = 0, n = 0, r = {}, i = 0; i < this._textLines.length; i++)
                        "\n" === this.text[n] && i > 0 ? (t = 0,
                        n++,
                        e++) : " " === this.text[n] && i > 0 && (t++,
                        n++),
                        r[i] = {
                            line: e,
                            offset: t
                        },
                        n += this._textLines[i].length,
                        t += this._textLines[i].length;
                    return r
                },
                _getStyleDeclaration: function(e, t, n) {
                    if (this._styleMap) {
                        var r = this._styleMap[e];
                        if (!r)
                            return n ? {} : null;
                        e = r.line,
                        t = r.offset + t
                    }
                    return this.callSuper("_getStyleDeclaration", e, t, n)
                },
                _setStyleDeclaration: function(e, t, n) {
                    var r = this._styleMap[e];
                    e = r.line,
                    t = r.offset + t,
                    this.styles[e][t] = n
                },
                _deleteStyleDeclaration: function(e, t) {
                    var n = this._styleMap[e];
                    e = n.line,
                    t = n.offset + t,
                    delete this.styles[e][t]
                },
                _getLineStyle: function(e) {
                    var t = this._styleMap[e];
                    return this.styles[t.line]
                },
                _setLineStyle: function(e, t) {
                    var n = this._styleMap[e];
                    this.styles[n.line] = t
                },
                _deleteLineStyle: function(e) {
                    var t = this._styleMap[e];
                    delete this.styles[t.line]
                },
                _wrapText: function(e, t) {
                    var n, r = t.split(this._reNewline), i = [];
                    for (n = 0; n < r.length; n++)
                        i = i.concat(this._wrapLine(e, r[n], n));
                    return i
                },
                _measureText: function(e, t, n, r) {
                    var i = 0;
                    r = r || 0;
                    for (var o = 0, a = t.length; o < a; o++)
                        i += this._getWidthOfChar(e, t[o], n, o + r);
                    return i
                },
                _wrapLine: function(e, t, n) {
                    for (var r = 0, i = [], o = "", a = t.split(" "), s = "", c = 0, l = 0, u = 0, d = 0, f = !0, h = this._getWidthOfCharSpacing(), p = 0; p < a.length; p++)
                        s = a[p],
                        l = this._measureText(e, s, n, c),
                        c += s.length,
                        (r += u + l - h) >= this.width && !f ? (i.push(o),
                        o = "",
                        r = l,
                        f = !0) : r += h,
                        f || (o += " "),
                        o += s,
                        u = this._measureText(e, " ", n, c),
                        c++,
                        f = !1,
                        l > d && (d = l);
                    return p && i.push(o),
                    d > this.dynamicMinWidth && (this.dynamicMinWidth = d - h),
                    i
                },
                _splitTextIntoLines: function(e) {
                    e = e || this.ctx;
                    var t = this.textAlign;
                    this._styleMap = null,
                    e.save(),
                    this._setTextStyles(e),
                    this.textAlign = "left";
                    var n = this._wrapText(e, this.text);
                    return this.textAlign = t,
                    e.restore(),
                    this._textLines = n,
                    this._styleMap = this._generateStyleMap(),
                    n
                },
                setOnGroup: function(e, t) {
                    "scaleX" === e && (this.set("scaleX", Math.abs(1 / t)),
                    this.set("width", this.get("width") * t / (void 0 === this.__oldScaleX ? 1 : this.__oldScaleX)),
                    this.__oldScaleX = t)
                },
                get2DCursorLocation: function(e) {
                    void 0 === e && (e = this.selectionStart);
                    for (var t = this._textLines.length, n = 0, r = 0; r < t; r++) {
                        var i = this._textLines[r].length;
                        if (e <= n + i)
                            return {
                                lineIndex: r,
                                charIndex: e - n
                            };
                        n += i,
                        "\n" !== this.text[n] && " " !== this.text[n] || n++
                    }
                    return {
                        lineIndex: t - 1,
                        charIndex: this._textLines[t - 1].length
                    }
                },
                _getCursorBoundariesOffsets: function(e, t) {
                    for (var n = 0, r = 0, i = this.get2DCursorLocation(), o = this._textLines[i.lineIndex].split(""), a = this._getLineLeftOffset(this._getLineWidth(this.ctx, i.lineIndex)), s = 0; s < i.charIndex; s++)
                        r += this._getWidthOfChar(this.ctx, o[s], i.lineIndex, s);
                    for (s = 0; s < i.lineIndex; s++)
                        n += this._getHeightOfLine(this.ctx, s);
                    return "cursor" === t && (n += (1 - this._fontSizeFraction) * this._getHeightOfLine(this.ctx, i.lineIndex) / this.lineHeight - this.getCurrentCharFontSize(i.lineIndex, i.charIndex) * (1 - this._fontSizeFraction)),
                    {
                        top: n,
                        left: r,
                        lineLeft: a
                    }
                },
                getMinWidth: function() {
                    return Math.max(this.minWidth, this.dynamicMinWidth)
                },
                toObject: function(e) {
                    return this.callSuper("toObject", ["minWidth"].concat(e))
                }
            }),
            t.Textbox.fromObject = function(e, n, r) {
                return t.Object._fromObject("Textbox", e, n, r, "text")
            }
            ,
            t.Textbox.getTextboxControlVisibility = function() {
                return {
                    tl: !1,
                    tr: !1,
                    br: !1,
                    bl: !1,
                    ml: !0,
                    mt: !1,
                    mr: !0,
                    mb: !1,
                    mtr: !0
                }
            }
        }(exports),
        function() {
            var e = fabric.Canvas.prototype._setObjectScale;
            fabric.Canvas.prototype._setObjectScale = function(t, n, r, i, o, a, s) {
                var c = n.target;
                if (!(c instanceof fabric.Textbox))
                    return e.call(fabric.Canvas.prototype, t, n, r, i, o, a, s);
                var l = c.width * (t.x / n.scaleX / (c.width + c.strokeWidth));
                return l >= c.getMinWidth() ? (c.set("width", l),
                !0) : void 0
            }
            ,
            fabric.Group.prototype._refreshControlsVisibility = function() {
                if (void 0 !== fabric.Textbox)
                    for (var e = this._objects.length; e--; )
                        if (this._objects[e]instanceof fabric.Textbox)
                            return void this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility())
            }
            ;
            var t = fabric.util.object.clone;
            fabric.util.object.extend(fabric.Textbox.prototype, {
                _removeExtraneousStyles: function() {
                    for (var e in this._styleMap)
                        this._textLines[e] || delete this.styles[this._styleMap[e].line]
                },
                insertCharStyleObject: function(e, t, n) {
                    var r = this._styleMap[e];
                    e = r.line,
                    t = r.offset + t,
                    fabric.IText.prototype.insertCharStyleObject.apply(this, [e, t, n])
                },
                insertNewlineStyleObject: function(e, t, n) {
                    var r = this._styleMap[e];
                    e = r.line,
                    t = r.offset + t,
                    fabric.IText.prototype.insertNewlineStyleObject.apply(this, [e, t, n])
                },
                shiftLineStyles: function(e, n) {
                    var r = t(this.styles)
                      , i = this._styleMap[e];
                    for (var o in e = i.line,
                    this.styles) {
                        var a = parseInt(o, 10);
                        a > e && (this.styles[a + n] = r[a],
                        r[a - n] || delete this.styles[a])
                    }
                },
                _getTextOnPreviousLine: function(e) {
                    for (var t = this._textLines[e - 1]; this._styleMap[e - 2] && this._styleMap[e - 2].line === this._styleMap[e - 1].line; )
                        t = this._textLines[e - 2] + t,
                        e--;
                    return t
                },
                removeStyleObject: function(e, t) {
                    var n = this.get2DCursorLocation(t)
                      , r = this._styleMap[n.lineIndex]
                      , i = r.line
                      , o = r.offset + n.charIndex;
                    this._removeStyleObject(e, n, i, o)
                }
            })
        }(),
        function() {
            var e = fabric.IText.prototype._getNewSelectionStartFromOffset;
            fabric.IText.prototype._getNewSelectionStartFromOffset = function(t, n, r, i, o) {
                i = e.call(this, t, n, r, i, o);
                for (var a = 0, s = 0, c = 0; c < this._textLines.length && !((a += this._textLines[c].length) + s >= i); c++)
                    "\n" !== this.text[a + s] && " " !== this.text[a + s] || s++;
                return i - c + s
            }
        }(),
        function() {
            function request(e, t, n) {
                var r = URL.parse(e);
                r.port || (r.port = 0 === r.protocol.indexOf("https:") ? 443 : 80);
                var i = (0 === r.protocol.indexOf("https:") ? HTTPS : HTTP).request({
                    hostname: r.hostname,
                    port: r.port,
                    path: r.path,
                    method: "GET"
                }, function(e) {
                    var r = "";
                    t && e.setEncoding(t),
                    e.on("end", function() {
                        n(r)
                    }),
                    e.on("data", function(t) {
                        200 === e.statusCode && (r += t)
                    })
                });
                i.on("error", function(e) {
                    e.errno === process.ECONNREFUSED ? fabric.log("ECONNREFUSED: connection refused to " + r.hostname + ":" + r.port) : fabric.log(e.message),
                    n(null)
                }),
                i.end()
            }
            function requestFs(e, t) {
                __webpack_require__(98).readFile(e, function(e, n) {
                    if (e)
                        throw fabric.log(e),
                        e;
                    t(n)
                })
            }
            if ("undefined" == typeof document || "undefined" == typeof window) {
                var DOMParser = __webpack_require__(99).DOMParser
                  , URL = __webpack_require__(9)
                  , HTTP = __webpack_require__(28)
                  , HTTPS = __webpack_require__(109)
                  , Canvas = __webpack_require__(17)
                  , Image = __webpack_require__(17).Image;
                fabric.util.loadImage = function(e, t, n) {
                    function r(r) {
                        r ? (i.src = new Buffer(r,"binary"),
                        i._src = e,
                        t && t.call(n, i)) : (i = null,
                        t && t.call(n, null, !0))
                    }
                    var i = new Image;
                    e && (e instanceof Buffer || 0 === e.indexOf("data")) ? (i.src = i._src = e,
                    t && t.call(n, i)) : e && 0 !== e.indexOf("http") ? requestFs(e, r) : e ? request(e, "binary", r) : t && t.call(n, e)
                }
                ,
                fabric.loadSVGFromURL = function(e, t, n) {
                    0 !== (e = e.replace(/^\n\s*/, "").replace(/\?.*$/, "").trim()).indexOf("http") ? requestFs(e, function(e) {
                        fabric.loadSVGFromString(e.toString(), t, n)
                    }) : request(e, "", function(e) {
                        fabric.loadSVGFromString(e, t, n)
                    })
                }
                ,
                fabric.loadSVGFromString = function(e, t, n) {
                    var r = (new DOMParser).parseFromString(e);
                    fabric.parseSVGDocument(r.documentElement, function(e, n) {
                        t && t(e, n)
                    }, n)
                }
                ,
                fabric.util.getScript = function(url, callback) {
                    request(url, "", function(body) {
                        eval(body),
                        callback && callback()
                    })
                }
                ,
                fabric.createCanvasForNode = function(e, t, n, r) {
                    r = r || n;
                    var i = fabric.document.createElement("canvas")
                      , o = new Canvas(e || 600,t || 600,r)
                      , a = new Canvas(e || 600,t || 600,r);
                    i.style = {},
                    i.width = o.width,
                    i.height = o.height,
                    (n = n || {}).nodeCanvas = o,
                    n.nodeCacheCanvas = a;
                    var s = new (fabric.Canvas || fabric.StaticCanvas)(i,n);
                    return s.nodeCanvas = o,
                    s.nodeCacheCanvas = a,
                    s.contextContainer = o.getContext("2d"),
                    s.contextCache = a.getContext("2d"),
                    s.Font = Canvas.Font,
                    s
                }
                ;
                var originaInitStatic = fabric.StaticCanvas.prototype._initStatic;
                fabric.StaticCanvas.prototype._initStatic = function(e, t) {
                    e = e || fabric.document.createElement("canvas"),
                    this.nodeCanvas = new Canvas(e.width,e.height),
                    this.nodeCacheCanvas = new Canvas(e.width,e.height),
                    originaInitStatic.call(this, e, t),
                    this.contextContainer = this.nodeCanvas.getContext("2d"),
                    this.contextCache = this.nodeCacheCanvas.getContext("2d"),
                    this.Font = Canvas.Font
                }
                ,
                fabric.StaticCanvas.prototype.createPNGStream = function() {
                    return this.nodeCanvas.createPNGStream()
                }
                ,
                fabric.StaticCanvas.prototype.createJPEGStream = function(e) {
                    return this.nodeCanvas.createJPEGStream(e)
                }
                ,
                fabric.StaticCanvas.prototype._initRetinaScaling = function() {
                    if (this._isRetinaScaling())
                        return this.lowerCanvasEl.setAttribute("width", this.width * fabric.devicePixelRatio),
                        this.lowerCanvasEl.setAttribute("height", this.height * fabric.devicePixelRatio),
                        this.nodeCanvas.width = this.width * fabric.devicePixelRatio,
                        this.nodeCanvas.height = this.height * fabric.devicePixelRatio,
                        this.contextContainer.scale(fabric.devicePixelRatio, fabric.devicePixelRatio),
                        this
                }
                ,
                fabric.Canvas && (fabric.Canvas.prototype._initRetinaScaling = fabric.StaticCanvas.prototype._initRetinaScaling);
                var origSetBackstoreDimension = fabric.StaticCanvas.prototype._setBackstoreDimension;
                fabric.StaticCanvas.prototype._setBackstoreDimension = function(e, t) {
                    return origSetBackstoreDimension.call(this, e, t),
                    this.nodeCanvas[e] = t,
                    this
                }
                ,
                fabric.Canvas && (fabric.Canvas.prototype._setBackstoreDimension = fabric.StaticCanvas.prototype._setBackstoreDimension)
            }
        }()
    }
    ).call(this, __webpack_require__(6).Buffer, __webpack_require__(2))
}
, function(e, t, n) {
    "use strict";
    t.byteLength = function(e) {
        var t = l(e)
          , n = t[0]
          , r = t[1];
        return 3 * (n + r) / 4 - r
    }
    ,
    t.toByteArray = function(e) {
        for (var t, n = l(e), r = n[0], a = n[1], s = new o(3 * (r + a) / 4 - a), c = 0, u = a > 0 ? r - 4 : r, d = 0; d < u; d += 4)
            t = i[e.charCodeAt(d)] << 18 | i[e.charCodeAt(d + 1)] << 12 | i[e.charCodeAt(d + 2)] << 6 | i[e.charCodeAt(d + 3)],
            s[c++] = t >> 16 & 255,
            s[c++] = t >> 8 & 255,
            s[c++] = 255 & t;
        return 2 === a && (t = i[e.charCodeAt(d)] << 2 | i[e.charCodeAt(d + 1)] >> 4,
        s[c++] = 255 & t),
        1 === a && (t = i[e.charCodeAt(d)] << 10 | i[e.charCodeAt(d + 1)] << 4 | i[e.charCodeAt(d + 2)] >> 2,
        s[c++] = t >> 8 & 255,
        s[c++] = 255 & t),
        s
    }
    ,
    t.fromByteArray = function(e) {
        for (var t, n = e.length, i = n % 3, o = [], a = 0, s = n - i; a < s; a += 16383)
            o.push(u(e, a, a + 16383 > s ? s : a + 16383));
        return 1 === i ? (t = e[n - 1],
        o.push(r[t >> 2] + r[t << 4 & 63] + "==")) : 2 === i && (t = (e[n - 2] << 8) + e[n - 1],
        o.push(r[t >> 10] + r[t >> 4 & 63] + r[t << 2 & 63] + "=")),
        o.join("")
    }
    ;
    for (var r = [], i = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s)
        r[s] = a[s],
        i[a.charCodeAt(s)] = s;
    function l(e) {
        var t = e.length;
        if (t % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
        var n = e.indexOf("=");
        return -1 === n && (n = t),
        [n, n === t ? 0 : 4 - n % 4]
    }
    function u(e, t, n) {
        for (var i, o, a = [], s = t; s < n; s += 3)
            i = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]),
            a.push(r[(o = i) >> 18 & 63] + r[o >> 12 & 63] + r[o >> 6 & 63] + r[63 & o]);
        return a.join("")
    }
    i["-".charCodeAt(0)] = 62,
    i["_".charCodeAt(0)] = 63
}
, function(e, t) {
    t.read = function(e, t, n, r, i) {
        var o, a, s = 8 * i - r - 1, c = (1 << s) - 1, l = c >> 1, u = -7, d = n ? i - 1 : 0, f = n ? -1 : 1, h = e[t + d];
        for (d += f,
        o = h & (1 << -u) - 1,
        h >>= -u,
        u += s; u > 0; o = 256 * o + e[t + d],
        d += f,
        u -= 8)
            ;
        for (a = o & (1 << -u) - 1,
        o >>= -u,
        u += r; u > 0; a = 256 * a + e[t + d],
        d += f,
        u -= 8)
            ;
        if (0 === o)
            o = 1 - l;
        else {
            if (o === c)
                return a ? NaN : 1 / 0 * (h ? -1 : 1);
            a += Math.pow(2, r),
            o -= l
        }
        return (h ? -1 : 1) * a * Math.pow(2, o - r)
    }
    ,
    t.write = function(e, t, n, r, i, o) {
        var a, s, c, l = 8 * o - i - 1, u = (1 << l) - 1, d = u >> 1, f = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = r ? 0 : o - 1, p = r ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t),
        isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
        a = u) : (a = Math.floor(Math.log(t) / Math.LN2),
        t * (c = Math.pow(2, -a)) < 1 && (a--,
        c *= 2),
        (t += a + d >= 1 ? f / c : f * Math.pow(2, 1 - d)) * c >= 2 && (a++,
        c /= 2),
        a + d >= u ? (s = 0,
        a = u) : a + d >= 1 ? (s = (t * c - 1) * Math.pow(2, i),
        a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, i),
        a = 0)); i >= 8; e[n + h] = 255 & s,
        h += p,
        s /= 256,
        i -= 8)
            ;
        for (a = a << i | s,
        l += i; l > 0; e[n + h] = 255 & a,
        h += p,
        a /= 256,
        l -= 8)
            ;
        e[n + h - p] |= 128 * g
    }
}
, function(e, t) {}
, function(e, t) {}
, function(e, t) {}
, function(e, t, n) {
    (function(t, r, i) {
        var o = n(29)
          , a = n(3)
          , s = n(30)
          , c = n(31)
          , l = n(106)
          , u = s.IncomingMessage
          , d = s.readyStates
          , f = e.exports = function(e) {
            var n, r = this;
            c.Writable.call(r),
            r._opts = e,
            r._body = [],
            r._headers = {},
            e.auth && r.setHeader("Authorization", "Basic " + new t(e.auth).toString("base64")),
            Object.keys(e.headers).forEach(function(t) {
                r.setHeader(t, e.headers[t])
            });
            var i = !0;
            if ("disable-fetch" === e.mode || "requestTimeout"in e && !o.abortController)
                i = !1,
                n = !0;
            else if ("prefer-streaming" === e.mode)
                n = !1;
            else if ("allow-wrong-content-type" === e.mode)
                n = !o.overrideMimeType;
            else {
                if (e.mode && "default" !== e.mode && "prefer-fast" !== e.mode)
                    throw new Error("Invalid value for opts.mode");
                n = !0
            }
            r._mode = function(e, t) {
                return o.fetch && t ? "fetch" : o.mozchunkedarraybuffer ? "moz-chunked-arraybuffer" : o.msstream ? "ms-stream" : o.arraybuffer && e ? "arraybuffer" : o.vbArray && e ? "text:vbarray" : "text"
            }(n, i),
            r._fetchTimer = null,
            r.on("finish", function() {
                r._onFinish()
            })
        }
        ;
        a(f, c.Writable),
        f.prototype.setHeader = function(e, t) {
            var n = e.toLowerCase();
            -1 === h.indexOf(n) && (this._headers[n] = {
                name: e,
                value: t
            })
        }
        ,
        f.prototype.getHeader = function(e) {
            var t = this._headers[e.toLowerCase()];
            return t ? t.value : null
        }
        ,
        f.prototype.removeHeader = function(e) {
            delete this._headers[e.toLowerCase()]
        }
        ,
        f.prototype._onFinish = function() {
            var e = this;
            if (!e._destroyed) {
                var n = e._opts
                  , a = e._headers
                  , s = null;
                "GET" !== n.method && "HEAD" !== n.method && (s = o.arraybuffer ? l(t.concat(e._body)) : o.blobConstructor ? new r.Blob(e._body.map(function(e) {
                    return l(e)
                }),{
                    type: (a["content-type"] || {}).value || ""
                }) : t.concat(e._body).toString());
                var c = [];
                if (Object.keys(a).forEach(function(e) {
                    var t = a[e].name
                      , n = a[e].value;
                    Array.isArray(n) ? n.forEach(function(e) {
                        c.push([t, e])
                    }) : c.push([t, n])
                }),
                "fetch" === e._mode) {
                    var u = null;
                    if (o.abortController) {
                        var f = new AbortController;
                        u = f.signal,
                        e._fetchAbortController = f,
                        "requestTimeout"in n && 0 !== n.requestTimeout && (e._fetchTimer = r.setTimeout(function() {
                            e.emit("requestTimeout"),
                            e._fetchAbortController && e._fetchAbortController.abort()
                        }, n.requestTimeout))
                    }
                    r.fetch(e._opts.url, {
                        method: e._opts.method,
                        headers: c,
                        body: s || void 0,
                        mode: "cors",
                        credentials: n.withCredentials ? "include" : "same-origin",
                        signal: u
                    }).then(function(t) {
                        e._fetchResponse = t,
                        e._connect()
                    }, function(t) {
                        r.clearTimeout(e._fetchTimer),
                        e._destroyed || e.emit("error", t)
                    })
                } else {
                    var h = e._xhr = new r.XMLHttpRequest;
                    try {
                        h.open(e._opts.method, e._opts.url, !0)
                    } catch (t) {
                        return void i.nextTick(function() {
                            e.emit("error", t)
                        })
                    }
                    "responseType"in h && (h.responseType = e._mode.split(":")[0]),
                    "withCredentials"in h && (h.withCredentials = !!n.withCredentials),
                    "text" === e._mode && "overrideMimeType"in h && h.overrideMimeType("text/plain; charset=x-user-defined"),
                    "requestTimeout"in n && (h.timeout = n.requestTimeout,
                    h.ontimeout = function() {
                        e.emit("requestTimeout")
                    }
                    ),
                    c.forEach(function(e) {
                        h.setRequestHeader(e[0], e[1])
                    }),
                    e._response = null,
                    h.onreadystatechange = function() {
                        switch (h.readyState) {
                        case d.LOADING:
                        case d.DONE:
                            e._onXHRProgress()
                        }
                    }
                    ,
                    "moz-chunked-arraybuffer" === e._mode && (h.onprogress = function() {
                        e._onXHRProgress()
                    }
                    ),
                    h.onerror = function() {
                        e._destroyed || e.emit("error", new Error("XHR error"))
                    }
                    ;
                    try {
                        h.send(s)
                    } catch (t) {
                        return void i.nextTick(function() {
                            e.emit("error", t)
                        })
                    }
                }
            }
        }
        ,
        f.prototype._onXHRProgress = function() {
            (function(e) {
                try {
                    var t = e.status;
                    return null !== t && 0 !== t
                } catch (e) {
                    return !1
                }
            }
            )(this._xhr) && !this._destroyed && (this._response || this._connect(),
            this._response._onXHRProgress())
        }
        ,
        f.prototype._connect = function() {
            var e = this;
            e._destroyed || (e._response = new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),
            e._response.on("error", function(t) {
                e.emit("error", t)
            }),
            e.emit("response", e._response))
        }
        ,
        f.prototype._write = function(e, t, n) {
            this._body.push(e),
            n()
        }
        ,
        f.prototype.abort = f.prototype.destroy = function() {
            this._destroyed = !0,
            r.clearTimeout(this._fetchTimer),
            this._response && (this._response._destroyed = !0),
            this._xhr ? this._xhr.abort() : this._fetchAbortController && this._fetchAbortController.abort()
        }
        ,
        f.prototype.end = function(e, t, n) {
            "function" == typeof e && (n = e,
            e = void 0),
            c.Writable.prototype.end.call(this, e, t, n)
        }
        ,
        f.prototype.flushHeaders = function() {}
        ,
        f.prototype.setTimeout = function() {}
        ,
        f.prototype.setNoDelay = function() {}
        ,
        f.prototype.setSocketKeepAlive = function() {}
        ;
        var h = ["accept-charset", "accept-encoding", "access-control-request-headers", "access-control-request-method", "connection", "content-length", "cookie", "cookie2", "date", "dnt", "expect", "host", "keep-alive", "origin", "referer", "te", "trailer", "transfer-encoding", "upgrade", "via"]
    }
    ).call(this, n(6).Buffer, n(0), n(2))
}
, function(e, t) {}
, function(e, t, n) {
    "use strict";
    var r = n(11).Buffer
      , i = n(103);
    e.exports = function() {
        function e() {
            !function(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }(this, e),
            this.head = null,
            this.tail = null,
            this.length = 0
        }
        return e.prototype.push = function(e) {
            var t = {
                data: e,
                next: null
            };
            this.length > 0 ? this.tail.next = t : this.head = t,
            this.tail = t,
            ++this.length
        }
        ,
        e.prototype.unshift = function(e) {
            var t = {
                data: e,
                next: this.head
            };
            0 === this.length && (this.tail = t),
            this.head = t,
            ++this.length
        }
        ,
        e.prototype.shift = function() {
            if (0 !== this.length) {
                var e = this.head.data;
                return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next,
                --this.length,
                e
            }
        }
        ,
        e.prototype.clear = function() {
            this.head = this.tail = null,
            this.length = 0
        }
        ,
        e.prototype.join = function(e) {
            if (0 === this.length)
                return "";
            for (var t = this.head, n = "" + t.data; t = t.next; )
                n += e + t.data;
            return n
        }
        ,
        e.prototype.concat = function(e) {
            if (0 === this.length)
                return r.alloc(0);
            if (1 === this.length)
                return this.head.data;
            for (var t, n, i = r.allocUnsafe(e >>> 0), o = this.head, a = 0; o; )
                t = i,
                n = a,
                o.data.copy(t, n),
                a += o.data.length,
                o = o.next;
            return i
        }
        ,
        e
    }(),
    i && i.inspect && i.inspect.custom && (e.exports.prototype[i.inspect.custom] = function() {
        var e = i.inspect({
            length: this.length
        });
        return this.constructor.name + " " + e
    }
    )
}
, function(e, t) {}
, function(e, t, n) {
    (function(t) {
        function n(e) {
            try {
                if (!t.localStorage)
                    return !1
            } catch (e) {
                return !1
            }
            var n = t.localStorage[e];
            return null != n && "true" === String(n).toLowerCase()
        }
        e.exports = function(e, t) {
            if (n("noDeprecation"))
                return e;
            var r = !1;
            return function() {
                if (!r) {
                    if (n("throwDeprecation"))
                        throw new Error(t);
                    n("traceDeprecation") ? console.trace(t) : console.warn(t),
                    r = !0
                }
                return e.apply(this, arguments)
            }
        }
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    "use strict";
    e.exports = o;
    var r = n(38)
      , i = n(8);
    function o(e) {
        if (!(this instanceof o))
            return new o(e);
        r.call(this, e)
    }
    i.inherits = n(3),
    i.inherits(o, r),
    o.prototype._transform = function(e, t, n) {
        n(null, e)
    }
}
, function(e, t, n) {
    var r = n(6).Buffer;
    e.exports = function(e) {
        if (e instanceof Uint8Array) {
            if (0 === e.byteOffset && e.byteLength === e.buffer.byteLength)
                return e.buffer;
            if ("function" == typeof e.buffer.slice)
                return e.buffer.slice(e.byteOffset, e.byteOffset + e.byteLength)
        }
        if (r.isBuffer(e)) {
            for (var t = new Uint8Array(e.length), n = e.length, i = 0; i < n; i++)
                t[i] = e[i];
            return t.buffer
        }
        throw new Error("Argument must be a Buffer")
    }
}
, function(e, t) {
    e.exports = function() {
        for (var e = {}, t = 0; t < arguments.length; t++) {
            var r = arguments[t];
            for (var i in r)
                n.call(r, i) && (e[i] = r[i])
        }
        return e
    }
    ;
    var n = Object.prototype.hasOwnProperty
}
, function(e, t) {
    e.exports = {
        100: "Continue",
        101: "Switching Protocols",
        102: "Processing",
        200: "OK",
        201: "Created",
        202: "Accepted",
        203: "Non-Authoritative Information",
        204: "No Content",
        205: "Reset Content",
        206: "Partial Content",
        207: "Multi-Status",
        208: "Already Reported",
        226: "IM Used",
        300: "Multiple Choices",
        301: "Moved Permanently",
        302: "Found",
        303: "See Other",
        304: "Not Modified",
        305: "Use Proxy",
        307: "Temporary Redirect",
        308: "Permanent Redirect",
        400: "Bad Request",
        401: "Unauthorized",
        402: "Payment Required",
        403: "Forbidden",
        404: "Not Found",
        405: "Method Not Allowed",
        406: "Not Acceptable",
        407: "Proxy Authentication Required",
        408: "Request Timeout",
        409: "Conflict",
        410: "Gone",
        411: "Length Required",
        412: "Precondition Failed",
        413: "Payload Too Large",
        414: "URI Too Long",
        415: "Unsupported Media Type",
        416: "Range Not Satisfiable",
        417: "Expectation Failed",
        418: "I'm a teapot",
        421: "Misdirected Request",
        422: "Unprocessable Entity",
        423: "Locked",
        424: "Failed Dependency",
        425: "Unordered Collection",
        426: "Upgrade Required",
        428: "Precondition Required",
        429: "Too Many Requests",
        431: "Request Header Fields Too Large",
        451: "Unavailable For Legal Reasons",
        500: "Internal Server Error",
        501: "Not Implemented",
        502: "Bad Gateway",
        503: "Service Unavailable",
        504: "Gateway Timeout",
        505: "HTTP Version Not Supported",
        506: "Variant Also Negotiates",
        507: "Insufficient Storage",
        508: "Loop Detected",
        509: "Bandwidth Limit Exceeded",
        510: "Not Extended",
        511: "Network Authentication Required"
    }
}
, function(e, t, n) {
    var r = n(28)
      , i = n(9)
      , o = e.exports;
    for (var a in r)
        r.hasOwnProperty(a) && (o[a] = r[a]);
    function s(e) {
        if ("string" == typeof e && (e = i.parse(e)),
        e.protocol || (e.protocol = "https:"),
        "https:" !== e.protocol)
            throw new Error('Protocol "' + e.protocol + '" not supported. Expected "https:"');
        return e
    }
    o.request = function(e, t) {
        return e = s(e),
        r.request.call(this, e, t)
    }
    ,
    o.get = function(e, t) {
        return e = s(e),
        r.get.call(this, e, t)
    }
}
, function(e, t, n) {
    (function(e, r) {
        var i;
        /**
 * @license
 * lodash 4.0.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash -d -o ./lodash.js`
 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */
        /**
 * @license
 * lodash 4.0.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash -d -o ./lodash.js`
 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */
        (function() {
            var o, a = 1, s = 2, c = 4, l = 8, u = 16, d = 32, f = 64, h = 128, p = 256, g = 512, m = 1, v = 2, y = 200, b = "Expected a function", w = "__lodash_hash_undefined__", x = 1 / 0, S = 9007199254740991, C = 1.7976931348623157e308, _ = NaN, k = 4294967295, E = k - 1, T = k >>> 1, P = "__lodash_placeholder__", A = "[object Arguments]", O = "[object Array]", $ = "[object Boolean]", j = "[object Date]", D = "[object Error]", R = "[object Function]", M = "[object GeneratorFunction]", I = "[object Map]", L = "[object Number]", F = "[object Object]", N = "[object RegExp]", B = "[object Set]", U = "[object String]", q = "[object Symbol]", V = "[object ArrayBuffer]", z = "[object Float32Array]", H = "[object Float64Array]", W = "[object Int8Array]", G = "[object Int16Array]", X = "[object Int32Array]", Y = "[object Uint8Array]", K = "[object Uint8ClampedArray]", Q = "[object Uint16Array]", J = "[object Uint32Array]", Z = /\b__p \+= '';/g, ee = /\b(__p \+=) '' \+/g, te = /(__e\(.*?\)|\b__t\)) \+\n'';/g, ne = /&(?:amp|lt|gt|quot|#39|#96);/g, re = /[&<>"'`]/g, ie = RegExp(ne.source), oe = RegExp(re.source), ae = /<%-([\s\S]+?)%>/g, se = /<%([\s\S]+?)%>/g, ce = /<%=([\s\S]+?)%>/g, le = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ue = /^\w*$/, de = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g, fe = /[\\^$.*+?()[\]{}|]/g, he = RegExp(fe.source), pe = /^\s+|\s+$/g, ge = /^\s+/, me = /\s+$/, ve = /\\(\\)?/g, ye = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, be = /\w*$/, we = /^0x/i, xe = /^[-+]0x[0-9a-f]+$/i, Se = /^0b[01]+$/i, Ce = /^\[object .+?Constructor\]$/, _e = /^0o[0-7]+$/i, ke = /^(?:0|[1-9]\d*)$/, Ee = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, Te = /($^)/, Pe = /['\n\r\u2028\u2029\\]/g, Ae = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Oe = "[" + Ae + "]", $e = "[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]", je = "\\d+", De = "[a-z\\xdf-\\xf6\\xf8-\\xff]", Re = "[^\\ud800-\\udfff" + Ae + je + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]", Me = "\\ud83c[\\udffb-\\udfff]", Ie = "[^\\ud800-\\udfff]", Le = "(?:\\ud83c[\\udde6-\\uddff]){2}", Fe = "[\\ud800-\\udbff][\\udc00-\\udfff]", Ne = "[A-Z\\xc0-\\xd6\\xd8-\\xde]", Be = "(?:" + De + "|" + Re + ")", Ue = "(?:" + Ne + "|" + Re + ")", qe = "(?:" + $e + "|" + Me + ")?", Ve = "[\\ufe0e\\ufe0f]?" + qe + "(?:\\u200d(?:" + [Ie, Le, Fe].join("|") + ")[\\ufe0e\\ufe0f]?" + qe + ")*", ze = "(?:" + ["[\\u2700-\\u27bf]", Le, Fe].join("|") + ")" + Ve, He = "(?:" + [Ie + $e + "?", $e, Le, Fe, "[\\ud800-\\udfff]"].join("|") + ")", We = RegExp($e, "g"), Ge = RegExp(Me + "(?=" + Me + ")|" + He + Ve, "g"), Xe = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"), Ye = /[a-zA-Z0-9]+/g, Ke = RegExp([Ne + "?" + De + "+(?=" + [Oe, Ne, "$"].join("|") + ")", Ue + "+(?=" + [Oe, Ne + Be, "$"].join("|") + ")", Ne + "?" + Be + "+", Ne + "+", je, ze].join("|"), "g"), Qe = /[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, Je = ["Array", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Reflect", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], Ze = -1, et = {};
            et[z] = et[H] = et[W] = et[G] = et[X] = et[Y] = et[K] = et[Q] = et[J] = !0,
            et[A] = et[O] = et[V] = et[$] = et[j] = et[D] = et[R] = et[I] = et[L] = et[F] = et[N] = et[B] = et[U] = et["[object WeakMap]"] = !1;
            var tt = {};
            tt[A] = tt[O] = tt[V] = tt[$] = tt[j] = tt[z] = tt[H] = tt[W] = tt[G] = tt[X] = tt[I] = tt[L] = tt[F] = tt[N] = tt[B] = tt[U] = tt[q] = tt[Y] = tt[K] = tt[Q] = tt[J] = !0,
            tt[D] = tt[R] = tt["[object WeakMap]"] = !1;
            var nt = {
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "A",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "a",
                "": "C",
                "": "c",
                "": "D",
                "": "d",
                "": "E",
                "": "E",
                "": "E",
                "": "E",
                "": "e",
                "": "e",
                "": "e",
                "": "e",
                "": "I",
                "": "I",
                "": "I",
                "": "I",
                "": "i",
                "": "i",
                "": "i",
                "": "i",
                "": "N",
                "": "n",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "O",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "o",
                "": "U",
                "": "U",
                "": "U",
                "": "U",
                "": "u",
                "": "u",
                "": "u",
                "": "u",
                "": "Y",
                "": "y",
                "": "y",
                "": "Ae",
                "": "ae",
                "": "Th",
                "": "th",
                "": "ss"
            }
              , rt = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "`": "&#96;"
            }
              , it = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'",
                "&#96;": "`"
            }
              , ot = {
                function: !0,
                object: !0
            }
              , at = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
              , st = parseFloat
              , ct = parseInt
              , lt = ot[typeof t] && t && !t.nodeType ? t : null
              , ut = ot[typeof e] && e && !e.nodeType ? e : null
              , dt = Ut(lt && ut && "object" == typeof r && r)
              , ft = Ut(ot[typeof self] && self)
              , ht = Ut(ot[typeof window] && window)
              , pt = (ut && ut.exports,
            Ut(ot[typeof this] && this))
              , gt = dt || ht !== (pt && pt.window) && ht || ft || pt || Function("return this")();
            function mt(e, t) {
                return e.set(t[0], t[1]),
                e
            }
            function vt(e, t) {
                return e.add(t),
                e
            }
            function yt(e, t, n) {
                switch (n ? n.length : 0) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2])
                }
                return e.apply(t, n)
            }
            function bt(e, t) {
                for (var n = -1, r = e.length; ++n < r && !1 !== t(e[n], n, e); )
                    ;
                return e
            }
            function wt(e, t) {
                for (var n = -1, r = e.length; ++n < r; )
                    if (!t(e[n], n, e))
                        return !1;
                return !0
            }
            function xt(e, t) {
                for (var n = -1, r = e.length, i = -1, o = []; ++n < r; ) {
                    var a = e[n];
                    t(a, n, e) && (o[++i] = a)
                }
                return o
            }
            function St(e, t) {
                return !!e.length && jt(e, t, 0) > -1
            }
            function Ct(e, t, n) {
                for (var r = -1, i = e.length; ++r < i; )
                    if (n(t, e[r]))
                        return !0;
                return !1
            }
            function _t(e, t) {
                for (var n = -1, r = e.length, i = Array(r); ++n < r; )
                    i[n] = t(e[n], n, e);
                return i
            }
            function kt(e, t) {
                for (var n = -1, r = t.length, i = e.length; ++n < r; )
                    e[i + n] = t[n];
                return e
            }
            function Et(e, t, n, r) {
                var i = -1
                  , o = e.length;
                for (r && o && (n = e[++i]); ++i < o; )
                    n = t(n, e[i], i, e);
                return n
            }
            function Tt(e, t, n, r) {
                var i = e.length;
                for (r && i && (n = e[--i]); i--; )
                    n = t(n, e[i], i, e);
                return n
            }
            function Pt(e, t) {
                for (var n = -1, r = e.length; ++n < r; )
                    if (t(e[n], n, e))
                        return !0;
                return !1
            }
            function At(e, t, n) {
                for (var r = -1, i = e.length; ++r < i; ) {
                    var a = e[r]
                      , s = t(a);
                    if (null != s && (c === o ? s == s : n(s, c)))
                        var c = s
                          , l = a
                }
                return l
            }
            function Ot(e, t, n, r) {
                var i;
                return n(e, function(e, n, o) {
                    if (t(e, n, o))
                        return i = r ? n : e,
                        !1
                }),
                i
            }
            function $t(e, t, n) {
                for (var r = e.length, i = n ? r : -1; n ? i-- : ++i < r; )
                    if (t(e[i], i, e))
                        return i;
                return -1
            }
            function jt(e, t, n) {
                if (t != t)
                    return Wt(e, n);
                for (var r = n - 1, i = e.length; ++r < i; )
                    if (e[r] === t)
                        return r;
                return -1
            }
            function Dt(e, t, n, r, i) {
                return i(e, function(e, i, o) {
                    n = r ? (r = !1,
                    e) : t(n, e, i, o)
                }),
                n
            }
            function Rt(e, t) {
                for (var n, r = -1, i = e.length; ++r < i; ) {
                    var a = t(e[r]);
                    a !== o && (n = n === o ? a : n + a)
                }
                return n
            }
            function Mt(e, t) {
                for (var n = -1, r = Array(e); ++n < e; )
                    r[n] = t(n);
                return r
            }
            function It(e, t) {
                return _t(t, function(t) {
                    return [t, e[t]]
                })
            }
            function Lt(e) {
                return function(t) {
                    return e(t)
                }
            }
            function Ft(e, t) {
                return _t(t, function(t) {
                    return e[t]
                })
            }
            function Nt(e, t) {
                for (var n = -1, r = e.length; ++n < r && jt(t, e[n], 0) > -1; )
                    ;
                return n
            }
            function Bt(e, t) {
                for (var n = e.length; n-- && jt(t, e[n], 0) > -1; )
                    ;
                return n
            }
            function Ut(e) {
                return e && e.Object === Object ? e : null
            }
            function qt(e, t) {
                if (e !== t) {
                    var n = null === e
                      , r = e === o
                      , i = e == e
                      , a = null === t
                      , s = t === o
                      , c = t == t;
                    if (e > t && !a || !i || n && !s && c || r && c)
                        return 1;
                    if (e < t && !n || !c || a && !r && i || s && i)
                        return -1
                }
                return 0
            }
            function Vt(e) {
                return nt[e]
            }
            function zt(e) {
                return rt[e]
            }
            function Ht(e) {
                return "\\" + at[e]
            }
            function Wt(e, t, n) {
                for (var r = e.length, i = t + (n ? 0 : -1); n ? i-- : ++i < r; ) {
                    var o = e[i];
                    if (o != o)
                        return i
                }
                return -1
            }
            function Gt(e) {
                var t = !1;
                if (null != e && "function" != typeof e.toString)
                    try {
                        t = !!(e + "")
                    } catch (e) {}
                return t
            }
            function Xt(e, t) {
                return e = "number" == typeof e || ke.test(e) ? +e : -1,
                t = null == t ? S : t,
                e > -1 && e % 1 == 0 && e < t
            }
            function Yt(e) {
                for (var t, n = []; !(t = e.next()).done; )
                    n.push(t.value);
                return n
            }
            function Kt(e) {
                var t = -1
                  , n = Array(e.size);
                return e.forEach(function(e, r) {
                    n[++t] = [r, e]
                }),
                n
            }
            function Qt(e, t) {
                for (var n = -1, r = e.length, i = -1, o = []; ++n < r; )
                    e[n] === t && (e[n] = P,
                    o[++i] = n);
                return o
            }
            function Jt(e) {
                var t = -1
                  , n = Array(e.size);
                return e.forEach(function(e) {
                    n[++t] = e
                }),
                n
            }
            function Zt(e) {
                if (!e || !Xe.test(e))
                    return e.length;
                for (var t = Ge.lastIndex = 0; Ge.test(e); )
                    t++;
                return t
            }
            function en(e) {
                return e.match(Ge)
            }
            function tn(e) {
                return it[e]
            }
            var nn = function e(t) {
                var n = (t = t ? nn.defaults({}, t, nn.pick(gt, Je)) : gt).Date
                  , r = t.Error
                  , i = t.Math
                  , ke = t.RegExp
                  , Ae = t.TypeError
                  , Oe = t.Array.prototype
                  , $e = t.Object.prototype
                  , je = t.Function.prototype.toString
                  , De = $e.hasOwnProperty
                  , Re = 0
                  , Me = je.call(Object)
                  , Ie = $e.toString
                  , Le = gt._
                  , Fe = ke("^" + je.call(De).replace(fe, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$")
                  , Ne = t.Reflect
                  , Be = t.Symbol
                  , Ue = t.Uint8Array
                  , qe = t.clearTimeout
                  , Ve = Ne ? Ne.enumerate : o
                  , ze = Object.getPrototypeOf
                  , He = Object.getOwnPropertySymbols
                  , Ge = "symbol" == typeof (Ge = Be && Be.iterator) ? Ge : o
                  , nt = $e.propertyIsEnumerable
                  , rt = t.setTimeout
                  , it = Oe.splice
                  , ot = i.ceil
                  , at = i.floor
                  , lt = t.isFinite
                  , ut = Oe.join
                  , dt = Object.keys
                  , ft = i.max
                  , ht = i.min
                  , pt = t.parseInt
                  , Ut = i.random
                  , rn = Oe.reverse
                  , on = ri(t, "Map")
                  , an = ri(t, "Set")
                  , sn = ri(t, "WeakMap")
                  , cn = ri(Object, "create")
                  , ln = sn && new sn
                  , un = on ? je.call(on) : ""
                  , dn = an ? je.call(an) : ""
                  , fn = Be ? Be.prototype : o
                  , hn = Be ? fn.valueOf : o
                  , pn = Be ? fn.toString : o
                  , gn = {};
                function mn(e) {
                    if (Do(e) && !ko(e) && !(e instanceof bn)) {
                        if (e instanceof yn)
                            return e;
                        if (De.call(e, "__wrapped__"))
                            return xi(e)
                    }
                    return new yn(e)
                }
                function vn() {}
                function yn(e, t) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__chain__ = !!t,
                    this.__index__ = 0,
                    this.__values__ = o
                }
                function bn(e) {
                    this.__wrapped__ = e,
                    this.__actions__ = [],
                    this.__dir__ = 1,
                    this.__filtered__ = !1,
                    this.__iteratees__ = [],
                    this.__takeCount__ = k,
                    this.__views__ = []
                }
                function wn() {}
                function xn(e, t) {
                    return cn ? e[t] !== o : De.call(e, t)
                }
                function Sn(e) {
                    var t = -1
                      , n = e ? e.length : 0;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                function Cn(e) {
                    var t = -1
                      , n = e ? e.length : 0;
                    for (this.__data__ = new Sn; ++t < n; )
                        this.push(e[t])
                }
                function _n(e, t) {
                    var n = e.__data__;
                    if (ui(t)) {
                        var r = n.__data__;
                        return ("string" == typeof t ? r.string : r.hash)[t] === w
                    }
                    return n.has(t)
                }
                function kn(e) {
                    var t = -1
                      , n = e ? e.length : 0;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                function En(e, t) {
                    var n = An(e, t);
                    return !(n < 0 || (n == e.length - 1 ? e.pop() : it.call(e, n, 1),
                    0))
                }
                function Tn(e, t) {
                    var n = An(e, t);
                    return n < 0 ? o : e[n][1]
                }
                function Pn(e, t) {
                    return An(e, t) > -1
                }
                function An(e, t) {
                    for (var n = e.length; n--; )
                        if (So(e[n][0], t))
                            return n;
                    return -1
                }
                function On(e, t, n) {
                    var r = An(e, t);
                    r < 0 ? e.push([t, n]) : e[r][1] = n
                }
                function $n(e, t, n, r) {
                    return e === o || So(e, $e[n]) && !De.call(r, n) ? t : e
                }
                function jn(e, t, n) {
                    (n === o || So(e[t], n)) && ("number" != typeof t || n !== o || t in e) || (e[t] = n)
                }
                function Dn(e, t, n) {
                    var r = e[t];
                    So(r, n) && (!So(r, $e[t]) || De.call(e, t)) && (n !== o || t in e) || (e[t] = n)
                }
                function Rn(e, t) {
                    return e && Dr(t, oa(t), e)
                }
                function Mn(e, t) {
                    for (var n = -1, r = null == e, i = t.length, a = Array(i); ++n < i; )
                        a[n] = r ? o : ta(e, t[n]);
                    return a
                }
                function In(e, t, n) {
                    return e == e && (n !== o && (e = e <= n ? e : n),
                    t !== o && (e = e >= t ? e : t)),
                    e
                }
                function Ln(e, t, n, r, i, a) {
                    var s;
                    if (n && (s = i ? n(e, r, i, a) : n(e)),
                    s !== o)
                        return s;
                    if (!jo(e))
                        return e;
                    var c = ko(e);
                    if (c) {
                        if (s = function(e) {
                            var t = e.length
                              , n = e.constructor(t);
                            return t && "string" == typeof e[0] && De.call(e, "index") && (n.index = e.index,
                            n.input = e.input),
                            n
                        }(e),
                        !t)
                            return jr(e, s)
                    } else {
                        var l = oi(e)
                          , u = l == R || l == M;
                        if (l != F && l != A && (!u || i))
                            return tt[l] ? function(e, t, n) {
                                var r, i, o, a = e.constructor;
                                switch (t) {
                                case V:
                                    return Ar(e);
                                case $:
                                case j:
                                    return new a(+e);
                                case z:
                                case H:
                                case W:
                                case G:
                                case X:
                                case Y:
                                case K:
                                case Q:
                                case J:
                                    return function(e, t) {
                                        var n = e.buffer;
                                        return new (0,
                                        e.constructor)(t ? Ar(n) : n,e.byteOffset,e.length)
                                    }(e, n);
                                case I:
                                    return function(e) {
                                        var t = e.constructor;
                                        return Et(Kt(e), mt, new t)
                                    }(e);
                                case L:
                                case U:
                                    return new a(e);
                                case N:
                                    return (o = new (0,
                                    (i = e).constructor)(i.source,be.exec(i))).lastIndex = i.lastIndex,
                                    o;
                                case B:
                                    return function(e) {
                                        var t = e.constructor;
                                        return Et(Jt(e), vt, new t)
                                    }(e);
                                case q:
                                    return r = e,
                                    Be ? Object(hn.call(r)) : {}
                                }
                            }(e, l, t) : i ? e : {};
                        if (Gt(e))
                            return i ? e : {};
                        if (s = function(e) {
                            var t = e.constructor;
                            return Fn(Ao(t) ? t.prototype : o)
                        }(u ? {} : e),
                        !t)
                            return Mr(e, Rn(s, e))
                    }
                    return a || (a = new kn),
                    a.get(e) || (a.set(e, s),
                    (c ? bt : Xn)(e, function(r, i) {
                        Dn(s, i, Ln(r, t, n, i, e, a))
                    }),
                    c ? s : Mr(e, s))
                }
                mn.templateSettings = {
                    escape: ae,
                    evaluate: se,
                    interpolate: ce,
                    variable: "",
                    imports: {
                        _: mn
                    }
                };
                var Fn = function() {
                    function e() {}
                    return function(t) {
                        if (jo(t)) {
                            e.prototype = t;
                            var n = new e;
                            e.prototype = o
                        }
                        return n || {}
                    }
                }();
                function Nn(e, t, n) {
                    if ("function" != typeof e)
                        throw new Ae(b);
                    return rt(function() {
                        e.apply(o, n)
                    }, t)
                }
                function Bn(e, t, n, r) {
                    var i = -1
                      , o = St
                      , a = !0
                      , s = e.length
                      , c = []
                      , l = t.length;
                    if (!s)
                        return c;
                    n && (t = _t(t, Lt(n))),
                    r ? (o = Ct,
                    a = !1) : t.length >= y && (o = _n,
                    a = !1,
                    t = new Cn(t));
                    e: for (; ++i < s; ) {
                        var u = e[i]
                          , d = n ? n(u) : u;
                        if (a && d == d) {
                            for (var f = l; f--; )
                                if (t[f] === d)
                                    continue e;
                            c.push(u)
                        } else
                            o(t, d, r) || c.push(u)
                    }
                    return c
                }
                var Un = Fr(Xn)
                  , qn = Fr(Yn, !0);
                function Vn(e, t) {
                    var n = !0;
                    return Un(e, function(e, r, i) {
                        return n = !!t(e, r, i)
                    }),
                    n
                }
                function zn(e, t) {
                    var n = [];
                    return Un(e, function(e, r, i) {
                        t(e, r, i) && n.push(e)
                    }),
                    n
                }
                function Hn(e, t, n, r) {
                    r || (r = []);
                    for (var i = -1, o = e.length; ++i < o; ) {
                        var a = e[i];
                        To(a) && (n || ko(a) || _o(a)) ? t ? Hn(a, t, n, r) : kt(r, a) : n || (r[r.length] = a)
                    }
                    return r
                }
                var Wn = Nr()
                  , Gn = Nr(!0);
                function Xn(e, t) {
                    return e && Wn(e, t, oa)
                }
                function Yn(e, t) {
                    return e && Gn(e, t, oa)
                }
                function Kn(e, t) {
                    return xt(t, function(t) {
                        return Ao(e[t])
                    })
                }
                function Qn(e, t) {
                    for (var n = 0, r = (t = li(t, e) ? [t + ""] : _r(t)).length; null != e && n < r; )
                        e = e[t[n++]];
                    return n && n == r ? e : o
                }
                function Jn(e, t) {
                    return De.call(e, t) || "object" == typeof e && t in e && null === ze(e)
                }
                function Zn(e, t) {
                    return t in Object(e)
                }
                function er(e, t, n) {
                    for (var r = n ? Ct : St, i = e.length, a = i, s = Array(i), c = []; a--; ) {
                        var l = e[a];
                        a && t && (l = _t(l, Lt(t))),
                        s[a] = !n && (t || l.length >= 120) ? new Cn(a && l) : o
                    }
                    var u = -1
                      , d = (l = e[0]).length
                      , f = s[0];
                    e: for (; ++u < d; ) {
                        var h = l[u]
                          , p = t ? t(h) : h;
                        if (!(f ? _n(f, p) : r(c, p, n))) {
                            for (a = i; --a; ) {
                                var g = s[a];
                                if (!(g ? _n(g, p) : r(e[a], p, n)))
                                    continue e
                            }
                            f && f.push(p),
                            c.push(h)
                        }
                    }
                    return c
                }
                function tr(e, t, n) {
                    li(t, e) || (e = pi(e, t = _r(t)),
                    t = ji(t));
                    var r = null == e ? e : e[t];
                    return null == r ? o : yt(r, e, n)
                }
                function nr(e, t, n, r, i) {
                    return e === t || (null == e || null == t || !jo(e) && !Do(t) ? e != e && t != t : function(e, t, n, r, i, a) {
                        var s = ko(e)
                          , c = ko(t)
                          , l = O
                          , u = O;
                        s || ((l = oi(e)) == A ? l = F : l != F && (s = Bo(e))),
                        c || ((u = oi(t)) == A ? u = F : u != F && (c = Bo(t)));
                        var d = l == F && !Gt(e)
                          , f = u == F && !Gt(t)
                          , h = l == u;
                        if (h && !s && !d)
                            return function(e, t, n, r, i, o) {
                                switch (l) {
                                case V:
                                    return !(e.byteLength != t.byteLength || !r(new Ue(e), new Ue(t)));
                                case $:
                                case j:
                                    return +e == +t;
                                case D:
                                    return e.name == t.name && e.message == t.message;
                                case L:
                                    return e != +e ? t != +t : e == +t;
                                case N:
                                case U:
                                    return e == t + "";
                                case I:
                                    var a = Kt;
                                case B:
                                    return a || (a = Jt),
                                    (o & v || e.size == t.size) && r(a(e), a(t), i, o | m);
                                case q:
                                    return !!Be && hn.call(e) == hn.call(t)
                                }
                                return !1
                            }(e, t, 0, n, r, i);
                        if (!(i & v)) {
                            var p = d && De.call(e, "__wrapped__")
                              , g = f && De.call(t, "__wrapped__");
                            if (p || g)
                                return n(p ? e.value() : e, g ? t.value() : t, r, i, a)
                        }
                        return !!h && (a || (a = new kn),
                        (s ? function(e, t, n, r, i, a) {
                            var s = -1
                              , c = i & v
                              , l = i & m
                              , u = e.length
                              , d = t.length;
                            if (u != d && !(c && d > u))
                                return !1;
                            var f = a.get(e);
                            if (f)
                                return f == t;
                            var h = !0;
                            for (a.set(e, t); ++s < u; ) {
                                var p = e[s]
                                  , g = t[s];
                                if (r)
                                    var y = c ? r(g, p, s, t, e, a) : r(p, g, s, e, t, a);
                                if (y !== o) {
                                    if (y)
                                        continue;
                                    h = !1;
                                    break
                                }
                                if (l) {
                                    if (!Pt(t, function(e) {
                                        return p === e || n(p, e, r, i, a)
                                    })) {
                                        h = !1;
                                        break
                                    }
                                } else if (p !== g && !n(p, g, r, i, a)) {
                                    h = !1;
                                    break
                                }
                            }
                            return a.delete(e),
                            h
                        }
                        : function(e, t, n, r, i, a) {
                            var s = i & v
                              , c = oa(e)
                              , l = c.length;
                            if (l != oa(t).length && !s)
                                return !1;
                            for (var u = l; u--; ) {
                                var d = c[u];
                                if (!(s ? d in t : Jn(t, d)))
                                    return !1
                            }
                            var f = a.get(e);
                            if (f)
                                return f == t;
                            var h = !0;
                            a.set(e, t);
                            for (var p = s; ++u < l; ) {
                                var g = e[d = c[u]]
                                  , m = t[d];
                                if (r)
                                    var y = s ? r(m, g, d, t, e, a) : r(g, m, d, e, t, a);
                                if (!(y === o ? g === m || n(g, m, r, i, a) : y)) {
                                    h = !1;
                                    break
                                }
                                p || (p = "constructor" == d)
                            }
                            if (h && !p) {
                                var b = e.constructor
                                  , w = t.constructor;
                                b != w && "constructor"in e && "constructor"in t && !("function" == typeof b && b instanceof b && "function" == typeof w && w instanceof w) && (h = !1)
                            }
                            return a.delete(e),
                            h
                        }
                        )(e, t, n, r, i, a))
                    }(e, t, nr, n, r, i))
                }
                function rr(e, t, n, r) {
                    var i = n.length
                      , a = i
                      , s = !r;
                    if (null == e)
                        return !a;
                    for (e = Object(e); i--; ) {
                        var c = n[i];
                        if (s && c[2] ? c[1] !== e[c[0]] : !(c[0]in e))
                            return !1
                    }
                    for (; ++i < a; ) {
                        var l = (c = n[i])[0]
                          , u = e[l]
                          , d = c[1];
                        if (s && c[2]) {
                            if (u === o && !(l in e))
                                return !1
                        } else {
                            var f = new kn
                              , h = r ? r(u, d, l, e, t, f) : o;
                            if (!(h === o ? nr(d, u, r, m | v, f) : h))
                                return !1
                        }
                    }
                    return !0
                }
                function ir(e) {
                    var t = typeof e;
                    return "function" == t ? e : null == e ? Aa : "object" == t ? ko(e) ? cr(e[0], e[1]) : sr(e) : Na(e)
                }
                function or(e) {
                    e = null == e ? e : Object(e);
                    var t = [];
                    for (var n in e)
                        t.push(n);
                    return t
                }
                function ar(e, t) {
                    var n = -1
                      , r = Eo(e) ? Array(e.length) : [];
                    return Un(e, function(e, i, o) {
                        r[++n] = t(e, i, o)
                    }),
                    r
                }
                function sr(e) {
                    var t = ni(e);
                    if (1 == t.length && t[0][2]) {
                        var n = t[0][0]
                          , r = t[0][1];
                        return function(e) {
                            return null != e && e[n] === r && (r !== o || n in Object(e))
                        }
                    }
                    return function(n) {
                        return n === e || rr(n, e, t)
                    }
                }
                function cr(e, t) {
                    return function(n) {
                        var r = ta(n, e);
                        return r === o && r === t ? ra(n, e) : nr(t, r, o, m | v)
                    }
                }
                function lr(e, t, n, r, i) {
                    if (e !== t) {
                        var a = ko(t) || Bo(t) ? o : aa(t);
                        bt(a || t, function(s, c) {
                            if (a && (s = t[c = s]),
                            jo(s))
                                i || (i = new kn),
                                function(e, t, n, r, i, a, s) {
                                    var c = e[n]
                                      , l = t[n]
                                      , u = s.get(l) || s.get(c);
                                    if (u)
                                        jn(e, n, u);
                                    else {
                                        var d = a ? a(c, l, n + "", e, t, s) : o
                                          , f = d === o;
                                        f && (d = l,
                                        ko(l) || Bo(l) ? d = ko(c) ? r ? jr(c) : c : To(c) ? jr(c) : Ln(l) : Io(l) || _o(l) ? d = _o(c) ? Wo(c) : !jo(c) || r && Ao(c) ? Ln(l) : r ? Ln(c) : c : f = !1),
                                        s.set(l, d),
                                        f && i(d, l, r, a, s),
                                        jn(e, n, d)
                                    }
                                }(e, t, c, n, lr, r, i);
                            else {
                                var l = r ? r(e[c], s, c + "", e, t, i) : o;
                                l === o && (l = s),
                                jn(e, c, l)
                            }
                        })
                    }
                }
                function ur(e, t, n) {
                    var r = -1
                      , i = ei();
                    return t = _t(t.length ? t : Array(1), function(e) {
                        return i(e)
                    }),
                    function(e, t) {
                        var n = e.length;
                        for (e.sort(t); n--; )
                            e[n] = e[n].value;
                        return e
                    }(ar(e, function(e, n, i) {
                        return {
                            criteria: _t(t, function(t) {
                                return t(e)
                            }),
                            index: ++r,
                            value: e
                        }
                    }), function(e, t) {
                        return function(e, t, n) {
                            for (var r = -1, i = e.criteria, o = t.criteria, a = i.length, s = n.length; ++r < a; ) {
                                var c = qt(i[r], o[r]);
                                if (c)
                                    return r >= s ? c : c * ("desc" == n[r] ? -1 : 1)
                            }
                            return e.index - t.index
                        }(e, t, n)
                    })
                }
                function dr(e, t) {
                    return e = Object(e),
                    Et(t, function(t, n) {
                        return n in e && (t[n] = e[n]),
                        t
                    }, {})
                }
                function fr(e, t) {
                    var n = {};
                    return function(e, t) {
                        null == e || Wn(e, t, aa)
                    }(e, function(e, r) {
                        t(e, r) && (n[r] = e)
                    }),
                    n
                }
                function hr(e) {
                    return function(t) {
                        return null == t ? o : t[e]
                    }
                }
                function pr(e, t, n) {
                    var r = -1
                      , i = t.length
                      , o = e;
                    for (n && (o = _t(e, function(e) {
                        return n(e)
                    })); ++r < i; )
                        for (var a = 0, s = t[r], c = n ? n(s) : s; (a = jt(o, c, a)) > -1; )
                            o !== e && it.call(o, a, 1),
                            it.call(e, a, 1);
                    return e
                }
                function gr(e, t) {
                    for (var n = e ? t.length : 0, r = n - 1; n--; ) {
                        var i = t[n];
                        if (r == n || i != o) {
                            var o = i;
                            if (Xt(i))
                                it.call(e, i, 1);
                            else if (li(i, e))
                                delete e[i];
                            else {
                                var a = _r(i)
                                  , s = pi(e, a);
                                null != s && delete s[ji(a)]
                            }
                        }
                    }
                    return e
                }
                function mr(e, t) {
                    return e + at(Ut() * (t - e + 1))
                }
                function vr(e, t, n, r) {
                    for (var i = -1, a = (t = li(t, e) ? [t + ""] : _r(t)).length, s = a - 1, c = e; null != c && ++i < a; ) {
                        var l = t[i];
                        if (jo(c)) {
                            var u = n;
                            if (i != s) {
                                var d = c[l];
                                (u = r ? r(d, l, c) : o) === o && (u = null == d ? Xt(t[i + 1]) ? [] : {} : d)
                            }
                            Dn(c, l, u)
                        }
                        c = c[l]
                    }
                    return e
                }
                Ve && !nt.call({
                    valueOf: 1
                }, "valueOf") && (or = function(e) {
                    return Yt(Ve(e))
                }
                );
                var yr = ln ? function(e, t) {
                    return ln.set(e, t),
                    e
                }
                : Aa;
                function br(e, t, n) {
                    var r = -1
                      , i = e.length;
                    t < 0 && (t = -t > i ? 0 : i + t),
                    (n = n > i ? i : n) < 0 && (n += i),
                    i = t > n ? 0 : n - t >>> 0,
                    t >>>= 0;
                    for (var o = Array(i); ++r < i; )
                        o[r] = e[r + t];
                    return o
                }
                function wr(e, t) {
                    var n;
                    return Un(e, function(e, r, i) {
                        return !(n = t(e, r, i))
                    }),
                    !!n
                }
                function xr(e, t, n) {
                    var r = 0
                      , i = e ? e.length : r;
                    if ("number" == typeof t && t == t && i <= T) {
                        for (; r < i; ) {
                            var o = r + i >>> 1
                              , a = e[o];
                            (n ? a <= t : a < t) && null !== a ? r = o + 1 : i = o
                        }
                        return i
                    }
                    return Sr(e, t, Aa, n)
                }
                function Sr(e, t, n, r) {
                    t = n(t);
                    for (var i = 0, a = e ? e.length : 0, s = t != t, c = null === t, l = t === o; i < a; ) {
                        var u = at((i + a) / 2)
                          , d = n(e[u])
                          , f = d !== o
                          , h = d == d;
                        if (s)
                            var p = h || r;
                        else
                            p = c ? h && f && (r || null != d) : l ? h && (r || f) : null != d && (r ? d <= t : d < t);
                        p ? i = u + 1 : a = u
                    }
                    return ht(a, E)
                }
                function Cr(e, t) {
                    for (var n = 0, r = e.length, i = e[0], o = t ? t(i) : i, a = o, s = 0, c = [i]; ++n < r; )
                        i = e[n],
                        So(o = t ? t(i) : i, a) || (a = o,
                        c[++s] = i);
                    return c
                }
                function _r(e) {
                    return ko(e) ? e : yi(e)
                }
                function kr(e, t, n) {
                    var r = -1
                      , i = St
                      , o = e.length
                      , a = !0
                      , s = []
                      , c = s;
                    if (n)
                        a = !1,
                        i = Ct;
                    else if (o >= y) {
                        var l = t ? null : Kr(e);
                        if (l)
                            return Jt(l);
                        a = !1,
                        i = _n,
                        c = new Cn
                    } else
                        c = t ? [] : s;
                    e: for (; ++r < o; ) {
                        var u = e[r]
                          , d = t ? t(u) : u;
                        if (a && d == d) {
                            for (var f = c.length; f--; )
                                if (c[f] === d)
                                    continue e;
                            t && c.push(d),
                            s.push(u)
                        } else
                            i(c, d, n) || (c !== s && c.push(d),
                            s.push(u))
                    }
                    return s
                }
                function Er(e, t, n, r) {
                    for (var i = e.length, o = r ? i : -1; (r ? o-- : ++o < i) && t(e[o], o, e); )
                        ;
                    return n ? br(e, r ? 0 : o, r ? o + 1 : i) : br(e, r ? o + 1 : 0, r ? i : o)
                }
                function Tr(e, t) {
                    var n = e;
                    return n instanceof bn && (n = n.value()),
                    Et(t, function(e, t) {
                        return t.func.apply(t.thisArg, kt([e], t.args))
                    }, n)
                }
                function Pr(e, t, n) {
                    for (var r = -1, i = e.length; ++r < i; )
                        var o = o ? kt(Bn(o, e[r], t, n), Bn(e[r], o, t, n)) : e[r];
                    return o && o.length ? kr(o, t, n) : []
                }
                function Ar(e) {
                    var t = new (0,
                    e.constructor)(e.byteLength);
                    return new Ue(t).set(new Ue(e)),
                    t
                }
                function Or(e, t, n) {
                    for (var r = n.length, i = -1, o = ft(e.length - r, 0), a = -1, s = t.length, c = Array(s + o); ++a < s; )
                        c[a] = t[a];
                    for (; ++i < r; )
                        c[n[i]] = e[i];
                    for (; o--; )
                        c[a++] = e[i++];
                    return c
                }
                function $r(e, t, n) {
                    for (var r = -1, i = n.length, o = -1, a = ft(e.length - i, 0), s = -1, c = t.length, l = Array(a + c); ++o < a; )
                        l[o] = e[o];
                    for (var u = o; ++s < c; )
                        l[u + s] = t[s];
                    for (; ++r < i; )
                        l[u + n[r]] = e[o++];
                    return l
                }
                function jr(e, t) {
                    var n = -1
                      , r = e.length;
                    for (t || (t = Array(r)); ++n < r; )
                        t[n] = e[n];
                    return t
                }
                function Dr(e, t, n) {
                    return Rr(e, t, n)
                }
                function Rr(e, t, n, r) {
                    n || (n = {});
                    for (var i = -1, o = t.length; ++i < o; ) {
                        var a = t[i];
                        Dn(n, a, r ? r(n[a], e[a], a, n, e) : e[a])
                    }
                    return n
                }
                function Mr(e, t) {
                    return Dr(e, ii(e), t)
                }
                function Ir(e, t) {
                    return function(n, r) {
                        var i = t ? t() : {};
                        if (r = ei(r),
                        ko(n))
                            for (var o = -1, a = n.length; ++o < a; ) {
                                var s = n[o];
                                e(i, s, r(s), n)
                            }
                        else
                            Un(n, function(t, n, o) {
                                e(i, t, r(t), o)
                            });
                        return i
                    }
                }
                function Lr(e) {
                    return xo(function(t, n) {
                        var r = -1
                          , i = n.length
                          , a = i > 1 ? n[i - 1] : o
                          , s = i > 2 ? n[2] : o;
                        for (a = "function" == typeof a ? (i--,
                        a) : o,
                        s && ci(n[0], n[1], s) && (a = i < 3 ? o : a,
                        i = 1),
                        t = Object(t); ++r < i; ) {
                            var c = n[r];
                            c && e(t, c, r, a)
                        }
                        return t
                    })
                }
                function Fr(e, t) {
                    return function(n, r) {
                        if (null == n)
                            return n;
                        if (!Eo(n))
                            return e(n, r);
                        for (var i = n.length, o = t ? i : -1, a = Object(n); (t ? o-- : ++o < i) && !1 !== r(a[o], o, a); )
                            ;
                        return n
                    }
                }
                function Nr(e) {
                    return function(t, n, r) {
                        for (var i = -1, o = Object(t), a = r(t), s = a.length; s--; ) {
                            var c = a[e ? s : ++i];
                            if (!1 === n(o[c], c, o))
                                break
                        }
                        return t
                    }
                }
                function Br(e) {
                    return function(t) {
                        t = Go(t);
                        var n = Xe.test(t) ? en(t) : o
                          , r = n ? n[0] : t.charAt(0)
                          , i = n ? n.slice(1).join("") : t.slice(1);
                        return r[e]() + i
                    }
                }
                function Ur(e) {
                    return function(t) {
                        return Et(_a(ga(t)), e, "")
                    }
                }
                function qr(e) {
                    return function() {
                        var t = arguments;
                        switch (t.length) {
                        case 0:
                            return new e;
                        case 1:
                            return new e(t[0]);
                        case 2:
                            return new e(t[0],t[1]);
                        case 3:
                            return new e(t[0],t[1],t[2]);
                        case 4:
                            return new e(t[0],t[1],t[2],t[3]);
                        case 5:
                            return new e(t[0],t[1],t[2],t[3],t[4]);
                        case 6:
                            return new e(t[0],t[1],t[2],t[3],t[4],t[5]);
                        case 7:
                            return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])
                        }
                        var n = Fn(e.prototype)
                          , r = e.apply(n, t);
                        return jo(r) ? r : n
                    }
                }
                function Vr(e) {
                    return xo(function(t) {
                        var n = (t = Hn(t)).length
                          , r = n
                          , i = yn.prototype.thru;
                        for (e && t.reverse(); r--; ) {
                            var a = t[r];
                            if ("function" != typeof a)
                                throw new Ae(b);
                            if (i && !s && "wrapper" == Zr(a))
                                var s = new yn([],!0)
                        }
                        for (r = s ? r : n; ++r < n; ) {
                            var c = Zr(a = t[r])
                              , u = "wrapper" == c ? Jr(a) : o;
                            s = u && di(u[0]) && u[1] == (h | l | d | p) && !u[4].length && 1 == u[9] ? s[Zr(u[0])].apply(s, u[3]) : 1 == a.length && di(a) ? s[c]() : s.thru(a)
                        }
                        return function() {
                            var e = arguments
                              , r = e[0];
                            if (s && 1 == e.length && ko(r) && r.length >= y)
                                return s.plant(r).value();
                            for (var i = 0, o = n ? t[i].apply(this, e) : r; ++i < n; )
                                o = t[i].call(this, o);
                            return o
                        }
                    })
                }
                function zr(e, t, n, r, i, c, d, f, p, m) {
                    var v = t & h
                      , y = t & a
                      , b = t & s
                      , w = t & l
                      , x = t & u
                      , S = t & g
                      , C = b ? o : qr(e);
                    return function a() {
                        for (var s = arguments.length, l = s, u = Array(s); l--; )
                            u[l] = arguments[l];
                        if (r && (u = Or(u, r, i)),
                        c && (u = $r(u, c, d)),
                        w || x) {
                            var h = a.placeholder
                              , g = Qt(u, h);
                            if ((s -= g.length) < m)
                                return Xr(e, t, zr, h, n, u, g, f, p, m - s)
                        }
                        var _ = y ? n : this
                          , k = b ? _[e] : e;
                        return f ? u = function(e, t) {
                            for (var n = e.length, r = ht(t.length, n), i = jr(e); r--; ) {
                                var a = t[r];
                                e[r] = Xt(a, n) ? i[a] : o
                            }
                            return e
                        }(u, f) : S && u.length > 1 && u.reverse(),
                        v && p < u.length && (u.length = p),
                        this && this !== gt && this instanceof a && (k = C || qr(k)),
                        k.apply(_, u)
                    }
                }
                function Hr(e) {
                    return xo(function(t) {
                        return t = _t(Hn(t), ei()),
                        xo(function(n) {
                            var r = this;
                            return e(t, function(e) {
                                return yt(e, r, n)
                            })
                        })
                    })
                }
                function Wr(e, t, n) {
                    t = Vo(t);
                    var r = Zt(e);
                    if (!t || r >= t)
                        return "";
                    var i = t - r
                      , a = wa(n = n === o ? " " : n + "", ot(i / Zt(n)));
                    return Xe.test(n) ? en(a).slice(0, i).join("") : a.slice(0, i)
                }
                function Gr(e) {
                    return function(t, n, r) {
                        return r && "number" != typeof r && ci(t, n, r) && (n = r = o),
                        t = (t = Ho(t)) == t ? t : 0,
                        n === o ? (n = t,
                        t = 0) : n = Ho(n) || 0,
                        function(e, t, n, r) {
                            for (var i = -1, o = ft(ot((t - e) / (n || 1)), 0), a = Array(o); o--; )
                                a[r ? o : ++i] = e,
                                e += n;
                            return a
                        }(t, n, r = r === o ? t < n ? 1 : -1 : Ho(r) || 0, e)
                    }
                }
                function Xr(e, t, n, r, i, u, h, p, g, m) {
                    var v = t & l
                      , y = p ? jr(p) : o;
                    t |= v ? d : f,
                    (t &= ~(v ? f : d)) & c || (t &= ~(a | s));
                    var b = [e, t, i, v ? u : o, v ? h : o, v ? o : u, v ? o : h, y, g, m]
                      , w = n.apply(o, b);
                    return di(e) && vi(w, b),
                    w.placeholder = r,
                    w
                }
                function Yr(e) {
                    var t = i[e];
                    return function(e, n) {
                        if (e = Ho(e),
                        n = Vo(n)) {
                            var r = (Go(e) + "e").split("e");
                            return +((r = (Go(t(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n))
                        }
                        return t(e)
                    }
                }
                var Kr = an && 2 === new an([1, 2]).size ? function(e) {
                    return new an(e)
                }
                : Ma;
                function Qr(e, t, n, r, i, g, m, v) {
                    var y = t & s;
                    if (!y && "function" != typeof e)
                        throw new Ae(b);
                    var w = r ? r.length : 0;
                    if (w || (t &= ~(d | f),
                    r = i = o),
                    m = m === o ? m : ft(Vo(m), 0),
                    v = v === o ? v : Vo(v),
                    w -= i ? i.length : 0,
                    t & f) {
                        var x = r
                          , S = i;
                        r = i = o
                    }
                    var C = y ? o : Jr(e)
                      , _ = [e, t, n, r, i, x, S, g, m, v];
                    if (C && function(e, t) {
                        var n = e[1]
                          , r = t[1]
                          , i = n | r
                          , o = i < (a | s | h)
                          , u = r == h && n == l || r == h && n == p && e[7].length <= t[8] || r == (h | p) && t[7].length <= t[8] && n == l;
                        if (!o && !u)
                            return e;
                        r & a && (e[2] = t[2],
                        i |= n & a ? 0 : c);
                        var d = t[3];
                        if (d) {
                            var f = e[3];
                            e[3] = f ? Or(f, d, t[4]) : jr(d),
                            e[4] = f ? Qt(e[3], P) : jr(t[4])
                        }
                        (d = t[5]) && (f = e[5],
                        e[5] = f ? $r(f, d, t[6]) : jr(d),
                        e[6] = f ? Qt(e[5], P) : jr(t[6])),
                        (d = t[7]) && (e[7] = jr(d)),
                        r & h && (e[8] = null == e[8] ? t[8] : ht(e[8], t[8])),
                        null == e[9] && (e[9] = t[9]),
                        e[0] = t[0],
                        e[1] = i
                    }(_, C),
                    e = _[0],
                    t = _[1],
                    n = _[2],
                    r = _[3],
                    i = _[4],
                    !(v = _[9] = null == _[9] ? y ? 0 : e.length : ft(_[9] - w, 0)) && t & (l | u) && (t &= ~(l | u)),
                    t && t != a)
                        k = t == l || t == u ? function(e, t, n) {
                            var r = qr(e);
                            return function i() {
                                for (var a = arguments.length, s = a, c = Array(a), l = this && this !== gt && this instanceof i ? r : e, u = i.placeholder; s--; )
                                    c[s] = arguments[s];
                                var d = a < 3 && c[0] !== u && c[a - 1] !== u ? [] : Qt(c, u);
                                return (a -= d.length) < n ? Xr(e, t, zr, u, o, c, d, o, o, n - a) : yt(l, this, c)
                            }
                        }(e, t, v) : t != d && t != (a | d) || i.length ? zr.apply(o, _) : function(e, t, n, r) {
                            var i = t & a
                              , o = qr(e);
                            return function t() {
                                for (var a = -1, s = arguments.length, c = -1, l = r.length, u = Array(l + s), d = this && this !== gt && this instanceof t ? o : e; ++c < l; )
                                    u[c] = r[c];
                                for (; s--; )
                                    u[c++] = arguments[++a];
                                return yt(d, i ? n : this, u)
                            }
                        }(e, t, n, r);
                    else
                        var k = function(e, t, n) {
                            var r = t & a
                              , i = qr(e);
                            return function t() {
                                return (this && this !== gt && this instanceof t ? i : e).apply(r ? n : this, arguments)
                            }
                        }(e, t, n);
                    return (C ? yr : vi)(k, _)
                }
                var Jr = ln ? function(e) {
                    return ln.get(e)
                }
                : Ma;
                function Zr(e) {
                    for (var t = e.name + "", n = gn[t], r = De.call(gn, t) ? n.length : 0; r--; ) {
                        var i = n[r]
                          , o = i.func;
                        if (null == o || o == e)
                            return i.name
                    }
                    return t
                }
                function ei() {
                    var e = mn.iteratee || Oa;
                    return e = e === Oa ? ir : e,
                    arguments.length ? e(arguments[0], arguments[1]) : e
                }
                var ti = hr("length");
                function ni(e) {
                    for (var t, n = da(e), r = n.length; r--; )
                        n[r][2] = (t = n[r][1]) == t && !jo(t);
                    return n
                }
                function ri(e, t) {
                    var n = null == e ? o : e[t];
                    return Ro(n) ? n : o
                }
                var ii = He || function() {
                    return []
                }
                ;
                function oi(e) {
                    return Ie.call(e)
                }
                function ai(e, t, n) {
                    if (null == e)
                        return !1;
                    var r = n(e, t);
                    return r || li(t) || null != (e = pi(e, t = _r(t))) && (r = n(e, t = ji(t))),
                    r || $o(e && e.length) && Xt(t, e.length) && (ko(e) || Fo(e) || _o(e))
                }
                function si(e) {
                    var t = e ? e.length : o;
                    return $o(t) && (ko(e) || Fo(e) || _o(e)) ? Mt(t, String) : null
                }
                function ci(e, t, n) {
                    if (!jo(n))
                        return !1;
                    var r = typeof t;
                    return !!("number" == r ? Eo(n) && Xt(t, n.length) : "string" == r && t in n) && So(n[t], e)
                }
                function li(e, t) {
                    return "number" == typeof e || !ko(e) && (ue.test(e) || !le.test(e) || null != t && e in Object(t))
                }
                function ui(e) {
                    var t = typeof e;
                    return "number" == t || "boolean" == t || "string" == t && "__proto__" !== e || null == e
                }
                function di(e) {
                    var t = Zr(e)
                      , n = mn[t];
                    if ("function" != typeof n || !(t in bn.prototype))
                        return !1;
                    if (e === n)
                        return !0;
                    var r = Jr(n);
                    return !!r && e === r[0]
                }
                function fi(e) {
                    var t = e && e.constructor;
                    return e === ("function" == typeof t && t.prototype || $e)
                }
                function hi(e, t, n, r, i, a) {
                    return jo(e) && jo(t) && (a.set(t, e),
                    lr(e, t, o, hi, a)),
                    e
                }
                function pi(e, t) {
                    return 1 == t.length ? e : ta(e, br(t, 0, -1))
                }
                (on && oi(new on) != I || an && oi(new an) != B) && (oi = function(e) {
                    var t = Ie.call(e)
                      , n = t == F ? e.constructor : null
                      , r = "function" == typeof n ? je.call(n) : "";
                    if (r) {
                        if (r == un)
                            return I;
                        if (r == dn)
                            return B
                    }
                    return t
                }
                );
                var gi, mi, vi = (gi = 0,
                mi = 0,
                function(e, t) {
                    var n = so()
                      , r = 16 - (n - mi);
                    if (mi = n,
                    r > 0) {
                        if (++gi >= 150)
                            return e
                    } else
                        gi = 0;
                    return yr(e, t)
                }
                );
                function yi(e) {
                    var t = [];
                    return Go(e).replace(de, function(e, n, r, i) {
                        t.push(r ? i.replace(ve, "$1") : n || e)
                    }),
                    t
                }
                function bi(e) {
                    return To(e) ? e : []
                }
                function wi(e) {
                    return "function" == typeof e ? e : Aa
                }
                function xi(e) {
                    if (e instanceof bn)
                        return e.clone();
                    var t = new yn(e.__wrapped__,e.__chain__);
                    return t.__actions__ = jr(e.__actions__),
                    t.__index__ = e.__index__,
                    t.__values__ = e.__values__,
                    t
                }
                var Si = xo(function(e, t) {
                    return ko(e) || (e = null == e ? [] : [Object(e)]),
                    function(e, t) {
                        for (var n = -1, r = e.length, i = -1, o = t.length, a = Array(r + o); ++n < r; )
                            a[n] = e[n];
                        for (; ++i < o; )
                            a[n++] = t[i];
                        return a
                    }(e, t = Hn(t))
                })
                  , Ci = xo(function(e, t) {
                    return To(e) ? Bn(e, Hn(t, !1, !0)) : []
                })
                  , _i = xo(function(e, t) {
                    var n = ji(t);
                    return To(n) && (n = o),
                    To(e) ? Bn(e, Hn(t, !1, !0), ei(n)) : []
                })
                  , ki = xo(function(e, t) {
                    var n = ji(t);
                    return To(n) && (n = o),
                    To(e) ? Bn(e, Hn(t, !1, !0), o, n) : []
                });
                function Ei(e, t, n) {
                    var r = e ? e.length : 0;
                    return r ? br(e, (t = n || t === o ? 1 : Vo(t)) < 0 ? 0 : t, r) : []
                }
                function Ti(e, t, n) {
                    var r = e ? e.length : 0;
                    return r ? br(e, 0, (t = r - (t = n || t === o ? 1 : Vo(t))) < 0 ? 0 : t) : []
                }
                function Pi(e) {
                    return e ? e[0] : o
                }
                var Ai = xo(function(e) {
                    var t = _t(e, bi);
                    return t.length && t[0] === e[0] ? er(t) : []
                })
                  , Oi = xo(function(e) {
                    var t = ji(e)
                      , n = _t(e, bi);
                    return t === ji(n) ? t = o : n.pop(),
                    n.length && n[0] === e[0] ? er(n, ei(t)) : []
                })
                  , $i = xo(function(e) {
                    var t = ji(e)
                      , n = _t(e, bi);
                    return t === ji(n) ? t = o : n.pop(),
                    n.length && n[0] === e[0] ? er(n, o, t) : []
                });
                function ji(e) {
                    var t = e ? e.length : 0;
                    return t ? e[t - 1] : o
                }
                var Di = xo(Ri);
                function Ri(e, t) {
                    return e && e.length && t && t.length ? function(e, t) {
                        return pr(e, t)
                    }(e, t) : e
                }
                var Mi = xo(function(e, t) {
                    var n = Mn(e, t = _t(Hn(t), String));
                    return gr(e, t.sort(qt)),
                    n
                });
                function Ii(e) {
                    return e ? rn.call(e) : e
                }
                var Li = xo(function(e) {
                    return kr(Hn(e, !1, !0))
                })
                  , Fi = xo(function(e) {
                    var t = ji(e);
                    return To(t) && (t = o),
                    kr(Hn(e, !1, !0), ei(t))
                })
                  , Ni = xo(function(e) {
                    var t = ji(e);
                    return To(t) && (t = o),
                    kr(Hn(e, !1, !0), o, t)
                });
                function Bi(e) {
                    if (!e || !e.length)
                        return [];
                    var t = 0;
                    return e = xt(e, function(e) {
                        if (To(e))
                            return t = ft(e.length, t),
                            !0
                    }),
                    Mt(t, function(t) {
                        return _t(e, hr(t))
                    })
                }
                function Ui(e, t) {
                    if (!e || !e.length)
                        return [];
                    var n = Bi(e);
                    return null == t ? n : _t(n, function(e) {
                        return yt(t, o, e)
                    })
                }
                var qi = xo(function(e, t) {
                    return To(e) ? Bn(e, t) : []
                })
                  , Vi = xo(function(e) {
                    return Pr(xt(e, To))
                })
                  , zi = xo(function(e) {
                    var t = ji(e);
                    return To(t) && (t = o),
                    Pr(xt(e, To), ei(t))
                })
                  , Hi = xo(function(e) {
                    var t = ji(e);
                    return To(t) && (t = o),
                    Pr(xt(e, To), o, t)
                })
                  , Wi = xo(Bi)
                  , Gi = xo(function(e) {
                    var t = e.length
                      , n = t > 1 ? e[t - 1] : o;
                    return Ui(e, n = "function" == typeof n ? (e.pop(),
                    n) : o)
                });
                function Xi(e) {
                    var t = mn(e);
                    return t.__chain__ = !0,
                    t
                }
                function Yi(e, t) {
                    return t(e)
                }
                var Ki = xo(function(e) {
                    var t = (e = Hn(e)).length
                      , n = t ? e[0] : 0
                      , r = this.__wrapped__
                      , i = function(t) {
                        return Mn(t, e)
                    };
                    return !(t > 1 || this.__actions__.length) && r instanceof bn && Xt(n) ? ((r = r.slice(n, +n + (t ? 1 : 0))).__actions__.push({
                        func: Yi,
                        args: [i],
                        thisArg: o
                    }),
                    new yn(r,this.__chain__).thru(function(e) {
                        return t && !e.length && e.push(o),
                        e
                    })) : this.thru(i)
                })
                  , Qi = Ir(function(e, t, n) {
                    De.call(e, n) ? ++e[n] : e[n] = 1
                });
                function Ji(e, t) {
                    return "function" == typeof t && ko(e) ? bt(e, t) : Un(e, wi(t))
                }
                function Zi(e, t) {
                    return "function" == typeof t && ko(e) ? function(e, t) {
                        for (var n = e.length; n-- && !1 !== t(e[n], n, e); )
                            ;
                        return e
                    }(e, t) : qn(e, wi(t))
                }
                var eo = Ir(function(e, t, n) {
                    De.call(e, n) ? e[n].push(t) : e[n] = [t]
                })
                  , to = xo(function(e, t, n) {
                    var r = -1
                      , i = "function" == typeof t
                      , a = li(t)
                      , s = Eo(e) ? Array(e.length) : [];
                    return Un(e, function(e) {
                        var c = i ? t : a && null != e ? e[t] : o;
                        s[++r] = c ? yt(c, e, n) : tr(e, t, n)
                    }),
                    s
                })
                  , no = Ir(function(e, t, n) {
                    e[n] = t
                })
                  , ro = Ir(function(e, t, n) {
                    e[n ? 0 : 1].push(t)
                }, function() {
                    return [[], []]
                });
                function io(e, t) {
                    var n = -1
                      , r = qo(e)
                      , i = r.length
                      , o = i - 1;
                    for (t = In(Vo(t), 0, i); ++n < t; ) {
                        var a = mr(n, o)
                          , s = r[a];
                        r[a] = r[n],
                        r[n] = s
                    }
                    return r.length = t,
                    r
                }
                function oo(e) {
                    if (null == e)
                        return 0;
                    if (Eo(e)) {
                        var t = e.length;
                        return t && Fo(e) ? Zt(e) : t
                    }
                    return oa(e).length
                }
                var ao = xo(function(e, t) {
                    if (null == e)
                        return [];
                    var n = t.length;
                    return n > 1 && ci(e, t[0], t[1]) ? t = [] : n > 2 && ci(t[0], t[1], t[2]) && (t.length = 1),
                    ur(e, Hn(t), [])
                })
                  , so = n.now;
                function co(e, t, n) {
                    return t = n ? o : t,
                    t = e && null == t ? e.length : t,
                    Qr(e, h, o, o, o, o, t)
                }
                function lo(e, t) {
                    var n;
                    if ("function" != typeof t)
                        throw new Ae(b);
                    return e = Vo(e),
                    function() {
                        return --e > 0 && (n = t.apply(this, arguments)),
                        e <= 1 && (t = o),
                        n
                    }
                }
                var uo = xo(function(e, t, n) {
                    var r = a;
                    if (n.length) {
                        var i = Qt(n, uo.placeholder);
                        r |= d
                    }
                    return Qr(e, r, t, n, i)
                })
                  , fo = xo(function(e, t, n) {
                    var r = a | s;
                    if (n.length) {
                        var i = Qt(n, fo.placeholder);
                        r |= d
                    }
                    return Qr(t, r, e, n, i)
                });
                function ho(e, t, n) {
                    var r, i, a, s, c, l, u, d = 0, f = !1, h = !1, p = !0;
                    if ("function" != typeof e)
                        throw new Ae(b);
                    function g() {
                        l && qe(l),
                        i && qe(i),
                        d = 0,
                        r = i = c = l = u = o
                    }
                    function m(t, n) {
                        n && qe(n),
                        i = l = u = o,
                        t && (d = so(),
                        a = e.apply(c, r),
                        l || i || (r = c = o))
                    }
                    function v() {
                        var e = t - (so() - s);
                        e <= 0 || e > t ? m(u, i) : l = rt(v, e)
                    }
                    function y() {
                        m(p, l)
                    }
                    function w() {
                        if (r = arguments,
                        s = so(),
                        c = this,
                        u = p && (l || !f),
                        !1 === h)
                            var n = f && !l;
                        else {
                            i || f || (d = s);
                            var g = h - (s - d)
                              , m = g <= 0 || g > h;
                            m ? (i && (i = qe(i)),
                            d = s,
                            a = e.apply(c, r)) : i || (i = rt(y, g))
                        }
                        return m && l ? l = qe(l) : l || t === h || (l = rt(v, t)),
                        n && (m = !0,
                        a = e.apply(c, r)),
                        !m || l || i || (r = c = o),
                        a
                    }
                    return t = Ho(t) || 0,
                    jo(n) && (f = !!n.leading,
                    h = "maxWait"in n && ft(Ho(n.maxWait) || 0, t),
                    p = "trailing"in n ? !!n.trailing : p),
                    w.cancel = g,
                    w.flush = function() {
                        return (l && u || i && p) && (a = e.apply(c, r)),
                        g(),
                        a
                    }
                    ,
                    w
                }
                var po = xo(function(e, t) {
                    return Nn(e, 1, t)
                })
                  , go = xo(function(e, t, n) {
                    return Nn(e, Ho(t) || 0, n)
                });
                function mo(e, t) {
                    if ("function" != typeof e || t && "function" != typeof t)
                        throw new Ae(b);
                    var n = function() {
                        var r = arguments
                          , i = t ? t.apply(this, r) : r[0]
                          , o = n.cache;
                        if (o.has(i))
                            return o.get(i);
                        var a = e.apply(this, r);
                        return n.cache = o.set(i, a),
                        a
                    };
                    return n.cache = new mo.Cache,
                    n
                }
                var vo = xo(function(e, t) {
                    var n = (t = _t(Hn(t), ei())).length;
                    return xo(function(r) {
                        for (var i = -1, o = ht(r.length, n); ++i < o; )
                            r[i] = t[i].call(this, r[i]);
                        return yt(e, this, r)
                    })
                })
                  , yo = xo(function(e, t) {
                    var n = Qt(t, yo.placeholder);
                    return Qr(e, d, o, t, n)
                })
                  , bo = xo(function(e, t) {
                    var n = Qt(t, bo.placeholder);
                    return Qr(e, f, o, t, n)
                })
                  , wo = xo(function(e, t) {
                    return Qr(e, p, o, o, o, Hn(t))
                });
                function xo(e, t) {
                    if ("function" != typeof e)
                        throw new Ae(b);
                    return t = ft(t === o ? e.length - 1 : Vo(t), 0),
                    function() {
                        for (var n = arguments, r = -1, i = ft(n.length - t, 0), o = Array(i); ++r < i; )
                            o[r] = n[t + r];
                        switch (t) {
                        case 0:
                            return e.call(this, o);
                        case 1:
                            return e.call(this, n[0], o);
                        case 2:
                            return e.call(this, n[0], n[1], o)
                        }
                        var a = Array(t + 1);
                        for (r = -1; ++r < t; )
                            a[r] = n[r];
                        return a[t] = o,
                        yt(e, this, a)
                    }
                }
                function So(e, t) {
                    return e === t || e != e && t != t
                }
                function Co(e, t) {
                    return e > t
                }
                function _o(e) {
                    return To(e) && De.call(e, "callee") && (!nt.call(e, "callee") || Ie.call(e) == A)
                }
                var ko = Array.isArray;
                function Eo(e) {
                    return null != e && !("function" == typeof e && Ao(e)) && $o(ti(e))
                }
                function To(e) {
                    return Do(e) && Eo(e)
                }
                function Po(e) {
                    return Do(e) && "string" == typeof e.message && Ie.call(e) == D
                }
                function Ao(e) {
                    var t = jo(e) ? Ie.call(e) : "";
                    return t == R || t == M
                }
                function Oo(e) {
                    return "number" == typeof e && e == Vo(e)
                }
                function $o(e) {
                    return "number" == typeof e && e > -1 && e % 1 == 0 && e <= S
                }
                function jo(e) {
                    var t = typeof e;
                    return !!e && ("object" == t || "function" == t)
                }
                function Do(e) {
                    return !!e && "object" == typeof e
                }
                function Ro(e) {
                    return null != e && (Ao(e) ? Fe.test(je.call(e)) : Do(e) && (Gt(e) ? Fe : Ce).test(e))
                }
                function Mo(e) {
                    return "number" == typeof e || Do(e) && Ie.call(e) == L
                }
                function Io(e) {
                    if (!Do(e) || Ie.call(e) != F || Gt(e))
                        return !1;
                    var t = $e;
                    if ("function" == typeof e.constructor && (t = ze(e)),
                    null === t)
                        return !0;
                    var n = t.constructor;
                    return "function" == typeof n && n instanceof n && je.call(n) == Me
                }
                function Lo(e) {
                    return jo(e) && Ie.call(e) == N
                }
                function Fo(e) {
                    return "string" == typeof e || !ko(e) && Do(e) && Ie.call(e) == U
                }
                function No(e) {
                    return "symbol" == typeof e || Do(e) && Ie.call(e) == q
                }
                function Bo(e) {
                    return Do(e) && $o(e.length) && !!et[Ie.call(e)]
                }
                function Uo(e, t) {
                    return e < t
                }
                function qo(e) {
                    if (!e)
                        return [];
                    if (Eo(e))
                        return Fo(e) ? en(e) : jr(e);
                    if (Ge && e[Ge])
                        return Yt(e[Ge]());
                    var t = oi(e);
                    return (t == I ? Kt : t == B ? Jt : fa)(e)
                }
                function Vo(e) {
                    if (!e)
                        return 0 === e ? e : 0;
                    if ((e = Ho(e)) === x || e === -x)
                        return (e < 0 ? -1 : 1) * C;
                    var t = e % 1;
                    return e == e ? t ? e - t : e : 0
                }
                function zo(e) {
                    return e ? In(Vo(e), 0, k) : 0
                }
                function Ho(e) {
                    if (jo(e)) {
                        var t = Ao(e.valueOf) ? e.valueOf() : e;
                        e = jo(t) ? t + "" : t
                    }
                    if ("string" != typeof e)
                        return 0 === e ? e : +e;
                    e = e.replace(pe, "");
                    var n = Se.test(e);
                    return n || _e.test(e) ? ct(e.slice(2), n ? 2 : 8) : xe.test(e) ? _ : +e
                }
                function Wo(e) {
                    return Dr(e, aa(e))
                }
                function Go(e) {
                    if ("string" == typeof e)
                        return e;
                    if (null == e)
                        return "";
                    if (No(e))
                        return Be ? pn.call(e) : "";
                    var t = e + "";
                    return "0" == t && 1 / e == -x ? "-0" : t
                }
                var Xo = Lr(function(e, t) {
                    Dr(t, oa(t), e)
                })
                  , Yo = Lr(function(e, t) {
                    Dr(t, aa(t), e)
                })
                  , Ko = Lr(function(e, t, n, r) {
                    Rr(t, aa(t), e, r)
                })
                  , Qo = Lr(function(e, t, n, r) {
                    Rr(t, oa(t), e, r)
                })
                  , Jo = xo(function(e, t) {
                    return Mn(e, Hn(t))
                })
                  , Zo = xo(function(e) {
                    return e.push(o, $n),
                    yt(Ko, o, e)
                })
                  , ea = xo(function(e) {
                    return e.push(o, hi),
                    yt(ca, o, e)
                });
                function ta(e, t, n) {
                    var r = null == e ? o : Qn(e, t);
                    return r === o ? n : r
                }
                function na(e, t) {
                    return ai(e, t, Jn)
                }
                function ra(e, t) {
                    return ai(e, t, Zn)
                }
                var ia = xo(tr);
                function oa(e) {
                    var t = fi(e);
                    if (!t && !Eo(e))
                        return function(e) {
                            return dt(Object(e))
                        }(e);
                    var n = si(e)
                      , r = !!n
                      , i = n || []
                      , o = i.length;
                    for (var a in e)
                        !Jn(e, a) || r && ("length" == a || Xt(a, o)) || t && "constructor" == a || i.push(a);
                    return i
                }
                function aa(e) {
                    for (var t = -1, n = fi(e), r = or(e), i = r.length, o = si(e), a = !!o, s = o || [], c = s.length; ++t < i; ) {
                        var l = r[t];
                        a && ("length" == l || Xt(l, c)) || "constructor" == l && (n || !De.call(e, l)) || s.push(l)
                    }
                    return s
                }
                var sa = Lr(function(e, t, n) {
                    lr(e, t, n)
                })
                  , ca = Lr(function(e, t, n, r) {
                    lr(e, t, n, r)
                })
                  , la = xo(function(e, t) {
                    return null == e ? {} : (t = _t(Hn(t), String),
                    dr(e, Bn(aa(e), t)))
                })
                  , ua = xo(function(e, t) {
                    return null == e ? {} : dr(e, Hn(t))
                });
                function da(e) {
                    return It(e, oa(e))
                }
                function fa(e) {
                    return e ? Ft(e, oa(e)) : []
                }
                var ha = Ur(function(e, t, n) {
                    return t = t.toLowerCase(),
                    e + (n ? pa(t) : t)
                });
                function pa(e) {
                    return ba(Go(e).toLowerCase())
                }
                function ga(e) {
                    return (e = Go(e)) && e.replace(Ee, Vt).replace(We, "")
                }
                var ma = Ur(function(e, t, n) {
                    return e + (n ? "-" : "") + t.toLowerCase()
                })
                  , va = Ur(function(e, t, n) {
                    return e + (n ? " " : "") + t.toLowerCase()
                })
                  , ya = Br("toLowerCase")
                  , ba = Br("toUpperCase");
                function wa(e, t) {
                    e = Go(e),
                    t = Vo(t);
                    var n = "";
                    if (!e || t < 1 || t > S)
                        return n;
                    do {
                        t % 2 && (n += e),
                        t = at(t / 2),
                        e += e
                    } while (t);
                    return n
                }
                var xa = Ur(function(e, t, n) {
                    return e + (n ? "_" : "") + t.toLowerCase()
                })
                  , Sa = Ur(function(e, t, n) {
                    return e + (n ? " " : "") + pa(t)
                })
                  , Ca = Ur(function(e, t, n) {
                    return e + (n ? " " : "") + t.toUpperCase()
                });
                function _a(e, t, n) {
                    return e = Go(e),
                    (t = n ? o : t) === o && (t = Qe.test(e) ? Ke : Ye),
                    e.match(t) || []
                }
                var ka = xo(function(e, t) {
                    try {
                        return yt(e, o, t)
                    } catch (e) {
                        return Po(e) ? e : new r(e)
                    }
                })
                  , Ea = xo(function(e, t) {
                    return bt(Hn(t), function(t) {
                        e[t] = uo(e[t], e)
                    }),
                    e
                })
                  , Ta = Vr()
                  , Pa = Vr(!0);
                function Aa(e) {
                    return e
                }
                function Oa(e) {
                    return Do(e) && !ko(e) ? $a(e) : ir(e)
                }
                function $a(e) {
                    return sr(Ln(e, !0))
                }
                var ja = xo(function(e, t) {
                    return function(n) {
                        return tr(n, e, t)
                    }
                })
                  , Da = xo(function(e, t) {
                    return function(n) {
                        return tr(e, n, t)
                    }
                });
                function Ra(e, t, n) {
                    var r = oa(t)
                      , i = Kn(t, r);
                    null != n || jo(t) && (i.length || !r.length) || (n = t,
                    t = e,
                    e = this,
                    i = Kn(t, oa(t)));
                    var o = !(jo(n) && "chain"in n) || n.chain
                      , a = Ao(e);
                    return bt(i, function(n) {
                        var r = t[n];
                        e[n] = r,
                        a && (e.prototype[n] = function() {
                            var t = this.__chain__;
                            if (o || t) {
                                var n = e(this.__wrapped__);
                                return (n.__actions__ = jr(this.__actions__)).push({
                                    func: r,
                                    args: arguments,
                                    thisArg: e
                                }),
                                n.__chain__ = t,
                                n
                            }
                            return r.apply(e, kt([this.value()], arguments))
                        }
                        )
                    }),
                    e
                }
                function Ma() {}
                var Ia = Hr(_t)
                  , La = Hr(wt)
                  , Fa = Hr(Pt);
                function Na(e) {
                    return li(e) ? hr(e) : function(e) {
                        return function(t) {
                            return Qn(t, e)
                        }
                    }(e)
                }
                var Ba, Ua = Gr(), qa = Gr(!0), Va = Yr("ceil"), za = Yr("floor"), Ha = Yr("round");
                function Wa(e) {
                    return e && e.length ? Rt(e, Aa) : o
                }
                return mn.prototype = vn.prototype,
                yn.prototype = Fn(vn.prototype),
                yn.prototype.constructor = yn,
                bn.prototype = Fn(vn.prototype),
                bn.prototype.constructor = bn,
                wn.prototype = cn ? cn(null) : $e,
                Sn.prototype.clear = function() {
                    this.__data__ = {
                        hash: new wn,
                        map: on ? new on : [],
                        string: new wn
                    }
                }
                ,
                Sn.prototype.delete = function(e) {
                    var t = this.__data__;
                    return ui(e) ? function(e, t) {
                        return xn(e, t) && delete e[t]
                    }("string" == typeof e ? t.string : t.hash, e) : on ? t.map.delete(e) : En(t.map, e)
                }
                ,
                Sn.prototype.get = function(e) {
                    var t = this.__data__;
                    return ui(e) ? function(e, t) {
                        if (cn) {
                            var n = e[t];
                            return n === w ? o : n
                        }
                        return De.call(e, t) ? e[t] : o
                    }("string" == typeof e ? t.string : t.hash, e) : on ? t.map.get(e) : Tn(t.map, e)
                }
                ,
                Sn.prototype.has = function(e) {
                    var t = this.__data__;
                    return ui(e) ? xn("string" == typeof e ? t.string : t.hash, e) : on ? t.map.has(e) : Pn(t.map, e)
                }
                ,
                Sn.prototype.set = function(e, t) {
                    var n = this.__data__;
                    return ui(e) ? function(e, t, n) {
                        e[t] = cn && n === o ? w : n
                    }("string" == typeof e ? n.string : n.hash, e, t) : on ? n.map.set(e, t) : On(n.map, e, t),
                    this
                }
                ,
                Cn.prototype.push = function(e) {
                    var t = this.__data__;
                    if (ui(e)) {
                        var n = t.__data__;
                        ("string" == typeof e ? n.string : n.hash)[e] = w
                    } else
                        t.set(e, w)
                }
                ,
                kn.prototype.clear = function() {
                    this.__data__ = {
                        array: [],
                        map: null
                    }
                }
                ,
                kn.prototype.delete = function(e) {
                    var t = this.__data__
                      , n = t.array;
                    return n ? En(n, e) : t.map.delete(e)
                }
                ,
                kn.prototype.get = function(e) {
                    var t = this.__data__
                      , n = t.array;
                    return n ? Tn(n, e) : t.map.get(e)
                }
                ,
                kn.prototype.has = function(e) {
                    var t = this.__data__
                      , n = t.array;
                    return n ? Pn(n, e) : t.map.has(e)
                }
                ,
                kn.prototype.set = function(e, t) {
                    var n = this.__data__
                      , r = n.array;
                    r && (r.length < y - 1 ? On(r, e, t) : (n.array = null,
                    n.map = new Sn(r)));
                    var i = n.map;
                    return i && i.set(e, t),
                    this
                }
                ,
                mo.Cache = Sn,
                mn.after = function(e, t) {
                    if ("function" != typeof t)
                        throw new Ae(b);
                    return e = Vo(e),
                    function() {
                        if (--e < 1)
                            return t.apply(this, arguments)
                    }
                }
                ,
                mn.ary = co,
                mn.assign = Xo,
                mn.assignIn = Yo,
                mn.assignInWith = Ko,
                mn.assignWith = Qo,
                mn.at = Jo,
                mn.before = lo,
                mn.bind = uo,
                mn.bindAll = Ea,
                mn.bindKey = fo,
                mn.chain = Xi,
                mn.chunk = function(e, t) {
                    t = ft(Vo(t), 0);
                    var n = e ? e.length : 0;
                    if (!n || t < 1)
                        return [];
                    for (var r = 0, i = -1, o = Array(ot(n / t)); r < n; )
                        o[++i] = br(e, r, r += t);
                    return o
                }
                ,
                mn.compact = function(e) {
                    for (var t = -1, n = e ? e.length : 0, r = -1, i = []; ++t < n; ) {
                        var o = e[t];
                        o && (i[++r] = o)
                    }
                    return i
                }
                ,
                mn.concat = Si,
                mn.cond = function(e) {
                    var t = e ? e.length : 0
                      , n = ei();
                    return e = t ? _t(e, function(e) {
                        if ("function" != typeof e[1])
                            throw new Ae(b);
                        return [n(e[0]), e[1]]
                    }) : [],
                    xo(function(n) {
                        for (var r = -1; ++r < t; ) {
                            var i = e[r];
                            if (yt(i[0], this, n))
                                return yt(i[1], this, n)
                        }
                    })
                }
                ,
                mn.conforms = function(e) {
                    return function(e) {
                        var t = oa(e)
                          , n = t.length;
                        return function(r) {
                            if (null == r)
                                return !n;
                            for (var i = n; i--; ) {
                                var a = t[i]
                                  , s = e[a]
                                  , c = r[a];
                                if (c === o && !(a in Object(r)) || !s(c))
                                    return !1
                            }
                            return !0
                        }
                    }(Ln(e, !0))
                }
                ,
                mn.constant = function(e) {
                    return function() {
                        return e
                    }
                }
                ,
                mn.countBy = Qi,
                mn.create = function(e, t) {
                    var n = Fn(e);
                    return t ? Rn(n, t) : n
                }
                ,
                mn.curry = function e(t, n, r) {
                    var i = Qr(t, l, o, o, o, o, o, n = r ? o : n);
                    return i.placeholder = e.placeholder,
                    i
                }
                ,
                mn.curryRight = function e(t, n, r) {
                    var i = Qr(t, u, o, o, o, o, o, n = r ? o : n);
                    return i.placeholder = e.placeholder,
                    i
                }
                ,
                mn.debounce = ho,
                mn.defaults = Zo,
                mn.defaultsDeep = ea,
                mn.defer = po,
                mn.delay = go,
                mn.difference = Ci,
                mn.differenceBy = _i,
                mn.differenceWith = ki,
                mn.drop = Ei,
                mn.dropRight = Ti,
                mn.dropRightWhile = function(e, t) {
                    return e && e.length ? Er(e, ei(t, 3), !0, !0) : []
                }
                ,
                mn.dropWhile = function(e, t) {
                    return e && e.length ? Er(e, ei(t, 3), !0) : []
                }
                ,
                mn.fill = function(e, t, n, r) {
                    var i = e ? e.length : 0;
                    return i ? (n && "number" != typeof n && ci(e, t, n) && (n = 0,
                    r = i),
                    function(e, t, n, r) {
                        var i = e.length;
                        for ((n = Vo(n)) < 0 && (n = -n > i ? 0 : i + n),
                        (r = r === o || r > i ? i : Vo(r)) < 0 && (r += i),
                        r = n > r ? 0 : zo(r); n < r; )
                            e[n++] = t;
                        return e
                    }(e, t, n, r)) : []
                }
                ,
                mn.filter = function(e, t) {
                    return (ko(e) ? xt : zn)(e, ei(t, 3))
                }
                ,
                mn.flatMap = function(e, t) {
                    return e && e.length ? Hn(_t(e, ei(t, 3))) : []
                }
                ,
                mn.flatten = function(e) {
                    return e && e.length ? Hn(e) : []
                }
                ,
                mn.flattenDeep = function(e) {
                    return e && e.length ? Hn(e, !0) : []
                }
                ,
                mn.flip = function(e) {
                    return Qr(e, g)
                }
                ,
                mn.flow = Ta,
                mn.flowRight = Pa,
                mn.fromPairs = function(e) {
                    for (var t = -1, n = e ? e.length : 0, r = {}; ++t < n; ) {
                        var i = e[t];
                        r[i[0]] = i[1]
                    }
                    return r
                }
                ,
                mn.functions = function(e) {
                    return null == e ? [] : Kn(e, oa(e))
                }
                ,
                mn.functionsIn = function(e) {
                    return null == e ? [] : Kn(e, aa(e))
                }
                ,
                mn.groupBy = eo,
                mn.initial = function(e) {
                    return Ti(e, 1)
                }
                ,
                mn.intersection = Ai,
                mn.intersectionBy = Oi,
                mn.intersectionWith = $i,
                mn.invert = function(e, t, n) {
                    return Et(oa(e), function(r, i) {
                        var o = e[i];
                        return t && !n ? De.call(r, o) ? r[o].push(i) : r[o] = [i] : r[o] = i,
                        r
                    }, {})
                }
                ,
                mn.invokeMap = to,
                mn.iteratee = Oa,
                mn.keyBy = no,
                mn.keys = oa,
                mn.keysIn = aa,
                mn.map = function(e, t) {
                    return (ko(e) ? _t : ar)(e, ei(t, 3))
                }
                ,
                mn.mapKeys = function(e, t) {
                    var n = {};
                    return t = ei(t, 3),
                    Xn(e, function(e, r, i) {
                        n[t(e, r, i)] = e
                    }),
                    n
                }
                ,
                mn.mapValues = function(e, t) {
                    var n = {};
                    return t = ei(t, 3),
                    Xn(e, function(e, r, i) {
                        n[r] = t(e, r, i)
                    }),
                    n
                }
                ,
                mn.matches = $a,
                mn.matchesProperty = function(e, t) {
                    return cr(e, Ln(t, !0))
                }
                ,
                mn.memoize = mo,
                mn.merge = sa,
                mn.mergeWith = ca,
                mn.method = ja,
                mn.methodOf = Da,
                mn.mixin = Ra,
                mn.negate = function(e) {
                    if ("function" != typeof e)
                        throw new Ae(b);
                    return function() {
                        return !e.apply(this, arguments)
                    }
                }
                ,
                mn.nthArg = function(e) {
                    return e = Vo(e),
                    function() {
                        return arguments[e]
                    }
                }
                ,
                mn.omit = la,
                mn.omitBy = function(e, t) {
                    return t = ei(t, 2),
                    fr(e, function(e, n) {
                        return !t(e, n)
                    })
                }
                ,
                mn.once = function(e) {
                    return lo(2, e)
                }
                ,
                mn.orderBy = function(e, t, n, r) {
                    return null == e ? [] : (ko(t) || (t = null == t ? [] : [t]),
                    ko(n = r ? o : n) || (n = null == n ? [] : [n]),
                    ur(e, t, n))
                }
                ,
                mn.over = Ia,
                mn.overArgs = vo,
                mn.overEvery = La,
                mn.overSome = Fa,
                mn.partial = yo,
                mn.partialRight = bo,
                mn.partition = ro,
                mn.pick = ua,
                mn.pickBy = function(e, t) {
                    return null == e ? {} : fr(e, ei(t, 2))
                }
                ,
                mn.property = Na,
                mn.propertyOf = function(e) {
                    return function(t) {
                        return null == e ? o : Qn(e, t)
                    }
                }
                ,
                mn.pull = Di,
                mn.pullAll = Ri,
                mn.pullAllBy = function(e, t, n) {
                    return e && e.length && t && t.length ? pr(e, t, ei(n)) : e
                }
                ,
                mn.pullAt = Mi,
                mn.range = Ua,
                mn.rangeRight = qa,
                mn.rearg = wo,
                mn.reject = function(e, t) {
                    var n = ko(e) ? xt : zn;
                    return t = ei(t, 3),
                    n(e, function(e, n, r) {
                        return !t(e, n, r)
                    })
                }
                ,
                mn.remove = function(e, t) {
                    var n = [];
                    if (!e || !e.length)
                        return n;
                    var r = -1
                      , i = []
                      , o = e.length;
                    for (t = ei(t, 3); ++r < o; ) {
                        var a = e[r];
                        t(a, r, e) && (n.push(a),
                        i.push(r))
                    }
                    return gr(e, i),
                    n
                }
                ,
                mn.rest = xo,
                mn.reverse = Ii,
                mn.sampleSize = io,
                mn.set = function(e, t, n) {
                    return null == e ? e : vr(e, t, n)
                }
                ,
                mn.setWith = function(e, t, n, r) {
                    return r = "function" == typeof r ? r : o,
                    null == e ? e : vr(e, t, n, r)
                }
                ,
                mn.shuffle = function(e) {
                    return io(e, k)
                }
                ,
                mn.slice = function(e, t, n) {
                    var r = e ? e.length : 0;
                    return r ? (n && "number" != typeof n && ci(e, t, n) ? (t = 0,
                    n = r) : (t = null == t ? 0 : Vo(t),
                    n = n === o ? r : Vo(n)),
                    br(e, t, n)) : []
                }
                ,
                mn.sortBy = ao,
                mn.sortedUniq = function(e) {
                    return e && e.length ? function(e) {
                        return Cr(e)
                    }(e) : []
                }
                ,
                mn.sortedUniqBy = function(e, t) {
                    return e && e.length ? Cr(e, ei(t)) : []
                }
                ,
                mn.split = function(e, t, n) {
                    return Go(e).split(t, n)
                }
                ,
                mn.spread = function(e) {
                    if ("function" != typeof e)
                        throw new Ae(b);
                    return function(t) {
                        return yt(e, this, t)
                    }
                }
                ,
                mn.tail = function(e) {
                    return Ei(e, 1)
                }
                ,
                mn.take = function(e, t, n) {
                    return e && e.length ? br(e, 0, (t = n || t === o ? 1 : Vo(t)) < 0 ? 0 : t) : []
                }
                ,
                mn.takeRight = function(e, t, n) {
                    var r = e ? e.length : 0;
                    return r ? br(e, (t = r - (t = n || t === o ? 1 : Vo(t))) < 0 ? 0 : t, r) : []
                }
                ,
                mn.takeRightWhile = function(e, t) {
                    return e && e.length ? Er(e, ei(t, 3), !1, !0) : []
                }
                ,
                mn.takeWhile = function(e, t) {
                    return e && e.length ? Er(e, ei(t, 3)) : []
                }
                ,
                mn.tap = function(e, t) {
                    return t(e),
                    e
                }
                ,
                mn.throttle = function(e, t, n) {
                    var r = !0
                      , i = !0;
                    if ("function" != typeof e)
                        throw new Ae(b);
                    return jo(n) && (r = "leading"in n ? !!n.leading : r,
                    i = "trailing"in n ? !!n.trailing : i),
                    ho(e, t, {
                        leading: r,
                        maxWait: t,
                        trailing: i
                    })
                }
                ,
                mn.thru = Yi,
                mn.toArray = qo,
                mn.toPairs = da,
                mn.toPairsIn = function(e) {
                    return It(e, aa(e))
                }
                ,
                mn.toPath = function(e) {
                    return ko(e) ? _t(e, String) : yi(e)
                }
                ,
                mn.toPlainObject = Wo,
                mn.transform = function(e, t, n) {
                    var r = ko(e) || Bo(e);
                    if (t = ei(t, 4),
                    null == n)
                        if (r || jo(e)) {
                            var i = e.constructor;
                            n = r ? ko(e) ? new i : [] : Fn(Ao(i) ? i.prototype : o)
                        } else
                            n = {};
                    return (r ? bt : Xn)(e, function(e, r, i) {
                        return t(n, e, r, i)
                    }),
                    n
                }
                ,
                mn.unary = function(e) {
                    return co(e, 1)
                }
                ,
                mn.union = Li,
                mn.unionBy = Fi,
                mn.unionWith = Ni,
                mn.uniq = function(e) {
                    return e && e.length ? kr(e) : []
                }
                ,
                mn.uniqBy = function(e, t) {
                    return e && e.length ? kr(e, ei(t)) : []
                }
                ,
                mn.uniqWith = function(e, t) {
                    return e && e.length ? kr(e, o, t) : []
                }
                ,
                mn.unset = function(e, t) {
                    return null == e || function(e, t) {
                        e = pi(e, t = li(t, e) ? [t + ""] : _r(t));
                        var n = ji(t);
                        return null == e || !na(e, n) || delete e[n]
                    }(e, t)
                }
                ,
                mn.unzip = Bi,
                mn.unzipWith = Ui,
                mn.values = fa,
                mn.valuesIn = function(e) {
                    return null == e ? Ft(e, aa(e)) : []
                }
                ,
                mn.without = qi,
                mn.words = _a,
                mn.wrap = function(e, t) {
                    return yo(t = null == t ? Aa : t, e)
                }
                ,
                mn.xor = Vi,
                mn.xorBy = zi,
                mn.xorWith = Hi,
                mn.zip = Wi,
                mn.zipObject = function(e, t) {
                    for (var n = -1, r = e ? e.length : 0, i = t ? t.length : 0, a = {}; ++n < r; )
                        vr(a, e[n], n < i ? t[n] : o);
                    return a
                }
                ,
                mn.zipWith = Gi,
                mn.extend = Yo,
                mn.extendWith = Ko,
                Ra(mn, mn),
                mn.add = function(e, t) {
                    var n;
                    return e !== o && (n = e),
                    t !== o && (n = n === o ? t : n + t),
                    n
                }
                ,
                mn.attempt = ka,
                mn.camelCase = ha,
                mn.capitalize = pa,
                mn.ceil = Va,
                mn.clamp = function(e, t, n) {
                    return n === o && (n = t,
                    t = o),
                    n !== o && (n = (n = Ho(n)) == n ? n : 0),
                    t !== o && (t = (t = Ho(t)) == t ? t : 0),
                    In(Ho(e), t, n)
                }
                ,
                mn.clone = function(e) {
                    return Ln(e)
                }
                ,
                mn.cloneDeep = function(e) {
                    return Ln(e, !0)
                }
                ,
                mn.cloneDeepWith = function(e, t) {
                    return Ln(e, !0, t)
                }
                ,
                mn.cloneWith = function(e, t) {
                    return Ln(e, !1, t)
                }
                ,
                mn.deburr = ga,
                mn.endsWith = function(e, t, n) {
                    e = Go(e),
                    t = "string" == typeof t ? t : t + "";
                    var r = e.length;
                    return n = n === o ? r : In(Vo(n), 0, r),
                    (n -= t.length) >= 0 && e.indexOf(t, n) == n
                }
                ,
                mn.eq = So,
                mn.escape = function(e) {
                    return (e = Go(e)) && oe.test(e) ? e.replace(re, zt) : e
                }
                ,
                mn.escapeRegExp = function(e) {
                    return (e = Go(e)) && he.test(e) ? e.replace(fe, "\\$&") : e
                }
                ,
                mn.every = function(e, t, n) {
                    var r = ko(e) ? wt : Vn;
                    return n && ci(e, t, n) && (t = o),
                    r(e, ei(t, 3))
                }
                ,
                mn.find = function(e, t) {
                    if (t = ei(t, 3),
                    ko(e)) {
                        var n = $t(e, t);
                        return n > -1 ? e[n] : o
                    }
                    return Ot(e, t, Un)
                }
                ,
                mn.findIndex = function(e, t) {
                    return e && e.length ? $t(e, ei(t, 3)) : -1
                }
                ,
                mn.findKey = function(e, t) {
                    return Ot(e, ei(t, 3), Xn, !0)
                }
                ,
                mn.findLast = function(e, t) {
                    if (t = ei(t, 3),
                    ko(e)) {
                        var n = $t(e, t, !0);
                        return n > -1 ? e[n] : o
                    }
                    return Ot(e, t, qn)
                }
                ,
                mn.findLastIndex = function(e, t) {
                    return e && e.length ? $t(e, ei(t, 3), !0) : -1
                }
                ,
                mn.findLastKey = function(e, t) {
                    return Ot(e, ei(t, 3), Yn, !0)
                }
                ,
                mn.floor = za,
                mn.forEach = Ji,
                mn.forEachRight = Zi,
                mn.forIn = function(e, t) {
                    return null == e ? e : Wn(e, wi(t), aa)
                }
                ,
                mn.forInRight = function(e, t) {
                    return null == e ? e : Gn(e, wi(t), aa)
                }
                ,
                mn.forOwn = function(e, t) {
                    return e && Xn(e, wi(t))
                }
                ,
                mn.forOwnRight = function(e, t) {
                    return e && Yn(e, wi(t))
                }
                ,
                mn.get = ta,
                mn.gt = Co,
                mn.gte = function(e, t) {
                    return e >= t
                }
                ,
                mn.has = na,
                mn.hasIn = ra,
                mn.head = Pi,
                mn.identity = Aa,
                mn.includes = function(e, t, n, r) {
                    e = Eo(e) ? e : fa(e),
                    n = n && !r ? Vo(n) : 0;
                    var i = e.length;
                    return n < 0 && (n = ft(i + n, 0)),
                    Fo(e) ? n <= i && e.indexOf(t, n) > -1 : !!i && jt(e, t, n) > -1
                }
                ,
                mn.indexOf = function(e, t, n) {
                    var r = e ? e.length : 0;
                    return r ? ((n = Vo(n)) < 0 && (n = ft(r + n, 0)),
                    jt(e, t, n)) : -1
                }
                ,
                mn.inRange = function(e, t, n) {
                    return t = Ho(t) || 0,
                    n === o ? (n = t,
                    t = 0) : n = Ho(n) || 0,
                    function(e, t, n) {
                        return e >= ht(t, n) && e < ft(t, n)
                    }(e = Ho(e), t, n)
                }
                ,
                mn.invoke = ia,
                mn.isArguments = _o,
                mn.isArray = ko,
                mn.isArrayLike = Eo,
                mn.isArrayLikeObject = To,
                mn.isBoolean = function(e) {
                    return !0 === e || !1 === e || Do(e) && Ie.call(e) == $
                }
                ,
                mn.isDate = function(e) {
                    return Do(e) && Ie.call(e) == j
                }
                ,
                mn.isElement = function(e) {
                    return !!e && 1 === e.nodeType && Do(e) && !Io(e)
                }
                ,
                mn.isEmpty = function(e) {
                    return !Do(e) || Ao(e.splice) ? !oo(e) : !oa(e).length
                }
                ,
                mn.isEqual = function(e, t) {
                    return nr(e, t)
                }
                ,
                mn.isEqualWith = function(e, t, n) {
                    var r = (n = "function" == typeof n ? n : o) ? n(e, t) : o;
                    return r === o ? nr(e, t, n) : !!r
                }
                ,
                mn.isError = Po,
                mn.isFinite = function(e) {
                    return "number" == typeof e && lt(e)
                }
                ,
                mn.isFunction = Ao,
                mn.isInteger = Oo,
                mn.isLength = $o,
                mn.isMatch = function(e, t) {
                    return e === t || rr(e, t, ni(t))
                }
                ,
                mn.isMatchWith = function(e, t, n) {
                    return n = "function" == typeof n ? n : o,
                    rr(e, t, ni(t), n)
                }
                ,
                mn.isNaN = function(e) {
                    return Mo(e) && e != +e
                }
                ,
                mn.isNative = Ro,
                mn.isNil = function(e) {
                    return null == e
                }
                ,
                mn.isNull = function(e) {
                    return null === e
                }
                ,
                mn.isNumber = Mo,
                mn.isObject = jo,
                mn.isObjectLike = Do,
                mn.isPlainObject = Io,
                mn.isRegExp = Lo,
                mn.isSafeInteger = function(e) {
                    return Oo(e) && e >= -S && e <= S
                }
                ,
                mn.isString = Fo,
                mn.isSymbol = No,
                mn.isTypedArray = Bo,
                mn.isUndefined = function(e) {
                    return e === o
                }
                ,
                mn.join = function(e, t) {
                    return e ? ut.call(e, t) : ""
                }
                ,
                mn.kebabCase = ma,
                mn.last = ji,
                mn.lastIndexOf = function(e, t, n) {
                    var r = e ? e.length : 0;
                    if (!r)
                        return -1;
                    var i = r;
                    if (n !== o && (i = ((i = Vo(n)) < 0 ? ft(r + i, 0) : ht(i, r - 1)) + 1),
                    t != t)
                        return Wt(e, i, !0);
                    for (; i--; )
                        if (e[i] === t)
                            return i;
                    return -1
                }
                ,
                mn.lowerCase = va,
                mn.lowerFirst = ya,
                mn.lt = Uo,
                mn.lte = function(e, t) {
                    return e <= t
                }
                ,
                mn.max = function(e) {
                    return e && e.length ? At(e, Aa, Co) : o
                }
                ,
                mn.maxBy = function(e, t) {
                    return e && e.length ? At(e, ei(t), Co) : o
                }
                ,
                mn.mean = function(e) {
                    return Wa(e) / (e ? e.length : 0)
                }
                ,
                mn.min = function(e) {
                    return e && e.length ? At(e, Aa, Uo) : o
                }
                ,
                mn.minBy = function(e, t) {
                    return e && e.length ? At(e, ei(t), Uo) : o
                }
                ,
                mn.noConflict = function() {
                    return gt._ === this && (gt._ = Le),
                    this
                }
                ,
                mn.noop = Ma,
                mn.now = so,
                mn.pad = function(e, t, n) {
                    e = Go(e),
                    t = Vo(t);
                    var r = Zt(e);
                    if (!t || r >= t)
                        return e;
                    var i = (t - r) / 2
                      , o = at(i)
                      , a = ot(i);
                    return Wr("", o, n) + e + Wr("", a, n)
                }
                ,
                mn.padEnd = function(e, t, n) {
                    return (e = Go(e)) + Wr(e, t, n)
                }
                ,
                mn.padStart = function(e, t, n) {
                    return Wr(e = Go(e), t, n) + e
                }
                ,
                mn.parseInt = function(e, t, n) {
                    return n || null == t ? t = 0 : t && (t = +t),
                    e = Go(e).replace(pe, ""),
                    pt(e, t || (we.test(e) ? 16 : 10))
                }
                ,
                mn.random = function(e, t, n) {
                    if (n && "boolean" != typeof n && ci(e, t, n) && (t = n = o),
                    n === o && ("boolean" == typeof t ? (n = t,
                    t = o) : "boolean" == typeof e && (n = e,
                    e = o)),
                    e === o && t === o ? (e = 0,
                    t = 1) : (e = Ho(e) || 0,
                    t === o ? (t = e,
                    e = 0) : t = Ho(t) || 0),
                    e > t) {
                        var r = e;
                        e = t,
                        t = r
                    }
                    if (n || e % 1 || t % 1) {
                        var i = Ut();
                        return ht(e + i * (t - e + st("1e-" + ((i + "").length - 1))), t)
                    }
                    return mr(e, t)
                }
                ,
                mn.reduce = function(e, t, n) {
                    var r = ko(e) ? Et : Dt
                      , i = arguments.length < 3;
                    return r(e, ei(t, 4), n, i, Un)
                }
                ,
                mn.reduceRight = function(e, t, n) {
                    var r = ko(e) ? Tt : Dt
                      , i = arguments.length < 3;
                    return r(e, ei(t, 4), n, i, qn)
                }
                ,
                mn.repeat = wa,
                mn.replace = function() {
                    var e = arguments
                      , t = Go(e[0]);
                    return e.length < 3 ? t : t.replace(e[1], e[2])
                }
                ,
                mn.result = function(e, t, n) {
                    if (li(t, e))
                        r = null == e ? o : e[t];
                    else {
                        var r = ta(e, t = _r(t));
                        e = pi(e, t)
                    }
                    return r === o && (r = n),
                    Ao(r) ? r.call(e) : r
                }
                ,
                mn.round = Ha,
                mn.runInContext = e,
                mn.sample = function(e) {
                    var t = Eo(e) ? e : fa(e)
                      , n = t.length;
                    return n > 0 ? t[mr(0, n - 1)] : o
                }
                ,
                mn.size = oo,
                mn.snakeCase = xa,
                mn.some = function(e, t, n) {
                    var r = ko(e) ? Pt : wr;
                    return n && ci(e, t, n) && (t = o),
                    r(e, ei(t, 3))
                }
                ,
                mn.sortedIndex = function(e, t) {
                    return xr(e, t)
                }
                ,
                mn.sortedIndexBy = function(e, t, n) {
                    return Sr(e, t, ei(n))
                }
                ,
                mn.sortedIndexOf = function(e, t) {
                    var n = e ? e.length : 0;
                    if (n) {
                        var r = xr(e, t);
                        if (r < n && So(e[r], t))
                            return r
                    }
                    return -1
                }
                ,
                mn.sortedLastIndex = function(e, t) {
                    return xr(e, t, !0)
                }
                ,
                mn.sortedLastIndexBy = function(e, t, n) {
                    return Sr(e, t, ei(n), !0)
                }
                ,
                mn.sortedLastIndexOf = function(e, t) {
                    if (e && e.length) {
                        var n = xr(e, t, !0) - 1;
                        if (So(e[n], t))
                            return n
                    }
                    return -1
                }
                ,
                mn.startCase = Sa,
                mn.startsWith = function(e, t, n) {
                    return e = Go(e),
                    n = In(Vo(n), 0, e.length),
                    e.lastIndexOf(t, n) == n
                }
                ,
                mn.subtract = function(e, t) {
                    var n;
                    return e !== o && (n = e),
                    t !== o && (n = n === o ? t : n - t),
                    n
                }
                ,
                mn.sum = Wa,
                mn.sumBy = function(e, t) {
                    return e && e.length ? Rt(e, ei(t)) : o
                }
                ,
                mn.template = function(e, t, n) {
                    var r = mn.templateSettings;
                    n && ci(e, t, n) && (t = o),
                    e = Go(e),
                    t = Ko({}, t, r, $n);
                    var i, a, s = Ko({}, t.imports, r.imports, $n), c = oa(s), l = Ft(s, c), u = 0, d = t.interpolate || Te, f = "__p += '", h = ke((t.escape || Te).source + "|" + d.source + "|" + (d === ce ? ye : Te).source + "|" + (t.evaluate || Te).source + "|$", "g"), p = "//# sourceURL=" + ("sourceURL"in t ? t.sourceURL : "lodash.templateSources[" + ++Ze + "]") + "\n";
                    e.replace(h, function(t, n, r, o, s, c) {
                        return r || (r = o),
                        f += e.slice(u, c).replace(Pe, Ht),
                        n && (i = !0,
                        f += "' +\n__e(" + n + ") +\n'"),
                        s && (a = !0,
                        f += "';\n" + s + ";\n__p += '"),
                        r && (f += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                        u = c + t.length,
                        t
                    }),
                    f += "';\n";
                    var g = t.variable;
                    g || (f = "with (obj) {\n" + f + "\n}\n"),
                    f = (a ? f.replace(Z, "") : f).replace(ee, "$1").replace(te, "$1;"),
                    f = "function(" + (g || "obj") + ") {\n" + (g ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + f + "return __p\n}";
                    var m = ka(function() {
                        return Function(c, p + "return " + f).apply(o, l)
                    });
                    if (m.source = f,
                    Po(m))
                        throw m;
                    return m
                }
                ,
                mn.times = function(e, t) {
                    if ((e = Vo(e)) < 1 || e > S)
                        return [];
                    var n = k
                      , r = ht(e, k);
                    t = wi(t),
                    e -= k;
                    for (var i = Mt(r, t); ++n < e; )
                        t(n);
                    return i
                }
                ,
                mn.toInteger = Vo,
                mn.toLength = zo,
                mn.toLower = function(e) {
                    return Go(e).toLowerCase()
                }
                ,
                mn.toNumber = Ho,
                mn.toSafeInteger = function(e) {
                    return In(Vo(e), -S, S)
                }
                ,
                mn.toString = Go,
                mn.toUpper = function(e) {
                    return Go(e).toUpperCase()
                }
                ,
                mn.trim = function(e, t, n) {
                    if (!(e = Go(e)))
                        return e;
                    if (n || t === o)
                        return e.replace(pe, "");
                    if (!(t += ""))
                        return e;
                    var r = en(e)
                      , i = en(t);
                    return r.slice(Nt(r, i), Bt(r, i) + 1).join("")
                }
                ,
                mn.trimEnd = function(e, t, n) {
                    if (!(e = Go(e)))
                        return e;
                    if (n || t === o)
                        return e.replace(me, "");
                    if (!(t += ""))
                        return e;
                    var r = en(e);
                    return r.slice(0, Bt(r, en(t)) + 1).join("")
                }
                ,
                mn.trimStart = function(e, t, n) {
                    if (!(e = Go(e)))
                        return e;
                    if (n || t === o)
                        return e.replace(ge, "");
                    if (!(t += ""))
                        return e;
                    var r = en(e);
                    return r.slice(Nt(r, en(t))).join("")
                }
                ,
                mn.truncate = function(e, t) {
                    var n = 30
                      , r = "...";
                    if (jo(t)) {
                        var i = "separator"in t ? t.separator : i;
                        n = "length"in t ? Vo(t.length) : n,
                        r = "omission"in t ? Go(t.omission) : r
                    }
                    var a = (e = Go(e)).length;
                    if (Xe.test(e)) {
                        var s = en(e);
                        a = s.length
                    }
                    if (n >= a)
                        return e;
                    var c = n - Zt(r);
                    if (c < 1)
                        return r;
                    var l = s ? s.slice(0, c).join("") : e.slice(0, c);
                    if (i === o)
                        return l + r;
                    if (s && (c += l.length - c),
                    Lo(i)) {
                        if (e.slice(c).search(i)) {
                            var u, d = l;
                            for (i.global || (i = ke(i.source, Go(be.exec(i)) + "g")),
                            i.lastIndex = 0; u = i.exec(d); )
                                var f = u.index;
                            l = l.slice(0, f === o ? c : f)
                        }
                    } else if (e.indexOf(i, c) != c) {
                        var h = l.lastIndexOf(i);
                        h > -1 && (l = l.slice(0, h))
                    }
                    return l + r
                }
                ,
                mn.unescape = function(e) {
                    return (e = Go(e)) && ie.test(e) ? e.replace(ne, tn) : e
                }
                ,
                mn.uniqueId = function(e) {
                    var t = ++Re;
                    return Go(e) + t
                }
                ,
                mn.upperCase = Ca,
                mn.upperFirst = ba,
                mn.each = Ji,
                mn.eachRight = Zi,
                mn.first = Pi,
                Ra(mn, (Ba = {},
                Xn(mn, function(e, t) {
                    De.call(mn.prototype, t) || (Ba[t] = e)
                }),
                Ba), {
                    chain: !1
                }),
                mn.VERSION = "4.0.1",
                bt(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                    mn[e].placeholder = mn
                }),
                bt(["drop", "take"], function(e, t) {
                    bn.prototype[e] = function(n) {
                        var r = this.__filtered__;
                        if (r && !t)
                            return new bn(this);
                        n = n === o ? 1 : ft(Vo(n), 0);
                        var i = this.clone();
                        return r ? i.__takeCount__ = ht(n, i.__takeCount__) : i.__views__.push({
                            size: ht(n, k),
                            type: e + (i.__dir__ < 0 ? "Right" : "")
                        }),
                        i
                    }
                    ,
                    bn.prototype[e + "Right"] = function(t) {
                        return this.reverse()[e](t).reverse()
                    }
                }),
                bt(["filter", "map", "takeWhile"], function(e, t) {
                    var n = t + 1
                      , r = 1 == n || 3 == n;
                    bn.prototype[e] = function(e) {
                        var t = this.clone();
                        return t.__iteratees__.push({
                            iteratee: ei(e, 3),
                            type: n
                        }),
                        t.__filtered__ = t.__filtered__ || r,
                        t
                    }
                }),
                bt(["head", "last"], function(e, t) {
                    var n = "take" + (t ? "Right" : "");
                    bn.prototype[e] = function() {
                        return this[n](1).value()[0]
                    }
                }),
                bt(["initial", "tail"], function(e, t) {
                    var n = "drop" + (t ? "" : "Right");
                    bn.prototype[e] = function() {
                        return this.__filtered__ ? new bn(this) : this[n](1)
                    }
                }),
                bn.prototype.compact = function() {
                    return this.filter(Aa)
                }
                ,
                bn.prototype.find = function(e) {
                    return this.filter(e).head()
                }
                ,
                bn.prototype.findLast = function(e) {
                    return this.reverse().find(e)
                }
                ,
                bn.prototype.invokeMap = xo(function(e, t) {
                    return "function" == typeof e ? new bn(this) : this.map(function(n) {
                        return tr(n, e, t)
                    })
                }),
                bn.prototype.reject = function(e) {
                    return e = ei(e, 3),
                    this.filter(function(t) {
                        return !e(t)
                    })
                }
                ,
                bn.prototype.slice = function(e, t) {
                    e = Vo(e);
                    var n = this;
                    return n.__filtered__ && (e > 0 || t < 0) ? new bn(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                    t !== o && (n = (t = Vo(t)) < 0 ? n.dropRight(-t) : n.take(t - e)),
                    n)
                }
                ,
                bn.prototype.takeRightWhile = function(e) {
                    return this.reverse().takeWhile(e).reverse()
                }
                ,
                bn.prototype.toArray = function() {
                    return this.take(k)
                }
                ,
                Xn(bn.prototype, function(e, t) {
                    var n = /^(?:filter|find|map|reject)|While$/.test(t)
                      , r = /^(?:head|last)$/.test(t)
                      , i = mn[r ? "take" + ("last" == t ? "Right" : "") : t]
                      , a = r || /^find/.test(t);
                    i && (mn.prototype[t] = function() {
                        var t = this.__wrapped__
                          , s = r ? [1] : arguments
                          , c = t instanceof bn
                          , l = s[0]
                          , u = c || ko(t)
                          , d = function(e) {
                            var t = i.apply(mn, kt([e], s));
                            return r && f ? t[0] : t
                        };
                        u && n && "function" == typeof l && 1 != l.length && (c = u = !1);
                        var f = this.__chain__
                          , h = !!this.__actions__.length
                          , p = a && !f
                          , g = c && !h;
                        if (!a && u) {
                            t = g ? t : new bn(this);
                            var m = e.apply(t, s);
                            return m.__actions__.push({
                                func: Yi,
                                args: [d],
                                thisArg: o
                            }),
                            new yn(m,f)
                        }
                        return p && g ? e.apply(this, s) : (m = this.thru(d),
                        p ? r ? m.value()[0] : m.value() : m)
                    }
                    )
                }),
                bt(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
                    var t = Oe[e]
                      , n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                      , r = /^(?:pop|shift)$/.test(e);
                    mn.prototype[e] = function() {
                        var e = arguments;
                        return r && !this.__chain__ ? t.apply(this.value(), e) : this[n](function(n) {
                            return t.apply(n, e)
                        })
                    }
                }),
                Xn(bn.prototype, function(e, t) {
                    var n = mn[t];
                    if (n) {
                        var r = n.name + "";
                        (gn[r] || (gn[r] = [])).push({
                            name: t,
                            func: n
                        })
                    }
                }),
                gn[zr(o, s).name] = [{
                    name: "wrapper",
                    func: o
                }],
                bn.prototype.clone = function() {
                    var e = new bn(this.__wrapped__);
                    return e.__actions__ = jr(this.__actions__),
                    e.__dir__ = this.__dir__,
                    e.__filtered__ = this.__filtered__,
                    e.__iteratees__ = jr(this.__iteratees__),
                    e.__takeCount__ = this.__takeCount__,
                    e.__views__ = jr(this.__views__),
                    e
                }
                ,
                bn.prototype.reverse = function() {
                    if (this.__filtered__) {
                        var e = new bn(this);
                        e.__dir__ = -1,
                        e.__filtered__ = !0
                    } else
                        (e = this.clone()).__dir__ *= -1;
                    return e
                }
                ,
                bn.prototype.value = function() {
                    var e = this.__wrapped__.value()
                      , t = this.__dir__
                      , n = ko(e)
                      , r = t < 0
                      , i = n ? e.length : 0
                      , o = function(e, t, n) {
                        for (var r = -1, i = n.length; ++r < i; ) {
                            var o = n[r]
                              , a = o.size;
                            switch (o.type) {
                            case "drop":
                                e += a;
                                break;
                            case "dropRight":
                                t -= a;
                                break;
                            case "take":
                                t = ht(t, e + a);
                                break;
                            case "takeRight":
                                e = ft(e, t - a)
                            }
                        }
                        return {
                            start: e,
                            end: t
                        }
                    }(0, i, this.__views__)
                      , a = o.start
                      , s = o.end
                      , c = s - a
                      , l = r ? s : a - 1
                      , u = this.__iteratees__
                      , d = u.length
                      , f = 0
                      , h = ht(c, this.__takeCount__);
                    if (!n || i < y || i == c && h == c)
                        return Tr(e, this.__actions__);
                    var p = [];
                    e: for (; c-- && f < h; ) {
                        for (var g = -1, m = e[l += t]; ++g < d; ) {
                            var v = u[g]
                              , b = v.iteratee
                              , w = v.type
                              , x = b(m);
                            if (2 == w)
                                m = x;
                            else if (!x) {
                                if (1 == w)
                                    continue e;
                                break e
                            }
                        }
                        p[f++] = m
                    }
                    return p
                }
                ,
                mn.prototype.at = Ki,
                mn.prototype.chain = function() {
                    return Xi(this)
                }
                ,
                mn.prototype.commit = function() {
                    return new yn(this.value(),this.__chain__)
                }
                ,
                mn.prototype.flatMap = function(e) {
                    return this.map(e).flatten()
                }
                ,
                mn.prototype.next = function() {
                    this.__values__ === o && (this.__values__ = qo(this.value()));
                    var e = this.__index__ >= this.__values__.length;
                    return {
                        done: e,
                        value: e ? o : this.__values__[this.__index__++]
                    }
                }
                ,
                mn.prototype.plant = function(e) {
                    for (var t, n = this; n instanceof vn; ) {
                        var r = xi(n);
                        r.__index__ = 0,
                        r.__values__ = o,
                        t ? i.__wrapped__ = r : t = r;
                        var i = r;
                        n = n.__wrapped__
                    }
                    return i.__wrapped__ = e,
                    t
                }
                ,
                mn.prototype.reverse = function() {
                    var e = this.__wrapped__;
                    if (e instanceof bn) {
                        var t = e;
                        return this.__actions__.length && (t = new bn(this)),
                        (t = t.reverse()).__actions__.push({
                            func: Yi,
                            args: [Ii],
                            thisArg: o
                        }),
                        new yn(t,this.__chain__)
                    }
                    return this.thru(Ii)
                }
                ,
                mn.prototype.toJSON = mn.prototype.valueOf = mn.prototype.value = function() {
                    return Tr(this.__wrapped__, this.__actions__)
                }
                ,
                Ge && (mn.prototype[Ge] = function() {
                    return this
                }
                ),
                mn
            }();
            (ht || ft || {})._ = nn,
            (i = function() {
                return nn
            }
            .call(t, n, t, e)) === o || (e.exports = i)
        }
        ).call(this)
    }
    ).call(this, n(12)(e), n(0))
}
, function(e, t) {}
, function(e, t, n) {
    (function(t) {
        e.exports = t.UUID = n(113)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    "use strict";
    !function(t) {
        for (var n = [], r = 0; 15 >= r; r++)
            n[r] = r.toString(16);
        e.exports = function() {
            for (var e = "", t = 1; 36 >= t; t++)
                e += 9 === t || 14 === t || 19 === t || 24 === t ? "-" : 15 === t ? 4 : 20 === t ? n[4 * Math.random() | 8] : n[15 * Math.random() | 0];
            return e
        }
    }()
}
, function(e, t, n) {
    var r, i, o, a;
    a = function(e) {
        "use strict";
        var t = e.module("ngDialog", [])
          , n = e.element
          , r = e.isDefined
          , i = (document.body || document.documentElement).style
          , o = r(i.animation) || r(i.WebkitAnimation) || r(i.MozAnimation) || r(i.MsAnimation) || r(i.OAnimation)
          , a = "animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend"
          , s = {
            html: !1,
            body: !1
        }
          , c = {}
          , l = []
          , u = !1
          , d = !1;
        return t.provider("ngDialog", function() {
            var t = this.defaults = {
                className: "ngdialog-theme-default",
                appendClassName: "",
                disableAnimation: !1,
                plain: !1,
                showClose: !0,
                closeByDocument: !0,
                closeByEscape: !0,
                closeByNavigation: !1,
                appendTo: !1,
                preCloseCallback: !1,
                overlay: !0,
                cache: !0,
                trapFocus: !0,
                preserveFocus: !0,
                ariaAuto: !0,
                ariaRole: null,
                ariaLabelledById: null,
                ariaLabelledBySelector: null,
                ariaDescribedById: null,
                ariaDescribedBySelector: null,
                bodyClassName: "ngdialog-open",
                width: null,
                height: null
            };
            this.setForceHtmlReload = function(e) {
                s.html = e || !1
            }
            ,
            this.setForceBodyReload = function(e) {
                s.body = e || !1
            }
            ,
            this.setDefaults = function(n) {
                e.extend(t, n)
            }
            ,
            this.setOpenOnePerName = function(e) {
                d = e || !1
            }
            ;
            var r, i = 0, f = 0, h = {};
            this.$get = ["$document", "$templateCache", "$compile", "$q", "$http", "$rootScope", "$timeout", "$window", "$controller", "$injector", function(p, g, m, v, y, b, w, x, S, C) {
                var _ = []
                  , k = {
                    onDocumentKeydown: function(e) {
                        27 === e.keyCode && E.close("$escape")
                    },
                    activate: function(e) {
                        e.data("$ngDialogOptions").trapFocus && (e.on("keydown", k.onTrapFocusKeydown),
                        _.body.on("keydown", k.onTrapFocusKeydown))
                    },
                    deactivate: function(e) {
                        e.off("keydown", k.onTrapFocusKeydown),
                        _.body.off("keydown", k.onTrapFocusKeydown)
                    },
                    deactivateAll: function(t) {
                        e.forEach(t, function(t) {
                            var n = e.element(t);
                            k.deactivate(n)
                        })
                    },
                    setBodyPadding: function(e) {
                        var t = parseInt(_.body.css("padding-right") || 0, 10);
                        _.body.css("padding-right", t + e + "px"),
                        _.body.data("ng-dialog-original-padding", t),
                        b.$broadcast("ngDialog.setPadding", e)
                    },
                    resetBodyPadding: function() {
                        var e = _.body.data("ng-dialog-original-padding");
                        e ? _.body.css("padding-right", e + "px") : _.body.css("padding-right", ""),
                        b.$broadcast("ngDialog.setPadding", 0)
                    },
                    performCloseDialog: function(e, t) {
                        var n = e.data("$ngDialogOptions")
                          , i = e.attr("id")
                          , s = c[i];
                        if (s) {
                            if (void 0 !== x.Hammer) {
                                var d = s.hammerTime;
                                d.off("tap", r),
                                d.destroy && d.destroy(),
                                delete s.hammerTime
                            } else
                                e.unbind("click");
                            1 === f && _.body.unbind("keydown", k.onDocumentKeydown),
                            e.hasClass("ngdialog-closing") || (f -= 1);
                            var p = e.data("$ngDialogPreviousFocus");
                            p && p.focus && p.focus(),
                            b.$broadcast("ngDialog.closing", e, t),
                            f = f < 0 ? 0 : f,
                            o && !n.disableAnimation ? (s.$destroy(),
                            e.unbind(a).bind(a, function() {
                                k.closeDialogElement(e, t)
                            }).addClass("ngdialog-closing")) : (s.$destroy(),
                            k.closeDialogElement(e, t)),
                            h[i] && (h[i].resolve({
                                id: i,
                                value: t,
                                $dialog: e,
                                remainingDialogs: f
                            }),
                            delete h[i]),
                            c[i] && delete c[i],
                            l.splice(l.indexOf(i), 1),
                            l.length || (_.body.unbind("keydown", k.onDocumentKeydown),
                            u = !1)
                        }
                    },
                    closeDialogElement: function(e, t) {
                        var n = e.data("$ngDialogOptions");
                        e.remove(),
                        0 === f && (_.html.removeClass(n.bodyClassName),
                        _.body.removeClass(n.bodyClassName),
                        k.resetBodyPadding()),
                        b.$broadcast("ngDialog.closed", e, t)
                    },
                    closeDialog: function(t, n) {
                        var r = t.data("$ngDialogPreCloseCallback");
                        if (r && e.isFunction(r)) {
                            var i = r.call(t, n);
                            if (e.isObject(i))
                                i.closePromise ? i.closePromise.then(function() {
                                    k.performCloseDialog(t, n)
                                }, function() {
                                    return !1
                                }) : i.then(function() {
                                    k.performCloseDialog(t, n)
                                }, function() {
                                    return !1
                                });
                            else {
                                if (!1 === i)
                                    return !1;
                                k.performCloseDialog(t, n)
                            }
                        } else
                            k.performCloseDialog(t, n)
                    },
                    onTrapFocusKeydown: function(t) {
                        var n, r = e.element(t.currentTarget);
                        if (r.hasClass("ngdialog"))
                            n = r;
                        else if (null === (n = k.getActiveDialog()))
                            return;
                        var i = 9 === t.keyCode
                          , o = !0 === t.shiftKey;
                        i && k.handleTab(n, t, o)
                    },
                    handleTab: function(e, t, n) {
                        var r = k.getFocusableElements(e);
                        if (0 !== r.length) {
                            var i = document.activeElement
                              , o = Array.prototype.indexOf.call(r, i)
                              , a = -1 === o
                              , s = 0 === o
                              , c = o === r.length - 1
                              , l = !1;
                            n ? (a || s) && (r[r.length - 1].focus(),
                            l = !0) : (a || c) && (r[0].focus(),
                            l = !0),
                            l && (t.preventDefault(),
                            t.stopPropagation())
                        } else
                            document.activeElement && document.activeElement.blur && document.activeElement.blur()
                    },
                    autoFocus: function(e) {
                        var t = e[0]
                          , r = t.querySelector("*[autofocus]");
                        if (null === r || (r.focus(),
                        document.activeElement !== r)) {
                            var i = k.getFocusableElements(e);
                            if (i.length > 0)
                                i[0].focus();
                            else {
                                var o = k.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));
                                if (o.length > 0) {
                                    var a = o[0];
                                    n(a).attr("tabindex", "-1").css("outline", "0"),
                                    a.focus()
                                }
                            }
                        }
                    },
                    getFocusableElements: function(e) {
                        var t = e[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]")
                          , n = k.filterTabbableElements(t);
                        return k.filterVisibleElements(n)
                    },
                    filterTabbableElements: function(e) {
                        for (var t = [], r = 0; r < e.length; r++) {
                            var i = e[r];
                            "-1" !== n(i).attr("tabindex") && t.push(i)
                        }
                        return t
                    },
                    filterVisibleElements: function(e) {
                        for (var t = [], n = 0; n < e.length; n++) {
                            var r = e[n];
                            (r.offsetWidth > 0 || r.offsetHeight > 0) && t.push(r)
                        }
                        return t
                    },
                    getActiveDialog: function() {
                        var e = document.querySelectorAll(".ngdialog");
                        return 0 === e.length ? null : n(e[e.length - 1])
                    },
                    applyAriaAttributes: function(e, t) {
                        if (t.ariaAuto) {
                            if (!t.ariaRole) {
                                var n = k.getFocusableElements(e).length > 0 ? "dialog" : "alertdialog";
                                t.ariaRole = n
                            }
                            t.ariaLabelledBySelector || (t.ariaLabelledBySelector = "h1,h2,h3,h4,h5,h6"),
                            t.ariaDescribedBySelector || (t.ariaDescribedBySelector = "article,section,p")
                        }
                        t.ariaRole && e.attr("role", t.ariaRole),
                        k.applyAriaAttribute(e, "aria-labelledby", t.ariaLabelledById, t.ariaLabelledBySelector),
                        k.applyAriaAttribute(e, "aria-describedby", t.ariaDescribedById, t.ariaDescribedBySelector)
                    },
                    applyAriaAttribute: function(e, t, r, i) {
                        if (r && e.attr(t, r),
                        i) {
                            var o = e.attr("id")
                              , a = e[0].querySelector(i);
                            if (!a)
                                return;
                            var s = o + "-" + t;
                            return n(a).attr("id", s),
                            e.attr(t, s),
                            s
                        }
                    },
                    detectUIRouter: function() {
                        try {
                            return e.module("ui.router"),
                            !0
                        } catch (e) {
                            return !1
                        }
                    },
                    getRouterLocationEventName: function() {
                        return k.detectUIRouter() ? "$stateChangeStart" : "$locationChangeStart"
                    }
                }
                  , E = {
                    __PRIVATE__: k,
                    open: function(o) {
                        var a = null;
                        if (o = o || {},
                        !(d && o.name && (a = o.name.toLowerCase().replace(/\s/g, "-") + "-dialog",
                        this.isOpen(a)))) {
                            var s, p, T, P, A, O = e.copy(t), $ = ++i;
                            a = a || "ngdialog" + $,
                            l.push(a),
                            void 0 !== O.data && (void 0 === o.data && (o.data = {}),
                            o.data = e.merge(e.copy(O.data), o.data)),
                            e.extend(O, o),
                            h[a] = s = v.defer(),
                            c[a] = p = e.isObject(O.scope) ? O.scope.$new() : b.$new();
                            var j = e.extend({}, O.resolve);
                            return e.forEach(j, function(t, n) {
                                j[n] = e.isString(t) ? C.get(t) : C.invoke(t, null, null, n)
                            }),
                            v.all({
                                template: function(t) {
                                    return t ? e.isString(t) && O.plain ? t : "boolean" != typeof O.cache || O.cache ? D(t, {
                                        cache: g
                                    }) : D(t, {
                                        cache: !1
                                    }) : "Empty template"
                                }(O.template || O.templateUrl),
                                locals: v.all(j)
                            }).then(function(t) {
                                var i = t.template
                                  , o = t.locals;
                                O.showClose && (i += '<div class="ngdialog-close"></div>');
                                var s, c = O.overlay ? "" : " ngdialog-no-overlay";
                                if ((T = n('<div id="' + a + '" class="ngdialog' + c + '"></div>')).html(O.overlay ? '<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">' + i + "</div>" : '<div class="ngdialog-content" role="document">' + i + "</div>"),
                                T.data("$ngDialogOptions", O),
                                p.ngDialogId = a,
                                O.data && e.isString(O.data)) {
                                    var l = O.data.replace(/^\s*/, "")[0];
                                    p.ngDialogData = "{" === l || "[" === l ? e.fromJson(O.data) : new String(O.data),
                                    p.ngDialogData.ngDialogId = a
                                } else
                                    O.data && e.isObject(O.data) && (p.ngDialogData = O.data,
                                    p.ngDialogData.ngDialogId = a);
                                if (O.className && T.addClass(O.className),
                                O.appendClassName && T.addClass(O.appendClassName),
                                O.width && (A = T[0].querySelector(".ngdialog-content"),
                                e.isString(O.width) ? A.style.width = O.width : A.style.width = O.width + "px"),
                                O.height && (A = T[0].querySelector(".ngdialog-content"),
                                e.isString(O.height) ? A.style.height = O.height : A.style.height = O.height + "px"),
                                O.disableAnimation && T.addClass("ngdialog-disabled-animation"),
                                P = O.appendTo && e.isString(O.appendTo) ? e.element(document.querySelector(O.appendTo)) : _.body,
                                k.applyAriaAttributes(T, O),
                                O.preCloseCallback && (e.isFunction(O.preCloseCallback) ? s = O.preCloseCallback : e.isString(O.preCloseCallback) && p && (e.isFunction(p[O.preCloseCallback]) ? s = p[O.preCloseCallback] : p.$parent && e.isFunction(p.$parent[O.preCloseCallback]) ? s = p.$parent[O.preCloseCallback] : b && e.isFunction(b[O.preCloseCallback]) && (s = b[O.preCloseCallback])),
                                s && T.data("$ngDialogPreCloseCallback", s)),
                                p.closeThisDialog = function(e) {
                                    k.closeDialog(T, e)
                                }
                                ,
                                O.controller && (e.isString(O.controller) || e.isArray(O.controller) || e.isFunction(O.controller))) {
                                    var d;
                                    O.controllerAs && e.isString(O.controllerAs) && (d = O.controllerAs);
                                    var h = S(O.controller, e.extend(o, {
                                        $scope: p,
                                        $element: T
                                    }), !0, d);
                                    O.bindToController && e.extend(h.instance, {
                                        ngDialogId: p.ngDialogId,
                                        ngDialogData: p.ngDialogData,
                                        closeThisDialog: p.closeThisDialog,
                                        confirm: p.confirm
                                    }),
                                    "function" == typeof h ? T.data("$ngDialogControllerController", h()) : T.data("$ngDialogControllerController", h)
                                }
                                if (w(function() {
                                    var e = document.querySelectorAll(".ngdialog");
                                    k.deactivateAll(e),
                                    m(T)(p);
                                    var t = x.innerWidth - _.body.prop("clientWidth");
                                    _.html.addClass(O.bodyClassName),
                                    _.body.addClass(O.bodyClassName);
                                    var n = t - (x.innerWidth - _.body.prop("clientWidth"));
                                    n > 0 && k.setBodyPadding(n),
                                    P.append(T),
                                    k.activate(T),
                                    O.trapFocus && k.autoFocus(T),
                                    O.name ? b.$broadcast("ngDialog.opened", {
                                        dialog: T,
                                        name: O.name
                                    }) : b.$broadcast("ngDialog.opened", T)
                                }),
                                u || (_.body.bind("keydown", k.onDocumentKeydown),
                                u = !0),
                                O.closeByNavigation) {
                                    var g = k.getRouterLocationEventName();
                                    b.$on(g, function(e) {
                                        !1 === k.closeDialog(T) && e.preventDefault()
                                    })
                                }
                                return O.preserveFocus && T.data("$ngDialogPreviousFocus", document.activeElement),
                                r = function(e) {
                                    var t = !!O.closeByDocument && n(e.target).hasClass("ngdialog-overlay")
                                      , r = n(e.target).hasClass("ngdialog-close");
                                    (t || r) && E.close(T.attr("id"), r ? "$closeButton" : "$document")
                                }
                                ,
                                void 0 !== x.Hammer ? (p.hammerTime = x.Hammer(T[0])).on("tap", r) : T.bind("click", r),
                                f += 1,
                                E
                            }),
                            {
                                id: a,
                                closePromise: s.promise,
                                close: function(e) {
                                    k.closeDialog(T, e)
                                }
                            }
                        }
                        function D(t, n) {
                            return (n = n || {}).headers = n.headers || {},
                            e.extend(n.headers, {
                                Accept: "text/html"
                            }),
                            b.$broadcast("ngDialog.templateLoading", t),
                            y.get(t, n).then(function(e) {
                                return b.$broadcast("ngDialog.templateLoaded", t),
                                e.data || ""
                            })
                        }
                    },
                    openConfirm: function(r) {
                        var i = v.defer()
                          , o = e.copy(t);
                        r = r || {},
                        void 0 !== o.data && (void 0 === r.data && (r.data = {}),
                        r.data = e.merge(e.copy(o.data), r.data)),
                        e.extend(o, r),
                        o.scope = e.isObject(o.scope) ? o.scope.$new() : b.$new(),
                        o.scope.confirm = function(e) {
                            i.resolve(e);
                            var t = n(document.getElementById(a.id));
                            k.performCloseDialog(t, e)
                        }
                        ;
                        var a = E.open(o);
                        if (a)
                            return a.closePromise.then(function(e) {
                                return e ? i.reject(e.value) : i.reject()
                            }),
                            i.promise
                    },
                    isOpen: function(e) {
                        return n(document.getElementById(e)).length > 0
                    },
                    close: function(e, t) {
                        var r = n(document.getElementById(e));
                        if (r.length)
                            k.closeDialog(r, t);
                        else if ("$escape" === e) {
                            var i = l[l.length - 1];
                            (r = n(document.getElementById(i))).data("$ngDialogOptions").closeByEscape && k.closeDialog(r, "$escape")
                        } else
                            E.closeAll(t);
                        return E
                    },
                    closeAll: function(e) {
                        for (var t = document.querySelectorAll(".ngdialog"), r = t.length - 1; r >= 0; r--) {
                            var i = t[r];
                            k.closeDialog(n(i), e)
                        }
                    },
                    getOpenDialogs: function() {
                        return l
                    },
                    getDefaults: function() {
                        return t
                    }
                };
                return e.forEach(["html", "body"], function(e) {
                    if (_[e] = p.find(e),
                    s[e]) {
                        var t = k.getRouterLocationEventName();
                        b.$on(t, function() {
                            _[e] = p.find(e)
                        })
                    }
                }),
                E
            }
            ]
        }),
        t.directive("ngDialog", ["ngDialog", function(t) {
            return {
                restrict: "A",
                scope: {
                    ngDialogScope: "="
                },
                link: function(n, r, i) {
                    r.on("click", function(r) {
                        r.preventDefault();
                        var o = e.isDefined(n.ngDialogScope) ? n.ngDialogScope : "noScope";
                        e.isDefined(i.ngDialogClosePrevious) && t.close(i.ngDialogClosePrevious);
                        var a = t.getDefaults();
                        t.open({
                            template: i.ngDialog,
                            className: i.ngDialogClass || a.className,
                            appendClassName: i.ngDialogAppendClass,
                            controller: i.ngDialogController,
                            controllerAs: i.ngDialogControllerAs,
                            bindToController: i.ngDialogBindToController,
                            disableAnimation: i.ngDialogDisableAnimation,
                            scope: o,
                            data: i.ngDialogData,
                            showClose: "false" !== i.ngDialogShowClose && ("true" === i.ngDialogShowClose || a.showClose),
                            closeByDocument: "false" !== i.ngDialogCloseByDocument && ("true" === i.ngDialogCloseByDocument || a.closeByDocument),
                            closeByEscape: "false" !== i.ngDialogCloseByEscape && ("true" === i.ngDialogCloseByEscape || a.closeByEscape),
                            overlay: "false" !== i.ngDialogOverlay && ("true" === i.ngDialogOverlay || a.overlay),
                            preCloseCallback: i.ngDialogPreCloseCallback || a.preCloseCallback,
                            bodyClassName: i.ngDialogBodyClass || a.bodyClassName
                        })
                    })
                }
            }
        }
        ]),
        t
    }
    ,
    void 0 !== e && e.exports ? ("undefined" == typeof angular ? a(n(16)) : a(angular),
    e.exports = "ngDialog") : (i = [n(16)],
    void 0 === (o = "function" == typeof (r = a) ? r.apply(t, i) : r) || (e.exports = o))
}
, function(e, t) {
    angular.module("Scope.safeApply", []).run(["$rootScope", function(e) {
        e.$safeApply = function() {
            var e, t, n = !1;
            if (1 == arguments.length) {
                var r = arguments[0];
                "function" == typeof r ? t = r : e = r
            } else
                e = arguments[0],
                t = arguments[1],
                3 == arguments.length && (n = !!arguments[2]);
            e = e || this,
            t = t || function() {}
            ,
            n || !e.$$phase ? e.$apply ? e.$apply(t) : e.apply(t) : t()
        }
    }
    ])
}
, function(e, t, n) {
    (function(n) {
        /**
 * oclazyload - Load modules on demand (lazy load) with angularJS
 * @version v1.0.10
 * @link https://github.com/ocombe/ocLazyLoad
 * @license MIT
 * @author Olivier Combe <olivier.combe@gmail.com>
 */
        !function(n, r) {
            "use strict";
            var i = ["ng", "oc.lazyLoad"]
              , o = {}
              , a = []
              , s = []
              , c = []
              , l = []
              , u = n.noop
              , d = {}
              , f = [];
            n.module("oc.lazyLoad", ["ng"]).provider("$ocLazyLoad", ["$controllerProvider", "$provide", "$compileProvider", "$filterProvider", "$injector", "$animateProvider", function(e, t, h, m, v, y) {
                function b(e, t, r) {
                    if (t) {
                        var o, a, s, l = [];
                        for (o = t.length - 1; o >= 0; o--)
                            if (a = t[o],
                            n.isString(a) || (a = S(a)),
                            a && -1 === f.indexOf(a) && (!_[a] || -1 !== c.indexOf(a))) {
                                var h = -1 === i.indexOf(a);
                                if (s = g(a),
                                h && (i.push(a),
                                b(e, s.requires, r)),
                                s._runBlocks.length > 0)
                                    for (d[a] = []; s._runBlocks.length > 0; )
                                        d[a].push(s._runBlocks.shift());
                                n.isDefined(d[a]) && (h || r.rerun) && (l = l.concat(d[a])),
                                x(e, s._invokeQueue, a, r.reconfig),
                                x(e, s._configBlocks, a, r.reconfig),
                                u(h ? "ocLazyLoad.moduleLoaded" : "ocLazyLoad.moduleReloaded", a),
                                t.pop(),
                                f.push(a)
                            }
                        var p = e.getInstanceInjector();
                        n.forEach(l, function(e) {
                            p.invoke(e)
                        })
                    }
                }
                function w(e, t) {
                    function r(e, t) {
                        var r, o = !0;
                        return t.length && (r = i(e),
                        n.forEach(t, function(e) {
                            o = o && i(e) !== r
                        })),
                        o
                    }
                    function i(e) {
                        return n.isArray(e) ? $(e.toString()) : n.isObject(e) ? $(O(e)) : n.isDefined(e) && null !== e ? $(e.toString()) : e
                    }
                    var a = e[2][0]
                      , s = e[1]
                      , c = !1;
                    n.isUndefined(o[t]) && (o[t] = {}),
                    n.isUndefined(o[t][s]) && (o[t][s] = {});
                    var l = function(e, n) {
                        o[t][s].hasOwnProperty(e) || (o[t][s][e] = []),
                        r(n, o[t][s][e]) && (c = !0,
                        o[t][s][e].push(n),
                        u("ocLazyLoad.componentLoaded", [t, s, e]))
                    };
                    if (n.isString(a))
                        l(a, e[2][1]);
                    else {
                        if (!n.isObject(a))
                            return !1;
                        n.forEach(a, function(e, t) {
                            n.isString(e) ? l(e, a[1]) : l(t, e)
                        })
                    }
                    return c
                }
                function x(e, t, r, i) {
                    var o, s, c, l;
                    if (t)
                        for (o = 0,
                        s = t.length; s > o; o++)
                            if (c = t[o],
                            n.isArray(c)) {
                                if (null !== e) {
                                    if (!e.hasOwnProperty(c[0]))
                                        throw new Error("unsupported provider " + c[0]);
                                    l = e[c[0]]
                                }
                                var u = w(c, r);
                                if ("invoke" !== c[1])
                                    u && n.isDefined(l) && l[c[1]].apply(l, c[2]);
                                else {
                                    var d = function(e) {
                                        var t = a.indexOf(r + "-" + e);
                                        (-1 === t || i) && (-1 === t && a.push(r + "-" + e),
                                        n.isDefined(l) && l[c[1]].apply(l, c[2]))
                                    };
                                    if (n.isFunction(c[2][0]))
                                        d(c[2][0]);
                                    else if (n.isArray(c[2][0]))
                                        for (var f = 0, h = c[2][0].length; h > f; f++)
                                            n.isFunction(c[2][0][f]) && d(c[2][0][f])
                                }
                            }
                }
                function S(e) {
                    var t = null;
                    return n.isString(e) ? t = e : n.isObject(e) && e.hasOwnProperty("name") && n.isString(e.name) && (t = e.name),
                    t
                }
                function C(e) {
                    if (!n.isString(e))
                        return !1;
                    try {
                        return g(e)
                    } catch (e) {
                        if (/No module/.test(e) || e.message.indexOf("$injector:nomod") > -1)
                            return !1
                    }
                }
                var _ = {}
                  , k = {
                    $controllerProvider: e,
                    $compileProvider: h,
                    $filterProvider: m,
                    $provide: t,
                    $injector: v,
                    $animateProvider: y
                }
                  , E = !1
                  , T = !1
                  , P = []
                  , A = {};
                P.push = function(e) {
                    -1 === this.indexOf(e) && Array.prototype.push.apply(this, arguments)
                }
                ,
                this.config = function(e) {
                    n.isDefined(e.modules) && (n.isArray(e.modules) ? n.forEach(e.modules, function(e) {
                        _[e.name] = e
                    }) : _[e.modules.name] = e.modules),
                    n.isDefined(e.debug) && (E = e.debug),
                    n.isDefined(e.events) && (T = e.events)
                }
                ,
                this._init = function(e) {
                    if (0 === s.length) {
                        var t = [e]
                          , o = ["ng:app", "ng-app", "x-ng-app", "data-ng-app"]
                          , a = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/
                          , c = function(e) {
                            return e && t.push(e)
                        };
                        n.forEach(o, function(t) {
                            o[t] = !0,
                            c(document.getElementById(t)),
                            t = t.replace(":", "\\:"),
                            void 0 !== e[0] && e[0].querySelectorAll && (n.forEach(e[0].querySelectorAll("." + t), c),
                            n.forEach(e[0].querySelectorAll("." + t + "\\:"), c),
                            n.forEach(e[0].querySelectorAll("[" + t + "]"), c))
                        }),
                        n.forEach(t, function(t) {
                            if (0 === s.length) {
                                var r = " " + e.className + " "
                                  , i = a.exec(r);
                                i ? s.push((i[2] || "").replace(/\s+/g, ",")) : n.forEach(t.attributes, function(e) {
                                    0 === s.length && o[e.name] && s.push(e.value)
                                })
                            }
                        })
                    }
                    0 !== s.length || (r.jasmine || r.mocha) && n.isDefined(n.mock) || console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");
                    n.forEach(s, function(e) {
                        !function e(t) {
                            if (-1 === i.indexOf(t)) {
                                i.push(t);
                                var r = n.module(t);
                                x(null, r._invokeQueue, t),
                                x(null, r._configBlocks, t),
                                n.forEach(r.requires, e)
                            }
                        }(e)
                    }),
                    s = [],
                    l.pop()
                }
                ;
                var O = function(e) {
                    try {
                        return JSON.stringify(e)
                    } catch (r) {
                        var t = [];
                        return JSON.stringify(e, function(e, r) {
                            if (n.isObject(r) && null !== r) {
                                if (-1 !== t.indexOf(r))
                                    return;
                                t.push(r)
                            }
                            return r
                        })
                    }
                }
                  , $ = function(e) {
                    var t, n, r = 0;
                    if (0 == e.length)
                        return r;
                    for (t = 0,
                    n = e.length; n > t; t++)
                        r = (r << 5) - r + e.charCodeAt(t),
                        r |= 0;
                    return r
                };
                this.$get = ["$log", "$rootElement", "$rootScope", "$cacheFactory", "$q", function(e, t, r, a, c) {
                    function d(t) {
                        var n = c.defer();
                        return e.error(t.message),
                        n.reject(t),
                        n.promise
                    }
                    var h, m = a("ocLazyLoad");
                    return E || ((e = {}).error = n.noop,
                    e.warn = n.noop,
                    e.info = n.noop),
                    k.getInstanceInjector = function() {
                        return h || (h = t.data("$injector") || n.injector())
                    }
                    ,
                    {
                        _broadcast: u = function(t, n) {
                            T && r.$broadcast(t, n),
                            E && e.info(t, n)
                        }
                        ,
                        _$log: e,
                        _getFilesCache: function() {
                            return m
                        },
                        toggleWatch: function(e) {
                            e ? l.push(!0) : l.pop()
                        },
                        getModuleConfig: function(e) {
                            if (!n.isString(e))
                                throw new Error("You need to give the name of the module to get");
                            return _[e] ? n.copy(_[e]) : null
                        },
                        setModuleConfig: function(e) {
                            if (!n.isObject(e))
                                throw new Error("You need to give the module config object to set");
                            return _[e.name] = e,
                            e
                        },
                        getModules: function() {
                            return i
                        },
                        isLoaded: function(e) {
                            var t = function(e) {
                                var t = i.indexOf(e) > -1;
                                return t || (t = !!C(e)),
                                t
                            };
                            if (n.isString(e) && (e = [e]),
                            n.isArray(e)) {
                                var r, o;
                                for (r = 0,
                                o = e.length; o > r; r++)
                                    if (!t(e[r]))
                                        return !1;
                                return !0
                            }
                            throw new Error("You need to define the module(s) name(s)")
                        },
                        _getModuleName: S,
                        _getModule: function(e) {
                            try {
                                return g(e)
                            } catch (t) {
                                throw (/No module/.test(t) || t.message.indexOf("$injector:nomod") > -1) && (t.message = 'The module "' + O(e) + '" that you are trying to load does not exist. ' + t.message),
                                t
                            }
                        },
                        moduleExists: C,
                        _loadDependencies: function(e, t) {
                            var r, i, o, a = [], s = this;
                            if (null === (e = s._getModuleName(e)))
                                return c.when();
                            try {
                                r = s._getModule(e)
                            } catch (e) {
                                return d(e)
                            }
                            return i = s.getRequires(r),
                            n.forEach(i, function(r) {
                                if (n.isString(r)) {
                                    var i = s.getModuleConfig(r);
                                    if (null === i)
                                        return void P.push(r);
                                    r = i,
                                    i.name = void 0
                                }
                                if (s.moduleExists(r.name))
                                    return 0 !== (o = r.files.filter(function(e) {
                                        return s.getModuleConfig(r.name).files.indexOf(e) < 0
                                    })).length && s._$log.warn('Module "', e, '" attempted to redefine configuration for dependency. "', r.name, '"\n Additional Files Loaded:', o),
                                    n.isDefined(s.filesLoader) ? void a.push(s.filesLoader(r, t).then(function() {
                                        return s._loadDependencies(r)
                                    })) : d(new Error("Error: New dependencies need to be loaded from external files (" + r.files + "), but no loader has been defined."));
                                if (n.isArray(r)) {
                                    var c = [];
                                    n.forEach(r, function(e) {
                                        var t = s.getModuleConfig(e);
                                        null === t ? c.push(e) : t.files && (c = c.concat(t.files))
                                    }),
                                    c.length > 0 && (r = {
                                        files: c
                                    })
                                } else
                                    n.isObject(r) && r.hasOwnProperty("name") && r.name && (s.setModuleConfig(r),
                                    P.push(r.name));
                                if (n.isDefined(r.files) && 0 !== r.files.length) {
                                    if (!n.isDefined(s.filesLoader))
                                        return d(new Error('Error: the module "' + r.name + '" is defined in external files (' + r.files + "), but no loader has been defined."));
                                    a.push(s.filesLoader(r, t).then(function() {
                                        return s._loadDependencies(r)
                                    }))
                                }
                            }),
                            c.all(a)
                        },
                        inject: function(e) {
                            var t = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1]
                              , r = !(arguments.length <= 2 || void 0 === arguments[2]) && arguments[2]
                              , i = this
                              , o = c.defer();
                            if (n.isDefined(e) && null !== e) {
                                if (n.isArray(e)) {
                                    var a = [];
                                    return n.forEach(e, function(e) {
                                        a.push(i.inject(e, t, r))
                                    }),
                                    c.all(a)
                                }
                                i._addToLoadList(i._getModuleName(e), !0, r)
                            }
                            if (s.length > 0) {
                                var l = s.slice();
                                !function e(n) {
                                    P.push(n),
                                    A[n] = o.promise,
                                    i._loadDependencies(n, t).then(function() {
                                        try {
                                            f = [],
                                            b(k, P, t)
                                        } catch (e) {
                                            return i._$log.error(e.message),
                                            void o.reject(e)
                                        }
                                        s.length > 0 ? e(s.shift()) : o.resolve(l)
                                    }, function(e) {
                                        o.reject(e)
                                    })
                                }(s.shift())
                            } else {
                                if (t && t.name && A[t.name])
                                    return A[t.name];
                                o.resolve()
                            }
                            return o.promise
                        },
                        getRequires: function(e) {
                            var t = [];
                            return n.forEach(e.requires, function(e) {
                                -1 === i.indexOf(e) && t.push(e)
                            }),
                            t
                        },
                        _invokeQueue: x,
                        _registerInvokeList: w,
                        _register: b,
                        _addToLoadList: p,
                        _unregister: function(e) {
                            n.isDefined(e) && n.isArray(e) && n.forEach(e, function(e) {
                                o[e] = void 0
                            })
                        }
                    }
                }
                ],
                this._init(n.element(r.document))
            }
            ]);
            var h = n.bootstrap;
            n.bootstrap = function(e, t, r) {
                return i = ["ng", "oc.lazyLoad"],
                o = {},
                a = [],
                s = [],
                c = [],
                l = [],
                u = n.noop,
                d = {},
                f = [],
                n.forEach(t.slice(), function(e) {
                    p(e, !0, !0)
                }),
                h(e, t, r)
            }
            ;
            var p = function(e, t, r) {
                (l.length > 0 || t) && n.isString(e) && -1 === s.indexOf(e) && (s.push(e),
                r && c.push(e))
            }
              , g = n.module;
            n.module = function(e, t, n) {
                return p(e, !1, !0),
                g(e, t, n)
            }
            ,
            void 0 !== e && void 0 !== t && e.exports === t && (e.exports = "oc.lazyLoad")
        }(angular, window),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").directive("ocLazyLoad", ["$ocLazyLoad", "$compile", "$animate", "$parse", "$timeout", function(t, n, r, i, o) {
                return {
                    restrict: "A",
                    terminal: !0,
                    priority: 1e3,
                    compile: function(o, a) {
                        var s = o[0].innerHTML;
                        return o.html(""),
                        function(o, a, c) {
                            var l = i(c.ocLazyLoad);
                            o.$watch(function() {
                                return l(o) || c.ocLazyLoad
                            }, function(i) {
                                e.isDefined(i) && t.load(i).then(function() {
                                    r.enter(s, a),
                                    n(a.contents())(o)
                                })
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(angular),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").config(["$provide", function(t) {
                t.decorator("$ocLazyLoad", ["$delegate", "$q", "$window", "$interval", function(t, r, i, o) {
                    var a = !1
                      , s = i.document.getElementsByTagName("head")[0] || i.document.getElementsByTagName("body")[0];
                    return t.buildElement = function(c, l, u) {
                        var d, f, h = r.defer(), p = t._getFilesCache(), g = function(e) {
                            var t = (new Date).getTime();
                            return e.indexOf("?") >= 0 ? "&" === e.substring(0, e.length - 1) ? e + "_dc=" + t : e + "&_dc=" + t : e + "?_dc=" + t
                        };
                        switch (e.isUndefined(p.get(l)) && p.put(l, h.promise),
                        c) {
                        case "css":
                            (d = i.document.createElement("link")).type = "text/css",
                            d.rel = "stylesheet",
                            d.href = !1 === u.cache ? g(l) : l;
                            break;
                        case "js":
                            (d = i.document.createElement("script")).src = !1 === u.cache ? g(l) : l;
                            break;
                        default:
                            p.remove(l),
                            h.reject(new Error('Requested type "' + c + '" is not known. Could not inject "' + l + '"'))
                        }
                        d.onload = d.onreadystatechange = function(e) {
                            d.readyState && !/^c|loade/.test(d.readyState) || f || (d.onload = d.onreadystatechange = null,
                            f = 1,
                            t._broadcast("ocLazyLoad.fileLoaded", l),
                            h.resolve(d))
                        }
                        ,
                        d.onerror = function() {
                            p.remove(l),
                            h.reject(new Error("Unable to load " + l))
                        }
                        ,
                        d.async = u.serie ? 0 : 1;
                        var m = s.lastChild;
                        if (u.insertBefore) {
                            var v = e.element(e.isDefined(n) ? u.insertBefore : document.querySelector(u.insertBefore));
                            v && v.length > 0 && (m = v[0])
                        }
                        if (m.parentNode.insertBefore(d, m),
                        "css" == c) {
                            var y = i.navigator.userAgent.toLowerCase();
                            if (y.indexOf("phantomjs/1.9") > -1)
                                a = !0;
                            else if (/iP(hone|od|ad)/.test(i.navigator.platform)) {
                                var b = i.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
                                  , w = parseFloat([parseInt(b[1], 10), parseInt(b[2], 10), parseInt(b[3] || 0, 10)].join("."));
                                a = 6 > w
                            } else if (y.indexOf("android") > -1) {
                                var x = parseFloat(y.slice(y.indexOf("android") + 8));
                                a = 4.4 > x
                            } else if (y.indexOf("safari") > -1) {
                                var S = y.match(/version\/([\.\d]+)/i);
                                a = S && S[1] && parseFloat(S[1]) < 6
                            }
                            if (a)
                                var C = 1e3
                                  , _ = o(function() {
                                    try {
                                        d.sheet.cssRules,
                                        o.cancel(_),
                                        d.onload()
                                    } catch (e) {
                                        --C <= 0 && d.onerror()
                                    }
                                }, 20)
                        }
                        return h.promise
                    }
                    ,
                    t
                }
                ])
            }
            ])
        }(angular),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").config(["$provide", function(t) {
                t.decorator("$ocLazyLoad", ["$delegate", "$q", function(t, n) {
                    return t.filesLoader = function(r) {
                        var i = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1]
                          , o = []
                          , a = []
                          , s = []
                          , c = []
                          , l = null
                          , u = t._getFilesCache();
                        t.toggleWatch(!0),
                        e.extend(i, r);
                        var d = function(n) {
                            var r, d = null;
                            if (e.isObject(n) && (d = n.type,
                            n = n.path),
                            l = u.get(n),
                            e.isUndefined(l) || !1 === i.cache) {
                                if (null !== (r = /^(css|less|html|htm|js)?(?=!)/.exec(n)) && (d = r[1],
                                n = n.substr(r[1].length + 1, n.length)),
                                !d)
                                    if (null !== (r = /[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(n)))
                                        d = r[1];
                                    else {
                                        if (t.jsLoader.hasOwnProperty("ocLazyLoadLoader") || !t.jsLoader.hasOwnProperty("requirejs"))
                                            return void t._$log.error("File type could not be determined. " + n);
                                        d = "js"
                                    }
                                "css" !== d && "less" !== d || -1 !== o.indexOf(n) ? "html" !== d && "htm" !== d || -1 !== a.indexOf(n) ? "js" === d || -1 === s.indexOf(n) ? s.push(n) : t._$log.error("File type is not valid. " + n) : a.push(n) : o.push(n)
                            } else
                                l && c.push(l)
                        };
                        if (i.serie ? d(i.files.shift()) : e.forEach(i.files, function(e) {
                            d(e)
                        }),
                        o.length > 0) {
                            var f = n.defer();
                            t.cssLoader(o, function(n) {
                                e.isDefined(n) && t.cssLoader.hasOwnProperty("ocLazyLoadLoader") ? (t._$log.error(n),
                                f.reject(n)) : f.resolve()
                            }, i),
                            c.push(f.promise)
                        }
                        if (a.length > 0) {
                            var h = n.defer();
                            t.templatesLoader(a, function(n) {
                                e.isDefined(n) && t.templatesLoader.hasOwnProperty("ocLazyLoadLoader") ? (t._$log.error(n),
                                h.reject(n)) : h.resolve()
                            }, i),
                            c.push(h.promise)
                        }
                        if (s.length > 0) {
                            var p = n.defer();
                            t.jsLoader(s, function(n) {
                                e.isDefined(n) && (t.jsLoader.hasOwnProperty("ocLazyLoadLoader") || t.jsLoader.hasOwnProperty("requirejs")) ? (t._$log.error(n),
                                p.reject(n)) : p.resolve()
                            }, i),
                            c.push(p.promise)
                        }
                        if (0 === c.length) {
                            var g = n.defer()
                              , m = "Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";
                            return t._$log.error(m),
                            g.reject(m),
                            g.promise
                        }
                        return i.serie && i.files.length > 0 ? n.all(c).then(function() {
                            return t.filesLoader(r, i)
                        }) : n.all(c).finally(function(e) {
                            return t.toggleWatch(!1),
                            e
                        })
                    }
                    ,
                    t.load = function(r) {
                        var i, o = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], a = this, s = null, c = [], l = n.defer(), u = e.copy(r), d = e.copy(o);
                        if (e.isArray(u))
                            return e.forEach(u, function(e) {
                                c.push(a.load(e, d))
                            }),
                            n.all(c).then(function(e) {
                                l.resolve(e)
                            }, function(e) {
                                l.reject(e)
                            }),
                            l.promise;
                        if (e.isString(u) ? (s = a.getModuleConfig(u)) || (s = {
                            files: [u]
                        }) : e.isObject(u) && (s = e.isDefined(u.path) && e.isDefined(u.type) ? {
                            files: [u]
                        } : a.setModuleConfig(u)),
                        null === s)
                            return i = 'Module "' + (a._getModuleName(u) || "unknown") + '" is not configured, cannot load.',
                            t._$log.error(i),
                            l.reject(new Error(i)),
                            l.promise;
                        e.isDefined(s.template) && (e.isUndefined(s.files) && (s.files = []),
                        e.isString(s.template) ? s.files.push(s.template) : e.isArray(s.template) && s.files.concat(s.template));
                        var f = e.extend({}, d, s);
                        return e.isUndefined(s.files) && e.isDefined(s.name) && t.moduleExists(s.name) ? t.inject(s.name, f, !0) : (t.filesLoader(s, f).then(function() {
                            t.inject(null, f).then(function(e) {
                                l.resolve(e)
                            }, function(e) {
                                l.reject(e)
                            })
                        }, function(e) {
                            l.reject(e)
                        }),
                        l.promise)
                    }
                    ,
                    t
                }
                ])
            }
            ])
        }(angular),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").config(["$provide", function(t) {
                t.decorator("$ocLazyLoad", ["$delegate", "$q", function(t, n) {
                    return t.cssLoader = function(r, i, o) {
                        var a = [];
                        e.forEach(r, function(e) {
                            a.push(t.buildElement("css", e, o))
                        }),
                        n.all(a).then(function() {
                            i()
                        }, function(e) {
                            i(e)
                        })
                    }
                    ,
                    t.cssLoader.ocLazyLoadLoader = !0,
                    t
                }
                ])
            }
            ])
        }(angular),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").config(["$provide", function(t) {
                t.decorator("$ocLazyLoad", ["$delegate", "$q", function(t, n) {
                    return t.jsLoader = function(r, i, o) {
                        var a = [];
                        e.forEach(r, function(e) {
                            a.push(t.buildElement("js", e, o))
                        }),
                        n.all(a).then(function() {
                            i()
                        }, function(e) {
                            i(e)
                        })
                    }
                    ,
                    t.jsLoader.ocLazyLoadLoader = !0,
                    t
                }
                ])
            }
            ])
        }(angular),
        function(e) {
            "use strict";
            e.module("oc.lazyLoad").config(["$provide", function(t) {
                t.decorator("$ocLazyLoad", ["$delegate", "$templateCache", "$q", "$http", function(t, n, r, i) {
                    return t.templatesLoader = function(o, a, s) {
                        var c = []
                          , l = t._getFilesCache();
                        return e.forEach(o, function(t) {
                            var o = r.defer();
                            c.push(o.promise),
                            i.get(t, s).then(function(r) {
                                var i = r.data;
                                e.isString(i) && i.length > 0 && e.forEach(e.element(i), function(e) {
                                    "SCRIPT" === e.nodeName && "text/ng-template" === e.type && n.put(e.id, e.innerHTML)
                                }),
                                e.isUndefined(l.get(t)) && l.put(t, !0),
                                o.resolve()
                            }).catch(function(e) {
                                o.reject(new Error('Unable to load template file "' + t + '": ' + e.data))
                            })
                        }),
                        r.all(c).then(function() {
                            a()
                        }, function(e) {
                            a(e)
                        })
                    }
                    ,
                    t.templatesLoader.ocLazyLoadLoader = !0,
                    t
                }
                ])
            }
            ])
        }(angular),
        Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
            var n;
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var r = Object(this)
              , i = r.length >>> 0;
            if (0 === i)
                return -1;
            var o = +t || 0;
            if (Math.abs(o) === 1 / 0 && (o = 0),
            o >= i)
                return -1;
            for (n = Math.max(o >= 0 ? o : i - Math.abs(o), 0); i > n; ) {
                if (n in r && r[n] === e)
                    return n;
                n++
            }
            return -1
        }
        )
    }
    ).call(this, n(1))
}
, function(e, t) {
    var n = n || function(e, t) {
        var n = {}
          , r = n.lib = {}
          , i = function() {}
          , o = r.Base = {
            extend: function(e) {
                i.prototype = this;
                var t = new i;
                return e && t.mixIn(e),
                t.hasOwnProperty("init") || (t.init = function() {
                    t.$super.init.apply(this, arguments)
                }
                ),
                t.init.prototype = t,
                t.$super = this,
                t
            },
            create: function() {
                var e = this.extend();
                return e.init.apply(e, arguments),
                e
            },
            init: function() {},
            mixIn: function(e) {
                for (var t in e)
                    e.hasOwnProperty(t) && (this[t] = e[t]);
                e.hasOwnProperty("toString") && (this.toString = e.toString)
            },
            clone: function() {
                return this.init.prototype.extend(this)
            }
        }
          , a = r.WordArray = o.extend({
            init: function(e, t) {
                e = this.words = e || [],
                this.sigBytes = void 0 != t ? t : 4 * e.length
            },
            toString: function(e) {
                return (e || c).stringify(this)
            },
            concat: function(e) {
                var t = this.words
                  , n = e.words
                  , r = this.sigBytes;
                if (e = e.sigBytes,
                this.clamp(),
                r % 4)
                    for (var i = 0; i < e; i++)
                        t[r + i >>> 2] |= (n[i >>> 2] >>> 24 - i % 4 * 8 & 255) << 24 - (r + i) % 4 * 8;
                else if (n.length > 65535)
                    for (i = 0; i < e; i += 4)
                        t[r + i >>> 2] = n[i >>> 2];
                else
                    t.push.apply(t, n);
                return this.sigBytes += e,
                this
            },
            clamp: function() {
                var t = this.words
                  , n = this.sigBytes;
                t[n >>> 2] &= 4294967295 << 32 - n % 4 * 8,
                t.length = e.ceil(n / 4)
            },
            clone: function() {
                var e = o.clone.call(this);
                return e.words = this.words.slice(0),
                e
            },
            random: function(t) {
                for (var n = [], r = 0; r < t; r += 4)
                    n.push(4294967296 * e.random() | 0);
                return new a.init(n,t)
            }
        })
          , s = n.enc = {}
          , c = s.Hex = {
            stringify: function(e) {
                var t = e.words;
                e = e.sigBytes;
                for (var n = [], r = 0; r < e; r++) {
                    var i = t[r >>> 2] >>> 24 - r % 4 * 8 & 255;
                    n.push((i >>> 4).toString(16)),
                    n.push((15 & i).toString(16))
                }
                return n.join("")
            },
            parse: function(e) {
                for (var t = e.length, n = [], r = 0; r < t; r += 2)
                    n[r >>> 3] |= parseInt(e.substr(r, 2), 16) << 24 - r % 8 * 4;
                return new a.init(n,t / 2)
            }
        }
          , l = s.Latin1 = {
            stringify: function(e) {
                var t = e.words;
                e = e.sigBytes;
                for (var n = [], r = 0; r < e; r++)
                    n.push(String.fromCharCode(t[r >>> 2] >>> 24 - r % 4 * 8 & 255));
                return n.join("")
            },
            parse: function(e) {
                for (var t = e.length, n = [], r = 0; r < t; r++)
                    n[r >>> 2] |= (255 & e.charCodeAt(r)) << 24 - r % 4 * 8;
                return new a.init(n,t)
            }
        }
          , u = s.Utf8 = {
            stringify: function(e) {
                try {
                    return decodeURIComponent(escape(l.stringify(e)))
                } catch (e) {
                    throw Error("Malformed UTF-8 data")
                }
            },
            parse: function(e) {
                return l.parse(unescape(encodeURIComponent(e)))
            }
        }
          , d = r.BufferedBlockAlgorithm = o.extend({
            reset: function() {
                this._data = new a.init,
                this._nDataBytes = 0
            },
            _append: function(e) {
                "string" == typeof e && (e = u.parse(e)),
                this._data.concat(e),
                this._nDataBytes += e.sigBytes
            },
            _process: function(t) {
                var n = this._data
                  , r = n.words
                  , i = n.sigBytes
                  , o = this.blockSize
                  , s = i / (4 * o);
                if (t = (s = t ? e.ceil(s) : e.max((0 | s) - this._minBufferSize, 0)) * o,
                i = e.min(4 * t, i),
                t) {
                    for (var c = 0; c < t; c += o)
                        this._doProcessBlock(r, c);
                    c = r.splice(0, t),
                    n.sigBytes -= i
                }
                return new a.init(c,i)
            },
            clone: function() {
                var e = o.clone.call(this);
                return e._data = this._data.clone(),
                e
            },
            _minBufferSize: 0
        });
        r.Hasher = d.extend({
            cfg: o.extend(),
            init: function(e) {
                this.cfg = this.cfg.extend(e),
                this.reset()
            },
            reset: function() {
                d.reset.call(this),
                this._doReset()
            },
            update: function(e) {
                return this._append(e),
                this._process(),
                this
            },
            finalize: function(e) {
                return e && this._append(e),
                this._doFinalize()
            },
            blockSize: 16,
            _createHelper: function(e) {
                return function(t, n) {
                    return new e.init(n).finalize(t)
                }
            },
            _createHmacHelper: function(e) {
                return function(t, n) {
                    return new f.HMAC.init(e,n).finalize(t)
                }
            }
        });
        var f = n.algo = {};
        return n
    }(Math);
    !function(e) {
        function t(e, t, n, r, i, o, a) {
            return ((e = e + (t & n | ~t & r) + i + a) << o | e >>> 32 - o) + t
        }
        function r(e, t, n, r, i, o, a) {
            return ((e = e + (t & r | n & ~r) + i + a) << o | e >>> 32 - o) + t
        }
        function i(e, t, n, r, i, o, a) {
            return ((e = e + (t ^ n ^ r) + i + a) << o | e >>> 32 - o) + t
        }
        function o(e, t, n, r, i, o, a) {
            return ((e = e + (n ^ (t | ~r)) + i + a) << o | e >>> 32 - o) + t
        }
        for (var a = n, s = (l = a.lib).WordArray, c = l.Hasher, l = a.algo, u = [], d = 0; d < 64; d++)
            u[d] = 4294967296 * e.abs(e.sin(d + 1)) | 0;
        l = l.MD5 = c.extend({
            _doReset: function() {
                this._hash = new s.init([1732584193, 4023233417, 2562383102, 271733878])
            },
            _doProcessBlock: function(e, n) {
                for (var a = 0; a < 16; a++) {
                    var s = e[d = n + a];
                    e[d] = 16711935 & (s << 8 | s >>> 24) | 4278255360 & (s << 24 | s >>> 8)
                }
                a = this._hash.words;
                var c, l, d = e[n + 0], f = (s = e[n + 1],
                e[n + 2]), h = e[n + 3], p = e[n + 4], g = e[n + 5], m = e[n + 6], v = e[n + 7], y = e[n + 8], b = e[n + 9], w = e[n + 10], x = e[n + 11], S = e[n + 12], C = e[n + 13], _ = e[n + 14], k = e[n + 15], E = a[0], T = o(T = o(T = o(T = o(T = i(T = i(T = i(T = i(T = r(T = r(T = r(T = r(T = t(T = t(T = t(T = t(T = a[1], l = t(l = a[2], c = t(c = a[3], E = t(E, T, l, c, d, 7, u[0]), T, l, s, 12, u[1]), E, T, f, 17, u[2]), c, E, h, 22, u[3]), l = t(l, c = t(c, E = t(E, T, l, c, p, 7, u[4]), T, l, g, 12, u[5]), E, T, m, 17, u[6]), c, E, v, 22, u[7]), l = t(l, c = t(c, E = t(E, T, l, c, y, 7, u[8]), T, l, b, 12, u[9]), E, T, w, 17, u[10]), c, E, x, 22, u[11]), l = t(l, c = t(c, E = t(E, T, l, c, S, 7, u[12]), T, l, C, 12, u[13]), E, T, _, 17, u[14]), c, E, k, 22, u[15]), l = r(l, c = r(c, E = r(E, T, l, c, s, 5, u[16]), T, l, m, 9, u[17]), E, T, x, 14, u[18]), c, E, d, 20, u[19]), l = r(l, c = r(c, E = r(E, T, l, c, g, 5, u[20]), T, l, w, 9, u[21]), E, T, k, 14, u[22]), c, E, p, 20, u[23]), l = r(l, c = r(c, E = r(E, T, l, c, b, 5, u[24]), T, l, _, 9, u[25]), E, T, h, 14, u[26]), c, E, y, 20, u[27]), l = r(l, c = r(c, E = r(E, T, l, c, C, 5, u[28]), T, l, f, 9, u[29]), E, T, v, 14, u[30]), c, E, S, 20, u[31]), l = i(l, c = i(c, E = i(E, T, l, c, g, 4, u[32]), T, l, y, 11, u[33]), E, T, x, 16, u[34]), c, E, _, 23, u[35]), l = i(l, c = i(c, E = i(E, T, l, c, s, 4, u[36]), T, l, p, 11, u[37]), E, T, v, 16, u[38]), c, E, w, 23, u[39]), l = i(l, c = i(c, E = i(E, T, l, c, C, 4, u[40]), T, l, d, 11, u[41]), E, T, h, 16, u[42]), c, E, m, 23, u[43]), l = i(l, c = i(c, E = i(E, T, l, c, b, 4, u[44]), T, l, S, 11, u[45]), E, T, k, 16, u[46]), c, E, f, 23, u[47]), l = o(l, c = o(c, E = o(E, T, l, c, d, 6, u[48]), T, l, v, 10, u[49]), E, T, _, 15, u[50]), c, E, g, 21, u[51]), l = o(l, c = o(c, E = o(E, T, l, c, S, 6, u[52]), T, l, h, 10, u[53]), E, T, w, 15, u[54]), c, E, s, 21, u[55]), l = o(l, c = o(c, E = o(E, T, l, c, y, 6, u[56]), T, l, k, 10, u[57]), E, T, m, 15, u[58]), c, E, C, 21, u[59]), l = o(l, c = o(c, E = o(E, T, l, c, p, 6, u[60]), T, l, x, 10, u[61]), E, T, f, 15, u[62]), c, E, b, 21, u[63]);
                a[0] = a[0] + E | 0,
                a[1] = a[1] + T | 0,
                a[2] = a[2] + l | 0,
                a[3] = a[3] + c | 0
            },
            _doFinalize: function() {
                var t = this._data
                  , n = t.words
                  , r = 8 * this._nDataBytes
                  , i = 8 * t.sigBytes;
                n[i >>> 5] |= 128 << 24 - i % 32;
                var o = e.floor(r / 4294967296);
                for (n[15 + (i + 64 >>> 9 << 4)] = 16711935 & (o << 8 | o >>> 24) | 4278255360 & (o << 24 | o >>> 8),
                n[14 + (i + 64 >>> 9 << 4)] = 16711935 & (r << 8 | r >>> 24) | 4278255360 & (r << 24 | r >>> 8),
                t.sigBytes = 4 * (n.length + 1),
                this._process(),
                n = (t = this._hash).words,
                r = 0; r < 4; r++)
                    i = n[r],
                    n[r] = 16711935 & (i << 8 | i >>> 24) | 4278255360 & (i << 24 | i >>> 8);
                return t
            },
            clone: function() {
                var e = c.clone.call(this);
                return e._hash = this._hash.clone(),
                e
            }
        }),
        a.MD5 = c._createHelper(l),
        a.HmacMD5 = c._createHmacHelper(l)
    }(Math)
}
, function(e, t) {
    /*!
 * ngTagsInput v3.2.0
 * http://mbenford.github.io/ngTagsInput
 *
 * Copyright (c) 2013-2017 Michael Benford
 * License: MIT
 *
 * Generated at 2017-04-15 17:08:51 -0300
 */
    !function() {
        "use strict";
        var e = ["text", "email", "url"]
          , t = angular.module("ngTagsInput", []);
        t.directive("tagsInput", ["$timeout", "$document", "$window", "$q", "tagsInputConfig", "tiUtil", function(t, n, r, i, o, a) {
            function s(t) {
                return -1 !== e.indexOf(t)
            }
            return {
                restrict: "E",
                require: "ngModel",
                scope: {
                    tags: "=ngModel",
                    text: "=?",
                    templateScope: "=?",
                    tagClass: "&",
                    onTagAdding: "&",
                    onTagAdded: "&",
                    onInvalidTag: "&",
                    onTagRemoving: "&",
                    onTagRemoved: "&",
                    onTagClicked: "&"
                },
                replace: !1,
                transclude: !0,
                templateUrl: "ngTagsInput/tags-input.html",
                controller: ["$scope", "$attrs", "$element", function(e, t, n) {
                    e.events = a.simplePubSub(),
                    o.load("tagsInput", e, t, {
                        template: [String, "ngTagsInput/tag-item.html"],
                        type: [String, "text", s],
                        placeholder: [String, "Add a tag"],
                        tabindex: [Number, null],
                        removeTagSymbol: [String, String.fromCharCode(215)],
                        replaceSpacesWithDashes: [Boolean, !0],
                        minLength: [Number, 3],
                        maxLength: [Number, 9007199254740991],
                        addOnEnter: [Boolean, !0],
                        addOnSpace: [Boolean, !1],
                        addOnComma: [Boolean, !0],
                        addOnBlur: [Boolean, !0],
                        addOnPaste: [Boolean, !1],
                        pasteSplitPattern: [RegExp, /,/],
                        allowedTagsPattern: [RegExp, /.+/],
                        enableEditingLastTag: [Boolean, !1],
                        minTags: [Number, 0],
                        maxTags: [Number, 9007199254740991],
                        displayProperty: [String, "text"],
                        keyProperty: [String, ""],
                        allowLeftoverText: [Boolean, !1],
                        addFromAutocompleteOnly: [Boolean, !1],
                        spellcheck: [Boolean, !0],
                        useStrings: [Boolean, !1]
                    }),
                    e.tagList = new function(e, t, n, r) {
                        var o, s, c, l, u = {};
                        return o = function(t) {
                            return a.safeToString(t[e.displayProperty])
                        }
                        ,
                        s = function(t, n) {
                            t[e.displayProperty] = n
                        }
                        ,
                        c = function(t) {
                            var r = o(t)
                              , s = r && r.length >= e.minLength && r.length <= e.maxLength && e.allowedTagsPattern.test(r) && !a.findInObjectArray(u.items, t, e.keyProperty || e.displayProperty);
                            return i.when(s && n({
                                $tag: t
                            })).then(a.promisifyValue)
                        }
                        ,
                        l = function(e) {
                            return i.when(r({
                                $tag: e
                            })).then(a.promisifyValue)
                        }
                        ,
                        u.items = [],
                        u.addText = function(e) {
                            var t = {};
                            return s(t, e),
                            u.add(t)
                        }
                        ,
                        u.add = function(n) {
                            var r = o(n);
                            return e.replaceSpacesWithDashes && (r = a.replaceSpacesWithDashes(r)),
                            s(n, r),
                            c(n).then(function() {
                                u.items.push(n),
                                t.trigger("tag-added", {
                                    $tag: n
                                })
                            }).catch(function() {
                                r && t.trigger("invalid-tag", {
                                    $tag: n
                                })
                            })
                        }
                        ,
                        u.remove = function(e) {
                            var n = u.items[e];
                            return l(n).then(function() {
                                return u.items.splice(e, 1),
                                u.clearSelection(),
                                t.trigger("tag-removed", {
                                    $tag: n
                                }),
                                n
                            })
                        }
                        ,
                        u.select = function(e) {
                            e < 0 ? e = u.items.length - 1 : e >= u.items.length && (e = 0),
                            u.index = e,
                            u.selected = u.items[e]
                        }
                        ,
                        u.selectPrior = function() {
                            u.select(--u.index)
                        }
                        ,
                        u.selectNext = function() {
                            u.select(++u.index)
                        }
                        ,
                        u.removeSelected = function() {
                            return u.remove(u.index)
                        }
                        ,
                        u.clearSelection = function() {
                            u.selected = null,
                            u.index = -1
                        }
                        ,
                        u.getItems = function() {
                            return e.useStrings ? u.items.map(o) : u.items
                        }
                        ,
                        u.clearSelection(),
                        u
                    }
                    (e.options,e.events,a.handleUndefinedResult(e.onTagAdding, !0),a.handleUndefinedResult(e.onTagRemoving, !0)),
                    this.registerAutocomplete = function() {
                        return n.find("input"),
                        {
                            addTag: function(t) {
                                return e.tagList.add(t)
                            },
                            getTags: function() {
                                return e.tagList.items
                            },
                            getCurrentTagText: function() {
                                return e.newTag.text()
                            },
                            getOptions: function() {
                                return e.options
                            },
                            getTemplateScope: function() {
                                return e.templateScope
                            },
                            on: function(t, n) {
                                return e.events.on(t, n, !0),
                                this
                            }
                        }
                    }
                    ,
                    this.registerTagItem = function() {
                        return {
                            getOptions: function() {
                                return e.options
                            },
                            removeTag: function(t) {
                                e.disabled || e.tagList.remove(t)
                            }
                        }
                    }
                }
                ],
                link: function(e, i, o, s) {
                    var c, l, u = [13, 188, 32, 8, 46, 37, 39], d = e.tagList, f = e.events, h = e.options, p = i.find("input"), g = ["minTags", "maxTags", "allowLeftoverText"];
                    c = function() {
                        s.$setValidity("maxTags", d.items.length <= h.maxTags),
                        s.$setValidity("minTags", d.items.length >= h.minTags),
                        s.$setValidity("leftoverText", !(!e.hasFocus && !h.allowLeftoverText && e.newTag.text()))
                    }
                    ,
                    l = function() {
                        t(function() {
                            p[0].focus()
                        })
                    }
                    ,
                    s.$isEmpty = function(e) {
                        return !e || !e.length
                    }
                    ,
                    e.newTag = {
                        text: function(t) {
                            if (!angular.isDefined(t))
                                return e.text || "";
                            e.text = t,
                            f.trigger("input-change", t)
                        },
                        invalid: null
                    },
                    e.track = function(e) {
                        return e[h.keyProperty || h.displayProperty]
                    }
                    ,
                    e.getTagClass = function(t, n) {
                        var r = t === d.selected;
                        return [e.tagClass({
                            $tag: t,
                            $index: n,
                            $selected: r
                        }), {
                            selected: r
                        }]
                    }
                    ,
                    e.$watch("tags", function(t) {
                        if (t) {
                            if (d.items = a.makeObjectArray(t, h.displayProperty),
                            h.useStrings)
                                return;
                            e.tags = d.items
                        } else
                            d.items = []
                    }),
                    e.$watch("tags.length", function() {
                        c(),
                        s.$validate()
                    }),
                    o.$observe("disabled", function(t) {
                        e.disabled = t
                    }),
                    e.eventHandlers = {
                        input: {
                            keydown: function(e) {
                                f.trigger("input-keydown", e)
                            },
                            focus: function() {
                                e.hasFocus || (e.hasFocus = !0,
                                f.trigger("input-focus"))
                            },
                            blur: function() {
                                t(function() {
                                    var t = n.prop("activeElement")
                                      , r = t === p[0]
                                      , o = i[0].contains(t);
                                    !r && o || (e.hasFocus = !1,
                                    f.trigger("input-blur"))
                                })
                            },
                            paste: function(e) {
                                e.getTextData = function() {
                                    var t = e.clipboardData || e.originalEvent && e.originalEvent.clipboardData;
                                    return t ? t.getData("text/plain") : r.clipboardData.getData("Text")
                                }
                                ,
                                f.trigger("input-paste", e)
                            }
                        },
                        host: {
                            click: function() {
                                e.disabled || l()
                            }
                        },
                        tag: {
                            click: function(e) {
                                f.trigger("tag-clicked", {
                                    $tag: e
                                })
                            }
                        }
                    },
                    f.on("tag-added", e.onTagAdded).on("invalid-tag", e.onInvalidTag).on("tag-removed", e.onTagRemoved).on("tag-clicked", e.onTagClicked).on("tag-added", function() {
                        e.newTag.text("")
                    }).on("tag-added tag-removed", function() {
                        e.tags = d.getItems(),
                        s.$setDirty(),
                        l()
                    }).on("invalid-tag", function() {
                        e.newTag.invalid = !0
                    }).on("option-change", function(e) {
                        -1 !== g.indexOf(e.name) && c()
                    }).on("input-change", function() {
                        d.clearSelection(),
                        e.newTag.invalid = null
                    }).on("input-focus", function() {
                        i.triggerHandler("focus"),
                        s.$setValidity("leftoverText", !0)
                    }).on("input-blur", function() {
                        h.addOnBlur && !h.addFromAutocompleteOnly && d.addText(e.newTag.text()),
                        i.triggerHandler("blur"),
                        c()
                    }).on("input-keydown", function(t) {
                        var n, r, i, o, s = t.keyCode, c = {};
                        a.isModifierOn(t) || -1 === u.indexOf(s) || (c[13] = h.addOnEnter,
                        c[188] = h.addOnComma,
                        c[32] = h.addOnSpace,
                        n = !h.addFromAutocompleteOnly && c[s],
                        r = (8 === s || 46 === s) && d.selected,
                        o = 8 === s && 0 === e.newTag.text().length && h.enableEditingLastTag,
                        i = (8 === s || 37 === s || 39 === s) && 0 === e.newTag.text().length && !h.enableEditingLastTag,
                        n ? d.addText(e.newTag.text()) : o ? (d.selectPrior(),
                        d.removeSelected().then(function(t) {
                            t && e.newTag.text(t[h.displayProperty])
                        })) : r ? d.removeSelected() : i && (37 === s || 8 === s ? d.selectPrior() : 39 === s && d.selectNext()),
                        (n || i || r || o) && t.preventDefault())
                    }).on("input-paste", function(e) {
                        if (h.addOnPaste) {
                            var t = e.getTextData().split(h.pasteSplitPattern);
                            t.length > 1 && (t.forEach(function(e) {
                                d.addText(e)
                            }),
                            e.preventDefault())
                        }
                    })
                }
            }
        }
        ]),
        t.directive("tiTagItem", ["tiUtil", function(e) {
            return {
                restrict: "E",
                require: "^tagsInput",
                template: '<ng-include src="$$template"></ng-include>',
                scope: {
                    $scope: "=scope",
                    data: "="
                },
                link: function(t, n, r, i) {
                    var o = i.registerTagItem()
                      , a = o.getOptions();
                    t.$$template = a.template,
                    t.$$removeTagSymbol = a.removeTagSymbol,
                    t.$getDisplayText = function() {
                        return e.safeToString(t.data[a.displayProperty])
                    }
                    ,
                    t.$removeTag = function() {
                        o.removeTag(t.$index)
                    }
                    ,
                    t.$watch("$parent.$index", function(e) {
                        t.$index = e
                    })
                }
            }
        }
        ]),
        t.directive("autoComplete", ["$document", "$timeout", "$sce", "$q", "tagsInputConfig", "tiUtil", function(e, t, n, r, i, o) {
            return {
                restrict: "E",
                require: "^tagsInput",
                scope: {
                    source: "&",
                    matchClass: "&"
                },
                templateUrl: "ngTagsInput/auto-complete.html",
                controller: ["$scope", "$element", "$attrs", function(e, t, n) {
                    e.events = o.simplePubSub(),
                    i.load("autoComplete", e, n, {
                        template: [String, "ngTagsInput/auto-complete-match.html"],
                        debounceDelay: [Number, 100],
                        minLength: [Number, 3],
                        highlightMatchedText: [Boolean, !0],
                        maxResultsToShow: [Number, 10],
                        loadOnDownArrow: [Boolean, !1],
                        loadOnEmpty: [Boolean, !1],
                        loadOnFocus: [Boolean, !1],
                        selectFirstMatch: [Boolean, !0],
                        displayProperty: [String, ""]
                    }),
                    e.suggestionList = new function(e, t, n) {
                        var i, a, s, c = {};
                        return s = function() {
                            return t.tagsInput.keyProperty || t.tagsInput.displayProperty
                        }
                        ,
                        i = function(e, n) {
                            return e.filter(function(e) {
                                return !o.findInObjectArray(n, e, s(), function(e, n) {
                                    return t.tagsInput.replaceSpacesWithDashes && (e = o.replaceSpacesWithDashes(e),
                                    n = o.replaceSpacesWithDashes(n)),
                                    o.defaultComparer(e, n)
                                })
                            })
                        }
                        ,
                        c.reset = function() {
                            a = null,
                            c.items = [],
                            c.visible = !1,
                            c.index = -1,
                            c.selected = null,
                            c.query = null
                        }
                        ,
                        c.show = function() {
                            t.selectFirstMatch ? c.select(0) : c.selected = null,
                            c.visible = !0
                        }
                        ,
                        c.load = o.debounce(function(n, l) {
                            c.query = n;
                            var u = r.when(e({
                                $query: n
                            }));
                            a = u,
                            u.then(function(e) {
                                e && u === a && (e = o.makeObjectArray(e.data || e, s()),
                                e = i(e, l),
                                c.items = e.slice(0, t.maxResultsToShow),
                                c.items.length > 0 ? c.show() : c.reset())
                            })
                        }, t.debounceDelay),
                        c.selectNext = function() {
                            c.select(++c.index)
                        }
                        ,
                        c.selectPrior = function() {
                            c.select(--c.index)
                        }
                        ,
                        c.select = function(e) {
                            e < 0 ? e = c.items.length - 1 : e >= c.items.length && (e = 0),
                            c.index = e,
                            c.selected = c.items[e],
                            n.trigger("suggestion-selected", e)
                        }
                        ,
                        c.reset(),
                        c
                    }
                    (e.source,e.options,e.events),
                    this.registerAutocompleteMatch = function() {
                        return {
                            getOptions: function() {
                                return e.options
                            },
                            getQuery: function() {
                                return e.suggestionList.query
                            }
                        }
                    }
                }
                ],
                link: function(e, t, n, r) {
                    var i, a = [13, 9, 27, 38, 40], s = e.suggestionList, c = r.registerAutocomplete(), l = e.options, u = e.events;
                    l.tagsInput = c.getOptions(),
                    i = function(e) {
                        return e && e.length >= l.minLength || !e && l.loadOnEmpty
                    }
                    ,
                    e.templateScope = c.getTemplateScope(),
                    e.addSuggestionByIndex = function(t) {
                        s.select(t),
                        e.addSuggestion()
                    }
                    ,
                    e.addSuggestion = function() {
                        var e = !1;
                        return s.selected && (c.addTag(angular.copy(s.selected)),
                        s.reset(),
                        e = !0),
                        e
                    }
                    ,
                    e.track = function(e) {
                        return e[l.tagsInput.keyProperty || l.tagsInput.displayProperty]
                    }
                    ,
                    e.getSuggestionClass = function(t, n) {
                        var r = t === s.selected;
                        return [e.matchClass({
                            $match: t,
                            $index: n,
                            $selected: r
                        }), {
                            selected: r
                        }]
                    }
                    ,
                    c.on("tag-added tag-removed invalid-tag input-blur", function() {
                        s.reset()
                    }).on("input-change", function(e) {
                        i(e) ? s.load(e, c.getTags()) : s.reset()
                    }).on("input-focus", function() {
                        var e = c.getCurrentTagText();
                        l.loadOnFocus && i(e) && s.load(e, c.getTags())
                    }).on("input-keydown", function(t) {
                        var n = t.keyCode
                          , r = !1;
                        if (!o.isModifierOn(t) && -1 !== a.indexOf(n))
                            return s.visible ? 40 === n ? (s.selectNext(),
                            r = !0) : 38 === n ? (s.selectPrior(),
                            r = !0) : 27 === n ? (s.reset(),
                            r = !0) : 13 !== n && 9 !== n || (r = e.addSuggestion()) : 40 === n && e.options.loadOnDownArrow && (s.load(c.getCurrentTagText(), c.getTags()),
                            r = !0),
                            r ? (t.preventDefault(),
                            t.stopImmediatePropagation(),
                            !1) : void 0
                    }),
                    u.on("suggestion-selected", function(e) {
                        !function(e, t) {
                            var n = e.find("li").eq(t)
                              , r = n.parent()
                              , i = n.prop("offsetTop")
                              , o = n.prop("offsetHeight")
                              , a = r.prop("clientHeight")
                              , s = r.prop("scrollTop");
                            i < s ? r.prop("scrollTop", i) : i + o > a + s && r.prop("scrollTop", i + o - a)
                        }(t, e)
                    })
                }
            }
        }
        ]),
        t.directive("tiAutocompleteMatch", ["$sce", "tiUtil", function(e, t) {
            return {
                restrict: "E",
                require: "^autoComplete",
                template: '<ng-include src="$$template"></ng-include>',
                scope: {
                    $scope: "=scope",
                    data: "="
                },
                link: function(n, r, i, o) {
                    var a = o.registerAutocompleteMatch()
                      , s = a.getOptions();
                    n.$$template = s.template,
                    n.$index = n.$parent.$index,
                    n.$highlight = function(n) {
                        return s.highlightMatchedText && (n = t.safeHighlight(n, a.getQuery())),
                        e.trustAsHtml(n)
                    }
                    ,
                    n.$getDisplayText = function() {
                        return t.safeToString(n.data[s.displayProperty || s.tagsInput.displayProperty])
                    }
                }
            }
        }
        ]),
        t.directive("tiTranscludeAppend", function() {
            return function(e, t, n, r, i) {
                i(function(e) {
                    t.append(e)
                })
            }
        }),
        t.directive("tiAutosize", ["tagsInputConfig", function(e) {
            return {
                restrict: "A",
                require: "ngModel",
                link: function(t, n, r, i) {
                    var o, a, s = e.getTextAutosizeThreshold();
                    (o = angular.element('<span class="input"></span>')).css("display", "none").css("visibility", "hidden").css("width", "auto").css("white-space", "pre"),
                    n.parent().append(o),
                    a = function(e) {
                        var t, i = e;
                        return angular.isString(i) && 0 === i.length && (i = r.placeholder),
                        i && (o.text(i),
                        o.css("display", ""),
                        t = o.prop("offsetWidth"),
                        o.css("display", "none")),
                        n.css("width", t ? t + s + "px" : ""),
                        e
                    }
                    ,
                    i.$parsers.unshift(a),
                    i.$formatters.unshift(a),
                    r.$observe("placeholder", function(e) {
                        i.$modelValue || a(e)
                    })
                }
            }
        }
        ]),
        t.directive("tiBindAttrs", function() {
            return function(e, t, n) {
                e.$watch(n.tiBindAttrs, function(e) {
                    angular.forEach(e, function(e, t) {
                        n.$set(t, e)
                    })
                }, !0)
            }
        }),
        t.provider("tagsInputConfig", function() {
            var e = {}
              , t = {}
              , n = 3;
            this.setDefaults = function(t, n) {
                return e[t] = n,
                this
            }
            ,
            this.setActiveInterpolation = function(e, n) {
                return t[e] = n,
                this
            }
            ,
            this.setTextAutosizeThreshold = function(e) {
                return n = e,
                this
            }
            ,
            this.$get = ["$interpolate", function(r) {
                var i = {};
                return i[String] = function(e) {
                    return e
                }
                ,
                i[Number] = function(e) {
                    return parseInt(e, 10)
                }
                ,
                i[Boolean] = function(e) {
                    return "true" === e.toLowerCase()
                }
                ,
                i[RegExp] = function(e) {
                    return new RegExp(e)
                }
                ,
                {
                    load: function(n, o, a, s) {
                        var c = function() {
                            return !0
                        };
                        o.options = {},
                        angular.forEach(s, function(s, l) {
                            var u, d, f, h, p, g;
                            u = s[0],
                            d = s[1],
                            f = s[2] || c,
                            h = i[u],
                            p = function() {
                                var t = e[n] && e[n][l];
                                return angular.isDefined(t) ? t : d
                            }
                            ,
                            g = function(e) {
                                o.options[l] = e && f(e) ? h(e) : p()
                            }
                            ,
                            t[n] && t[n][l] ? a.$observe(l, function(e) {
                                g(e),
                                o.events.trigger("option-change", {
                                    name: l,
                                    newValue: e
                                })
                            }) : g(a[l] && r(a[l])(o.$parent))
                        })
                    },
                    getTextAutosizeThreshold: function() {
                        return n
                    }
                }
            }
            ]
        }),
        t.factory("tiUtil", ["$timeout", "$q", function(e, t) {
            var n = {
                debounce: function(t, n) {
                    var r;
                    return function() {
                        var i = arguments;
                        e.cancel(r),
                        r = e(function() {
                            t.apply(null, i)
                        }, n)
                    }
                },
                makeObjectArray: function(e, t) {
                    if (!angular.isArray(e) || 0 === e.length || angular.isObject(e[0]))
                        return e;
                    var n = [];
                    return e.forEach(function(e) {
                        var r = {};
                        r[t] = e,
                        n.push(r)
                    }),
                    n
                },
                findInObjectArray: function(e, t, r, i) {
                    var o = null;
                    return i = i || n.defaultComparer,
                    e.some(function(e) {
                        if (i(e[r], t[r]))
                            return o = e,
                            !0
                    }),
                    o
                },
                defaultComparer: function(e, t) {
                    return n.safeToString(e).toLowerCase() === n.safeToString(t).toLowerCase()
                },
                safeHighlight: function(e, t) {
                    if (e = n.encodeHTML(e),
                    !(t = n.encodeHTML(t)))
                        return e;
                    var r = new RegExp("&[^;]+;|" + t.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1"),"gi");
                    return e.replace(r, function(e) {
                        return e.toLowerCase() === t.toLowerCase() ? "<em>" + e + "</em>" : e
                    })
                },
                safeToString: function(e) {
                    return angular.isUndefined(e) || null == e ? "" : e.toString().trim()
                },
                encodeHTML: function(e) {
                    return n.safeToString(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                },
                handleUndefinedResult: function(e, t) {
                    return function() {
                        var n = e.apply(null, arguments);
                        return angular.isUndefined(n) ? t : n
                    }
                },
                replaceSpacesWithDashes: function(e) {
                    return n.safeToString(e).replace(/\s/g, "-")
                },
                isModifierOn: function(e) {
                    return e.shiftKey || e.ctrlKey || e.altKey || e.metaKey
                },
                promisifyValue: function(e) {
                    return e = !!angular.isUndefined(e) || e,
                    t[e ? "when" : "reject"]()
                },
                simplePubSub: function() {
                    var e = {};
                    return {
                        on: function(t, n, r) {
                            return t.split(" ").forEach(function(t) {
                                e[t] || (e[t] = []),
                                (r ? [].unshift : [].push).call(e[t], n)
                            }),
                            this
                        },
                        trigger: function(t, r) {
                            return (e[t] || []).every(function(e) {
                                return n.handleUndefinedResult(e, !0)(r)
                            }),
                            this
                        }
                    }
                }
            };
            return n
        }
        ]),
        t.run(["$templateCache", function(e) {
            e.put("ngTagsInput/tags-input.html", '<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),
            e.put("ngTagsInput/tag-item.html", '<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),
            e.put("ngTagsInput/auto-complete.html", '<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),
            e.put("ngTagsInput/auto-complete-match.html", '<span ng-bind-html="$highlight($getDisplayText())"></span>')
        }
        ])
    }()
}
, function(e, t) {
    fabric.initAligningGuidelines = function(e) {
        var t, n = e.getSelectionContext(), r = 5, i = 4, o = 1, a = "rgb(0,0,255)", s = 1;
        function c(e) {
            l(e.x1 > e.x2 ? e.x2 : e.x1, e.y + .5, e.x2 > e.x1 ? e.x2 : e.x1, e.y + .5)
        }
        function l(e, r, i, c) {
            n.save(),
            n.lineWidth = o,
            n.strokeStyle = a,
            n.beginPath(),
            n.moveTo((e + t[4]) * s, (r + t[5]) * s),
            n.lineTo((i + t[4]) * s, (c + t[5]) * s),
            n.stroke(),
            n.restore()
        }
        function u(e, t) {
            e = Math.round(e),
            t = Math.round(t);
            for (var n = e - i, r = e + i; n <= r; n++)
                if (n === t)
                    return !0;
            return !1
        }
        var d = []
          , f = [];
        function h(n) {
            performance.now();
            var i = n.target
              , o = e.getObjects()
              , a = i.getCenterPoint()
              , s = a.x
              , c = a.y
              , l = i.getBoundingRect()
              , h = l.height / t[3]
              , p = l.width / t[0]
              , g = !1
              , m = !1;
            if (e._currentTransform) {
                for (var v = o.length; v--; )
                    if (o[v] !== i) {
                        var y = o[v].getCenterPoint()
                          , b = y.x
                          , w = y.y
                          , x = o[v].getBoundingRect()
                          , S = x.height / t[3]
                          , C = x.width / t[0];
                        u(b, s) && (m = !0,
                        d.push({
                            x: b,
                            y1: w < c ? w - S / 2 - r : w + S / 2 + r,
                            y2: c > w ? c + h / 2 + r : c - h / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(b,c), "center", "center")),
                        u(b - C / 2, s - p / 2) && (m = !0,
                        d.push({
                            x: b - C / 2,
                            y1: w < c ? w - S / 2 - r : w + S / 2 + r,
                            y2: c > w ? c + h / 2 + r : c - h / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(b - C / 2 + p / 2,c), "center", "center")),
                        u(b + C / 2, s + p / 2) && (m = !0,
                        d.push({
                            x: b + C / 2,
                            y1: w < c ? w - S / 2 - r : w + S / 2 + r,
                            y2: c > w ? c + h / 2 + r : c - h / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(b + C / 2 - p / 2,c), "center", "center")),
                        u(w, c) && (g = !0,
                        f.push({
                            y: w,
                            x1: b < s ? b - C / 2 - r : b + C / 2 + r,
                            x2: s > b ? s + p / 2 + r : s - p / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(s,w), "center", "center")),
                        u(w - S / 2, c - h / 2) && (g = !0,
                        f.push({
                            y: w - S / 2,
                            x1: b < s ? b - C / 2 - r : b + C / 2 + r,
                            x2: s > b ? s + p / 2 + r : s - p / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(s,w - S / 2 + h / 2), "center", "center")),
                        u(w + S / 2, c + h / 2) && (g = !0,
                        f.push({
                            y: w + S / 2,
                            x1: b < s ? b - C / 2 - r : b + C / 2 + r,
                            x2: s > b ? s + p / 2 + r : s - p / 2 - r
                        }),
                        i.setPositionByOrigin(new fabric.Point(s,w + S / 2 - h / 2), "center", "center"))
                    }
                g || (f.length = 0),
                m || (d.length = 0)
            }
        }
        e.on("mouse:down", function() {
            t = e.viewportTransform,
            s = e.getZoom()
        }),
        e.on("object:moving", h),
        e.on("object:scaling", h),
        e.on("before:render", function() {
            e.clearContext(e.contextTop)
        }),
        e.on("after:render", function() {
            for (var e = d.length; e--; )
                l((t = d[e]).x + .5, t.y1 > t.y2 ? t.y2 : t.y1, t.x + .5, t.y2 > t.y1 ? t.y2 : t.y1);
            var t;
            for (e = f.length; e--; )
                c(f[e]);
            d.length = f.length = 0
        }),
        e.on("mouse:up", function() {
            d.length = f.length = 0,
            e.renderAll()
        })
    }
}
, function(e, t) {
    Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
        value: function(e) {
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var t = Object(this)
              , n = t.length >>> 0;
            if ("function" != typeof e)
                throw new TypeError("predicate must be a function");
            for (var r = arguments[1], i = 0; i < n; ) {
                var o = t[i];
                if (e.call(r, o, i, t))
                    return o;
                i++
            }
        }
    }),
    Array.prototype.filter || (Array.prototype.filter = function(e) {
        "use strict";
        if (void 0 === this || null === this)
            throw new TypeError;
        var t = Object(this)
          , n = t.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError;
        for (var r = [], i = arguments.length >= 2 ? arguments[1] : void 0, o = 0; o < n; o++)
            if (o in t) {
                var a = t[o];
                e.call(i, a, o, t) && r.push(a)
            }
        return r
    }
    ),
    Array.prototype.forEach || (Array.prototype.forEach = function(e) {
        var t, n;
        if (null == this)
            throw new TypeError("this is null or not defined");
        var r = Object(this)
          , i = r.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        for (arguments.length > 1 && (t = arguments[1]),
        n = 0; n < i; ) {
            var o;
            n in r && (o = r[n],
            e.call(t, o, n, r)),
            n++
        }
    }
    ),
    Array.prototype.every || (Array.prototype.every = function(e, t) {
        "use strict";
        var n, r;
        if (null == this)
            throw new TypeError("this is null or not defined");
        var i = Object(this)
          , o = i.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError;
        for (arguments.length > 1 && (n = t),
        r = 0; r < o; ) {
            var a;
            if (r in i && (a = i[r],
            !e.call(n, a, r, i)))
                return !1;
            r++
        }
        return !0
    }
    ),
    Array.prototype.indexOf || (Array.prototype.indexOf = function(e, t) {
        var n;
        if (null == this)
            throw new TypeError('"this" is null or not defined');
        var r = Object(this)
          , i = r.length >>> 0;
        if (0 === i)
            return -1;
        var o = 0 | t;
        if (o >= i)
            return -1;
        for (n = Math.max(o >= 0 ? o : i - Math.abs(o), 0); n < i; ) {
            if (n in r && r[n] === e)
                return n;
            n++
        }
        return -1
    }
    ),
    Array.prototype.map || (Array.prototype.map = function(e) {
        var t, n, r;
        if (null == this)
            throw new TypeError("this is null or not defined");
        var i = Object(this)
          , o = i.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        for (arguments.length > 1 && (t = arguments[1]),
        n = new Array(o),
        r = 0; r < o; ) {
            var a, s;
            r in i && (a = i[r],
            s = e.call(t, a, r, i),
            n[r] = s),
            r++
        }
        return n
    }
    ),
    Array.prototype.lastIndexOf || (Array.prototype.lastIndexOf = function(e) {
        "use strict";
        if (void 0 === this || null === this)
            throw new TypeError;
        var t, n, r = Object(this), i = r.length >>> 0;
        if (0 === i)
            return -1;
        for (t = i - 1,
        arguments.length > 1 && ((t = Number(arguments[1])) != t ? t = 0 : 0 != t && t != 1 / 0 && t != -1 / 0 && (t = (t > 0 || -1) * Math.floor(Math.abs(t)))),
        n = t >= 0 ? Math.min(t, i - 1) : i - Math.abs(t); n >= 0; n--)
            if (n in r && r[n] === e)
                return n;
        return -1
    }
    ),
    Array.prototype.reduce || Object.defineProperty(Array.prototype, "reduce", {
        value: function(e) {
            if (null === this)
                throw new TypeError("Array.prototype.reduce called on null or undefined");
            if ("function" != typeof e)
                throw new TypeError(e + " is not a function");
            var t, n = Object(this), r = n.length >>> 0, i = 0;
            if (arguments.length >= 2)
                t = arguments[1];
            else {
                for (; i < r && !(i in n); )
                    i++;
                if (i >= r)
                    throw new TypeError("Reduce of empty array with no initial value");
                t = n[i++]
            }
            for (; i < r; )
                i in n && (t = e(t, n[i], i, n)),
                i++;
            return t
        }
    }),
    "function" != typeof Array.prototype.reduceRight && (Array.prototype.reduceRight = function(e) {
        "use strict";
        if (null === this || void 0 === this)
            throw new TypeError("Array.prototype.reduce called on null or undefined");
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        var t, n = Object(this), r = (n.length >>> 0) - 1;
        if (arguments.length >= 2)
            t = arguments[1];
        else {
            for (; r >= 0 && !(r in n); )
                r--;
            if (r < 0)
                throw new TypeError("Reduce of empty array with no initial value");
            t = n[r--]
        }
        for (; r >= 0; r--)
            r in n && (t = e(t, n[r], r, n));
        return t
    }
    ),
    Array.isArray || (Array.isArray = function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    ),
    "function" != typeof Object.assign && Object.defineProperty(Object, "assign", {
        value: function(e, t) {
            "use strict";
            if (null == e)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var n = Object(e), r = 1; r < arguments.length; r++) {
                var i = arguments[r];
                if (null != i)
                    for (var o in i)
                        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o])
            }
            return n
        },
        writable: !0,
        configurable: !0
    })
}
, function(e, t) {
    !function() {
        var e = !1
          , t = /xyz/.test(function() {
            xyz
        }) ? /\b_super\b/ : /.*/;
        this.Class = function() {}
        ,
        Class.extend = function(n) {
            var r = this.prototype;
            e = !0;
            var i = new this;
            for (var o in e = !1,
            n)
                i[o] = "function" == typeof n[o] && "function" == typeof r[o] && t.test(n[o]) ? function(e, t) {
                    return function() {
                        var n = this._super;
                        this._super = r[e];
                        var i = t.apply(this, arguments);
                        return this._super = n,
                        i
                    }
                }(o, n[o]) : n[o];
            function a() {
                !e && this.init && this.init.apply(this, arguments)
            }
            return a.prototype = i,
            a.prototype.constructor = a,
            a.extend = arguments.callee,
            a
        }
    }()
}
, function(e, t, n) {
    var r;
    !function(i, o, a) {
        function s(e, t, n) {
            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
        }
        function c(e) {
            if ("keypress" == e.type) {
                var t = String.fromCharCode(e.which);
                return e.shiftKey || (t = t.toLowerCase()),
                t
            }
            return h[e.which] ? h[e.which] : p[e.which] ? p[e.which] : String.fromCharCode(e.which).toLowerCase()
        }
        function l(e) {
            return "shift" == e || "ctrl" == e || "alt" == e || "meta" == e
        }
        function u(e, t) {
            var n, r, i, o = [];
            for (n = "+" === (n = e) ? ["+"] : (n = n.replace(/\+{2}/g, "+plus")).split("+"),
            i = 0; i < n.length; ++i)
                r = n[i],
                m[r] && (r = m[r]),
                t && "keypress" != t && g[r] && (r = g[r],
                o.push("shift")),
                l(r) && o.push(r);
            if (n = r,
            !(i = t)) {
                if (!f)
                    for (var a in f = {},
                    h)
                        95 < a && 112 > a || h.hasOwnProperty(a) && (f[h[a]] = a);
                i = f[n] ? "keydown" : "keypress"
            }
            return "keypress" == i && o.length && (i = "keydown"),
            {
                key: r,
                modifiers: o,
                action: i
            }
        }
        function d(e) {
            function t(e) {
                e = e || {};
                var t, n = !1;
                for (t in g)
                    e[t] ? n = !0 : g[t] = 0;
                n || (y = !1)
            }
            function n(e, t, n, r, i, o) {
                var a, s, c = [], u = n.type;
                if (!h._callbacks[e])
                    return [];
                for ("keyup" == u && l(e) && (t = [e]),
                a = 0; a < h._callbacks[e].length; ++a)
                    if (s = h._callbacks[e][a],
                    (r || !s.seq || g[s.seq] == s.level) && u == s.action) {
                        var d;
                        (d = "keypress" == u && !n.metaKey && !n.ctrlKey) || (d = s.modifiers,
                        d = t.sort().join(",") === d.sort().join(",")),
                        d && (d = r && s.seq == r && s.level == o,
                        (!r && s.combo == i || d) && h._callbacks[e].splice(a, 1),
                        c.push(s))
                    }
                return c
            }
            function r(e, t, n, r) {
                h.stopCallback(t, t.target || t.srcElement, n, r) || !1 !== e(t, n) || (t.preventDefault ? t.preventDefault() : t.returnValue = !1,
                t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0)
            }
            function i(e) {
                "number" != typeof e.which && (e.which = e.keyCode);
                var t = c(e);
                t && ("keyup" == e.type && m === t ? m = !1 : h.handleKey(t, function(e) {
                    var t = [];
                    return e.shiftKey && t.push("shift"),
                    e.altKey && t.push("alt"),
                    e.ctrlKey && t.push("ctrl"),
                    e.metaKey && t.push("meta"),
                    t
                }(e), e))
            }
            function a(e, n, i, o) {
                function a(n) {
                    return function() {
                        y = n,
                        ++g[e],
                        clearTimeout(p),
                        p = setTimeout(t, 1e3)
                    }
                }
                function s(n) {
                    r(i, n, e),
                    "keyup" !== o && (m = c(n)),
                    setTimeout(t, 10)
                }
                for (var l = g[e] = 0; l < n.length; ++l) {
                    var d = l + 1 === n.length ? s : a(o || u(n[l + 1]).action);
                    f(n[l], d, o, e, l)
                }
            }
            function f(e, t, r, i, o) {
                h._directMap[e + ":" + r] = t;
                var s = (e = e.replace(/\s+/g, " ")).split(" ");
                1 < s.length ? a(e, s, t, r) : (r = u(e, r),
                h._callbacks[r.key] = h._callbacks[r.key] || [],
                n(r.key, r.modifiers, {
                    type: r.action
                }, i, e, o),
                h._callbacks[r.key][i ? "unshift" : "push"]({
                    callback: t,
                    modifiers: r.modifiers,
                    action: r.action,
                    seq: i,
                    level: o,
                    combo: e
                }))
            }
            var h = this;
            if (e = e || o,
            !(h instanceof d))
                return new d(e);
            h.target = e,
            h._callbacks = {},
            h._directMap = {};
            var p, g = {}, m = !1, v = !1, y = !1;
            h._handleKey = function(e, i, o) {
                var a, s = n(e, i, o);
                i = {};
                var c = 0
                  , u = !1;
                for (a = 0; a < s.length; ++a)
                    s[a].seq && (c = Math.max(c, s[a].level));
                for (a = 0; a < s.length; ++a)
                    s[a].seq ? s[a].level == c && (u = !0,
                    i[s[a].seq] = 1,
                    r(s[a].callback, o, s[a].combo, s[a].seq)) : u || r(s[a].callback, o, s[a].combo);
                s = "keypress" == o.type && v,
                o.type != y || l(e) || s || t(i),
                v = u && "keydown" == o.type
            }
            ,
            h._bindMultiple = function(e, t, n) {
                for (var r = 0; r < e.length; ++r)
                    f(e[r], t, n)
            }
            ,
            s(e, "keypress", i),
            s(e, "keydown", i),
            s(e, "keyup", i)
        }
        if (i) {
            var f, h = {
                8: "backspace",
                9: "tab",
                13: "enter",
                16: "shift",
                17: "ctrl",
                18: "alt",
                20: "capslock",
                27: "esc",
                32: "space",
                33: "pageup",
                34: "pagedown",
                35: "end",
                36: "home",
                37: "left",
                38: "up",
                39: "right",
                40: "down",
                45: "ins",
                46: "del",
                91: "meta",
                93: "meta",
                224: "meta"
            }, p = {
                106: "*",
                107: "+",
                109: "-",
                110: ".",
                111: "/",
                186: ";",
                187: "=",
                188: ",",
                189: "-",
                190: ".",
                191: "/",
                192: "`",
                219: "[",
                220: "\\",
                221: "]",
                222: "'"
            }, g = {
                "~": "`",
                "!": "1",
                "@": "2",
                "#": "3",
                $: "4",
                "%": "5",
                "^": "6",
                "&": "7",
                "*": "8",
                "(": "9",
                ")": "0",
                _: "-",
                "+": "=",
                ":": ";",
                '"': "'",
                "<": ",",
                ">": ".",
                "?": "/",
                "|": "\\"
            }, m = {
                option: "alt",
                command: "meta",
                return: "enter",
                escape: "esc",
                plus: "+",
                mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl"
            };
            for (a = 1; 20 > a; ++a)
                h[111 + a] = "f" + a;
            for (a = 0; 9 >= a; ++a)
                h[a + 96] = a;
            d.prototype.bind = function(e, t, n) {
                return e = e instanceof Array ? e : [e],
                this._bindMultiple.call(this, e, t, n),
                this
            }
            ,
            d.prototype.unbind = function(e, t) {
                return this.bind.call(this, e, function() {}, t)
            }
            ,
            d.prototype.trigger = function(e, t) {
                return this._directMap[e + ":" + t] && this._directMap[e + ":" + t]({}, e),
                this
            }
            ,
            d.prototype.reset = function() {
                return this._callbacks = {},
                this._directMap = {},
                this
            }
            ,
            d.prototype.stopCallback = function(e, t) {
                return !(-1 < (" " + t.className + " ").indexOf(" mousetrap ") || function e(t, n) {
                    return null !== t && t !== o && (t === n || e(t.parentNode, n))
                }(t, this.target)) && ("INPUT" == t.tagName || "SELECT" == t.tagName || "TEXTAREA" == t.tagName || t.isContentEditable)
            }
            ,
            d.prototype.handleKey = function() {
                return this._handleKey.apply(this, arguments)
            }
            ,
            d.addKeycodes = function(e) {
                for (var t in e)
                    e.hasOwnProperty(t) && (h[t] = e[t]);
                f = null
            }
            ,
            d.init = function() {
                var e, t = d(o);
                for (e in t)
                    "_" !== e.charAt(0) && (d[e] = function(e) {
                        return function() {
                            return t[e].apply(t, arguments)
                        }
                    }(e))
            }
            ,
            d.init(),
            i.Mousetrap = d,
            void 0 !== e && e.exports && (e.exports = d),
            n(4) && (void 0 === (r = function() {
                return d
            }
            .call(t, n, t, e)) || (e.exports = r))
        }
    }("undefined" != typeof window ? window : null, "undefined" != typeof window ? document : null)
}
, function(e, t, n) {
    (function(e) {
        window.org = {
            ekstep: {}
        };
        var t = function() {};
        t.prototype.initialize = function(t) {
            if (t = t || {},
            org.ekstep.pluginframework.config = org.ekstep.pluginframework.config || {},
            !t.env)
                throw "Framework should be initialized with environment!";
            org.ekstep.pluginframework.env = t.env,
            org.ekstep.pluginframework.jQuery = t.jQuery || e,
            org.ekstep.pluginframework.async = t.async || window.async,
            org.ekstep.pluginframework.config.build_number = t.build_number || "BUILD_NUMBER",
            org.ekstep.pluginframework.config.pluginRepo = t.pluginRepo || "/content-plugins"
        }
        ,
        window.org.ekstep.pluginframework = new t,
        t = void 0;
        var n = function() {};
        window.org.ekstep.services = new n,
        n = void 0
    }
    ).call(this, n(1))
}
, function(e, t, n) {
    (function(e) {
        org.ekstep.pluginframework.resourceManager = new (Class.extend({
            init: function() {},
            buildNumber: void 0,
            registeredRepos: [],
            discoverManifest: function(e, t, n, r) {
                var i = [];
                "number" == typeof t && (t = t.toFixed(1)),
                this.registeredRepos.forEach(function(n, o) {
                    i.push(0 === o ? function(i) {
                        n.discoverManifest(e, t, i, r)
                    }
                    : function(i, o) {
                        void 0 === i.manifest ? n.discoverManifest(e, t, o, r) : o(null, i)
                    }
                    )
                }),
                org.ekstep.pluginframework.async.waterfall(i, function(e, t) {
                    t && void 0 !== t.manifest ? n(void 0, t) : n("Plugin not found in any repo or manifest", void 0)
                })
            },
            addRepo: function(e, t) {
                this.registeredRepos.find(function(t) {
                    return t.id === e.id
                }) ? console.error(e.id + ": Repo already registered!") : "number" == typeof t ? this.registeredRepos.splice(t, 0, e) : this.registeredRepos.push(e)
            },
            getResource: function(e, t, n, r, i, o, a) {
                var s = i.resolveResource(e, t, n);
                this.loadResource(s, r, o, a)
            },
            loadExternalPluginResource: function(e, t, n, r, i, o, a) {
                var s = i.resolveResource(t, n, r);
                this.loadExternalResource(s, e, o, a)
            },
            loadExternalResource: function(t, n, r, i) {
                switch (n) {
                case "js":
                    i ? this.loadResource(t, "script", i, r) : (t = t + "?" + (org.ekstep.pluginframework.config ? org.ekstep.pluginframework.config.build_number : ""),
                    r && (t = t + "&" + r),
                    org.ekstep.pluginframework.jQuery("body").append(e("<script type='text/javascript' src='" + t + "'>")));
                    break;
                case "css":
                    t = t + "?" + (org.ekstep.pluginframework.config ? org.ekstep.pluginframework.config.build_number : ""),
                    r && (t = t + "&" + r),
                    org.ekstep.pluginframework.jQuery("head").append("<link rel='stylesheet' type='text/css' href='" + t + "'>"),
                    i && i();
                    break;
                default:
                    i && i()
                }
            },
            loadResource: function(e, t, n, r) {
                e = e + "?" + (org.ekstep.pluginframework.config ? org.ekstep.pluginframework.config.build_number : ""),
                r && (e = e + "&" + r),
                org.ekstep.pluginframework.jQuery.ajax({
                    async: !1,
                    url: e,
                    dataType: t,
                    cache: !0
                }).done(function(e) {
                    n(null, e)
                }).fail(function(t, r, i) {
                    "OK" === t.statusText && console.log("Unable to load resource:", e, "error:", i),
                    n(i)
                })
            }
        }))
    }
    ).call(this, n(1))
}
, function(e, t) {
    org.ekstep.pluginframework.eventManager = new (Class.extend({
        enableEvents: !0,
        addEventListener: function(e, t, n) {
            EventBus.addEventListener(e, t, n)
        },
        dispatchEvent: function(e, t, n) {
            this.enableEvents && EventBus.dispatch(e, n, t)
        },
        removeEventListener: function(e, t, n) {
            EventBus.removeEventListener(e, t, n)
        },
        hasEventListener: function(e) {
            return EventBus.hasEventListener(e)
        }
    }))
}
, function(module, exports) {
    org.ekstep.pluginframework.pluginManager = new (Class.extend({
        pluginManifests: {},
        plugins: {},
        pluginObjs: {},
        pluginInstances: {},
        errors: [],
        init: function() {
            console.log("Plugin manager initialized")
        },
        _registerPlugin: function(e, t, n, r, i) {
            this.plugins[e] = {
                p: n,
                m: r,
                repo: i
            },
            this._registerNameSpace(e, n),
            r && (this.pluginManifests[r.id] = {
                m: r,
                repo: i
            }),
            org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:load", {
                plugin: e,
                version: t
            }),
            org.ekstep.pluginframework.eventManager.dispatchEvent(e + ":load");
            var o = new n(r);
            r && (this.pluginObjs[r.id] = o)
        },
        registerPlugin: function(e, t, n) {
            n = n || org.ekstep.pluginframework.publishedRepo,
            this._registerPlugin(e.id, e.ver, t, e, n)
        },
        loadCustomPlugin: function(dependency, callback, publishedTime) {
            var instance = this;
            org.ekstep.pluginframework.resourceManager.loadResource(dependency.src, "text", function(err, data) {
                if (err)
                    org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                        plugin: dependency.id,
                        version: dependency.ver,
                        action: "load",
                        err: err
                    }),
                    instance.addError({
                        error: "Fails to load Customplugin",
                        plugin: dependency.id,
                        version: dependency.ver,
                        action: "load",
                        stackTrace: err
                    }),
                    console.error("Unable to load editor plugin", "plugin:" + dependency.id + "-" + dependency.ver, "resource:", "Error:", err);
                else
                    try {
                        instance.isPluginDefined(dependency.id) ? console.info("Plugin is already registered: ", dependency.id) : (data = eval(data),
                        instance._registerPlugin(dependency.id, void 0, data, void 0, void 0))
                    } catch (e) {
                        org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                            plugin: dependency.id,
                            version: dependency.ver,
                            action: "load",
                            err: e
                        }),
                        instance.addError({
                            error: "Fails to load Customplugin",
                            plugin: dependency.id,
                            version: dependency.ver,
                            action: "load",
                            stackTrace: e
                        }),
                        console.error("Error while loading plugin", "plugin:" + dependency.id + "-" + dependency.ver, "Error:", e)
                    }
                callback && callback()
            }, publishedTime)
        },
        loadPluginByManifest: function(manifest, repo, pluginType, publishedTime) {
            var instance = this
              , scope = org.ekstep.pluginframework.env;
            manifest[scope] && manifest[scope].main && org.ekstep.pluginframework.resourceManager.getResource(manifest.id, manifest.ver, manifest[scope].main, "text", repo, function(err, data) {
                if (err)
                    org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                        plugin: manifest.id,
                        version: manifest.ver,
                        action: "load",
                        err: err
                    }),
                    instance.addError({
                        error: "Fails to load plugin!",
                        plugin: manifest.id,
                        version: manifest.ver,
                        action: "load",
                        stackTrace: err
                    }),
                    console.error("Unable to load editor plugin", "plugin:" + manifest.id + "-" + manifest.ver, "resource:" + manifest[scope].main, "Error:", err);
                else
                    try {
                        instance.isPluginDefined(manifest.id) ? console.info("Plugin is already registered: ", manifest.id) : "library" === pluginType ? org.ekstep.pluginframework.jQuery.globalEval(data) : data && instance.registerPlugin(manifest, eval(data), repo)
                    } catch (e) {
                        org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                            plugin: manifest.id,
                            version: manifest.ver,
                            action: "load",
                            err: e
                        }),
                        instance.addError({
                            error: "Fails to load plugin!",
                            plugin: manifest.id,
                            version: manifest.ver,
                            action: "load",
                            stackTrace: e
                        }),
                        console.error("Error while loading plugin", "plugin:" + manifest.id + "-" + manifest.ver, "Error:", e)
                    }
            }, publishedTime)
        },
        _registerNameSpace: function(e, t) {
            var n = e.split(".")
              , r = n[0]
              , i = n[n.length - 1];
            n.splice(0, 1);
            var o = "editor" === org.ekstep.pluginframework.env ? Class.extend({
                init: function(t, n, r) {
                    org.ekstep.pluginframework.pluginManager.invoke(e, t, n, r)
                }
            }) : Class.extend({
                init: function(t, n, r, i) {
                    org.ekstep.pluginframework.pluginManager.invokeRenderer(e, t, n, r, i)
                }
            });
            o.extend = function(e) {
                return t.extend(e)
            }
            ,
            n.length > 0 ? (window[r] || (window[r] = {}),
            n.reduce(function(e, t) {
                var n = t === i ? o : {};
                return void 0 === e[t] ? e[t] = n : e[t]
            }, window[r])) : void 0 === window[r] && (window[r] = o)
        },
        loadAndInitPlugin: function(e, t, n, r) {
            var i = this;
            if (this.isPluginDefined(e)) {
                var o = this.getPluginManifest(e);
                o.type && "widget" === o.type.toLowerCase() && this.invoke(e, JSON.parse(JSON.stringify(o[org.ekstep.pluginframework.env]["init-data"] || {})), r)
            } else
                this.loadPluginWithDependencies(e, t, void 0, n, [], function() {
                    if (i.isPluginDefined(e)) {
                        var t = i.getPluginManifest(e);
                        t.type && "widget" === t.type.toLowerCase() && i.invoke(e, JSON.parse(JSON.stringify(t[org.ekstep.pluginframework.env]["init-data"] || {})), r)
                    }
                })
        },
        loadPluginWithDependencies: function(e, t, n, r, i, o) {
            var a = this;
            return this.plugins[e] ? (console.info('A plugin with id "' + e + '" and ver "' + t + '" is already loaded'),
            void (o && o())) : -1 !== i.indexOf(e) ? (console.warn('Detected a cyclic dependency with the plugin: "' + e + '". Breaking the chain...'),
            void (o && o())) : (i.push(e),
            void org.ekstep.pluginframework.resourceManager.discoverManifest(e, t, function(s, c) {
                s || void 0 === c ? (org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                    plugin: e,
                    version: t,
                    action: "load",
                    err: s
                }),
                a.addError({
                    error: "Manifest not found!",
                    plugin: e,
                    version: t,
                    action: "discoverManifest",
                    stackTrace: s
                }),
                console.error("Unable to load plugin manifest", "plugin:" + e + "-" + t, "Error:", s),
                o && o()) : a.loadManifestDependencies(c.manifest.dependencies, r, i, function() {
                    c.manifest.editor && 0 !== Object.keys(c.manifest.editor).length || (a.pluginManifests[c.manifest.id] = {
                        m: c.manifest,
                        repo: c.repo
                    });
                    var e = a.queueDependencies(c.manifest, c.repo, r, i);
                    e.length() > 0 ? e.drain = function() {
                        a.loadPluginByManifest(c.manifest, c.repo, n, r),
                        o && o()
                    }
                    : (a.loadPluginByManifest(c.manifest, c.repo, n, r),
                    o && o())
                })
            }, r))
        },
        queueDependencies: function(e, t, n, r) {
            var i = org.ekstep.pluginframework.env
              , o = org.ekstep.pluginframework.async.queue(function(e, t) {
                "plugin" === e.type ? "renderer" === org.ekstep.pluginframework.env ? a.loadCustomPlugin({
                    id: e.plugin,
                    src: e.repo.resolveResource(e.id, e.ver, e.src)
                }, t, void 0) : a.loadPluginWithDependencies(e.plugin, e.ver, e.type, n, r, t) : org.ekstep.pluginframework.resourceManager.loadExternalPluginResource(e.type, e.id, e.ver, e.src, e.repo, e.publishedTime, t)
            }, 1)
              , a = this;
            return e[i] && Array.isArray(e[i].dependencies) && e[i].dependencies.forEach(function(r) {
                "plugin" === r.type ? "renderer" === org.ekstep.pluginframework.env ? o.push({
                    type: r.type,
                    id: e.id,
                    ver: e.ver,
                    src: r.src,
                    repo: t,
                    plugin: r.id
                }, function() {}) : o.push(r, function() {}) : "js" !== r.type && "css" !== r.type || o.push({
                    type: r.type,
                    id: e.id,
                    ver: e.ver,
                    src: r.src,
                    repo: t,
                    publishedTime: n
                }, function() {})
            }),
            o
        },
        loadManifestDependencies: function(e, t, n, r) {
            var i = this;
            if (Array.isArray(e) && e.length > 0) {
                var o = org.ekstep.pluginframework.async.queue(function(e, t) {
                    i.loadPluginWithDependencies(e.id, e.ver, e.type, e.pt, n, t)
                }, 1);
                e.forEach(function(e) {
                    "renderer" === org.ekstep.pluginframework.env && e.scope !== org.ekstep.pluginframework.env && "all" !== e.scope || o.push({
                        id: e.plugin,
                        ver: e.ver,
                        type: e.type,
                        pt: t
                    }, function(e) {})
                }),
                o.length() > 0 ? o.drain = function() {
                    r && r()
                }
                : r && r()
            } else
                r && r()
        },
        isManifestDefined: function(e) {
            return !!this.pluginManifests[e]
        },
        isPluginDefined: function(e) {
            return !!this.plugins[e]
        },
        loadPlugin: function(e, t, n) {
            this.loadPluginWithDependencies(e, t, "plugin", void 0, [], function() {
                n && n()
            })
        },
        loadAllPlugins: function(e, t, n) {
            var r = this;
            if (Array.isArray(e) && e.length) {
                var i = e.find(function(e) {
                    return !0 === e.preload || "true" === e.preload
                });
                i ? r.loadPlugin(i.id, i.ver, function() {
                    r._loadPlugins(e, t, n)
                }) : r._loadPlugins(e, t, n)
            } else
                Array.isArray(t) && t.length ? r.loadOtherDependencies(t, n) : n && n()
        },
        _loadPlugins: function(e, t, n) {
            var r = this
              , i = org.ekstep.pluginframework.async.queue(function(e, t) {
                r.loadPluginWithDependencies(e.id, e.ver, e.type, e.pt, [], t)
            }, 6);
            i.drain = function() {
                r.loadOtherDependencies(t, n)
            }
            ,
            e.forEach(function(e) {
                i.push({
                    id: e.id,
                    ver: e.ver,
                    type: e.type,
                    pt: void 0
                }, function(e) {})
            })
        },
        loadOtherDependencies: function(e, t) {
            var n = this;
            if (Array.isArray(e) && e.length) {
                var r = org.ekstep.pluginframework.async.queue(function(e, t) {
                    "plugin" === e.type ? n.loadCustomPlugin(e, t) : org.ekstep.pluginframework.resourceManager.loadExternalResource(e.src, e.type, void 0, t)
                }, 1);
                e.forEach(function(e) {
                    r.push(e, function(e) {})
                }),
                r.length() > 0 ? r.drain = function() {
                    t && t()
                }
                : t && t()
            } else
                t && t()
        },
        invoke: function(e, t, n, r) {
            var i = this
              , o = void 0
              , a = this.plugins[e];
            if (a) {
                var s = r ? a.p.extend(r) : a.p
                  , c = a.m;
                try {
                    Array.isArray(t) ? t.forEach(function(e) {
                        o = new s(c,e,n),
                        i.addPluginInstance(o),
                        o.initPlugin(),
                        org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add", {
                            plugin: c.id,
                            version: c.ver,
                            instanceId: o.id
                        }),
                        org.ekstep.pluginframework.eventManager.dispatchEvent(c.id + ":add")
                    }) : (o = new s(c,t,n),
                    i.addPluginInstance(o),
                    o.initPlugin(),
                    org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add", {
                        plugin: c.id,
                        version: c.ver,
                        instanceId: o.id
                    }),
                    org.ekstep.pluginframework.eventManager.dispatchEvent(c.id + ":add"))
                } catch (t) {
                    throw org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                        plugin: c.id,
                        version: c.ver,
                        action: "invoke",
                        err: t
                    }),
                    i.addError({
                        error: "Fails to invoke!",
                        plugin: c.id,
                        version: c.ver,
                        action: "invoke",
                        stackTrace: t
                    }),
                    o && delete i.pluginInstances[o.id],
                    "Error: when instantiating plugin: " + e
                }
            } else
                this.addError({
                    error: "Plugin not found!",
                    plugin: e,
                    version: " ",
                    stackTrace: " "
                });
            return o
        },
        invokeRenderer: function(e, t, n, r, i) {
            var o = this
              , a = void 0
              , s = this.plugins[e];
            if (s)
                try {
                    var c = s.p
                      , l = s.m || {
                        id: e,
                        ver: void 0
                    };
                    Array.isArray(t) ? t.forEach(function(e) {
                        a = new c(e,n,r,i),
                        o.addPluginInstance(a),
                        org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add", {
                            plugin: l.id,
                            version: l.ver,
                            instanceId: a.id
                        }),
                        org.ekstep.pluginframework.eventManager.dispatchEvent(l.id + ":add")
                    }) : (a = new c(t,n,r,i),
                    o.addPluginInstance(a),
                    org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add", {
                        plugin: l.id,
                        version: l.ver,
                        instanceId: a.id
                    }),
                    org.ekstep.pluginframework.eventManager.dispatchEvent(l.id + ":add"))
                } catch (t) {
                    throw org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:error", {
                        plugin: l.id,
                        version: l.ver,
                        action: "invoke",
                        err: t
                    }),
                    o.addError({
                        error: "Fails to invoke!",
                        plugin: l.id,
                        version: l.ver,
                        action: "invoke",
                        stackTrace: t
                    }),
                    a && delete o.pluginInstances[a.id],
                    "Error: when instantiating plugin: " + e
                }
            else
                this.addError({
                    error: "Plugin not found!",
                    plugin: e,
                    version: " ",
                    stackTrace: " "
                });
            return a
        },
        addPluginInstance: function(e) {
            this.pluginInstances[e.id] = e
        },
        removePluginInstance: function(e) {
            e && e.remove()
        },
        getPluginInstance: function(e) {
            return this.pluginInstances[e]
        },
        getPluginInstances: function() {
            return this.pluginInstances
        },
        getPluginManifest: function(e) {
            var t = this.plugins[e] || this.pluginManifests[e];
            return t ? t.m : void 0
        },
        addError: function(e) {
            org.ekstep.services.telemetryService.error({
                err: e.error,
                errtype: "CONTENT",
                stacktrace: e.stackTrace,
                plugin: {
                    id: e.plugin,
                    ver: e.version
                }
            }),
            this.errors.push(e)
        },
        getErrors: function() {
            return this.errors
        },
        cleanUp: function() {
            this.pluginInstances = {},
            this.pluginManifests = {},
            this.plugins = {},
            this.errors = []
        },
        getPlugins: function() {
            return Object.keys(this.plugins)
        },
        getPluginType: function(e) {
            return this.pluginInstances[e] ? this.pluginInstances[e].getType() : ""
        },
        loadPluginResource: function(e, t, n, r, i) {
            this.plugins[e] ? org.ekstep.pluginframework.resourceManager.getResource(e, t, n, r, this.plugins[e].repo, i) : i(new Error("unable load plugin resource " + n), void 0)
        },
        getPluginVersion: function(e) {
            return this.pluginInstances[e] ? this.pluginInstances[e].getVersion() : ""
        },
        resolvePluginResource: function(e, t, n) {
            return this.plugins[e] && this.plugins[e].repo ? this.plugins[e].repo.resolveResource(e, t, n) : !(!this.pluginManifests[e] || !this.pluginManifests[e].repo) && this.pluginManifests[e].repo.resolveResource(e, t, n)
        }
    }))
}
, function(e, t) {
    org.ekstep.pluginframework.keyboardManager = new (Class.extend({
        registry: {},
        registerKeyCombination: function(e, t) {
            if (void 0 === e || void 0 === t)
                throw "The given key combination is invalid.";
            Mousetrap.bind(e, t)
        }
    }))
}
, function(e, t) {
    org.ekstep.services.iService = Class.extend({
        requestHeaders: {
            headers: {
                "content-type": "application/json",
                "user-id": "content-editor"
            }
        },
        getBaseURL: function() {
            return org.ekstep.services.config.baseURL
        },
        getAPISlug: function() {
            return org.ekstep.services.config.apislug
        },
        getConfig: function(e, t) {
            return org.ekstep.services.config[e] || t
        },
        init: function(e) {
            this.initService(e)
        },
        initService: function(e) {},
        _dispatchTelemetry: function(e) {
            var t = e.res.responseCode || e.res.statusText;
            org.ekstep.services.telemetryService.apiCall({
                path: encodeURIComponent(e.url),
                method: e.method,
                request: e.request,
                response: "",
                responseTime: e.res.responseTime,
                status: t,
                uip: ""
            })
        },
        _call: function(e, t, n) {
            var r, i = this;
            t = t || {},
            e.headers = t.headers || {},
            e.beforeSend = function(e, t) {
                r = (new Date).getTime()
            }
            ,
            e.success = function(t) {
                t.responseTime = (new Date).getTime() - r;
                var o = "POST" === e.type ? e.data : {};
                i._dispatchTelemetry({
                    url: e.url,
                    method: e.type,
                    request: o,
                    res: t
                }),
                n(null, t = {
                    data: t
                })
            }
            ,
            e.error = function(t) {
                t.responseTime = (new Date).getTime() - r,
                t && 401 === t.status && "Unauthorized" === t.statusText ? ecEditor.dispatchEvent("org.ekstep.contenteditor:Unauthorized") : n(t, null);
                var o = "POST" === e.type ? e.data : {};
                i._dispatchTelemetry({
                    url: e.url,
                    method: e.type,
                    request: o,
                    res: t
                })
            }
            ,
            _.isUndefined(t.contentType) || (e.contentType = t.contentType),
            _.isUndefined(t.cache) || (e.cache = t.cache),
            _.isUndefined(t.processData) || (e.processData = t.processData),
            _.isUndefined(t.enctype) || (e.enctype = t.enctype),
            org.ekstep.pluginframework.jQuery.ajax(e)
        },
        get: function(e, t, n) {
            this._call({
                type: "GET",
                url: e
            }, t, n)
        },
        put: function(e, t, n, r) {
            if ("function" != typeof r)
                throw "iservice expects callback to be function";
            "object" == typeof t && _.isUndefined(n.contentType) && (t = JSON.stringify(t)),
            this._call({
                type: "PUT",
                url: e,
                data: t
            }, n, r)
        },
        post: function(e, t, n, r) {
            if ("function" != typeof r)
                throw "iservice expects callback to be function";
            "object" == typeof t && _.isUndefined(n.contentType) && (t = JSON.stringify(t)),
            this._call({
                type: "POST",
                url: e,
                data: t
            }, n, r)
        },
        patch: function(e, t, n, r) {
            if ("function" != typeof r)
                throw "iservice expects callback to be function";
            "object" == typeof t && _.isUndefined(n.contentType) && (t = JSON.stringify(t)),
            this._call({
                type: "PATCH",
                url: e,
                data: t
            }, n, r)
        },
        delete: function(e, t, n) {
            if ("function" != typeof n)
                throw "iservice expects callback to be function";
            this._call({
                type: "DELETE",
                url: e
            }, t, n)
        },
        postFromService: function(e, t, n, r) {
            this.post(e, t, n, function(e, t) {
                r(e, t)
            })
        },
        getFromService: function(e, t, n) {
            this.get(e, t, function(e, t) {
                n(e, t)
            })
        }
    })
}
, function(e, t) {
    org.ekstep.services.contentService = new (org.ekstep.services.iService.extend({
        serviceURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("contentEndPoint", "/content")
        },
        learningURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("learningEndPoint", "/learning")
        },
        content: {},
        initService: function() {},
        contentFields: "body,collaborators,editorState,stageIcons,templateId,languageCode,template,gradeLevel,status,concepts,versionKey,name,appIcon,contentType,owner,domain,code,visibility,createdBy,description,language,mediaType,mimeType,osId,languageCode,createdOn,lastUpdatedOn,audience,ageGroup,attributions,artifactUrl,board,subject,keywords,config,resourceType,medium,publisher,year,pkgVersion,framework,rejectReasons,rejectComment,topic,ownedBy,ownershipType,creators,contributors,reservedDialcodes,qrCodeProcessId,channel,purpose,assets,assetsMap,copyright,author,copyrightYear,origin,license,displayScore,courseType,licenseterms,primaryCategory,additionalCategories,maxAttempts,verticals,programs",
        _setContentMeta: function(e, t) {
            if (e && t) {
                var n = {};
                for (var r in t)
                    "body" !== r && "stageIcons" !== r && (n[r] = t[r]);
                this.content[e] = n
            }
        },
        getContentMeta: function(e) {
            return Object.assign({}, this.content[e] || {})
        },
        saveContent: function(e, t, n, r) {
            this._saveContent(e, t, n, r)
        },
        _saveContent: function(e, t, n, r) {
            var i = this
              , o = i.content[e] && i.content[e].versionKey;
            if (e && o) {
                var a = !1
                  , s = {
                    versionKey: o,
                    lastUpdatedBy: ecEditor.getContext("user") && ecEditor.getContext("user").id
                };
                if (t)
                    for (var c in a = !0,
                    t)
                        s[c] = t[c];
                if (n && (s.body = JSON.stringify(n),
                a = !0),
                a) {
                    var l = {
                        request: {
                            content: s
                        }
                    };
                    i.patch(this.serviceURL() + this.getConfig("contentUpdateUrl", "/v3/update/") + e, l, this.requestHeaders, function(t, n) {
                        n && "OK" === n.data.responseCode ? (i.content[e].versionKey = n.data.result.versionKey,
                        i.getContent(e, function(e, t) {
                            e && console.error("Unable to update the Metadata context after save"),
                            r(void 0, n)
                        })) : r(!0, t)
                    })
                } else
                    r("Nothing to save")
            } else
                r("Cannot find content id or version key to update content")
        },
        getContent: function(e, t) {
            var n = this;
            if (e) {
                var r = n.contentFields;
                ecEditor.getConfig("contentFields") && (r = n.contentFields.concat(",", ecEditor.getConfig("contentFields")));
                var i = "?mode=edit&fields=" + r;
                n.get(this.serviceURL() + this.getConfig("contentReadUrl", "/v3/read/") + e + i, this.requestHeaders, function(r, i) {
                    i && i.data && "OK" === i.data.responseCode ? (n._setContentMeta(e, i.data.result.content),
                    t(r, i.data.result.content)) : t(new Error("no content found!"), void 0)
                })
            } else
                t("Content id is required to get content from platform", void 0)
        },
        getContentVersionKey: function(e, t) {
            var n = this;
            e ? n.get(this.serviceURL() + this.getConfig("contentReadUrl", "/v3/read/") + e + "?mode=edit&fields=versionKey", this.requestHeaders, function(r, i) {
                i && i.data && "OK" === i.data.responseCode ? (n.getContentMeta(e).versionKey = i.data.result.content && i.data.result.content.versionKey,
                t(r, i.data.result.content)) : t(new Error("no content found!"), void 0)
            }) : t("Content id is required to get versionKey from platform", void 0)
        },
        getTemplateData: function(e, t) {
            this.get(this.serviceURL() + this.getConfig("contentReadUrl", "/v3/read/") + e + "?taxonomyId=literacy_v2&fields=body,editorState,templateId,languageCode", this.requestHeaders, function(e, n) {
                t(e, n)
            })
        },
        downloadContent: function(e, t, n) {
            var r = {
                request: {
                    content_identifiers: [e],
                    file_name: t
                }
            };
            this.postFromService(this.serviceURL() + this.getConfig("contentBundleUrl", "/v3/bundle"), r, this.requestHeaders, n)
        },
        getCollectionHierarchy: function(e, t) {
            var n = this
              , r = "fields=versionKey";
            "edit" === e.mode && (r = "mode=edit&" + r),
            this.getFromService(this.serviceURL() + this.getConfig("collectionHierarchyGetUrl", "/v3/hierarchy/") + e.contentId + "?" + r, this.requestHeaders, function(r, i) {
                i && i.data && "OK" === i.data.responseCode ? (n._setContentMeta(e.contentId, i.data.result.content),
                t(r, i)) : t(new Error("no content found!"), void 0)
            })
        },
        saveCollectionHierarchy: function(e, t) {
            var n = this;
            if (e) {
                e.body.lastUpdatedBy = ecEditor.getContext("user") && ecEditor.getContext("user").id;
                var r = {
                    request: {
                        data: e.body
                    }
                };
                this.patch(this.serviceURL() + this.getConfig("collectionHierarchyUpdateUrl", "/v3/hierarchy/update/"), r, this.requestHeaders, function(e, r) {
                    r && "OK" === r.data.responseCode ? n.getContent(ecEditor.getContext("contentId"), function(e, n) {
                        e && console.error("Unable to update the Metadata context after save"),
                        t(void 0, r)
                    }) : t(!0, e)
                })
            } else
                t("nothing to save!")
        },
        sendForReview: function(e, t) {
            this.postFromService(this.serviceURL() + this.getConfig("sendfortReviewURL", "/v3/review/") + e.contentId, {
                request: {
                    content: {}
                }
            }, this.setChannelInHeader(e.channel), t)
        },
        publishContent: function(e, t) {
            var n = {
                request: {
                    content: {
                        lastPublishedBy: ecEditor.getContext("uid")
                    }
                }
            };
            e.data && (n.request.content.publishChecklist = e.data.publishChecklist,
            n.request.content.publishComment = e.data.publishComment),
            this.postFromService(this.serviceURL() + this.getConfig("contentPublishURL", "/v3/publish/") + e.contentId, n, this.setChannelInHeader(e.channel), t)
        },
        getPresignedURL: function(e, t, n, r) {
            var i = {
                request: {
                    content: {
                        fileName: t
                    }
                }
            };
            r ? this.postFromService(this.serviceURL() + this.getConfig("contentPresignURL", "/v3/upload/url/") + e + "?type=" + r, i, this.requestHeaders, n) : this.postFromService(this.serviceURL() + this.getConfig("contentPresignURL", "/v3/upload/url/") + e, i, this.requestHeaders, n)
        },
        uploadDataToSignedURL: function(e, t, n, r) {
            this.put(e, t, n, r)
        },
        rejectContent: function(e, t) {
            var n = {
                request: {
                    content: {}
                }
            };
            e.data && (n.request.content.rejectReasons = e.data.rejectReasons,
            n.request.content.rejectComment = e.data.rejectComment),
            this.postFromService(this.serviceURL() + this.getConfig("contentRejectURL", "/v3/reject/") + e.contentId, n, this.setChannelInHeader(e.channel), t)
        },
        retireContent: function(e, t) {
            this.delete(this.serviceURL() + this.getConfig("contentRejectURL", "/v3/retire/") + e.contentId, this.requestHeaders, t)
        },
        acceptContentFlag: function(e, t) {
            this.postFromService(this.serviceURL() + this.getConfig("acceptContentFlag", "/v3/flag/accept/") + e.contentId, {
                request: {}
            }, this.requestHeaders, t)
        },
        discardContentFlag: function(e, t) {
            this.postFromService(this.serviceURL() + this.getConfig("discardContentFlag", "/v3/flag/reject/") + e.contentId, {
                request: {}
            }, this.requestHeaders, t)
        },
        uploadContent: function(e, t, n, r) {
            this.postFromService(this.serviceURL() + this.getConfig("uploadContentURL", "/v3/upload/") + e, t, n, r)
        },
        createContent: function(e, t) {
            this.postFromService(this.serviceURL() + this.getConfig("createContentURL", "/v3/create"), e, this.requestHeaders, t)
        },
        unlistedPublishContent: function(e, t) {
            var n = {
                request: {
                    content: {
                        lastPublishedBy: ecEditor.getContext("uid")
                    }
                }
            };
            this.postFromService(this.serviceURL() + this.getConfig("contentUnlistedPublishURL", "/v3/unlisted/publish/") + e.contentId, n, this.requestHeaders, t)
        },
        setChannelInHeader: function(e) {
            var t = _.cloneDeep(this.requestHeaders);
            return e && (t.headers["X-Channel-Id"] = e),
            t
        },
        getComments: function(e, t) {
            this.postFromService(this.getBaseURL() + this.getAPISlug() + this.getConfig("getCommentURL", "/review/comment/v1/read/comment"), e, this.requestHeaders, t)
        },
        appendCloudStorageHeaders: function(e) {
            const t = _.get(ecEditor.getConfig("cloudStorage"), "presigned_headers", {});
            return e.headers = Object.assign({}, e.headers, t),
            e
        }
    }))
}
, function(e, t) {
    org.ekstep.services.assessmentService = new (org.ekstep.services.iService.extend({
        assessmentURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("assessmentEndPoint", "/assessment")
        },
        getQuestions: function(e, t) {
            org.ekstep.services.searchService.search(e, t)
        },
        getItem: function(e, t) {
            this.getFromService(this.assessmentURL() + this.getConfig("itemReadUrl", "/v3/items/read/") + e, this.requestHeaders, t)
        },
        getTemplate: function(e, t) {
            org.ekstep.services.contentService.getTemplateData(e, t)
        },
        saveQuestion: function(e, t, n) {
            e ? this.patch(this.assessmentURL() + "assessmentitems/update/" + e, t, this.requestHeaders, function(e, t) {
                n(e, t)
            }) : this.post(this.assessmentURL() + "assessmentitems/create", t, this.requestHeaders, function(e, t) {
                n(e, t)
            })
        },
        getQuestionItems: function(e, t) {
            this.postFromService(this.assessmentURL() + "/v3/items/search", e, this.requestHeaders, t)
        },
        saveQuestionV3: function(e, t, n) {
            e ? this.patch(this.assessmentURL() + "/v3/items/update/" + e, t, this.requestHeaders, function(e, t) {
                n(e, t)
            }) : this.post(this.assessmentURL() + "/v3/items/create", t, this.requestHeaders, function(e, t) {
                n(e, t)
            })
        },
        deleteQuestion: function(e, t) {
            e && this.delete(this.assessmentURL() + "/v3/itemsets/retire/" + e, this.requestHeaders, function(e, n) {
                t(e, n)
            })
        }
    }))
}
, function(e, t) {
    org.ekstep.services.assetService = new (org.ekstep.services.iService.extend({
        contentURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("contentEndPoint", "/content")
        },
        asset: {},
        initService: function() {},
        setAssetMeta: function(e, t) {
            e && t && (void 0 === this.asset[e] && (this.asset[e] = {}),
            this.asset[e].assetMeta = t)
        },
        getAssetMeta: function(e) {
            return this.asset[e] || {}
        },
        saveAsset: function(e, t, n) {
            var r = {
                request: {
                    content: t
                }
            };
            e ? this.patch(this.contentURL() + this.getConfig("contentUpdateUrl", "/v3/update/"), r, this.requestHeaders, function(e, t) {
                n(e, t)
            }) : this.post(this.contentURL() + this.getConfig("contentCreateUrl", "/v3/create"), r, this.requestHeaders, function(e, t) {
                n(e, t)
            })
        }
    }))
}
, function(e, t) {
    org.ekstep.services.metaService = new (org.ekstep.services.iService.extend({
        categories: {},
        learningURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("learningEndPoint", "/learning")
        },
        metaURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("metaEndPoint", "/meta")
        },
        configURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("configEndPoint", "/domain")
        },
        domainURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("domainEndPoint", "/domain")
        },
        frameworkURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("frameworkEndPoint", "/framework")
        },
        channelURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("channelEndPoint", "/channel")
        },
        vocabularyURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("vocabularyEndPoint", "/vocabulary")
        },
        pageAssembleUrl: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("pageAssembleEndPoint", "/data")
        },
        getDefinitions: function(e, t) {
            this.getFromService(this.learningURL() + this.getConfig("definitionsGetUrl", "/taxonomy/domain/definition/") + e, {
                headers: {
                    "content-type": "application/json",
                    "user-id": "content-editor"
                }
            }, t)
        },
        getResourceBundles: function(e, t) {
            this.getFromService(this.metaURL() + this.getConfig("resourceBundleUrl", "/v3/resourcebundles/read/") + e, this.requestHeaders, t)
        },
        getLearningConfig: function(e) {
            this.getFromService(this.domainURL() + this.getConfig("termsListUrl", "/v3/terms/list"), this.requestHeaders, e)
        },
        getConfigOrdinals: function(e) {
            this.getFromService(this.metaURL() + this.getConfig("ordinalsGetUrl", "/v3/ordinals/list"), this.requestHeaders, e)
        },
        suggestVocabulary: function(e, t) {
            this.postFromService(this.vocabularyURL() + this.getConfig("suggestVocabularyUrl", "/v3/term/suggest"), e, this.requestHeaders, t)
        },
        createVocabulary: function(e, t) {
            this.postFromService(this.vocabularyURL() + this.getConfig("createVocabularUrl", "/v3/term/create"), e, this.requestHeaders, t)
        },
        getCategorys: function(e, t) {
            var n = this;
            if (n.categories[e])
                return t(void 0, n.categories[e]);
            n.getFromService(n.frameworkURL() + n.getConfig("getCategorysUrl", "/v3/read/") + e, n.requestHeaders, function(r, i) {
                r || (n.categories[e] = i),
                t(r, i)
            })
        },
        getFrameworks: function(e, t) {
            this.getFromService(this.channelURL() + this.getConfig("getFrameworksUrl", "/v3/read/") + e, this.requestHeaders, t)
        },
        getPageAssemble: function(e, t) {
            this.postFromService(this.pageAssembleUrl() + this.getConfig("pageAssembleUrl", "/v1/page/assemble"), e, this.requestHeaders, t)
        },
        getFormConfigurations: function(e, t) {
            this.postFromService(this.getBaseURL() + this.getAPISlug() + this.getConfig("configEndPoint", "/data") + this.getConfig("configurationUrl", "/v1/form/read"), e, this.requestHeaders, t)
        },
        getVideoLicense: function(e, t, n) {
            this.postFromService(this.getBaseURL() + this.getAPISlug() + this.getConfig("videoLicenseURL", "/asset/v3/validate?field=" + t), e, this.requestHeaders, n)
        }
    }))
}
, function(e, t) {
    org.ekstep.services.languageService = new (org.ekstep.services.iService.extend({
        learningURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("learningEndPoint", "/learning")
        },
        languageURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("languageEndPoint", "/language")
        },
        getLanguages: function(e) {
            this.getFromService(this.languageURL() + this.getConfig("languageListUrl", "/v3/list"), this.requestHeaders, e)
        },
        getVowel: function(e, t) {
            this.getFromService(this.languageURL() + this.getConfig("vowelGetUrl", "/v3/varnas/vowels/list") + "?language_id=" + e, this.requestHeaders, t)
        },
        getConsonant: function(e, t) {
            this.getFromService(this.languageURL() + this.getConfig("consonantListUrl", "/v3/varnas/consonants/list") + "?language_id=" + e, this.requestHeaders, t)
        },
        getWords: function(e, t) {
            this.postFromService(this.languageURL() + this.getConfig("wordsGetUrl", "/v3/search"), e, this.requestHeaders, t)
        },
        getWordDefinition: function(e) {
            this.getFromService(this.languageURL() + this.getConfig("word_definition_url", "/definition/v3/read/Word") + "?language_id=en", this.requestHeaders, e)
        },
        getWordDefinitionByLanguage: function(e, t) {
            this.getFromService(this.languageURL() + this.getConfig("word_definition_url", "/definition/v3/read/Word") + "?language_id=" + e.languageId, this.requestHeaders, t)
        },
        getKeyWords: function(e, t) {
            this.postFromService(this.languageURL() + this.getConfig("keywordsGetUrl", "/v3/tools/parser"), e, this.requestHeaders, t)
        },
        getTransliteration: function(e, t) {
            this.postFromService(this.languageURL() + this.getConfig("transliterateGetUrl", "/v3/tools/transliterate") + "?lemma=" + e.text + "&languages=" + e.languages.toString(), {
                request: {}
            }, this.requestHeaders, t)
        },
        getTranslation: function(e, t) {
            this.postFromService(this.languageURL() + this.getConfig("translateGetUrl", "/v3/tools/translate") + "?language_id=" + e.wordLang + "&lemma=" + e.word + "&languages=" + e.languages, {
                request: {}
            }, this.requestHeaders, t)
        },
        getSyllables: function(e, t) {
            this.postFromService(this.languageURL() + "/v3/varnas/syllables/list", e, this.requestHeaders, t)
        }
    }))
}
, function(e, t) {
    org.ekstep.services.searchService = new (org.ekstep.services.iService.extend({
        searchURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("compositeEndPoint", "/composite")
        },
        initService: function() {},
        search: function(e, t) {
            _.isEmpty(this.getConfig("searchCriteria")) || (e.request = _.merge(e.request, this.getConfig("searchCriteria"))),
            this.postFromService(this.searchURL() + this.getConfig("searchUrl", "/v3/search"), e, this.requestHeaders, t)
        },
        pluginsSearch: function(e, t, n) {
            _.isUndefined(e) ? this.search(t, n) : this.postFromService(this.getBaseURL() + e, t, this.requestHeaders, n)
        }
    }))
}
, function(e, t) {
    org.ekstep.services.dialcodeService = new (org.ekstep.services.iService.extend({
        dialcodeURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("dialcodeEndPoint", "/dialcode")
        },
        dialcodelinkURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("dialcodeEndPoint", "/collection/v3/dialcode")
        },
        getAllDialCodes: function(e, t, n) {
            this.postFromService(this.dialcodeURL() + this.getConfig("getAllDialcodes", "/v3/search"), t, this.setChannelInHeader(e), n)
        },
        getlDialCode: function(e, t, n) {
            t ? this.get(this.dialcodeURL() + this.getConfig("dialCodeReadUrl", "/v3/read/") + t, this.setChannelInHeader(e), n) : n("dialCode id is required to get dialCode details", void 0)
        },
        dialcodeLink: function(e, t, n, r) {
            this.postFromService(this.dialcodelinkURL() + this.getConfig("dialcodeLink", "/link/") + e, n, this.setChannelInHeader(t), r)
        },
        reserveDialCode: function(e, t, n, r) {
            n ? this.postFromService(this.dialcodeURL() + this.getConfig("reserveDialCodeUrl", "/v1/reserve/") + n, t, this.setChannelInHeader(e), r) : r("contentId id is required to reserve dialCodes", void 0)
        },
        downloadQRCode: function(e, t, n) {
            t ? this.get(this.dialcodeURL() + this.getConfig("downloadQRCodeURL", "/v1/process/status/") + t, this.setChannelInHeader(e), n) : n("Process id is required to get QR codes", void 0)
        },
        setChannelInHeader: function(e) {
            var t = _.cloneDeep(this.requestHeaders);
            return t.headers["X-Channel-Id"] = e,
            t
        }
    }))
}
, function(e, t) {
    org.ekstep.services.lockService = new (org.ekstep.services.iService.extend({
        lockURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("lockEndPoint", "/lock")
        },
        createLock: function(e, t) {
            var n = this;
            n.getFingerPrintId(function() {
                var r = _.cloneDeep(n.requestHeaders);
                r.headers["X-device-Id"] = EkTelemetry.fingerPrintId,
                n.postFromService(n.lockURL() + n.getConfig("createLockUrl", "/v1/create"), e, r, t)
            })
        },
        refreshLock: function(e, t) {
            var n = this;
            n.getFingerPrintId(function() {
                var r = _.cloneDeep(n.requestHeaders);
                r.headers["X-device-Id"] = EkTelemetry.fingerPrintId,
                n.patch(n.lockURL() + n.getConfig("refreshLockUrl", "/v1/refresh"), e, r, t)
            })
        },
        deleteLock: function(e, t) {
            var n = this;
            n.getFingerPrintId(function() {
                var r = _.cloneDeep(n.requestHeaders);
                r.headers["X-device-Id"] = EkTelemetry.fingerPrintId,
                n.delete(n.lockURL() + n.getConfig("deleteLockUrl", "/v1/retire"), e, r, t)
            })
        },
        getFingerPrintId: function(e) {
            EkTelemetry.fingerPrintId ? e() : EkTelemetry.getFingerPrint(function(t, n) {
                EkTelemetry.fingerPrintId = t,
                e()
            })
        }
    }))
}
, function(e, t) {
    org.ekstep.services.userService = new (org.ekstep.services.iService.extend({
        initService: function() {},
        searchURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("userSearchEndPoint", "/user/v1/search?fields=orgName")
        },
        search: function(e, t) {
            this.postFromService(this.searchURL(), e, this.requestHeaders, t)
        },
        updateCollaborators: function(e, t, n) {
            this.patch(this.getBaseURL() + this.getAPISlug() + this.getConfig("collaborationUrl", "/content/v1/collaborator/update/") + e, t, this.requestHeaders, n)
        },
        updateCollaboratorsFromAdmin: function(e, t, n) {
            this.patch(this.getBaseURL() + this.getAPISlug() + this.getConfig("collaborationUrl", "/system/v3/content/update/") + e, t, this.requestHeaders, n)
        }
    }))
}
, function(e, t) {
    org.ekstep.services.textbookService = new (org.ekstep.services.iService.extend({
        serviceURL: function() {
            return this.getBaseURL() + this.getAPISlug() + this.getConfig("textbookEndPoint", "/textbook")
        },
        uploadFile: function(e, t, n) {
            this.postFromService(this.serviceURL() + this.getConfig("uploadTocURL", "/v1/toc/upload/") + e + "?fileUrl=" + t, {}, this.requestHeaders, n)
        },
        downloadFile: function(e, t) {
            var n = _.cloneDeep(this.requestHeaders);
            n.headers["content-type"] = "application/x-download",
            this.getFromService(this.serviceURL() + this.getConfig("donwnloadTocUrl", "/v1/toc/download/") + e, n, t)
        }
    }))
}
, function(e, t) {
    org.ekstep.pluginframework.iRepo = Class.extend({
        discoverManifest: function(e, t, n) {
            n(void 0, void 0)
        },
        resolveResource: function(e, t, n) {}
    })
}
, function(e, t) {
    org.ekstep.pluginframework.publishedRepo = new (org.ekstep.pluginframework.iRepo.extend({
        id: "published",
        discoverManifest: function(e, t, n, r) {
            var i = this;
            org.ekstep.pluginframework.resourceManager.loadResource(this.resolveResource(e, t, "manifest.json"), "json", function(e, t) {
                n(void 0, {
                    manifest: t,
                    repo: i
                })
            }, r)
        },
        resolveResource: function(e, t, n) {
            return org.ekstep.pluginframework.config.pluginRepo + "/" + e + "-" + t + "/" + n
        }
    })),
    org.ekstep.pluginframework.resourceManager.addRepo(org.ekstep.pluginframework.publishedRepo)
}
, function(e, t, n) {
    !function() {
        "use strict";
        var e, t = [];
        function n() {
            for (; t.length; )
                t[0](),
                t.shift()
        }
        function r(e) {
            this.a = i,
            this.b = void 0,
            this.f = [];
            var t = this;
            try {
                e(function(e) {
                    !function e(t, n) {
                        if (t.a == i) {
                            if (n == t)
                                throw new TypeError;
                            var r = !1;
                            try {
                                var o = n && n.then;
                                if (null != n && "object" == typeof n && "function" == typeof o)
                                    return void o.call(n, function(n) {
                                        r || e(t, n),
                                        r = !0
                                    }, function(e) {
                                        r || a(t, e),
                                        r = !0
                                    })
                            } catch (e) {
                                return void (r || a(t, e))
                            }
                            t.a = 0,
                            t.b = n,
                            s(t)
                        }
                    }(t, e)
                }, function(e) {
                    a(t, e)
                })
            } catch (e) {
                a(t, e)
            }
        }
        e = function() {
            setTimeout(n)
        }
        ;
        var i = 2;
        function o(e) {
            return new r(function(t) {
                t(e)
            }
            )
        }
        function a(e, t) {
            if (e.a == i) {
                if (t == e)
                    throw new TypeError;
                e.a = 1,
                e.b = t,
                s(e)
            }
        }
        function s(n) {
            !function(n) {
                t.push(n),
                1 == t.length && e()
            }(function() {
                if (n.a != i)
                    for (; n.f.length; ) {
                        var e = (o = n.f.shift())[0]
                          , t = o[1]
                          , r = o[2]
                          , o = o[3];
                        try {
                            0 == n.a ? r("function" == typeof e ? e.call(void 0, n.b) : n.b) : 1 == n.a && ("function" == typeof t ? r(t.call(void 0, n.b)) : o(n.b))
                        } catch (e) {
                            o(e)
                        }
                    }
            })
        }
        r.prototype.g = function(e) {
            return this.c(void 0, e)
        }
        ,
        r.prototype.c = function(e, t) {
            var n = this;
            return new r(function(r, i) {
                n.f.push([e, t, r, i]),
                s(n)
            }
            )
        }
        ,
        window.Promise || (window.Promise = r,
        window.Promise.resolve = o,
        window.Promise.reject = function(e) {
            return new r(function(t, n) {
                n(e)
            }
            )
        }
        ,
        window.Promise.race = function(e) {
            return new r(function(t, n) {
                for (var r = 0; r < e.length; r += 1)
                    o(e[r]).c(t, n)
            }
            )
        }
        ,
        window.Promise.all = function(e) {
            return new r(function(t, n) {
                function r(n) {
                    return function(r) {
                        a[n] = r,
                        (i += 1) == e.length && t(a)
                    }
                }
                var i = 0
                  , a = [];
                0 == e.length && t(a);
                for (var s = 0; s < e.length; s += 1)
                    o(e[s]).c(r(s), n)
            }
            )
        }
        ,
        window.Promise.prototype.then = r.prototype.c,
        window.Promise.prototype.catch = r.prototype.g)
    }(),
    function() {
        function t(e, t) {
            document.addEventListener ? e.addEventListener("scroll", t, !1) : e.attachEvent("scroll", t)
        }
        function n(e) {
            this.a = document.createElement("div"),
            this.a.setAttribute("aria-hidden", "true"),
            this.a.appendChild(document.createTextNode(e)),
            this.b = document.createElement("span"),
            this.c = document.createElement("span"),
            this.h = document.createElement("span"),
            this.f = document.createElement("span"),
            this.g = -1,
            this.b.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",
            this.c.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",
            this.f.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",
            this.h.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",
            this.b.appendChild(this.h),
            this.c.appendChild(this.f),
            this.a.appendChild(this.b),
            this.a.appendChild(this.c)
        }
        function r(e, t) {
            e.a.style.cssText = "max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:" + t + ";"
        }
        function i(e) {
            var t = e.a.offsetWidth
              , n = t + 100;
            return e.f.style.width = n + "px",
            e.c.scrollLeft = n,
            e.b.scrollLeft = e.b.scrollWidth + 100,
            e.g !== t && (e.g = t,
            !0)
        }
        function o(e, n) {
            function r() {
                var e = o;
                i(e) && e.a.parentNode && n(e.g)
            }
            var o = e;
            t(e.b, r),
            t(e.c, r),
            i(e)
        }
        function a(e, t) {
            var n = t || {};
            this.family = e,
            this.style = n.style || "normal",
            this.weight = n.weight || "normal",
            this.stretch = n.stretch || "normal"
        }
        var s = null
          , c = null
          , l = null
          , u = null;
        function d() {
            return null === u && (u = !!document.fonts),
            u
        }
        function f(e, t) {
            return [e.style, e.weight, function() {
                if (null === l) {
                    var e = document.createElement("div");
                    try {
                        e.style.font = "condensed 100px sans-serif"
                    } catch (e) {}
                    l = "" !== e.style.font
                }
                return l
            }() ? e.stretch : "", "100px", t].join(" ")
        }
        a.prototype.load = function(e, t) {
            var i = this
              , a = e || "BESbswy"
              , l = 0
              , u = t || 3e3
              , h = (new Date).getTime();
            return new Promise(function(e, t) {
                if (d() && !function() {
                    if (null === c)
                        if (d() && /Apple/.test(window.navigator.vendor)) {
                            var e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                            c = !!e && 603 > parseInt(e[1], 10)
                        } else
                            c = !1;
                    return c
                }()) {
                    var p = new Promise(function(e, t) {
                        !function n() {
                            (new Date).getTime() - h >= u ? t() : document.fonts.load(f(i, '"' + i.family + '"'), a).then(function(t) {
                                1 <= t.length ? e() : setTimeout(n, 25)
                            }, function() {
                                t()
                            })
                        }()
                    }
                    )
                      , g = new Promise(function(e, t) {
                        l = setTimeout(t, u)
                    }
                    );
                    Promise.race([g, p]).then(function() {
                        clearTimeout(l),
                        e(i)
                    }, function() {
                        t(i)
                    })
                } else
                    !function(e) {
                        document.body ? e() : document.addEventListener ? document.addEventListener("DOMContentLoaded", function t() {
                            document.removeEventListener("DOMContentLoaded", t),
                            e()
                        }) : document.attachEvent("onreadystatechange", function t() {
                            "interactive" != document.readyState && "complete" != document.readyState || (document.detachEvent("onreadystatechange", t),
                            e())
                        })
                    }(function() {
                        function c() {
                            var t;
                            (t = -1 != m && -1 != v || -1 != m && -1 != y || -1 != v && -1 != y) && ((t = m != v && m != y && v != y) || (null === s && (t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),
                            s = !!t && (536 > parseInt(t[1], 10) || 536 === parseInt(t[1], 10) && 11 >= parseInt(t[2], 10))),
                            t = s && (m == b && v == b && y == b || m == w && v == w && y == w || m == x && v == x && y == x)),
                            t = !t),
                            t && (S.parentNode && S.parentNode.removeChild(S),
                            clearTimeout(l),
                            e(i))
                        }
                        var d = new n(a)
                          , p = new n(a)
                          , g = new n(a)
                          , m = -1
                          , v = -1
                          , y = -1
                          , b = -1
                          , w = -1
                          , x = -1
                          , S = document.createElement("div");
                        S.dir = "ltr",
                        r(d, f(i, "sans-serif")),
                        r(p, f(i, "serif")),
                        r(g, f(i, "monospace")),
                        S.appendChild(d.a),
                        S.appendChild(p.a),
                        S.appendChild(g.a),
                        document.body.appendChild(S),
                        b = d.a.offsetWidth,
                        w = p.a.offsetWidth,
                        x = g.a.offsetWidth,
                        function e() {
                            if ((new Date).getTime() - h >= u)
                                S.parentNode && S.parentNode.removeChild(S),
                                t(i);
                            else {
                                var n = document.hidden;
                                !0 !== n && void 0 !== n || (m = d.a.offsetWidth,
                                v = p.a.offsetWidth,
                                y = g.a.offsetWidth,
                                c()),
                                l = setTimeout(e, 50)
                            }
                        }(),
                        o(d, function(e) {
                            m = e,
                            c()
                        }),
                        r(d, f(i, '"' + i.family + '",sans-serif')),
                        o(p, function(e) {
                            v = e,
                            c()
                        }),
                        r(p, f(i, '"' + i.family + '",serif')),
                        o(g, function(e) {
                            y = e,
                            c()
                        }),
                        r(g, f(i, '"' + i.family + '",monospace'))
                    })
            }
            )
        }
        ,
        e.exports = a
    }()
}
, function(e, t, n) {
    (function(e) {
        var t;
        window.fabric && (window.fabric.Object.prototype.toObject = (t = window.fabric.Object.prototype.toObject,
        function() {
            return window.fabric.util.object.extend(t.call(this), {
                meta: this.meta
            })
        }
        ));
        var n = function() {};
        n.prototype.jQuery = e,
        n.prototype._ = window._,
        window.org.ekstep.contenteditor = new n,
        n = void 0,
        window.ServiceConstants = {
            SEARCH_SERVICE: "search",
            POPUP_SERVICE: "popup",
            CONTENT_SERVICE: "content",
            ASSESSMENT_SERVICE: "assessment",
            LANGUAGE_SERVICE: "language",
            META_SERVICE: "meta",
            ASSET_SERVICE: "asset",
            TELEMETRY_SERVICE: "telemetry",
            DIALCODE_SERVICE: "dialcode",
            TEXTBOOK_SERVICE: "textbook",
            CONTENT_LOCK_SERVICE: "lock",
            USER_SERVICE: "user"
        },
        window.ManagerConstants = {
            EVENT_MANAGER: "event",
            MEDIA_MANAGER: "media",
            PLUGIN_MANAGER: "plugin",
            RESOURCE_MANAGER: "resource",
            STAGE_MANAGER: "stage",
            TOOLBAR_MANAGER: "toolbar"
        },
        WebFontConfig = {
            custom: {
                families: ["NotoSansDevanagari", "NotoSansTelugu", "NotoSansKannada", "NotoSansOriya", "NotoSansBengali", "NotoSansMalayalam", "NotoNastaliqUrdu", "NotoSansGurmukhi", "NotoSansTamil", "NotoSans", "NotoSansGujarati"],
                urls: ["styles/noto.css"]
            }
        }
    }
    ).call(this, n(1))
}
, function(e, t) {
    org.ekstep.contenteditor.config = {
        baseURL: "",
        apislug: "/action",
        build_number: "BUILDNUMBER",
        pluginRepo: "/content-plugins",
        aws_s3_urls: ["https://s3.ap-south-1.amazonaws.com/ekstep-public-dev/", "https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/"],
        plugins: [{
            id: "org.ekstep.developer",
            ver: "1.0",
            type: "plugin"
        }, {
            id: "org.ekstep.ceheader",
            ver: "1.0",
            type: "plugin"
        }, {
            id: "org.ekstep.whatsnew",
            ver: "1.0",
            type: "plugin"
        }, {
            id: "org.ekstep.todo",
            ver: "1.1",
            type: "plugin"
        }, {
            id: "org.ekstep.review",
            ver: "1.0",
            type: "plugin"
        }, {
            id: "org.ekstep.preview",
            ver: "1.1",
            type: "plugin"
        }, {
            id: "org.ekstep.editcontentmeta",
            ver: "1.1",
            type: "plugin"
        }, {
            id: "org.ekstep.quiz",
            ver: "1.1",
            type: "plugin"
        }, {
            id: "org.ekstep.video",
            ver: "1.0",
            type: "plugin"
        }],
        corePluginsPackaged: !0,
        dispatcher: "local",
        localDispatcherEndpoint: "/app/telemetry",
        previewURL: "/content/preview/preview.html",
        cloudStorage: {
            presigned_headers: {
                "x-ms-blob-type": "BlockBlob"
            }
        }
    },
    org.ekstep.contenteditor.extendedConfig = {
        corePlugins: ["text", "audio", "div", "hotspot", "image", "shape", "scribble", "htext"],
        corePluginMapping: {
            text: "org.ekstep.text",
            image: "org.ekstep.image",
            shape: "org.ekstep.shape",
            stage: "org.ekstep.stage",
            hotspot: "org.ekstep.hotspot",
            scribble: "org.ekstep.scribblepad",
            htext: "org.ekstep.text",
            audio: "org.ekstep.audio"
        },
        useProxyForURL: !1
    },
    org.ekstep.contenteditor.baseConfigManifest = [{
        propertyName: "autoplay",
        title: "Auto play",
        description: "Set the element's playability",
        dataType: "boolean",
        required: !0,
        defaultValue: !1
    }, {
        propertyName: "visible",
        title: "Visible",
        description: "Set the element's Visibility",
        dataType: "boolean",
        required: !0,
        defaultValue: !0
    }, {
        propertyName: "stroke",
        title: "Border Color",
        description: "Set the border color for element",
        dataType: "colorpicker",
        required: !0,
        defaultValue: "rgba(255, 255, 255, 0)"
    }]
}
, function(e, t, n) {
    (function(e) {
        org.ekstep.contenteditor.init = function(e, t, n, r, i) {
            org.ekstep.contenteditor._mergeConfig(t),
            org.ekstep.contenteditor._initServices(),
            org.ekstep.contenteditor.globalContext = e,
            org.ekstep.contenteditor.toolbarManager.setScope(n),
            org.ekstep.contenteditor._loadDefaultPlugins(e, i)
        }
        ,
        org.ekstep.contenteditor._backwardCompatibility = function() {
            EkstepEditorAPI.apislug = org.ekstep.contenteditor.config.apislug,
            EkstepEditorAPI.baseURL = org.ekstep.contenteditor.config.baseURL,
            EkstepEditorAPI.absURL = org.ekstep.contenteditor.config.absURL,
            EkstepEditorAPI.globalContext = org.ekstep.contenteditor.globalContext
        }
        ,
        org.ekstep.contenteditor._initServices = function() {
            org.ekstep.services.config = {
                baseURL: org.ekstep.contenteditor.config.baseURL,
                apislug: org.ekstep.contenteditor.config.apislug,
                searchCriteria: org.ekstep.contenteditor.config.searchCriteria || {}
            },
            org.ekstep.pluginframework.initialize({
                env: "editor",
                jQuery: org.ekstep.contenteditor.jQuery,
                pluginRepo: org.ekstep.contenteditor.config.pluginRepo,
                build_number: org.ekstep.contenteditor.config.build_number
            })
        }
        ,
        org.ekstep.contenteditor._mergeConfig = function(e) {
            e = e || {},
            org.ekstep.contenteditor.config = _.assign(org.ekstep.contenteditor.config, e),
            org.ekstep.contenteditor.config = _.assign(org.ekstep.contenteditor.config, org.ekstep.contenteditor.extendedConfig)
        }
        ,
        org.ekstep.contenteditor._loadDefaultPlugins = function(t, n) {
            !0 === org.ekstep.contenteditor.config.corePluginsPackaged && org.ekstep.contenteditor.jQuery("body").append(e("<script type='text/javascript' src='scripts/coreplugins.js?" + org.ekstep.contenteditor.config.build_number + "'>")),
            org.ekstep.pluginframework.eventManager.enableEvents = !1,
            org.ekstep.pluginframework.pluginManager.loadAllPlugins(org.ekstep.contenteditor.config.plugins, void 0, function() {
                org.ekstep.pluginframework.eventManager.enableEvents = !0,
                n()
            })
        }
        ,
        org.ekstep.contenteditor.getWindowContext = function() {
            return org.ekstep.contenteditor.getParameterByName("context") || (window.parent ? window.parent.context : void 0) || window.context || {}
        }
        ,
        org.ekstep.contenteditor.getWindowConfig = function() {
            return org.ekstep.contenteditor.getParameterByName("config") || (window.parent ? window.parent.config : void 0) || window.config || {}
        }
        ,
        org.ekstep.contenteditor.getParameterByName = function(e, t) {
            t || (t = window.location.href),
            e = e.replace(/[\[\]]/g, "\\$&");
            var n = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)").exec(t);
            if (n && n[2]) {
                var r = decodeURIComponent(n[2].replace(/\+/g, " "));
                return JSON.parse(r)
            }
        }
    }
    ).call(this, n(1))
}
, function(e, t) {
    window.org.ekstep.contenteditor.api = {
        jQuery: org.ekstep.contenteditor.jQuery,
        _: org.ekstep.contenteditor._,
        setContext: function(e, t) {
            org.ekstep.contenteditor.globalContext[e] = t
        },
        getContext: function(e) {
            return org.ekstep.contenteditor.globalContext[e]
        },
        getAllContext: function() {
            return org.ekstep.contenteditor.globalContext
        },
        setConfig: function(e, t) {
            org.ekstep.contenteditor.config[e] = t
        },
        getConfig: function(e) {
            return org.ekstep.contenteditor.config[e]
        },
        getAllConfig: function() {
            return org.ekstep.contenteditor.config
        },
        addEventListener: function(e, t, n) {
            org.ekstep.pluginframework.eventManager.addEventListener(e, t, n)
        },
        dispatchEvent: function(e, t, n) {
            org.ekstep.pluginframework.eventManager.dispatchEvent(e, t, n)
        },
        removeEventListener: function(e, t, n) {
            org.ekstep.pluginframework.eventManager.removeEventListener(e, t, n)
        },
        hasEventListener: function(e) {
            return org.ekstep.pluginframework.eventManager.hasEventListener(e)
        },
        loadPluginResource: function(e, t, n, r, i) {
            org.ekstep.pluginframework.pluginManager.loadPluginResource(e, t, n, r, i)
        },
        getService: function(e) {
            var t = "";
            switch (e) {
            case ServiceConstants.POPUP_SERVICE:
                t = org.ekstep.services.popupService;
                break;
            case ServiceConstants.CONTENT_SERVICE:
                t = org.ekstep.services.contentService;
                break;
            case ServiceConstants.ASSESSMENT_SERVICE:
                t = org.ekstep.services.assessmentService;
                break;
            case ServiceConstants.LANGUAGE_SERVICE:
                t = org.ekstep.services.languageService;
                break;
            case ServiceConstants.SEARCH_SERVICE:
                t = org.ekstep.services.searchService;
                break;
            case ServiceConstants.META_SERVICE:
                t = org.ekstep.services.metaService;
                break;
            case ServiceConstants.ASSET_SERVICE:
                t = org.ekstep.services.assetService;
                break;
            case ServiceConstants.TELEMETRY_SERVICE:
                t = org.ekstep.services.telemetryService;
                break;
            case ServiceConstants.DIALCODE_SERVICE:
                t = org.ekstep.services.dialcodeService;
                break;
            case ServiceConstants.TEXTBOOK_SERVICE:
                t = org.ekstep.services.textbookService;
                break;
            case ServiceConstants.USER_SERVICE:
                t = org.ekstep.services.userService;
                break;
            case ServiceConstants.CONTENT_LOCK_SERVICE:
                t = org.ekstep.services.lockService
            }
            return t
        },
        getAngularScope: function() {
            return org.ekstep.contenteditor.toolbarManager.scope
        },
        getCanvas: function() {
            return org.ekstep.contenteditor.stageManager.canvas
        },
        getCurrentStage: function() {
            return org.ekstep.contenteditor.stageManager.currentStage
        },
        getStage: function(e) {
            return org.ekstep.contenteditor.stageManager.getStage(e)
        },
        refreshStages: function() {
            org.ekstep.contenteditor.api.ngSafeApply(org.ekstep.contenteditor.api.getAngularScope(), function() {
                org.ekstep.contenteditor.toolbarManager.scope.stages = org.ekstep.contenteditor.stageManager.stages
            })
        },
        getCurrentObject: function() {
            var e = org.ekstep.contenteditor.stageManager.canvas.getActiveObject();
            if (!e)
                return !1;
            var t = e.id;
            return org.ekstep.contenteditor.api.getPluginInstance(t)
        },
        getCurrentGroup: function() {
            if (org.ekstep.contenteditor.stageManager.canvas.getActiveGroup()) {
                var e = org.ekstep.contenteditor.stageManager.canvas.getActiveGroup()._objects
                  , t = [];
                return _.forEach(e, function(e, n) {
                    var r = org.ekstep.contenteditor.api.getPluginInstance(e.id);
                    t.push(r)
                }),
                t
            }
        },
        getEditorGroup: function() {
            return org.ekstep.contenteditor.stageManager.canvas.getActiveGroup()
        },
        getEditorObject: function() {
            return org.ekstep.contenteditor.stageManager.canvas.getActiveObject()
        },
        render: function() {
            org.ekstep.contenteditor.stageManager.canvas.renderAll()
        },
        getPluginInstance: function(e) {
            return org.ekstep.pluginframework.pluginManager.getPluginInstance(e)
        },
        updateContextMenu: function(e) {
            org.ekstep.contenteditor.toolbarManager.updateContextMenu([e])
        },
        updateContextMenus: function(e) {
            org.ekstep.contenteditor.toolbarManager.updateContextMenu(e)
        },
        updateSidebarMenu: function(e) {
            org.ekstep.contenteditor.sidebarManager.updateSidebarMenu(e)
        },
        instantiatePlugin: function(e, t, n, r) {
            return org.ekstep.pluginframework.pluginManager.invoke(e, t, n, r)
        },
        addStage: function(e) {
            org.ekstep.contenteditor.stageManager.addStage(e)
        },
        getPlugin: function(e) {
            return org.ekstep.pluginframework.pluginManager.plugins[e]
        },
        addPluginInstance: function(e) {
            org.ekstep.pluginframework.pluginManager.addPluginInstance(e)
        },
        removePluginInstance: function(e) {
            org.ekstep.pluginframework.pluginManager.removePluginInstance(e)
        },
        cloneInstance: function(e) {
            var t = e.getCopy();
            t = _.omit(t, ["id", "event"]),
            e.parent.id === org.ekstep.contenteditor.api.getCurrentStage().id && (t.x = t.x + 2,
            t.y = t.y + 2),
            org.ekstep.contenteditor.api.instantiatePlugin(e.manifest.id, t, org.ekstep.contenteditor.api.getCurrentStage())
        },
        getAllStages: function() {
            return org.ekstep.contenteditor.stageManager.stages
        },
        getStagePluginInstances: function(e, t, n, r) {
            var i = _.clone(org.ekstep.contenteditor.api.getStage(e).children);
            return t && (i = _.filter(i, function(e) {
                return -1 !== t.indexOf(e.manifest.id)
            })),
            n && (i = _.filter(i, function(e) {
                return -1 === n.indexOf(e.manifest.id)
            })),
            r && (i = _.filter(i, function(e) {
                return -1 === r.indexOf(e.id)
            })),
            i
        },
        getPluginInstances: function(e, t, n) {
            var r = _.clone(org.ekstep.pluginframework.pluginManager.pluginInstances);
            return e && (r = _.filter(r, function(t) {
                return -1 !== e.indexOf(t.manifest.id)
            })),
            t && (r = _.filter(r, function(e) {
                return -1 === t.indexOf(e.manifest.id)
            })),
            n && (r = _.filter(r, function(e) {
                return -1 === n.indexOf(e.id)
            })),
            r
        },
        getMedia: function(e) {
            return org.ekstep.contenteditor.mediaManager.getMedia(e)
        },
        getMediaReverseProxyURL: function(e) {
            return org.ekstep.contenteditor.mediaManager.getMediaOriginURL(e)
        },
        loadPlugin: function(e, t, n) {
            org.ekstep.pluginframework.pluginManager.loadPluginWithDependencies(e, t, "plugin", void 0, [], n)
        },
        updatePluginDimensions: function(e) {
            e.attributes.x = e.editorObj.getLeft(),
            e.attributes.y = e.editorObj.getTop(),
            e.attributes.w = e.editorObj.getWidth() - e.editorObj.getStrokeWidth(),
            e.attributes.h = e.editorObj.getHeight() - e.editorObj.getStrokeWidth(),
            e.attributes.rotate = e.editorObj.getAngle(),
            _.isFunction(e.editorObj.getRx) && (e.attributes.r = e.editorObj.getRx())
        },
        ngSafeApply: function(e, t) {
            e && e.$safeApply(t)
        },
        loadAndInitPlugin: function(e, t, n, r) {
            r = r || this.getCurrentStage(),
            org.ekstep.pluginframework.pluginManager.loadAndInitPlugin(e, t, n, r)
        },
        resolvePluginResource: function(e, t, n) {
            return org.ekstep.pluginframework.pluginManager.resolvePluginResource(e, t, n)
        },
        registerKeyboardCommand: function(e, t) {
            org.ekstep.pluginframework.keyboardManager.registerKeyCombination(e, t)
        },
        addResourceRepository: function(e, t) {
            e && org.ekstep.pluginframework.resourceManager.addRepo(e, t)
        },
        showSidebarMenu: function(e) {
            org.ekstep.contenteditor.sidebarManager.showSidebarMenu(e)
        },
        getCurrentSidebarMenu: function() {
            return org.ekstep.contenteditor.sidebarManager.getCurrentMenu()
        }
    },
    window.ecEditor = window.org.ekstep.contenteditor.api
}
, function(e, t) {
    org.ekstep.contenteditor.basePlugin = Class.extend({
        id: void 0,
        parent: void 0,
        children: [],
        manifest: void 0,
        editorObj: void 0,
        editorData: void 0,
        data: void 0,
        attributes: {
            x: 0,
            y: 0,
            w: 0,
            h: 0,
            visible: !0,
            editable: !0
        },
        config: void 0,
        event: void 0,
        events: void 0,
        params: void 0,
        media: void 0,
        configManifest: void 0,
        init: function(e, t, n) {
            this.manifest = _.cloneDeep(e),
            1 === arguments.length ? (this.registerMenu(),
            this.initialize(),
            org.ekstep.contenteditor.api.addEventListener(this.manifest.id + ":create", this.create, this)) : (this.editorObj = void 0,
            this.event = void 0,
            this.attributes = {
                x: 0,
                y: 0,
                w: 0,
                h: 0,
                visible: !0
            },
            this.params = void 0,
            this.data = void 0,
            this.media = void 0,
            this.editorData = t || {},
            this.children = [],
            this.id = this.editorData.id || UUID(),
            this.parent = n,
            this.config = {
                opacity: 100,
                strokeWidth: 1,
                stroke: "rgba(255, 255, 255, 0)",
                autoplay: !1,
                visible: !0
            }),
            this.configManifest = _.clone(org.ekstep.contenteditor.baseConfigManifest, !0)
        },
        initPlugin: function() {
            this.fromECML(this.editorData),
            this.newInstance(),
            this.postInit()
        },
        postInit: function() {
            this.registerFabricEvents(),
            this.editorObj && (this.editorObj.set({
                id: this.id
            }),
            this.editorObj.setVisible(!0)),
            _.has(this.manifest.editor, "behaviour") && (_.isUndefined(this.manifest.editor.behaviour.rotatable) || !0 !== this.manifest.editor.behaviour.rotatable || this.editorObj && (this.editorObj.hasRotatingPoint = !0)),
            this.parent && this.parent.addChild(this),
            this.parent && "stage" !== this.parent.type && org.ekstep.contenteditor.api.dispatchEvent("object:modified", {
                id: this.id
            })
        },
        registerMenu: function() {
            var e = this;
            this.manifest.editor.menu = this.manifest.editor.menu || [],
            this.manifest.editor.sidebarMenu = this.manifest.editor.sidebarMenu || [],
            _.forEach(this.manifest.editor.menu, function(t) {
                t.iconImage = t.iconImage ? e.relativeURL(t.iconImage) : t.iconImage,
                t.submenu && _.forEach(t.submenu, function(t) {
                    t.iconImage = t.iconImage ? e.relativeURL(t.iconImage) : t.iconImage,
                    t.pluginId = e.manifest.id,
                    t.pluginVer = e.manifest.ver
                }),
                "main" === t.category ? org.ekstep.contenteditor.toolbarManager.registerMenu(t, e.manifest) : "context" === t.category && org.ekstep.contenteditor.toolbarManager.registerContextMenu(t, e.manifest)
            }),
            _.forEach(e.manifest.editor.sidebarMenu, function(t) {
                org.ekstep.contenteditor.sidebarManager.registerSidebarMenu(t, e.manifest)
            }),
            org.ekstep.contenteditor.sidebarManager.loadCustomTemplate(e.manifest.id),
            _.forEach(e.manifest.editor.header, function(t) {
                org.ekstep.contenteditor.headerManager.register(t, e.manifest)
            })
        },
        relativeURL: function(e) {
            return org.ekstep.contenteditor.api.resolvePluginResource(this.manifest.id, this.manifest.ver, e)
        },
        getType: function() {
            return this.manifest.id
        },
        getVersion: function() {
            return this.manifest.ver
        },
        registerFabricEvents: function() {
            this.editorObj && this.editorObj.on({
                added: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.added(n, e, t),
                    n.editorObj && org.ekstep.contenteditor.api.updatePluginDimensions(n)
                },
                removed: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.removed(n, e, t),
                    _.forEach(n.children, function(e, t) {
                        e.editorObj.remove()
                    }),
                    n.remove()
                },
                selected: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.selected(n, e, t)
                },
                deselected: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.deselected(n, e, t)
                },
                modified: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.editorObj && org.ekstep.contenteditor.api.updatePluginDimensions(n),
                    n.changed(n, e, t)
                },
                rotating: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.rotating(n, e, t)
                },
                scaling: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.scaling(n, e, t)
                },
                moving: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.moving(n, e, t)
                },
                skewing: function(e, t) {
                    var n = org.ekstep.contenteditor.api.getPluginInstance(this.id);
                    n.skewing(n, e, t)
                }
            })
        },
        loadResource: function(e, t, n) {
            org.ekstep.contenteditor.api.loadPluginResource(this.manifest.id, this.manifest.ver, e, t, n)
        },
        remove: function() {
            this.parent && (this.parent.removeChild(this),
            this.parent = void 0),
            delete org.ekstep.pluginframework.pluginManager.pluginInstances[this.id]
        },
        create: function(e, t) {
            org.ekstep.contenteditor.api.instantiatePlugin(this.manifest.id, _.clone(t), org.ekstep.contenteditor.stageManager.currentStage)
        },
        addChild: function(e) {
            this.children.push(e)
        },
        removeChild: function(e) {
            this.children = _.reject(this.children, {
                id: e.id
            })
        },
        initialize: function(e) {},
        newInstance: function(e) {},
        added: function(e, t, n) {},
        removed: function(e, t, n) {},
        selected: function(e, t, n) {},
        deselected: function(e, t, n) {},
        changed: function(e, t, n) {},
        rotating: function(e, t, n) {},
        scaling: function(e, t, n) {},
        moving: function(e, t, n) {},
        skewing: function(e, t, n) {},
        doCopy: function() {
            return this.editorObj
        },
        getCopy: function() {
            return this.toECML()
        },
        render: function(e) {
            this.editorObj && e.add(this.editorObj)
        },
        getMeta: function() {},
        pixelToPercent: function(e) {
            e.x = parseFloat((e.x / 720 * 100).toFixed(2)),
            e.y = parseFloat((e.y / 405 * 100).toFixed(2)),
            e.w = parseFloat((e.w / 720 * 100).toFixed(2)),
            e.h = parseFloat((e.h / 405 * 100).toFixed(2)),
            e.rotate = parseFloat(e.rotate)
        },
        percentToPixel: function(e) {
            e.x = 7.2 * e.x,
            e.y = 4.05 * e.y,
            e.w = 7.2 * e.w,
            e.h = 4.05 * e.h,
            e.rotate = e.rotate
        },
        setConfig: function(e) {
            this.config = e
        },
        addConfig: function(e, t) {
            _.isUndefined(this.config) && (this.config = {}),
            this.config[e] = t
        },
        getConfig: function() {
            return this.config
        },
        setData: function(e) {
            this.data = e
        },
        getData: function() {
            return this.data
        },
        setAttributes: function(e) {
            _.merge(this.attributes, e)
        },
        getAttributes: function() {
            return _.omit(this.attributes, ["top", "left", "width", "height"])
        },
        setAttribute: function(e, t) {
            this.attributes[e] = t
        },
        getAttribute: function(e) {
            return this.attributes[e]
        },
        addEvent: function(e) {
            _.isUndefined(this.event) && (this.event = []),
            _.isArray(this.event) ? this.event.push(e) : this.event = [e]
        },
        getEvents: function() {
            return this.event
        },
        addParam: function(e, t) {
            _.isUndefined(this.params) && (this.params = {}),
            this.params[e] = t
        },
        deleteParam: function(e) {
            this.params && delete this.params[e]
        },
        getParams: function() {
            return this.params
        },
        getParam: function(e) {
            return this.params ? this.params[e] : void 0
        },
        addMedia: function(e) {
            _.isUndefined(this.media) && (this.media = {}),
            this.media[e.id] = e
        },
        getMedia: function() {
            return this.media
        },
        getRendererDimensions: function() {
            var e = this.getAttributes()
              , t = {
                x: e.x,
                y: e.y,
                w: e.w,
                h: e.h,
                rotate: e.rotate
            };
            return this.pixelToPercent(t),
            t
        },
        toECML: function() {
            this.editorObj && org.ekstep.contenteditor.api.updatePluginDimensions(this);
            var e = _.clone(this.getAttributes());
            return e.id = this.id,
            this.pixelToPercent(e),
            _.isUndefined(this.getData()) || (e.data = {
                __cdata: JSON.stringify(this.getData())
            }),
            _.isUndefined(this.getConfig()) || (e.config = {
                __cdata: JSON.stringify(this.getConfig())
            }),
            _.isUndefined(this.getEvents()) || (e.event = this.getEvents()),
            _.isUndefined(this.getParams()) || (e.param = [],
            _.forIn(this.getParams(), function(t, n) {
                e.param.push({
                    name: n,
                    value: t
                })
            })),
            e
        },
        fromECML: function(e) {
            var t = this;
            if (this.attributes = e,
            _.isUndefined(this.attributes.data) || (this.data = this.attributes.data.__cdata ? JSON.parse(this.attributes.data.__cdata) : this.attributes.data,
            delete this.attributes.data),
            _.isUndefined(this.attributes.config) || (this.config = this.attributes.config.__cdata ? JSON.parse(this.attributes.config.__cdata) : this.attributes.config,
            delete this.attributes.config),
            _.isUndefined(this.attributes.events) || delete this.attributes.events,
            _.isUndefined(this.attributes.event) || (this.event = this.attributes.event,
            delete this.attributes.event),
            _.isUndefined(this.attributes.param) || (_.forEach(this.attributes.param, function(e) {
                t.addParam(e.name, e.value)
            }),
            delete this.attributes.param),
            !_.isUndefined(this.attributes.asset))
                if (_.isUndefined(this.attributes.assetMedia)) {
                    var n = org.ekstep.contenteditor.mediaManager.getMedia(this.attributes.asset);
                    _.isUndefined(n) || t.addMedia(n)
                } else
                    t.addMedia(this.attributes.assetMedia),
                    delete this.attributes.assetMedia;
            this.percentToPixel(this.attributes)
        },
        convertToFabric: function(e) {
            var t = _.clone(e);
            return e.x && (t.left = e.x),
            e.y && (t.top = e.y),
            e.w && (t.width = e.w),
            e.h && (t.height = e.h),
            e.radius && (t.rx = e.radius),
            e.color && (t.fill = e.color),
            e.rotate && (t.angle = e.rotate),
            t
        },
        getConfigManifest: function() {
            this.manifest.editor.configManifest || (this.manifest.editor.configManifest = []);
            var e = this.manifest.editor.configManifest;
            return this.configManifest && (e = _.uniqBy(_.clone(_.concat(this.manifest.editor.configManifest, this.configManifest), !0), "propertyName")),
            this.manifest.editor.playable && !0 === this.manifest.editor.playable || _.remove(e, function(e) {
                return "autoplay" === e.propertyName
            }),
            e
        },
        updateContextMenu: function() {},
        reConfig: function() {},
        onConfigChange: function() {},
        _onConfigChange: function(e, t) {
            this.addConfig(e, t);
            var n = org.ekstep.contenteditor.api.getCurrentObject();
            if (n) {
                switch (void 0 === n.config && (n.config = {}),
                e) {
                case "opacity":
                    n.editorObj.setOpacity(t / 100),
                    n.attributes.opacity = t / 100,
                    n.config.opacity = t;
                    break;
                case "strokeWidth":
                    t = parseInt(t),
                    n.editorObj.set("strokeWidth", t),
                    n.attributes["stroke-width"] = t,
                    n.attributes.strokeWidth = t,
                    n.config.strokeWidth = t;
                    break;
                case "stroke":
                    n.editorObj.setStroke(t),
                    n.attributes.stroke = t,
                    n.config.stroke = t;
                    break;
                case "autoplay":
                    n.attributes.autoplay = t,
                    n.config.autoplay = t;
                    break;
                case "visible":
                    n.attributes.visible = t,
                    n.config.visible = t
                }
                org.ekstep.contenteditor.api.render(),
                org.ekstep.contenteditor.api.dispatchEvent("object:modified", {
                    target: org.ekstep.contenteditor.api.getEditorObject()
                })
            }
        },
        getHelp: function(e) {
            var t = "Help is not available.";
            try {
                this.loadResource(this.manifest.editor.help.src, this.manifest.editor.help.dataType, function(n, r) {
                    n || e(t = r)
                })
            } catch (n) {
                console.log(n),
                e(t)
            }
        },
        getProperties: function() {
            var e = _.omitBy(_.clone(this.attributes), _.isObject);
            return e = _.omitBy(e, _.isNaN),
            this.pixelToPercent(e),
            e
        },
        renderConfig: function() {},
        getManifestId: function() {
            return this.manifest.shortId || this.manifest.id
        },
        getDisplayName: function() {
            return this.manifest.displayName || this.manifest.id
        },
        getSummary: function() {},
        getPragmaValue: function() {}
    })
}
, function(e, t) {
    org.ekstep.contenteditor.toolbarManager = new (Class.extend({
        menuItems: [],
        contextMenuItems: [],
        configMenuItems: [],
        scope: void 0,
        setScope: function(e) {
            this.scope = e
        },
        registerMenu: function(e, t) {
            if (!_.isObject(_.find(this.menuItems, {
                id: e.id
            }))) {
                var n = _.cloneDeep(e);
                n.pluginId = t.id,
                n.pluginVer = t.ver,
                this.menuItems.push(n)
            }
            this.scope && this.scope.refreshToolbar()
        },
        registerContextMenu: function(e, t) {
            if (!_.isObject(_.find(this.contextMenuItems, {
                id: e.id
            }))) {
                var n = _.cloneDeep(e);
                n.pluginId = t.id,
                n.pluginVer = t.ver,
                this.contextMenuItems.push(n)
            }
            this.scope && this.scope.refreshToolbar()
        },
        resetContextMenu: function() {
            _.forEach(this.contextMenuItems, function(e) {
                e.state = "HIDE",
                e.selected = !1
            })
        },
        updateContextMenu: function(e) {
            var t = this;
            _.forEach(e, function(e) {
                t._updateContextMenu(e.id, e)
            }),
            org.ekstep.contenteditor.api.ngSafeApply(this.scope, function() {
                t.scope.contextMenus = t.contextMenuItems
            }),
            org.ekstep.contenteditor.jQuery(document).ready(function() {
                org.ekstep.contenteditor.jQuery(".ui.dropdown").dropdown(),
                org.ekstep.contenteditor.jQuery(".popup-item").popup()
            })
        },
        _updateContextMenu: function(e, t) {
            var n = _.find(this.contextMenuItems, {
                id: e
            });
            _.forIn(t, function(r, i) {
                "data" !== i && (n[i] = r,
                org.ekstep.pluginframework.eventManager.dispatchEvent(e + ":" + i, t.data))
            })
        },
        getRegisterConfigMenu: function() {
            return this.configMenuItems
        },
        cleanUp: function() {
            this.menuItems = [],
            this.contextMenus = []
        }
    }))
}
, function(e, t) {
    org.ekstep.contenteditor.mediaManager = new (Class.extend({
        mediaMap: {},
        migratedMediaMap: {},
        addMedia: function(e) {
            _.isObject(e) && _.isString(e.id) && (this.mediaMap[e.id] = e)
        },
        getMedia: function(e) {
            return this.mediaMap[e]
        },
        getMediaOriginURL: function(e) {
            var t = org.ekstep.contenteditor.config.baseURL + "/assets/public/";
            return _.forEach(org.ekstep.contenteditor.config.aws_s3_urls, function(n) {
                -1 !== e.indexOf(n) && (e = e.replace(n, t))
            }),
            e
        },
        addToMigratedMedia: function(e) {
            _.isObject(e) && _.isString(e.id) && (this.migratedMediaMap[e.id] = e)
        }
    }))
}
, function(e, t, n) {
    (function(e) {
        org.ekstep.contenteditor.sidebarManager = new (Class.extend({
            loadNgModules: void 0,
            sidebarMenu: [],
            init: function() {
                this.setSidebarHeight()
            },
            initialize: function(e) {
                this.loadNgModules = e.loadNgModules,
                this.scope = e.scope
            },
            registerSidebarMenu: function(e, t) {
                var n = this;
                _.isObject(_.find(this.sidebarMenu, {
                    id: "sidebar:" + e.id
                })) || (e.onclick = e.onclick || {
                    id: "sidebar:" + e.id
                },
                this.sidebarMenu.push(e),
                this.loadSidebar(e, t),
                ecEditor.addEventListener("sidebar:" + e.id, function(e, t) {
                    n.showSidebarMenu(e.type.substring(e.type.indexOf(":") + 1))
                }, n))
            },
            loadSidebar: function(e, t) {
                var n = this;
                e.state = e.state || "SHOW",
                e.templateURL && (e.templateURL = org.ekstep.contenteditor.api.resolvePluginResource(t.id, t.ver, e.templateURL),
                n.loadNgModules(e.templateURL),
                e.controllerURL ? (e.controllerURL = org.ekstep.contenteditor.api.resolvePluginResource(t.id, t.ver, e.controllerURL),
                n.loadNgModules(void 0, e.controllerURL).then(function() {
                    n.scope.addToSidebar(e)
                }, function() {
                    throw new Error("unable to load controller :" + e.controllerURL)
                })) : n.scope.addToSidebar(e))
            },
            loadCustomTemplate: function(e) {
                var t = this
                  , n = org.ekstep.pluginframework.pluginManager.getPluginManifest(e);
                n.editor.configManifest = n.editor.configManifest || [],
                _.forEach(n.editor.configManifest, function(e) {
                    if ("custom_template" === e.type && (e.controllerURL && t.loadNgModules(void 0, org.ekstep.contenteditor.api.resolvePluginResource(n.id, n.ver, e.controllerURL)),
                    e.templateURL)) {
                        var r = org.ekstep.contenteditor.api.resolvePluginResource(n.id, n.ver, e.templateURL);
                        org.ekstep.pluginframework.resourceManager.loadResource(r, "HTML", function(t, n) {
                            if (t)
                                throw new Error("unable to load custom template");
                            n && (e.template = n)
                        })
                    }
                })
            },
            updateSidebarMenu: function(e) {
                var t = _.find(this.sidebarMenu, {
                    id: e.id
                });
                _.forIn(e, function(e, n) {
                    "id" !== n && (t[n] = e)
                }),
                this.scope.refreshSidebar()
            },
            getSidebarMenu: function() {
                return this.sidebarMenu
            },
            setSidebarHeight: function() {
                var t = e(window).innerHeight() - 212;
                e(".sidebar-holder").css("height", t + "px")
            },
            getCurrentMenu: function() {
                return this.scope.configCategory.selected
            },
            showSidebarMenu: function(e) {
                e && ("HIDE" !== _.find(this.sidebarMenu, function(t) {
                    return t.id === e
                }).state && (this.scope.configCategory.selected = e),
                this.scope.refreshSidebar())
            }
        }))
    }
    ).call(this, n(1))
}
, function(e, t) {
    org.ekstep.contenteditor.headerManager = new (Class.extend({
        registeredHeaders: [],
        initialize: function(e) {
            this.loadNgModules = e.loadNgModules,
            this.scope = e.scope
        },
        register: function(e, t) {
            this.registeredHeaders.push({
                id: t.id,
                header: e
            }),
            this.load(e, t)
        },
        load: function(e, t) {
            var n = this;
            e.templateURL && (e.templateURL = org.ekstep.contenteditor.api.resolvePluginResource(t.id, t.ver, e.templateURL),
            n.loadNgModules(e.templateURL),
            e.controllerURL ? (e.controllerURL = org.ekstep.contenteditor.api.resolvePluginResource(t.id, t.ver, e.controllerURL),
            n.loadNgModules(void 0, e.controllerURL).then(function() {
                n.scope.addToHeader(e)
            }, function() {
                throw new Error("unable to load controller :" + e.controllerURL)
            })) : n.scope.addToHeader(e))
        }
    }))
}
, function(e, t) {
    org.ekstep.services.popupService = new (org.ekstep.services.iService.extend({
        loadModules: void 0,
        openModal: void 0,
        initService: function(e, t) {
            this.loadModules = e,
            this.openModal = t
        },
        loadNgModules: function(e, t, n) {
            if (this.loadModules)
                return this.loadModules(e, t, n)
        },
        open: function(e, t) {
            this.openModal && (this.openModal(e, t),
            org.ekstep.services.telemetryService.interact({
                type: "show",
                subtype: "open",
                target: "popup",
                pluginid: "",
                pluginver: "",
                objectid: "",
                stage: ecEditor.getCurrentStage().id
            }))
        },
        close: function(e) {
            return e ? e + "_" + e.length + "_" + e : (e = "test") + "_" + e.length
        }
    }))
}
, function(e, t) {
    var n = org.ekstep.pluginframework.pluginManager;
    window.ManifestGenerator = new (Class.extend({
        visitedPlugins: {},
        pluginManifest: [],
        mediaManifest: [],
        compatibilityVersion: 0,
        reset: function() {
            this.visitedPlugins = {},
            this.pluginManifest = [],
            this.mediaManifest = []
        },
        getPluginManifest: function() {
            return this.pluginManifest
        },
        getMediaManifest: function() {
            return this.mediaManifest
        },
        isVisited: function(e) {
            return !!this.visitedPlugins[e]
        },
        visit: function(e) {
            this.visitedPlugins[e] = !0
        },
        generate: function(e) {
            this.reset(),
            this._generate(e)
        },
        _generate: function(e) {
            var t = this;
            _.forEach(e, function(e) {
                t._generateManifest(e)
            })
        },
        _generateManifest: function(e) {
            if (!this.isVisited(e)) {
                this.visit(e);
                var t = n.getPluginManifest(e);
                _.isUndefined(t) || (this._generatePluginManifest(t),
                this._generateMediaManifest(t))
            }
        },
        _getDependencies: function(e) {
            var t;
            if (e.dependencies && e.dependencies.length > 0) {
                var n = _.map(_.filter(e.dependencies, function(e) {
                    return -1 !== ["all", "renderer"].indexOf(e.scope)
                }), function(e) {
                    return e.plugin
                });
                n.length > 0 && (t = n)
            }
            return t
        },
        _generatePluginManifest: function(e) {
            var t = this._getDependencies(e)
              , n = "";
            !_.isUndefined(t) && t.length > 0 && (this._generate(t),
            n = t.join(",")),
            e.type = e.type || "plugin",
            e.renderer && this.pluginManifest.push({
                id: e.id,
                ver: e.ver,
                type: e.type,
                depends: n
            })
        },
        _generateMediaManifest: function(e) {
            var t = this;
            e.renderer && (e.renderer.compatibilityVersion && e.renderer.compatibilityVersion > t.compatibilityVersion && (t.compatibilityVersion = e.renderer.compatibilityVersion),
            e.renderer.dependencies && e.renderer.dependencies.length > 0 && _.forEach(e.renderer.dependencies, function(r) {
                t.mediaManifest.push({
                    id: r.id || UUID(),
                    plugin: e.id,
                    ver: e.ver,
                    src: n.resolvePluginResource(e.id, e.ver, r.src),
                    type: r.type
                })
            }),
            e.renderer.main && t.mediaManifest.push({
                id: e.id,
                plugin: e.id,
                ver: e.ver,
                src: n.resolvePluginResource(e.id, e.ver, e.renderer.main),
                type: "plugin"
            }),
            t.mediaManifest.push({
                id: e.id + "_manifest",
                plugin: e.id,
                ver: e.ver,
                src: n.resolvePluginResource(e.id, e.ver, "manifest.json"),
                type: "json"
            }))
        },
        getCompatibilityVersion: function() {
            if (this.compatibilityVersion)
                return this.compatibilityVersion
        }
    }))
}
, function(e, t) {
    org.ekstep.services.telemetryService = new (org.ekstep.services.iService.extend({
        context: {},
        dispatchers: [],
        initialized: !0,
        start_event: void 0,
        startEventData: void 0,
        contentLoadTime: 0,
        initialize: function(e, t) {
            var n = this;
            this.context = e,
            void 0 === this.context.cdata && (this.context.cdata = []),
            void 0 !== this.context.uid && void 0 !== this.context.sid && void 0 !== this.context.content_id || (console.error("Unable to instantiate telemetry service"),
            this.initialized = !1),
            this.addDispatcher(t),
            window.addEventListener("unload", function() {
                n.end()
            }),
            this.startEventData = {
                defaultPlugins: Object.keys(org.ekstep.pluginframework.pluginManager.plugins),
                loadtimes: {},
                client: {}
            }
        },
        startEvent: function(e) {
            var t = this;
            return {
                duration: function(n) {
                    t.contentLoadTime += parseInt(n),
                    e && t.start()
                }
            }
        },
        getDispatcher: function(e) {
            switch (e) {
            case "local":
                return org.ekstep.contenteditor.localDispatcher;
            case "piwik":
                return org.ekstep.contenteditor.piwikDispatcher;
            default:
                return org.ekstep.contenteditor.consoleDispatcher
            }
        },
        addDispatcher: function(e) {
            var t = this.getDispatcher(e);
            this.dispatchers.find(function(e) {
                return e.type === t.type
            }) || this.dispatchers.push(t)
        },
        _dispatch: function(e) {
            this.initialized && (e.mid = "CE:" + CryptoJS.MD5(JSON.stringify(e)).toString(),
            _.forEach(this.dispatchers, function(t) {
                t.dispatch(e)
            }))
        },
        getEvent: function(e, t) {
            return {
                eid: e,
                mid: "",
                ets: (new Date).getTime(),
                channel: this.context.channel,
                ver: "2.1",
                pdata: this.context.pdata,
                cdata: this.context.cdata,
                uid: this.context.uid,
                context: {
                    sid: this.context.sid,
                    content_id: this.context.content_id
                },
                rid: "",
                edata: {
                    eks: t
                },
                etags: this.context.etags
            }
        },
        hasRequiredData: function(e, t) {
            var n = !0;
            return t.forEach(function(t) {
                e.hasOwnProperty(t) || (n = !1)
            }),
            n
        },
        interactRequiredFields: ["type", "subtype", "target", "pluginid", "pluginver", "objectid", "stage"],
        lifecycleRequiredFields: ["type", "pluginid", "pluginver", "objectid", "stage"],
        errorRequiredFields: ["env", "stage", "action", "err", "type", "data", "severity", "objectid", "objecttype"],
        apiCallRequiredFields: ["path", "method", "request", "response", "responseTime", "status", "uip"],
        interact: function(e, t) {
            if (e.hasOwnProperty("type") && (e.hasOwnProperty("objectid") || e.hasOwnProperty("id"))) {
                var n = {
                    type: e.type,
                    id: e.id || e.objectid
                };
                e.extra && (n.extra = e.extra),
                e.subtype && (n.subtype = e.subtype),
                (e.pageid || e.stage) && (n.pageid = e.pageid || e.stage),
                e.plugin ? n.plugin = e.plugin : e.pluginid && e.pluginver && (n.plugin = {
                    id: e.pluginid,
                    ver: e.pluginver
                }),
                e.target && _.isObject(e.target) ? n.target = e.target : (e.target || e.stage) && (n.target = {
                    id: e.target || e.stage || "",
                    ver: "",
                    type: ""
                }),
                e.duration && (n.duration = Number((.001 * e.duration).toFixed(2))),
                ecEditor.dispatchEvent("org.ekstep.editor:keepalive"),
                EkTelemetry.interact(n, this.generateOptionsData(t))
            } else
                console.error("Invalid interact data")
        },
        impression: function(e, t) {
            if (e.hasOwnProperty("type") && e.hasOwnProperty("pageid") && e.hasOwnProperty("uri")) {
                var n = {
                    type: e.type,
                    pageid: e.pageid,
                    uri: e.uri
                };
                e.duration && (n.duration = Number((.001 * e.duration).toFixed(2))),
                e.subtype && (n.subtype = e.subtype),
                e.visits && (n.visits = e.visits),
                ecEditor.dispatchEvent("org.ekstep.editor:keepalive"),
                EkTelemetry.impression(n, this.generateOptionsData(t))
            } else
                console.error("Invalid impression data")
        },
        generateOptionsData: function(e) {
            var t = {
                context: {}
            }
              , n = ecEditor.getContext("cdata") ? ecEditor.getContext("cdata") : [];
            return Object.assign(t, e),
            e && e.context && e.context.cdata ? t.context.cdata = t.context.cdata.concat(n) : t.context.cdata = n,
            t
        },
        end: function() {
            var e = _.get(ecEditor.getConfig("editorConfig"), "mode")
              , t = e && ("read" === e.toLowerCase() ? "view" : e) || "edit";
            EkTelemetry.end({
                type: ecEditor.getConfig("editorType") || "content",
                mode: t.toLowerCase(),
                pageid: "main-page"
            })
        },
        pluginLifeCycle: function(e) {
            e.hasOwnProperty("type") && (e.hasOwnProperty("objectid") || e.hasOwnProperty("id")) ? this.interact(e) : console.error("Invalid plugin lifecycle event data")
        },
        error: function(e) {
            if (e.hasOwnProperty("err") && (e.hasOwnProperty("type") || e.hasOwnProperty("errtype")) && (e.hasOwnProperty("data") || e.hasOwnProperty("stacktrace"))) {
                var t = {
                    err: e.err && e.err.toString(),
                    errtype: e.type || e.errtype,
                    stacktrace: e.data || e.stacktrace
                };
                (e.pageid || e.stage) && (t.pageid = e.stage || e.pageid),
                e.plugin && (t.plugin = e.plugin),
                e.object ? t.object = e.object : e.objectid && e.objecttype && (t.object = {
                    id: e.objectid,
                    type: e.objecttype
                }),
                ecEditor.dispatchEvent("org.ekstep.editor:keepalive"),
                EkTelemetry.error(t)
            } else
                console.error("Invalid error data")
        },
        start: function(e) {
            var t = this
              , n = ecEditor.getContext("pdata") ? ecEditor.getContext("pdata") : {
                id: "in.ekstep",
                ver: "1.0"
            }
              , r = ecEditor.getContext("env") || "contenteditor";
            if (r)
                switch (r) {
                case "genericeditor":
                case "contenteditor":
                    r = r;
                    break;
                default:
                    r = "collectioneditor"
                }
            n.pid = n.pid ? n.pid + "." + r : r,
            ecEditor.setContext("pdata", n);
            var i = ecEditor.getService("content").getContentMeta(org.ekstep.contenteditor.api.getContext("contentId")).pkgVersion
              , o = {
                uid: ecEditor.getContext("uid"),
                sid: ecEditor.getContext("sid"),
                channel: ecEditor.getContext("channel") || "in.ekstep",
                pdata: n,
                env: ecEditor.getContext("env") || "contenteditor",
                dispatcer: org.ekstep.contenteditor.config.dispatcher,
                object: {
                    id: ecEditor.getContext("contentId"),
                    type: "Content",
                    ver: _.isUndefined(i) ? "0" : i.toString()
                },
                dispatcher: t.getDispatcher(org.ekstep.contenteditor.config.dispatcher),
                rollup: ecEditor.getContext("contextRollUp") || {},
                enableValidation: ecEditor.getConfig("enableTelemetryValidation"),
                timeDiff: ecEditor.getContext("timeDiff") || 0
            };
            ecEditor.getContext("tags") ? o.tags = ecEditor.getContext("tags") : o.tags = _.flattenDeep(_.values(ecEditor.getContext("etags"))),
            ecEditor.getContext("did") ? (o.did = ecEditor.getContext("did"),
            t.logStartAndImpression(o, e)) : EkTelemetry.fingerPrintId || EkTelemetry.getFingerPrint(function(n, r) {
                EkTelemetry.fingerPrintId = n,
                t.logStartAndImpression(o, e)
            }),
            window.addEventListener("unload", function() {
                t.end()
            })
        },
        logStartAndImpression: function(e, t) {
            var n = _.get(ecEditor.getConfig("editorConfig"), "mode")
              , r = n && ("read" === n.toLowerCase() ? "view" : n) || "edit";
            EkTelemetry.start(e, org.ekstep.contenteditor.api.getContext("contentId"), "", {
                uaspec: this.detectClient(),
                type: ecEditor.getConfig("editorType") || "content",
                mode: r.toLowerCase(),
                duration: Number((.001 * t).toFixed(2)),
                pageid: "main-page"
            })
        },
        apiCall: function(e) {
            if (this.hasRequiredData(e, this.apiCallRequiredFields)) {
                e.level || ("error" === e.status ? (e.level = "ERROR",
                e.message = "Unable to fetch!") : (e.level = "INFO",
                e.message = ""));
                var t = {
                    type: "api_call",
                    level: e.level,
                    message: e.message,
                    params: [e],
                    pageid: e.stage || e.pageid || ecEditor.getContext("env") || ""
                };
                EkTelemetry.log(t)
            } else
                console.error("Invalid api call data")
        },
        log: function(e, t) {
            if (this.hasRequiredData(e, ["type", "level", "message"])) {
                var n = {
                    type: e.type,
                    level: e.level,
                    message: e.message
                };
                (e.pageid || e.stage) && (n.pageid = e.stage || e.pageid),
                e.params && (n.params = e.params),
                ecEditor.dispatchEvent("org.ekstep.editor:keepalive"),
                EkTelemetry.log(n, this.generateOptionsData(t))
            } else
                console.error("Invalid log data")
        },
        detectClient: function() {
            var e, t, n = navigator.userAgent, r = navigator.appName, i = "" + parseFloat(navigator.appVersion);
            return -1 !== (e = n.indexOf("Opera")) ? (r = "opera",
            i = n.substring(e + 6),
            -1 !== (e = n.indexOf("Version")) && (i = n.substring(e + 8))) : -1 !== (e = n.indexOf("MSIE")) ? (r = "IE",
            i = n.substring(e + 5)) : -1 !== (e = n.indexOf("Chrome")) ? (r = "chrome",
            i = n.substring(e + 7)) : -1 !== (e = n.indexOf("Safari")) ? (r = "safari",
            i = n.substring(e + 7),
            -1 !== (e = n.indexOf("Version")) && (i = n.substring(e + 8))) : -1 !== (e = n.indexOf("Firefox")) && (r = "firefox",
            i = n.substring(e + 8)),
            -1 !== (t = i.indexOf(";")) && (i = i.substring(0, t)),
            -1 !== (t = i.indexOf(" ")) && (i = i.substring(0, t)),
            {
                agent: r,
                ver: i,
                system: navigator.platform,
                platform: "",
                raw: navigator.userAgent
            }
        }
    }))
}
, function(e, t) {
    org.ekstep.contenteditor.IDispatcher = Class.extend({
        init: function() {
            this.initDispatcher()
        },
        initDispatcher: function() {
            throw "Subclass should implement initDispatcher"
        },
        dispatch: function(e) {
            throw "Subclass should implement dispatch"
        }
    })
}
, function(e, t) {
    org.ekstep.contenteditor.consoleDispatcher = new (org.ekstep.contenteditor.IDispatcher.extend({
        type: "consoleDispatcher",
        initDispatcher: function() {},
        dispatch: function(e) {
            console.log(e)
        }
    }))
}
, function(e, t) {
    org.ekstep.contenteditor.localDispatcher = new (org.ekstep.contenteditor.IDispatcher.extend({
        type: "localDispatcher",
        initDispatcher: function() {},
        dispatch: function(e) {
            e = "string" == typeof e ? e : JSON.stringify(e),
            org.ekstep.contenteditor.jQuery.ajax({
                type: "POST",
                url: org.ekstep.contenteditor.config.localDispatcherEndpoint,
                data: {
                    event: e
                },
                success: function(e) {}
            })
        }
    }))
}
, function(e, t) {
    org.ekstep.contenteditor.piwikDispatcher = new (org.ekstep.contenteditor.IDispatcher.extend({
        type: "piwikDispatcher",
        piwikEndPoint: function() {
            return org.ekstep.contenteditor.config.baseURL + "/piwik/piwik.php"
        },
        idsite: 1,
        initDispatcher: function() {},
        dispatch: function(e) {
            if (e)
                try {
                    e = "string" == typeof e ? e : JSON.stringify(e),
                    org.ekstep.contenteditor.jQuery.post(this.piwikEndPoint(), "idsite=" + this.idsite + "&url=" + org.ekstep.contenteditor.config.absURL + location.pathname + "&e_c=ContentEditor&e_a=" + e + "&rec=1", function() {}).fail(function() {
                        console.log("error: while piwik dispatch")
                    })
                } catch (e) {
                    console.log("error: piwik event cannot be stringify", e)
                }
        }
    }))
}
, function(e, t, n) {
    "use strict";
    angular.module("editorApp", ["ngDialog", "oc.lazyLoad", "Scope.safeApply"]).factory("cacheBustInterceptor", ["$templateCache", function(e) {
        return {
            request: function(t) {
                return t.alreadyCached = e.get(t.url),
                t.alreadyCached || (t.url = t.url + "?" + ecEditor.getConfig("build_number")),
                t
            }
        }
    }
    ]).config(["$locationProvider", "$httpProvider", function(e, t) {
        e.html5Mode({
            enabled: !0,
            requireBase: !1
        }),
        t.interceptors.push("cacheBustInterceptor")
    }
    ]),
    angular.module("editorApp").controller("MainCtrl", ["$scope", "$timeout", "$http", "$location", "$q", "$window", "$document", "$ocLazyLoad", "$rootScope", function(e, t, n, r, i, o, a, s, c) {
        var l, u = Date.now();
        e.showAppLoadScreen = !0,
        e.contentLoadedFlag = !1,
        e.showGenieControls = !0,
        o.context = o.context || window.parent.context,
        e.developerMode = r.search().developerMode;
        var d = window.parent.config.resourceBundles || {};
        e.appLoadMessage = [{
            id: 1,
            message: d.frmelmnts.lbl.gettingThingsReadyForYou || "Getting things ready for you",
            status: !1
        }],
        e.model = {
            teacherInstructions: void 0
        },
        e.migration = {
            showMigrationError: !1,
            showPostMigrationMsg: !1,
            showMigrationSuccess: !1
        },
        e.onLoadCustomMessage = {
            show: !1,
            text: void 0
        },
        e.configCategory = {
            selected: ""
        },
        e.cancelLink = o.context && o.context.cancelLink ? o.context.cancelLink : "",
        e.context = o.context,
        e.contentId = r.search().contentId,
        _.isUndefined(e.contentId) && (e.contentId = o.context && o.context.content_id ? o.context.content_id : void 0),
        e.registeredCategories = [],
        e.loadNgModules = function(e, t) {
            var n = [];
            if (e && n.push({
                type: "html",
                path: e
            }),
            t && n.push({
                type: "js",
                path: t + "?" + ecEditor.getConfig("build_number")
            }),
            n.length)
                return s.load(n)
        }
        ,
        org.ekstep.contenteditor.sidebarManager.initialize({
            loadNgModules: e.loadNgModules,
            scope: e
        }),
        e.fireSidebarTelemetry = function(t, n) {
            var r = ""
              , i = ""
              , o = ""
              , a = org.ekstep.contenteditor.api.getCurrentObject() || org.ekstep.contenteditor.api.getCurrentStage();
            a && (r = a.manifest.id,
            i = a.manifest.ver,
            o = a.id),
            e.telemetryService.interact({
                type: "modify",
                subtype: "sidebar",
                target: n,
                pluginid: r,
                pluginver: i,
                objectid: o,
                stage: org.ekstep.contenteditor.stageManager.currentStage.id
            })
        }
        ,
        e.addToSidebar = function(t) {
            e.registeredCategories.push(t),
            e.$safeApply()
        }
        ,
        e.refreshSidebar = function() {
            e.$safeApply()
        }
        ,
        e.headers = [],
        e.addToHeader = function(t) {
            e.headers.push(t),
            e.$safeApply()
        }
        ,
        org.ekstep.contenteditor.headerManager.initialize({
            loadNgModules: e.loadNgModules,
            scope: e
        }),
        e.contentDetails = {
            contentTitle: "Untitled Content",
            contentImage: "/images/com_ekcontent/default-images/default-content.png",
            contentType: ""
        },
        e.showInstructions = !0,
        e.stageAttachments = {},
        e.closeLoadScreen = function(t) {
            e.contentLoadedFlag = !0,
            e.migrationFlag && !t || (e.showAppLoadScreen = !1),
            e.$safeApply()
        }
        ,
        e.toggleGenieControl = function() {
            e.showGenieControls || setTimeout(function() {
                org.ekstep.contenteditor.api.jQuery("#geniecontrols").css({
                    display: "block"
                })
            }, 500),
            e.showGenieControls = !e.showGenieControls
        }
        ,
        e.convertToJSON = function(e) {
            try {
                return new X2JS({
                    attributePrefix: "none",
                    enableToStringFunc: !1
                }).xml_str2json(e)
            } catch (e) {}
        }
        ,
        e.parseContentBody = function(t) {
            try {
                t = JSON.parse(t)
            } catch (n) {
                t = e.convertToJSON(t)
            }
            return (_.isUndefined(t) || _.isNull(t)) && (e.contentLoadedFlag = !0,
            e.onLoadCustomMessage.show = !0,
            e.onLoadCustomMessage.text = "Your content has errors! we are unable to read the content!",
            e.$safeApply(),
            e.telemetryService.error({
                env: "content",
                stage: "",
                action: "show error and stop the application",
                err: "Unable to read the content due to parse error",
                type: "PORTAL",
                data: "",
                severity: "fatal"
            })),
            t
        }
        ,
        e.onStageDragDrop = function(e, t) {
            org.ekstep.contenteditor.stageManager.onStageDragDrop(org.ekstep.contenteditor.jQuery("#" + e).attr("data-id"), org.ekstep.contenteditor.jQuery("#" + t).attr("data-id")),
            org.ekstep.contenteditor.api.refreshStages()
        }
        ,
        e.refreshToolbar = function() {
            setTimeout(function() {
                org.ekstep.contenteditor.jQuery(".ui.dropdown").dropdown(),
                org.ekstep.contenteditor.jQuery(".popup-item").popup(),
                e.$safeApply()
            }, 500)
        }
        ;
        var f = org.ekstep.contenteditor.getWindowContext();
        f.contentId = f.contentId || e.contentId,
        f.uid = f.user ? f.user.id : f.uid,
        f.etags = f.etags || {},
        f.etags.app = f.app || f.etags.app || [],
        f.etags.partner = f.partner || f.etags.partner || [],
        f.etags.dims = f.dims || f.etags.dims || [];
        var h = org.ekstep.contenteditor.getWindowConfig();
        h.absURL = r.protocol() + "://" + r.host() + ":" + r.port(),
        e.showHelpBtn = h.showHelp || !0,
        e.loadContent = function() {
            l = Date.now(),
            org.ekstep.services.telemetryService.start(Date.now() - u),
            org.ekstep.contenteditor.api.getService(ServiceConstants.CONTENT_SERVICE).getContent(org.ekstep.contenteditor.api.getContext("contentId"), function(t, n) {
                if (t && (e.contentLoadedFlag = !0,
                e.onLoadCustomMessage.show = !0,
                e.onLoadCustomMessage.text = ":( Unable to fetch the content! Please try again later!",
                e.telemetryService.error({
                    env: "content",
                    stage: "",
                    action: "show error and stop the application",
                    err: "Unable to fetch content from remote",
                    type: "API",
                    data: t.message,
                    severity: "fatal"
                })),
                n && n.body || t) {
                    if (n && n.body) {
                        e.oldContentBody = angular.copy(n.body);
                        var r = e.parseContentBody(n.body);
                        r && org.ekstep.contenteditor.api.dispatchEvent("content:migration:start", {
                            body: r,
                            stageIcons: n.stageIcons
                        })
                    }
                } else
                    org.ekstep.contenteditor.stageManager.onContentLoad((new Date).getTime()),
                    e.closeLoadScreen(!0);
                n && (ecEditor.addEventListener("content:load:complete", function() {
                    e.telemetryService.interact({
                        id: "screen",
                        type: "click",
                        subtype: "content_load_time",
                        duration: (Date.now() - l).toString()
                    })
                }),
                e.contentDetails = {
                    contentTitle: n.name,
                    contentImage: n.appIcon
                },
                n.contentType ? e.contentDetails.contentType = "| " + n.contentType : e.contentDetails.contentType = "",
                e.setTitleBarText(e.contentDetails.contentTitle))
            })
        }
        ,
        org.ekstep.contenteditor.init(f, h, e, a, function() {
            var t = _.find(e.appLoadMessage, {
                id: 1
            });
            var labels = window.parent.config.resourceBundles || {};
            _.isObject(t) && (t.message = labels.frmelmnts.lbl.gettingThingsReadyForYou || "Getting things ready for you",
            t.status = !0),
            e.contentService = org.ekstep.contenteditor.api.getService(ServiceConstants.CONTENT_SERVICE),
            e.popupService = org.ekstep.contenteditor.api.getService(ServiceConstants.POPUP_SERVICE),
            e.telemetryService = org.ekstep.contenteditor.api.getService(ServiceConstants.TELEMETRY_SERVICE);
            var n = window.parent.config.resourceBundles || {};
            e.labels = n;
            var r = {
                stage: "frmelmnts.lbl.addSlide",
                "question-set": "frmelmnts.lbl.addQuestionSet",
                beginning: "frmelmnts.lbl.beginning",
                end: "frmelmnts.lbl.end",
                front: "frmelmnts.lbl.afterCurrent",
                back: "frmelmnts.lbl.beforeCurrent",
                copy: "frmelmnts.lbl.copy",
                paste: "frmelmnts.lbl.paste",
                delete: "frmelmnts.lbl.delete",
                reorder: "frmelmnts.lbl.arrange",
                bringforward: "frmelmnts.lbl.bringForward",
                bringfront: "frmelmnts.lbl.bringToFront",
                sendbackward: "frmelmnts.lbl.sendBackward",
                sendback: "frmelmnts.lbl.sendToBack"
            };
            e.menus = org.ekstep.contenteditor.toolbarManager.menuItems.filter(function(e) {
                return "question-set" === e.id
            }).map(function(e) {
                var t = _.cloneDeep(e);
                return r[t.id] && n.frmelmnts.lbl[r[t.id].split(".").pop()] && (t.toolTip = n.frmelmnts.lbl[r[t.id].split(".").pop()]),
                t.submenu && Array.isArray(t.submenu) && t.submenu.forEach(function(e) {
                    r[e.id] && n.frmelmnts.lbl[r[e.id].split(".").pop()] && (e.toolTip = n.frmelmnts.lbl[r[e.id].split(".").pop()],
                    e.title = n.frmelmnts.lbl[r[e.id].split(".").pop()])
                }),
                t
            }),
            e.contextMenus = [] || org.ekstep.contenteditor.toolbarManager.contextMenuItems,
            e.stages = org.ekstep.contenteditor.api.getAllStages(),
            e.currentStage = org.ekstep.contenteditor.api.getCurrentStage(),
            e.sidebarMenus = org.ekstep.contenteditor.sidebarManager.getSidebarMenu(),
            e.configCategory.selected = e.sidebarMenus[0].id,
            e.loadContent(),
            a.on("keydown", function(e) {
                (e.metaKey || e.ctrlKey) && e.shiftKey && 69 === e.keyCode && (e.preventDefault(),
                org.ekstep.contenteditor.api.dispatchEvent("org.ekstep.viewecml:show", {}))
            })
        }),
        e.fireEvent = function(e) {
            e && org.ekstep.contenteditor.api.dispatchEvent(e.id, e.data)
        }
        ,
        e.setTitleBarText = function(e) {
            e && (document.title = e)
        }
        ,
        e.fireToolbarTelemetry = function(t, n) {
            e.telemetryService.interact({
                type: "click",
                subtype: "menu",
                target: n,
                pluginid: t.pluginId,
                pluginver: t.pluginVer,
                objectid: t.id,
                stage: org.ekstep.contenteditor.stageManager.currentStage.id
            })
        }
    }
    ])
}
, function(e, t) {
    angular.module("editorApp").controller("popupController", ["$scope", "ngDialog", "$ocLazyLoad", "$templateCache", function(e, t, n, r) {
        e.$on("ngDialog.closing", function() {
            org.ekstep.services.telemetryService.interact({
                type: "hide",
                subtype: "close",
                target: "popup",
                pluginid: "",
                pluginver: "",
                objectid: "",
                stage: ecEditor.getCurrentStage().id
            })
        }),
        org.ekstep.contenteditor.api.getService("popup").initService(function(e, t, i) {
            if (!i)
                return n.load([{
                    type: "html",
                    path: e
                }, {
                    type: "js",
                    path: t + "?" + ecEditor.getConfig("build_number")
                }]);
            angular.isString(e) && e.length > 0 && angular.forEach(angular.element(e), function(e) {
                "SCRIPT" === e.nodeName && "text/ng-template" === e.type && r.put(e.id, e.innerHTML)
            })
        }, function(e, n) {
            e && n && (e.preCloseCallback = n),
            e && t.open(e)
        })
    }
    ])
}
, function(e, t) {
    angular.module("editorApp").directive("lvlDraggable", ["$rootScope", function(e) {
        return {
            restrict: "A",
            link: function(t, n, r, i) {
                angular.element(n).attr("draggable", "true");
                var o = angular.element(n).attr("id");
                o || (o = window.UUID(),
                angular.element(n).attr("id", o)),
                n.bind("dragstart", function(t) {
                    t.originalEvent.dataTransfer.setData("text", o),
                    e.$emit("LVL-DRAG-START")
                }),
                n.bind("dragend", function(t) {
                    e.$emit("LVL-DRAG-END")
                })
            }
        }
    }
    ])
}
, function(e, t) {
    angular.module("editorApp").directive("lvlDropTarget", ["$rootScope", function(e) {
        return {
            restrict: "A",
            scope: {
                onDrop: "&"
            },
            link: function(t, n, r, i) {
                var o = angular.element(n).attr("id");
                o || (o = window.UUID(),
                angular.element(n).attr("id", o)),
                n.bind("dragover", function(e) {
                    return e.preventDefault && e.preventDefault(),
                    e.originalEvent.dataTransfer.dropEffect = "move",
                    !1
                }),
                n.bind("dragenter", function(e) {
                    angular.element(e.target).addClass("lvl-over")
                }),
                n.bind("dragleave", function(e) {
                    angular.element(e.target).removeClass("lvl-over")
                }),
                n.bind("drop", function(e) {
                    e.preventDefault && e.preventDefault(),
                    e.stopPropagation && e.stopPropagation();
                    var n = e.originalEvent.dataTransfer.getData("text");
                    document.getElementById(o),
                    document.getElementById(n),
                    t.onDrop({
                        dragEl: n,
                        dropEl: o
                    })
                }),
                e.$on("LVL-DRAG-START", function() {
                    var e = document.getElementById(o);
                    angular.element(e).addClass("lvl-target")
                }),
                e.$on("LVL-DRAG-END", function() {
                    var e = document.getElementById(o);
                    angular.element(e).removeClass("lvl-target"),
                    angular.element(e).removeClass("lvl-over")
                })
            }
        }
    }
    ])
}
, function(e, t) {
    angular.module("editorApp").directive("compilehtml", ["$compile", function(e) {
        return {
            restrict: "A",
            replace: !0,
            link: function(t, n, r) {
                t.$watch(r.compilehtml, function(r) {
                    n.html(r),
                    e(n.contents())(t)
                })
            }
        }
    }
    ])
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration = new (Class.extend({
        migrationFlag: !1,
        contentBackup: void 0,
        patch: [],
        init: function() {
            org.ekstep.contenteditor.api.addEventListener("content:migration:start", this.execute, this)
        },
        _startTime: void 0,
        tasks: ["mediamigration_task", "basestage_task", "orderstage_task", "scribblemigration_task", "imagemigration_task", "readalongmigration_task", "assessmentmigration_task", "eventsmigration_task", "settagmigration_task"],
        questionPatchs: ["patch_1"],
        migrationErrors: [],
        execute: function(e, t) {
            var n = this
              , r = t.body
              , i = t.stageIcons;
            this.contentBackup = _.cloneDeep(r),
            _.has(r, "theme.stage") || org.ekstep.services.telemetryService.error({
                env: "content",
                stage: "",
                action: "migration",
                objectId: "",
                objectType: "",
                err: "migration has errors",
                type: "PORTAL",
                data: "",
                severity: "error"
            }),
            r.theme && r.theme.patch && (this.patch = r.theme.patch.split(",")),
            this.isOldContent(r) ? (this.initLoadScreenMsg(),
            this._startTime = (new Date).getTime(),
            _.forEach(this.tasks, function(e) {
                org.ekstep.contenteditor.migration[e].migrate(r)
            }),
            this.postMigration(r, i)) : this.isAssessmentContent(r) ? (this._startTime = (new Date).getTime(),
            console.info("Question media migration started!"),
            _.forEach(this.questionPatchs, function(e) {
                -1 === _.indexOf(n.patch, e) && org.ekstep.contenteditor.migration[e].migrate(r)
            }),
            this.postQuestionMediaMigration(r, i)) : (console.info("no need for migration"),
            org.ekstep.contenteditor.stageManager.fromECML(r, i))
        },
        postQuestionMediaMigration: function(e, t) {
            console.info("Question media migration completed!"),
            org.ekstep.contenteditor.stageManager.fromECML(e, t),
            org.ekstep.services.telemetryService.log({
                type: "process",
                level: "TRACE",
                message: "duration for question media migration",
                params: [{
                    duration: (new Date).getTime() - this._startTime
                }]
            })
        },
        postMigration: function(e, t) {
            org.ekstep.services.telemetryService.log({
                type: "process",
                level: "TRACE",
                message: "duration for migration",
                params: [{
                    duration: (new Date).getTime() - this._startTime
                }]
            }),
            this.setNewVersion(e),
            this.showLoadScreenMsg(),
            console.info("Migration task completed!"),
            console.log("after migration content:", _.cloneDeep(e)),
            this.migrationErrors.length && (console.info("Migration has errors: ", this.migrationErrors),
            org.ekstep.services.telemetryService.error({
                env: "content",
                stage: "",
                action: "migration",
                objectId: "",
                objectType: "",
                err: "migration has errors",
                type: "PORTAL",
                data: "",
                severity: "error"
            })),
            org.ekstep.contenteditor.stageManager.fromECML(e, t)
        },
        isOldContent: function(e) {
            var t = e.theme.version || e.theme.ver;
            return "string" == typeof t && (t = parseFloat(t)),
            t < 1
        },
        initLoadScreenMsg: function() {
            org.ekstep.contenteditor.api.getAngularScope().appLoadMessage.push({
                id: 2,
                message: "Migrating Content",
                status: !1
            }),
            this.migrationFlag = !0
        },
        showLoadScreenMsg: function() {
            var e = org.ekstep.contenteditor.api.getAngularScope();
            e.migration.showPostMigrationMsg = !0,
            e.migration.showMigrationSuccess = !0;
            var t = _.find(org.ekstep.contenteditor.api.getAngularScope().appLoadMessage, {
                id: 2
            });
            _.isObject(t) && (t.message = "Content migrated",
            t.status = !0),
            org.ekstep.contenteditor.api.ngSafeApply(e)
        },
        setNewVersion: function(e) {
            _.has(e, "theme.ver") && delete e.theme.ver,
            e.theme.version = "1.0"
        },
        isMigratedContent: function() {
            return this.migrationFlag
        },
        clearMigrationFlag: function() {
            this.migrationFlag = !1
        },
        getBackupContent: function() {
            return this.contentBackup
        },
        isAssessmentContent: function(e) {
            var t = !1;
            return !_.isEqual(_.sortBy(this.patch), _.sortBy(this.questionPatchs)) && (_.forEach(e.theme.stage, function(e) {
                _.forEach(e["org.ekstep.questionset"], function(e, n) {
                    if (_.isArray(e["org.ekstep.question"]))
                        _.forEach(e["org.ekstep.question"], function(e) {
                            "org.ekstep.questionset.quiz" !== e.pluginId && (t = !0)
                        });
                    else {
                        if ("org.ekstep.questionset.quiz" === e.pluginId)
                            return;
                        t = !0
                    }
                })
            }),
            t)
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.mediamigration_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {
            _.forEach(e.theme.manifest.media, function(e) {
                org.ekstep.contenteditor.mediaManager.addToMigratedMedia(e)
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.orderstage_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {
            var t, n = {}, r = [];
            n.value = _.isUndefined(e) ? void 0 : e.theme.startStage;
            for (var i = _.clone(e.theme.stage), o = 0; o < e.theme.stage.length; o++) {
                if (!_.isUndefined(n.value) && (t = _.find(i, function(e) {
                    return e.id === n.value
                }),
                !_.isUndefined(t))) {
                    r.push(t);
                    var a = _.findIndex(i, function(e) {
                        return e.id === n.value
                    });
                    i.splice(a, 1),
                    _.isArray(t.param) && !_.isUndefined(t.param) ? _.forEach(t.param, function(e) {
                        "next" === e.name && (n.value = e.value)
                    }) : _.isUndefined(t.param) || "next" !== t.param.name ? n.value = void 0 : n.value = t.param.value
                }
                e.theme.stage.length === o + 1 && (e.theme.stage = r.concat(i))
            }
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.basestage_task = new (Class.extend({
        init: function() {},
        baseStage: void 0,
        contentbody: void 0,
        migrate: function(e) {
            var t = this
              , n = [];
            t.contentbody = e,
            _.isArray(t.contentbody.theme.stage) || (t.contentbody.theme.stage = [t.contentbody.theme.stage]),
            _.forEach(t.contentbody.theme.stage, function(r, i) {
                var o = {};
                if (r.extends) {
                    for (var a in t.baseStage = _.find(e.theme.stage, function(e) {
                        return e.id === r.extends
                    }),
                    t.baseStage)
                        o[a] = t.baseStage[a];
                    for (var s in r)
                        o[s] = r[s];
                    r = o,
                    delete t.contentbody.theme.stage[i].extends,
                    n.push(t.baseStage.id)
                }
                e.theme.stage.length === i + 1 && n.length && _.forEach(n, function(e, n) {
                    t.removeBaseStage(e)
                })
            })
        },
        removeBaseStage: function(e) {
            e && _.remove(this.contentbody.theme.stage, function(t) {
                return t.id === e
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.imagemigration_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {},
        removeImage: function(e, t) {
            _.remove(e.image, function(e) {
                return e.asset === t
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.scribblemigration_task = new (Class.extend({
        init: function() {},
        id: "org.ekstep.scribblepad",
        migrate: function(e) {
            var t = this;
            _.forEach(e.theme.stage, function(n, r) {
                n.scribble && !_.isArray(n.scribble) && (n.scribble = [n.scribble]),
                n.scribble && n.scribble.length && (n[t.id] = n.scribble,
                delete n.scribble),
                org.ekstep.contenteditor.migration.imagemigration_task.removeImage(n, "domain_38441_trash"),
                t.removeEraserMedia(e)
            })
        },
        removeEraserMedia: function(e) {
            _.forEach(_.clone(e.theme.manifest.media), function(t, n) {
                "domain_38441_trash" === t.assetId && e.theme.manifest.media.splice(n, 1)
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.readalongmigration_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {
            console.log("migrating readalong"),
            _.forEach(e.theme.stage, function(e, t) {
                e.htext && !_.isArray(e.htext) && (e.htext = [e.htext]),
                e.htext && e.htext.length && _.forEach(e.htext, function(e) {
                    _.isUndefined(e.isReadAlongAutoPlay) || (e.autoplay = e.isReadAlongAutoPlay,
                    delete e.isReadAlongAutoPlay)
                })
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.assessmentmigration_task = new (Class.extend({
        init: function() {},
        contentbody: void 0,
        template: [],
        id: "org.ekstep.quiz",
        quiz: {
            x: 0,
            y: 0,
            w: 0,
            h: 0,
            visible: !0,
            editable: !0,
            "z-index": 0,
            data: {
                __cdata: {
                    questionnaire: {},
                    template: []
                }
            },
            config: {
                __cdata: {
                    type: "items",
                    var: "item"
                }
            }
        },
        migrate: function(e) {
            var t = this;
            this.contentbody = e,
            _.forEach(e.theme.stage, function(e, n) {
                _.isUndefined(e.g) || _.isArray(e.g) || (e.g = [e.g]),
                _.isUndefined(e.iterate) || !_.has(e, "embed") && !_.find(e.g, function(e) {
                    return _.has(e, "embed")
                }) || (t.transformToQuiz(e),
                t.removeObsoleteTag(e))
            })
        },
        getController: function(e) {
            return _.find(this.contentbody.theme.controller, function(t) {
                return t.id === e
            })
        },
        getTemplate: function(e) {
            return _.find(this.contentbody.theme.template, function(t) {
                return t.id === e
            })
        },
        transformToQuiz: function(e) {
            var t, n, r, i, o, a = this;
            n = _.cloneDeep(a.quiz),
            i = a.getController(e.iterate),
            _.isUndefined(i) ? org.ekstep.contenteditor.migration.migrationErrors.push("controller not found for assessment on stage: " + e.id) : r = i.__cdata,
            "string" == typeof r && (r = JSON.parse(r)),
            (t = n.data.__cdata.questionnaire = r) && _.forEach(t.item_sets, function(r, i) {
                _.forEach(t.items[r.id], function(t) {
                    t.template && (o = a.getTemplate(t.template),
                    _.isUndefined(o) ? org.ekstep.contenteditor.migration.migrationErrors.push("Template not found for assessment on stage: " + e.id) : n.data.__cdata.template.push(o))
                }),
                t.item_sets.length === i + 1 && (e[a.id] = n,
                a.stringifycdata(e))
            })
        },
        removeObsoleteTag: function(e) {
            _.has(e, "embed") && delete e.embed,
            _.has(e, "g") && _.remove(e.g, function(e) {
                return _.has(e, "embed")
            }),
            _.has(e, "appEvents") && delete e.appEvents,
            delete e.iterate
        },
        removeObsoleteTemplate: function(e) {
            return _.remove(this.contentbody.theme.template, function(t) {
                return t.id === e
            })
        },
        stringifycdata: function(e) {
            e[this.id].data.__cdata = JSON.stringify(e[this.id].data.__cdata),
            e[this.id].config.__cdata = JSON.stringify(e[this.id].config.__cdata)
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.textmigration_task = new (Class.extend({
        _constants: {
            pluginName: "org.ekstep.text",
            currentTextVersion: "V2",
            defaultFont: "NotoSans"
        },
        init: function() {
            console.log("text migration-task initialized"),
            org.ekstep.contenteditor.api.addEventListener(this._constants.pluginName + ":migrateAll", this.migrateAllText, this),
            org.ekstep.contenteditor.api.addEventListener(this._constants.pluginName + ":migrate", this.migrateText, this)
        },
        migrateAllText: function() {
            var e = this
              , t = org.ekstep.contenteditor.stageManager.stages;
            _.forEach(t, function(t, n) {
                _.forEach(t.children, function(t) {
                    t.manifest.id === e._constants.pluginName && (t.attributes.version = e._constants.currentTextVersion,
                    e.setDefaultFont(t),
                    TextWYSIWYG.setInstance(t))
                })
            })
        },
        isV1PluginAvailable: function() {
            var e = this
              , t = !1
              , n = org.ekstep.contenteditor.stageManager.stages;
            return _.forEach(n, function(n) {
                _.forEach(n.children, function(n) {
                    n.manifest.id === e._constants.pluginName && (!n.attributes.version || n.attributes.version < e._constants.currentTextVersion) && (t = !0)
                })
            }),
            t
        },
        migrateText: function(e, t) {
            t.manifest.id === this._constants.pluginName && (t.attributes.version = this._constants.currentTextVersion,
            this.setDefaultFont(t),
            TextWYSIWYG.setInstance(t))
        },
        setDefaultFont: function(e) {
            var t = e.supportedFonts;
            _.includes(t, e.attributes.fontFamily) || (e.editorObj.setFontFamily(this._constants.defaultFont),
            e.attributes.fontFamily = this._constants.defaultFont,
            e.attributes.fontfamily = this._constants.defaultFont)
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.eventsmigration_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {
            console.log("migrating events");
            var t = this;
            _.forEach(e.theme.stage, function(e, n) {
                var r = _.pickBy(e, _.isObject);
                if (_.isArray(r) || (r = [r]),
                _.forEach(r, function(e) {
                    _.isArray(e) || (e = [e]),
                    _.forEach(e, function(e) {
                        _.forEach(e, function(e) {
                            if (_.isArray(e))
                                _.forEach(e, function(e) {
                                    if (e && (e.event || e.events)) {
                                        if (e.event) {
                                            var n = _.clone(e.event, !0);
                                            delete e.event,
                                            t.migrateEvents(n, e)
                                        }
                                        if (e.events && e.events.event) {
                                            var r = _.clone(e.events.event, !0);
                                            delete e.events,
                                            t.migrateEvents(r, e)
                                        }
                                    }
                                });
                            else if (e && (e.event || e.events)) {
                                if (e.event) {
                                    var n = _.clone(e.event, !0);
                                    delete e.event,
                                    t.migrateEvents(n, e)
                                }
                                if (e.events && e.events.event) {
                                    var r = _.clone(e.events.event, !0);
                                    delete e.events,
                                    t.migrateEvents(r, e)
                                }
                            }
                        })
                    })
                }),
                e.event || e.events) {
                    if (e.event) {
                        var i = _.clone(e.event, !0);
                        delete e.event,
                        t.migrateStageEvents(i, e)
                    }
                    if (e.events && e.events.event) {
                        var o = _.clone(e.events.event, !0);
                        delete e.events,
                        t.migrateStageEvents(o, e)
                    }
                }
            })
        },
        migrateStageEvents: function(e, t) {
            var n = this;
            if (_.isArray(e))
                _.forEach(e, function(e) {
                    e.action && _.isArray(e.action) ? _.forEach(e.action, function(r) {
                        n.addEvent(t, {
                            type: e.type,
                            action: [r]
                        })
                    }) : e.action && _.isObject(e.action) && n.addEvent(t, {
                        type: e.type,
                        action: [e.action]
                    })
                });
            else if (_.isObject(e))
                if (e.action && _.isArray(e.action))
                    _.forEach(e.action, function(r) {
                        var i = {
                            type: e.type,
                            action: [r]
                        };
                        _.isUndefined(e.type) || (i.type = e.type),
                        n.addEvent(t, i)
                    });
                else if (e.action && _.isObject(e.action)) {
                    var r = {
                        type: e.type,
                        action: [e.action]
                    };
                    _.isUndefined(e.type) || (r.type = e.type),
                    n.addEvent(t, r)
                }
        },
        migrateEvents: function(e, t) {
            var n = this;
            _.isArray(e) ? _.forEach(e, function(e) {
                e.action && _.isArray(e.action) ? _.forEach(e.action, function(r) {
                    n.addEvent(t, {
                        type: e.type,
                        action: [r]
                    })
                }) : e.action && _.isObject(e.action) && n.addEvent(t, {
                    type: e.type,
                    action: [e.action]
                })
            }) : _.isObject(e) && (e.action && _.isArray(e.action) ? _.forEach(e.action, function(r) {
                n.addEvent(t, {
                    type: e.type,
                    action: [r]
                })
            }) : e.action && _.isObject(e.action) && n.addEvent(t, {
                type: e.type,
                action: [e.action]
            }))
        },
        addEvent: function(e, t) {
            _.isUndefined(e.event) && (e.event = []),
            e.event.push(t)
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.settagmigration_task = new (Class.extend({
        init: function() {},
        migrate: function(e) {
            _.forEach(e.theme.stage, function(e, t) {
                _.has(e, "set") && org.ekstep.contenteditor.migration.migrationErrors.push("Content has set tag on stage: " + e.id)
            })
        }
    }))
}
, function(e, t, n) {
    "use strict";
    org.ekstep.contenteditor.migration.patch_1 = new (Class.extend({
        init: function() {},
        id: "patch_1",
        _startTime: void 0,
        contentbody: void 0,
        assetHostPaths: ["https://ntpproductionall.blob.core.windows.net/ntp-content-production/", "https://ntpstagingall.blob.core.windows.net/ntp-content-staging/", "https://preprodall.blob.core.windows.net/ntp-content-preprod/", "https://sunbirddev.blob.core.windows.net/sunbird-content-dev/", "https://s3.ap-south-1.amazonaws.com/ekstep-public-dev/", "https://ekstep-public-dev.s3-ap-south-1.amazonaws.com/", "https://s3.ap-south-1.amazonaws.com/ekstep-public-qa/", "https://ekstep-public-qa.s3-ap-south-1.amazonaws.com/", "https://s3.ap-south-1.amazonaws.com/ekstep-public-preprod/", "https://ekstep-public-preprod.s3-ap-south-1.amazonaws.com/", "https://s3.ap-south-1.amazonaws.com/ekstep-public-prod/", "https://ekstep-public-prod.s3-ap-south-1.amazonaws.com/"],
        migrate: function(e) {
            var t = this;
            this._startTime = (new Date).getTime(),
            this.contentbody = e,
            _.forEach(e.theme.stage, function(e) {
                if (e["org.ekstep.questionset"])
                    if (_.isArray(e["org.ekstep.questionset"]))
                        _.forEach(e["org.ekstep.questionset"], function(e, n) {
                            _.forEach(e["org.ekstep.question"], function(n, r) {
                                if ("org.ekstep.questionset.quiz" !== n.pluginId) {
                                    var i = t.updateQuestionMedia(n);
                                    e["org.ekstep.question"][r] = i,
                                    t.contentbody.theme.manifest.media = t.updateContentManifestMedia(t.contentbody.theme.manifest.media, i)
                                }
                            })
                        });
                    else if (_.isObject(e["org.ekstep.questionset"])) {
                        var n = e["org.ekstep.questionset"]["org.ekstep.question"];
                        if ("org.ekstep.questionset.quiz" === n.pluginId)
                            return;
                        var r = t.updateQuestionMedia(n);
                        e["org.ekstep.questionset"]["org.ekstep.question"] = r,
                        t.contentbody.theme.manifest.media = t.updateContentManifestMedia(t.contentbody.theme.manifest.media, r)
                    }
            }),
            org.ekstep.contenteditor.migration.patch.push(t.id),
            org.ekstep.services.telemetryService.log({
                type: "process",
                level: "TRACE",
                message: "questionsetfix_1 migration complted",
                params: [{
                    duration: (new Date).getTime() - t._startTime
                }]
            })
        },
        updateContentManifestMedia: function(e, t) {
            var n = JSON.parse(t.data.__cdata).media;
            return _.each(n, function(t) {
                _.isUndefined(_.find(e, {
                    src: t.src
                })) && (e.push(t),
                org.ekstep.contenteditor.mediaManager.addToMigratedMedia(t))
            }),
            e
        },
        updateQuestionMedia: function(e) {
            var t = this
              , n = JSON.parse(e.data.__cdata)
              , r = [];
            return n.question && t.addAssets(n.question, r),
            n.options && _.each(n.options, function(e) {
                t.addAssets(e, r)
            }),
            n.option && (n.option.optionsLHS && _.each(n.option.optionsLHS, function(e) {
                t.addAssets(e, r)
            }),
            n.option.optionsRHS && _.each(n.option.optionsRHS, function(e) {
                t.addAssets(e, r)
            })),
            _.each(n.media, function(e) {
                e.src && (e.src = t.getRelativeURL(e.src))
            }),
            _.each(r, function(e) {
                _.find(n.media, function(t) {
                    return t.src === e.src
                }) || n.media.push(t.getMediaObj(e.src, e.type))
            }),
            e.data.__cdata = JSON.stringify(n),
            e
        },
        addAssets: function(e, t) {
            e.image && (e.image = this.getRelativeURL(e.image),
            t.push({
                type: "image",
                src: e.image
            })),
            e.audio && (e.audio = this.getRelativeURL(e.audio),
            t.push({
                type: "audio",
                src: e.audio
            }))
        },
        getRelativeURL: function(e) {
            return _.forEach(this.assetHostPaths, function(t) {
                -1 !== e.indexOf(t) && (e = e.replace(t, "/assets/public/"))
            }),
            e
        },
        getMediaObj: function(e, t) {
            var n = Math.floor(1e9 * Math.random());
            return {
                id: n + "-1",
                src: e,
                assetId: n,
                type: t,
                preload: !1
            }
        }
    }))
}
, function(e, t, n) {
    (function(e, t) {
        org.ekstep.contenteditor.stageManager = new (Class.extend({
            stages: [],
            thumbnails: {},
            currentStage: void 0,
            canvas: void 0,
            contentLoading: !1,
            summary: [],
            assets: [],
            plugins_used: [],
            summaryTemplate: {
                manifest: {
                    media: [{
                        id: "org.ekstep.summary_template_js",
                        plugin: "org.ekstep.summary",
                        src: "/content-plugins/org.ekstep.summary-1.0/renderer/summary-template.js",
                        type: "js",
                        ver: "1.0"
                    }, {
                        id: "org.ekstep.summary_template_css",
                        plugin: "org.ekstep.summary",
                        src: "/content-plugins/org.ekstep.summary-1.0/renderer/style.css",
                        type: "css",
                        ver: "1.0"
                    }, {
                        id: "org.ekstep.summary",
                        plugin: "org.ekstep.summary",
                        src: "/content-plugins/org.ekstep.summary-1.0/renderer/plugin.js",
                        type: "plugin",
                        ver: "1.0"
                    }, {
                        id: "org.ekstep.summary_manifest",
                        plugin: "org.ekstep.summary",
                        src: "/content-plugins/org.ekstep.summary-1.0/manifest.json",
                        type: "json",
                        ver: "1.0"
                    }, {
                        assetId: "summaryImage",
                        id: "org.ekstep.summary_summaryImage",
                        preload: !0,
                        src: "/content-plugins/org.ekstep.summary-1.0/assets/summary-icon.jpg",
                        type: "image"
                    }]
                },
                pluginManifest: {
                    depends: "",
                    id: "org.ekstep.summary",
                    type: "plugin",
                    ver: "1.0"
                },
                stage: {
                    x: 0,
                    y: 0,
                    w: 100,
                    h: 100,
                    rotate: null,
                    config: {
                        __cdata: '{"opacity":100,"strokeWidth":1,"stroke":"rgba(255, 255, 255, 0)","autoplay":false,"visible":true,"color":"#FFFFFF","genieControls":false,"instructions":""}'
                    },
                    id: "summary_stage_id",
                    manifest: {
                        media: [{
                            assetId: "summaryImage"
                        }]
                    },
                    "org.ekstep.summary": [{
                        config: {
                            __cdata: '{"opacity":100,"strokeWidth":1,"stroke":"rgba(255, 255, 255, 0)","autoplay":false,"visible":true}'
                        },
                        id: "summary_plugin_id",
                        rotate: 0,
                        x: 6.69,
                        y: -27.9,
                        w: 77.45,
                        h: 125.53,
                        "z-index": 0
                    }]
                }
            },
            init: function() {
                var t = this;
                fabric.Object.prototype.transparentCorners = !1,
                fabric.Object.prototype.lockScalingFlip = !0,
                fabric.Object.prototype.hasRotatingPoint = !1,
                fabric.Object.prototype.cornerSize = 6,
                fabric.Object.prototype.padding = 2,
                fabric.Object.prototype.borderColor = "#1A98FA",
                fabric.Object.prototype.cornerColor = "#1A98FA",
                WebFontConfig.active = function() {
                    t.currentStage && (t.clearCanvas(t.canvas),
                    org.ekstep.contenteditor.api.dispatchEvent("stage:select", {
                        stageId: t.currentStage.id
                    }))
                }
                ,
                e.load(WebFontConfig),
                this.canvas = new fabric.Canvas("canvas",{
                    backgroundColor: "#FFFFFF",
                    preserveObjectStacking: !0,
                    perPixelTargetFind: !1
                }),
                console.log("Stage manager initialized"),
                fabric.initAligningGuidelines(this.canvas),
                org.ekstep.pluginframework.eventManager.addEventListener("stage:delete", this.deleteConfirmationDialog, this),
                org.ekstep.pluginframework.eventManager.addEventListener("stage:duplicate", this.duplicateStage, this),
                t.canvas.renderAll()
            },
            clearCanvas: function(e) {
                e.clear(),
                e.setBackgroundColor("#FFFFFF", e.renderAll.bind(e))
            },
            registerEvents: function() {
                this.canvas.on("object:modified", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("modified", e, t)
                }),
                this.canvas.on("object:selected", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("selected", e, t)
                }),
                this.canvas.on("selection:cleared", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("unselected", e, t)
                }),
                this.canvas.on("object:added", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("added", e, t)
                }),
                this.canvas.on("object:removed", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("removed", e, t)
                }),
                this.canvas.on("object:moving", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("moving", e, t)
                }),
                this.canvas.on("object:scaling", function(e, t) {
                    org.ekstep.contenteditor.stageManager.dispatchObjectEvent("scaling", e, t)
                }),
                org.ekstep.pluginframework.eventManager.addEventListener("stage:select", this.selectStage, this)
            },
            dispatchObjectEvent: function(e, t, n) {
                var r = org.ekstep.contenteditor.stageManager.getObjectMeta(t);
                org.ekstep.pluginframework.eventManager.dispatchEvent("object:" + e, r),
                "" !== r.type && org.ekstep.pluginframework.eventManager.dispatchEvent(r.type + ":" + e, r)
            },
            selectStage: function(e, t) {
                if (_.isUndefined(this.currentStage))
                    this.currentStage = _.find(this.stages, {
                        id: t.stageId
                    }),
                    this.currentStage.isSelected = !0,
                    this.currentStage.setCanvas(this.canvas),
                    this.currentStage.render(this.canvas);
                else {
                    this.currentStage.isSelected = !1,
                    org.ekstep.pluginframework.eventManager.dispatchEvent("stage:unselect", {
                        stageId: this.currentStage.id
                    }),
                    this.clearCanvas(this.canvas);
                    var n = _.find(this.stages, {
                        id: t.stageId
                    });
                    _.isUndefined(n) || (this.currentStage = n),
                    this.currentStage.isSelected = !0,
                    this.canvas.off("object:added"),
                    this.currentStage.setCanvas(this.canvas),
                    this.currentStage.render(this.canvas),
                    this.canvas.on("object:added", function(e, t) {
                        org.ekstep.contenteditor.stageManager.dispatchObjectEvent("added", e, t)
                    })
                }
            },
            addStage: function(e) {
                var t = _.isUndefined(this.currentStage) ? void 0 : this.currentStage.id;
                this.addStageAt(e, e.attributes.position),
                this.selectStage(null, {
                    stageId: e.id
                }),
                org.ekstep.contenteditor.api.dispatchEvent("stage:add", {
                    stageId: e.id,
                    prevStageId: t
                })
            },
            deleteStage: function(e, t) {
                var n = _.find(this.stages, {
                    id: t.stageId
                });
                this.deleteStageInstances(n);
                var r = this.getStageIndex(n);
                this.stages.splice(r, 1),
                0 === this.stages.length ? org.ekstep.contenteditor.api.dispatchEvent("stage:create", {
                    position: "next"
                }) : r === this.stages.length ? this.selectStage(null, {
                    stageId: this.stages[r - 1].id
                }) : this.selectStage(null, {
                    stageId: this.stages[r].id
                }),
                org.ekstep.contenteditor.api.dispatchEvent("stage:removed", {
                    stageId: t.stageId
                })
            },
            deleteStageInstances: function(e) {
                e.canvas.getActiveGroup() && e.canvas.discardActiveGroup(),
                _.forEach(_.clone(e.canvas.getObjects()), function(t) {
                    t && e.canvas.remove(t)
                })
            },
            getStageIndex: function(e) {
                return org.ekstep.contenteditor.api.getAllStages().findIndex(function(t) {
                    return t.id === e.id
                })
            },
            getStage: function(e) {
                return _.find(this.stages, {
                    id: e
                })
            },
            duplicateStage: function(e, t) {
                var n = _.find(this.stages, {
                    id: t.stageId
                })
                  , r = []
                  , i = this.stages[this.getStageIndex(n)];
                org.ekstep.contenteditor.api.dispatchEvent("stage:create", {
                    position: "afterCurrent",
                    stageECML: i.toECML()
                }),
                org.ekstep.pluginframework.eventManager.enableEvents = !1,
                _.forEach(i.children, function(e) {
                    r.push({
                        "z-index": e.attributes["z-index"],
                        data: e
                    })
                }),
                _.forEach(_.sortBy(r, "z-index"), function(e) {
                    org.ekstep.contenteditor.api.cloneInstance(e.data)
                }),
                this.currentStage.destroyOnLoad(i.children.length, this.canvas, function() {
                    org.ekstep.pluginframework.eventManager.enableEvents = !0
                }),
                org.ekstep.contenteditor.api.dispatchEvent("stage:select", {
                    stageId: this.currentStage.id
                })
            },
            getObjectMeta: function(e) {
                var t = e && e.target ? e.target.id : "";
                return {
                    id: t,
                    type: org.ekstep.pluginframework.pluginManager.getPluginType(t),
                    ver: org.ekstep.pluginframework.pluginManager.getPluginVersion(t)
                }
            },
            addStageAt: function(e, t) {
                var n;
                switch (t) {
                case "beginning":
                    this.stages.unshift(e);
                    break;
                case "end":
                case "next":
                    this.stages.push(e);
                    break;
                case "afterCurrent":
                case "beforeCurrent":
                    n = this.getStageIndex(org.ekstep.contenteditor.api.getCurrentStage()),
                    "afterCurrent" === t && n >= 0 && this.stages.splice(n + 1, 0, e),
                    "beforeCurrent" === t && n >= 0 && this.stages.splice(n, 0, e);
                    break;
                default:
                    this.stages.push(e)
                }
            },
            onStageDragDrop: function(e, t) {
                var n = this.getStageIndexById(e)
                  , r = this.getStageIndexById(t);
                if (n < r)
                    for (var i = this.stages[n], o = n; o <= r; o++)
                        this.stages[o] = this.stages[o + 1],
                        o === r && (this.stages[r] = i);
                if (n > r)
                    for (var a = this.stages[n], s = n; s >= r; s--)
                        this.stages[s] = this.stages[s - 1],
                        s === r && (this.stages[r] = a);
                org.ekstep.contenteditor.api.dispatchEvent("stage:reorder", {
                    stageId: e,
                    fromIndex: n,
                    toIndex: r
                })
            },
            getStageIndexById: function(e) {
                return _.findIndex(this.stages, function(t) {
                    return t.id === e
                })
            },
            deleteConfirmationDialog: function(e, t) {
                var n = this;
                org.ekstep.contenteditor.api.getService("popup").open({
                    template: "deleteStageDialog.html",
                    controller: ["$scope", function(r) {
                        r.labels = window.parent.config.resourceBundles || {},
                        r.delete = function() {
                            r.closeThisDialog(),
                            n.deleteStage(e, t)
                        }
                    }
                    ],
                    showClose: !1
                })
            },
            showLoadScreenMessage: function() {
                var e = _.find(org.ekstep.contenteditor.api.getAngularScope().appLoadMessage, {
                    id: 3
                });
                if (_.isObject(e)) {
                    var t = window.parent.config.resourceBundles || {};
                    e.message = t.frmelmnts.lbl.loadingYourLesson || "Loading your lesson",
                    e.status = !0
                }
                org.ekstep.contenteditor.api.ngSafeApply(org.ekstep.contenteditor.api.getAngularScope()),
                setTimeout(function() {
                    org.ekstep.contenteditor.api.getAngularScope().closeLoadScreen()
                }, 2e3)
            },
            getStageIcons: function() {
                return this.thumbnails
            },
            updateStageIcons: function() {
                var e = org.ekstep.contenteditor.stageManager.getStageIcons()
                  , t = _.map(org.ekstep.contenteditor.stageManager.stages, "id");
                return this.thumbnails = _.pick(e, t),
                this.thumbnails
            },
            getPragma: function() {
                return ecEditor._.uniq(this.pragma)
            },
            toECML: function() {
                var e = this
                  , t = {
                    theme: {
                        id: "theme",
                        version: "1.0",
                        startStage: this.stages[0].id,
                        stage: [],
                        manifest: {
                            media: []
                        },
                        "plugin-manifest": {
                            plugin: []
                        }
                    }
                };
                this.setNavigationalParams();
                var n = {}
                  , r = [];
                return e.summary = [],
                e.assets = [],
                e.pragma = null,
                _.forEach(this.stages, function(i, o) {
                    e.thumbnails[i.id] = i.thumbnail;
                    var a = i.toECML();
                    a.manifest = {
                        media: []
                    };
                    var s = [];
                    r.push({
                        identifier: i.manifest.id,
                        semanticVersion: i.manifest.ver
                    }),
                    _.forEach(i.children, function(t) {
                        var i = t.getManifestId();
                        r.push({
                            identifier: t.manifest.id,
                            semanticVersion: t.manifest.ver
                        }),
                        _.isUndefined(a[i]) && (a[i] = []),
                        a[i].push(t.toECML());
                        var o = t.getSummary();
                        o && e.summary.push(o),
                        -1 === e.isStreamingAsset(t) || ecEditor._.isUndefined(t.attributes.asset) || e.assets.push(t.attributes.asset);
                        var c = t.getPragmaValue();
                        c && (null === e.pragma ? e.pragma = [c] : ecEditor._.uniq(e.pragma.push(c)));
                        var l = t.getMedia();
                        e.addMediaToMediaMap(n, l, t.manifest),
                        t.manifest.id && "org.ekstep.questionset" != t.manifest.id && (s = _.concat(s, _.keys(l)))
                    }),
                    a.manifest.media = _.map(_.uniq(s), function(e) {
                        return {
                            assetId: e
                        }
                    }),
                    t.theme.stage.push(a)
                }),
                e.manifestGenerator(t),
                this._isAssessment() && (t = this._appendPluginStage(t, this.summaryTemplate)),
                ecEditor._.each(t.theme["plugin-manifest"].plugin, function(e) {
                    r.push({
                        identifier: e.id,
                        semanticVersion: e.ver
                    })
                }),
                e.plugins_used = ecEditor._.uniqBy(r, "identifier"),
                _.isEmpty(org.ekstep.contenteditor.mediaManager.migratedMediaMap) || (e.mergeMediaMap(n),
                t.theme["migration-media"] = {},
                t.theme["migration-media"].media = _.values(org.ekstep.contenteditor.mediaManager.migratedMediaMap)),
                t.theme.manifest.media = _.uniqBy(_.concat(t.theme.manifest.media, _.values(n)), "id"),
                _.isEmpty(org.ekstep.contenteditor.migration.patch) || (t.theme.patch = org.ekstep.contenteditor.migration.patch.toString()),
                _.forEach(this.stages, function(e, n) {
                    _.forEach(e.children, function(e) {
                        _.isUndefined(e._questions) || (t = e._checkForMathText(t, e._questions))
                    })
                }),
                _.cloneDeep(t)
            },
            manifestGenerator: function(e) {
                var t = {};
                _.forEach(org.ekstep.pluginframework.pluginManager.getPluginInstances(), function(e) {
                    t[e.manifest.id] = e.manifest.id
                }),
                ManifestGenerator.generate(_.drop(_.values(t)), "org.ekstep.stage"),
                e.theme.manifest.media = _.uniqBy(_.concat(e.theme.manifest.media, ManifestGenerator.getMediaManifest()), "id"),
                e.theme["plugin-manifest"].plugin = ManifestGenerator.getPluginManifest(),
                e.theme.compatibilityVersion = ManifestGenerator.getCompatibilityVersion() || 2
            },
            mergeMediaMap: function(e) {
                _.forIn(org.ekstep.contenteditor.mediaManager.migratedMediaMap, function(t, n) {
                    _.isUndefined(e[n]) && (e[n] = t,
                    t.src = org.ekstep.contenteditor.mediaManager.getMediaOriginURL(t.src))
                })
            },
            addMediaToMediaMap: function(e, t, n, r) {
                var i = ["plugin", "css", "js"];
                _.isObject(t) && _.forIn(t, function(t, r) {
                    e[r] ? t.preload && (e[r].preload = t.preload) : (e[r] = t,
                    t.src = org.ekstep.contenteditor.mediaManager.getMediaOriginURL(t.src),
                    -1 !== _.indexOf(i, e[r].type) && (e[r].plugin = n.id,
                    e[r].ver = n.ver))
                })
            },
            setNavigationalParams: function() {
                var e = this
                  , t = this.stages.length;
                _.forEach(this.stages, function(n, r) {
                    0 === r && n.deleteParam("previous"),
                    0 !== r && n.addParam("previous", e.stages[r - 1].id),
                    r < t - 1 && n.addParam("next", e.stages[r + 1].id),
                    t === r + 1 && e._isAssessment() ? n.addParam("next", "summary_stage_id") : t === r + 1 && n.deleteParam("next")
                })
            },
            fromECML: function(e, t) {
                var n = this
                  , r = (new Date).getTime();
                		var labels = window.parent.config.resourceBundles || {};
                org.ekstep.contenteditor.api.getAngularScope().appLoadMessage.push({
                    id: 3,
                    message: labels.frmelmnts.lbl.loadingYourLesson || "Loading your lesson",
                    status: !1
                }),
                org.ekstep.contenteditor.api.ngSafeApply(org.ekstep.contenteditor.api.getAngularScope()),
                org.ekstep.contenteditor.stageManager.contentLoading = !0,
                org.ekstep.pluginframework.eventManager.enableEvents = !1,
                this._isAssessment() && (e = this._removePluginStage(e, "org.ekstep.summary")),
                this._loadMedia(e),
                this._loadPlugins(e, function(i, o) {
                    if (!i) {
                        var a = _.isArray(e.theme.stage) ? e.theme.stage : [e.theme.stage];
                        n._loadStages(a, t, r)
                    }
                })
            },
            _loadMedia: function(e) {
                _.forEach(e.theme.manifest.media, function(e) {
                    "plugin" === e.type && org.ekstep.pluginframework.pluginManager.isPluginDefined(e.id) || org.ekstep.contenteditor.mediaManager.addMedia(e)
                }),
                e.theme["migration-media"] && _.forEach(e.theme["migration-media"].media, function(e) {
                    org.ekstep.contenteditor.mediaManager.addToMigratedMedia(e)
                })
            },
            _loadPlugins: function(e, t) {
                e.theme.manifest.media = _.isArray(e.theme.manifest.media) ? e.theme.manifest.media : [e.theme.manifest.media];
                var n = _.filter(e.theme.manifest.media, {
                    type: "plugin"
                })
                  , r = [];
                _.forEach(n, function(e) {
                    r.push({
                        id: e.id,
                        ver: e.ver,
                        type: "plugin"
                    })
                }),
                org.ekstep.pluginframework.pluginManager.loadAllPlugins(r, void 0, t)
            },
            _loadStages: function(e, t, n) {
                var r = this;
                t = t || "{}";
                var i = JSON.parse(t);
                r.thumbnails = JSON.parse(t);
                var o = [];
                _.forEach(e, function(t, n) {
                    o.push(function(o) {
                        r._loadStage(t, n, e.length, i[t.id], o)
                    })
                }),
                0 === o.length ? r.onContentLoad(n) : async.parallel(o, function(e, t) {
                    r.onContentLoad(n)
                }),
                org.ekstep.services.telemetryService.impression({
                    type: "edit",
                    pageid: ecEditor.getContext("env") || "contenteditor",
                    uri: encodeURIComponent(location.href),
                    duration: (new Date).getTime() - n
                })
            },
            _loadStage: function(e, n, r, i, o) {
                delete e.manifest;
                var a, s = _.clone(e.events) || {};
                i ? a = {
                    toDataURL: function() {
                        return i
                    },
                    add: function() {},
                    setActiveObject: function() {},
                    clear: function() {},
                    renderAll: function() {},
                    setBackgroundColor: function() {}
                } : 0 === n ? a = this.canvas : (t("<canvas>").attr({
                    id: e.id
                }).css({
                    width: "720px",
                    height: "405px"
                }).appendTo("#thumbnailCanvasContainer"),
                a = new fabric.Canvas(e.id,{
                    backgroundColor: "#FFFFFF",
                    preserveObjectStacking: !0,
                    width: 720,
                    height: 405
                }));
                var c = org.ekstep.contenteditor.api.instantiatePlugin(org.ekstep.contenteditor.config.corePluginMapping.stage, e);
                c.setCanvas(a);
                var l = 0
                  , u = _.pickBy(e, _.isObject)
                  , d = [];
                _.forIn(u, function(t, n) {
                    t = _.isArray(t) ? t : [t],
                    _.forEach(t, function(e) {
                        d.push({
                            id: n,
                            "z-index": e["z-index"],
                            data: e
                        })
                    }),
                    delete e[n]
                }),
                _.forIn(_.sortBy(d, "z-index"), function(e) {
                    var t, n = org.ekstep.contenteditor.config.corePluginMapping[e.id] || e.id;
                    try {
                        t = org.ekstep.contenteditor.api.instantiatePlugin(n, e.data, c),
                        _.isUndefined(t) && (console.log("Unable to instantiate", e.id),
                        org.ekstep.contenteditor.api.instantiatePlugin("org.ekstep.unsupported", {
                            data: e
                        }, c)),
                        l++
                    } catch (t) {
                        console.warn("error when instantiating plugin:", n, e.data, c.id, t),
                        org.ekstep.services.telemetryService.error({
                            env: "content",
                            stage: c.id,
                            action: "console log error",
                            err: "plugin instantiation",
                            type: "PORTAL",
                            data: "",
                            severity: "warn"
                        })
                    }
                }),
                s && _.forEach(s, function(e) {
                    _.forEach(e, function(e) {
                        c.addEvent(e)
                    })
                }),
                c.destroyOnLoad(l, a, o)
            },
            onContentLoad: function(e) {
                org.ekstep.contenteditor.api.jQuery("#thumbnailCanvasContainer").empty(),
                org.ekstep.contenteditor.api.getAngularScope().toggleGenieControl(),
                org.ekstep.pluginframework.eventManager.enableEvents = !0,
                org.ekstep.contenteditor.stageManager.registerEvents(),
                this.showLoadScreenMessage(),
                org.ekstep.contenteditor.stageManager.contentLoading = !1,
                org.ekstep.services.telemetryService.log({
                    type: "process",
                    level: "TRACE",
                    message: "duration for content load",
                    params: [{
                        duration: (new Date).getTime() - e
                    }]
                }),
                org.ekstep.contenteditor.api._.isEmpty(this.stages) && org.ekstep.pluginframework.eventManager.dispatchEvent("stage:create", {
                    position: "beginning"
                }),
                org.ekstep.contenteditor.api.dispatchEvent("content:load:complete")
            },
            _resolveManifestMediaPath: function(e, t, n) {
                var r = org.ekstep.pluginframework.pluginManager.resolvePluginResource(e, t, n);
                return !1 === r ? "" : (-1 === r.indexOf("http") && (r = org.ekstep.contenteditor.config.baseURL + r),
                r)
            },
            cleanUp: function() {
                this.stages = [],
                this.thumbnails = {},
                this.canvas = void 0,
                this.currentStage = void 0
            },
            isStreamingAsset: function(e) {
                return _.indexOf(["org.ekstep.video", "org.ekstep.audio", "org.ekstep.image"], e.manifest.id)
            },
            getSummary: function() {
                var e = {
                    totalQuestions: 0,
                    totalScore: 0,
                    questions: []
                };
                return _.forEach(this.summary, function(t) {
                    e.totalQuestions = e.totalQuestions + t.totalQuestions,
                    e.totalScore = e.totalScore + t.totalScore,
                    t.questions && t.questions.length > 0 && (e.questions = ecEditor._.uniqBy(ecEditor._.concat(e.questions, t.questions), "identifier"))
                }),
                e
            },
            _isAssessment: function() {
                return _.includes(_.mapValues(this._assessContentType(), _.method("toLowerCase")), _.toLower(this._getContentType()))
            },
            _assessContentType: function() {
                return _.has(org.ekstep.contenteditor.config, "assessContentType") ? org.ekstep.contenteditor.config.assessContentType : ["SelfAssess"]
            },
            _getContentType: function() {
                return ecEditor.getService("content").getContentMeta(org.ekstep.contenteditor.api.getContext("contentId")).contentType
            },
            _appendPluginStage: function(e, t) {
                return e.theme.stage.push(t.stage),
                e.theme["plugin-manifest"].plugin.push(t.pluginManifest),
                _.forEach(t.manifest.media, function(t) {
                    e.theme.manifest.media.push(t)
                }),
                e
            },
            _removePluginStage: function(e, t) {
                return _.find(e.theme["plugin-manifest"].plugin, {
                    id: t
                }) && (e.theme.stage = _.filter(e.theme.stage, function(e) {
                    return !_.has(e, t)
                }),
                e.theme.manifest.media = _.filter(e.theme.manifest.media, function(e) {
                    return e.plugin !== t
                }),
                e.theme["plugin-manifest"].plugin = _.filter(e.theme["plugin-manifest"].plugin, function(e) {
                    return e.id !== t
                })),
                e
            }
        }))
    }
    ).call(this, n(176), n(1))
}
, function(e, t, n) {
    (function(t) {
        e.exports = t.WebFont = n(177)
    }
    ).call(this, n(0))
}
, function(e, t, n) {
    var r;
    !function() {
        function i(e, t, n) {
            return e.call.apply(e.bind, arguments)
        }
        function o(e, t, n) {
            if (!e)
                throw Error();
            if (2 < arguments.length) {
                var r = Array.prototype.slice.call(arguments, 2);
                return function() {
                    var n = Array.prototype.slice.call(arguments);
                    return Array.prototype.unshift.apply(n, r),
                    e.apply(t, n)
                }
            }
            return function() {
                return e.apply(t, arguments)
            }
        }
        function a(e, t, n) {
            return (a = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? i : o).apply(null, arguments)
        }
        var s = Date.now || function() {
            return +new Date
        }
          , c = !!window.FontFace;
        function l(e, t, n, r) {
            if (t = e.c.createElement(t),
            n)
                for (var i in n)
                    n.hasOwnProperty(i) && ("style" == i ? t.style.cssText = n[i] : t.setAttribute(i, n[i]));
            return r && t.appendChild(e.c.createTextNode(r)),
            t
        }
        function u(e, t, n) {
            (e = e.c.getElementsByTagName(t)[0]) || (e = document.documentElement),
            e.insertBefore(n, e.lastChild)
        }
        function d(e) {
            e.parentNode && e.parentNode.removeChild(e)
        }
        function f(e, t, n) {
            t = t || [],
            n = n || [];
            for (var r = e.className.split(/\s+/), i = 0; i < t.length; i += 1) {
                for (var o = !1, a = 0; a < r.length; a += 1)
                    if (t[i] === r[a]) {
                        o = !0;
                        break
                    }
                o || r.push(t[i])
            }
            for (t = [],
            i = 0; i < r.length; i += 1) {
                for (o = !1,
                a = 0; a < n.length; a += 1)
                    if (r[i] === n[a]) {
                        o = !0;
                        break
                    }
                o || t.push(r[i])
            }
            e.className = t.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
        }
        function h(e, t) {
            for (var n = e.className.split(/\s+/), r = 0, i = n.length; r < i; r++)
                if (n[r] == t)
                    return !0;
            return !1
        }
        function p(e, t, n) {
            function r() {
                s && i && o && (s(a),
                s = null)
            }
            t = l(e, "link", {
                rel: "stylesheet",
                href: t,
                media: "all"
            });
            var i = !1
              , o = !0
              , a = null
              , s = n || null;
            c ? (t.onload = function() {
                i = !0,
                r()
            }
            ,
            t.onerror = function() {
                i = !0,
                a = Error("Stylesheet failed to load"),
                r()
            }
            ) : setTimeout(function() {
                i = !0,
                r()
            }, 0),
            u(e, "head", t)
        }
        function g(e, t, n, r) {
            var i = e.c.getElementsByTagName("head")[0];
            if (i) {
                var o = l(e, "script", {
                    src: t
                })
                  , a = !1;
                return o.onload = o.onreadystatechange = function() {
                    a || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (a = !0,
                    n && n(null),
                    o.onload = o.onreadystatechange = null,
                    "HEAD" == o.parentNode.tagName && i.removeChild(o))
                }
                ,
                i.appendChild(o),
                setTimeout(function() {
                    a || (a = !0,
                    n && n(Error("Script load timeout")))
                }, r || 5e3),
                o
            }
            return null
        }
        function m() {
            this.a = 0,
            this.c = null
        }
        function v(e) {
            return e.a++,
            function() {
                e.a--,
                b(e)
            }
        }
        function y(e, t) {
            e.c = t,
            b(e)
        }
        function b(e) {
            0 == e.a && e.c && (e.c(),
            e.c = null)
        }
        function w(e) {
            this.a = e || "-"
        }
        function x(e, t) {
            this.c = e,
            this.f = 4,
            this.a = "n";
            var n = (t || "n4").match(/^([nio])([1-9])$/i);
            n && (this.a = n[1],
            this.f = parseInt(n[2], 10))
        }
        function S(e) {
            var t = [];
            e = e.split(/,\s*/);
            for (var n = 0; n < e.length; n++) {
                var r = e[n].replace(/['"]/g, "");
                -1 != r.indexOf(" ") || /^\d/.test(r) ? t.push("'" + r + "'") : t.push(r)
            }
            return t.join(",")
        }
        function C(e) {
            return e.a + e.f
        }
        function _(e) {
            var t = "normal";
            return "o" === e.a ? t = "oblique" : "i" === e.a && (t = "italic"),
            t
        }
        function k(e) {
            var t = 4
              , n = "n"
              , r = null;
            return e && ((r = e.match(/(normal|oblique|italic)/i)) && r[1] && (n = r[1].substr(0, 1).toLowerCase()),
            (r = e.match(/([1-9]00|normal|bold)/i)) && r[1] && (/bold/i.test(r[1]) ? t = 7 : /[1-9]00/.test(r[1]) && (t = parseInt(r[1].substr(0, 1), 10)))),
            n + t
        }
        function E(e) {
            if (e.g) {
                var t = h(e.f, e.a.c("wf", "active"))
                  , n = []
                  , r = [e.a.c("wf", "loading")];
                t || n.push(e.a.c("wf", "inactive")),
                f(e.f, n, r)
            }
            T(e, "inactive")
        }
        function T(e, t, n) {
            e.j && e.h[t] && (n ? e.h[t](n.c, C(n)) : e.h[t]())
        }
        function P(e, t) {
            this.c = e,
            this.f = t,
            this.a = l(this.c, "span", {
                "aria-hidden": "true"
            }, this.f)
        }
        function A(e) {
            u(e.c, "body", e.a)
        }
        function O(e) {
            return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + S(e.c) + ";font-style:" + _(e) + ";font-weight:" + e.f + "00;"
        }
        function $(e, t, n, r, i, o) {
            this.g = e,
            this.j = t,
            this.a = r,
            this.c = n,
            this.f = i || 3e3,
            this.h = o || void 0
        }
        function j(e, t, n, r, i, o, a) {
            this.v = e,
            this.B = t,
            this.c = n,
            this.a = r,
            this.s = a || "BESbswy",
            this.f = {},
            this.w = i || 3e3,
            this.u = o || null,
            this.m = this.j = this.h = this.g = null,
            this.g = new P(this.c,this.s),
            this.h = new P(this.c,this.s),
            this.j = new P(this.c,this.s),
            this.m = new P(this.c,this.s),
            e = O(e = new x(this.a.c + ",serif",C(this.a))),
            this.g.a.style.cssText = e,
            e = O(e = new x(this.a.c + ",sans-serif",C(this.a))),
            this.h.a.style.cssText = e,
            e = O(e = new x("serif",C(this.a))),
            this.j.a.style.cssText = e,
            e = O(e = new x("sans-serif",C(this.a))),
            this.m.a.style.cssText = e,
            A(this.g),
            A(this.h),
            A(this.j),
            A(this.m)
        }
        w.prototype.c = function(e) {
            for (var t = [], n = 0; n < arguments.length; n++)
                t.push(arguments[n].replace(/[\W_]+/g, "").toLowerCase());
            return t.join(this.a)
        }
        ,
        $.prototype.start = function() {
            var e = this.c.o.document
              , t = this
              , n = s()
              , r = new Promise(function(r, i) {
                !function o() {
                    s() - n >= t.f ? i() : e.fonts.load(function(e) {
                        return _(e) + " " + e.f + "00 300px " + S(e.c)
                    }(t.a), t.h).then(function(e) {
                        1 <= e.length ? r() : setTimeout(o, 25)
                    }, function() {
                        i()
                    })
                }()
            }
            )
              , i = null
              , o = new Promise(function(e, n) {
                i = setTimeout(n, t.f)
            }
            );
            Promise.race([o, r]).then(function() {
                i && (clearTimeout(i),
                i = null),
                t.g(t.a)
            }, function() {
                t.j(t.a)
            })
        }
        ;
        var D = {
            D: "serif",
            C: "sans-serif"
        }
          , R = null;
        function M() {
            if (null === R) {
                var e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                R = !!e && (536 > parseInt(e[1], 10) || 536 === parseInt(e[1], 10) && 11 >= parseInt(e[2], 10))
            }
            return R
        }
        function I(e, t, n) {
            for (var r in D)
                if (D.hasOwnProperty(r) && t === e.f[D[r]] && n === e.f[D[r]])
                    return !0;
            return !1
        }
        function L(e, t) {
            setTimeout(a(function() {
                d(this.g.a),
                d(this.h.a),
                d(this.j.a),
                d(this.m.a),
                t(this.a)
            }, e), 0)
        }
        function F(e, t, n) {
            this.c = e,
            this.a = t,
            this.f = 0,
            this.m = this.j = !1,
            this.s = n
        }
        j.prototype.start = function() {
            this.f.serif = this.j.a.offsetWidth,
            this.f["sans-serif"] = this.m.a.offsetWidth,
            this.A = s(),
            function e(t) {
                var n, r = t.g.a.offsetWidth, i = t.h.a.offsetWidth;
                (n = r === t.f.serif && i === t.f["sans-serif"]) || (n = M() && I(t, r, i)),
                n ? s() - t.A >= t.w ? M() && I(t, r, i) && (null === t.u || t.u.hasOwnProperty(t.a.c)) ? L(t, t.v) : L(t, t.B) : function(t) {
                    setTimeout(a(function() {
                        e(this)
                    }, t), 50)
                }(t) : L(t, t.v)
            }(this)
        }
        ;
        var N = null;
        function B(e) {
            0 == --e.f && e.j && (e.m ? ((e = e.a).g && f(e.f, [e.a.c("wf", "active")], [e.a.c("wf", "loading"), e.a.c("wf", "inactive")]),
            T(e, "active")) : E(e.a))
        }
        function U(e) {
            this.j = e,
            this.a = new function() {
                this.c = {}
            }
            ,
            this.h = 0,
            this.f = this.g = !0
        }
        function q(e, t, n, r, i) {
            var o = 0 == --e.h;
            (e.f || e.g) && setTimeout(function() {
                var e = i || null
                  , s = r || {};
                if (0 === n.length && o)
                    E(t.a);
                else {
                    t.f += n.length,
                    o && (t.j = o);
                    var c, l = [];
                    for (c = 0; c < n.length; c++) {
                        var u = n[c]
                          , d = s[u.c]
                          , h = t.a
                          , p = u;
                        if (h.g && f(h.f, [h.a.c("wf", p.c, C(p).toString(), "loading")]),
                        T(h, "fontloading", p),
                        h = null,
                        null === N)
                            if (window.FontFace) {
                                p = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);
                                var g = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
                                N = p ? 42 < parseInt(p[1], 10) : !g
                            } else
                                N = !1;
                        h = N ? new $(a(t.g, t),a(t.h, t),t.c,u,t.s,d) : new j(a(t.g, t),a(t.h, t),t.c,u,t.s,e,d),
                        l.push(h)
                    }
                    for (c = 0; c < l.length; c++)
                        l[c].start()
                }
            }, 0)
        }
        function V(e, t) {
            this.c = e,
            this.a = t
        }
        function z(e, t) {
            this.c = e,
            this.a = t
        }
        F.prototype.g = function(e) {
            var t = this.a;
            t.g && f(t.f, [t.a.c("wf", e.c, C(e).toString(), "active")], [t.a.c("wf", e.c, C(e).toString(), "loading"), t.a.c("wf", e.c, C(e).toString(), "inactive")]),
            T(t, "fontactive", e),
            this.m = !0,
            B(this)
        }
        ,
        F.prototype.h = function(e) {
            var t = this.a;
            if (t.g) {
                var n = h(t.f, t.a.c("wf", e.c, C(e).toString(), "active"))
                  , r = []
                  , i = [t.a.c("wf", e.c, C(e).toString(), "loading")];
                n || r.push(t.a.c("wf", e.c, C(e).toString(), "inactive")),
                f(t.f, r, i)
            }
            T(t, "fontinactive", e),
            B(this)
        }
        ,
        U.prototype.load = function(e) {
            this.c = new function(e, t) {
                this.a = e,
                this.o = t || e,
                this.c = this.o.document
            }
            (this.j,e.context || this.j),
            this.g = !1 !== e.events,
            this.f = !1 !== e.classes,
            function(e, t, n) {
                var r = []
                  , i = n.timeout;
                !function(e) {
                    e.g && f(e.f, [e.a.c("wf", "loading")]),
                    T(e, "loading")
                }(t);
                r = function(e, t, n) {
                    var r, i = [];
                    for (r in t)
                        if (t.hasOwnProperty(r)) {
                            var o = e.c[r];
                            o && i.push(o(t[r], n))
                        }
                    return i
                }(e.a, n, e.c);
                var o = new F(e.c,t,i);
                for (e.h = r.length,
                t = 0,
                n = r.length; t < n; t++)
                    r[t].load(function(t, n, r) {
                        q(e, o, t, n, r)
                    })
            }(this, new function(e, t) {
                this.c = e,
                this.f = e.o.document.documentElement,
                this.h = t,
                this.a = new w("-"),
                this.j = !1 !== t.events,
                this.g = !1 !== t.classes
            }
            (this.c,e), e)
        }
        ,
        V.prototype.load = function(e) {
            var t = this
              , n = t.a.projectId
              , r = t.a.version;
            if (n) {
                var i = t.c.o;
                g(this.c, (t.a.api || "https://fast.fonts.net/jsapi") + "/" + n + ".js" + (r ? "?v=" + r : ""), function(r) {
                    r ? e([]) : (i["__MonotypeConfiguration__" + n] = function() {
                        return t.a
                    }
                    ,
                    function t() {
                        if (i["__mti_fntLst" + n]) {
                            var r, o = i["__mti_fntLst" + n](), a = [];
                            if (o)
                                for (var s = 0; s < o.length; s++) {
                                    var c = o[s].fontfamily;
                                    void 0 != o[s].fontStyle && void 0 != o[s].fontWeight ? (r = o[s].fontStyle + o[s].fontWeight,
                                    a.push(new x(c,r))) : a.push(new x(c))
                                }
                            e(a)
                        } else
                            setTimeout(function() {
                                t()
                            }, 50)
                    }())
                }).id = "__MonotypeAPIScript__" + n
            } else
                e([])
        }
        ,
        z.prototype.load = function(e) {
            var t, n, r = this.a.urls || [], i = this.a.families || [], o = this.a.testStrings || {}, a = new m;
            for (t = 0,
            n = r.length; t < n; t++)
                p(this.c, r[t], v(a));
            var s = [];
            for (t = 0,
            n = i.length; t < n; t++)
                if ((r = i[t].split(":"))[1])
                    for (var c = r[1].split(","), l = 0; l < c.length; l += 1)
                        s.push(new x(r[0],c[l]));
                else
                    s.push(new x(r[0]));
            y(a, function() {
                e(s, o)
            })
        }
        ;
        var H = {
            latin: "BESbswy",
            "latin-ext": "",
            cyrillic: "",
            greek: "",
            khmer: "",
            Hanuman: ""
        }
          , W = {
            thin: "1",
            extralight: "2",
            "extra-light": "2",
            ultralight: "2",
            "ultra-light": "2",
            light: "3",
            regular: "4",
            book: "4",
            medium: "5",
            "semi-bold": "6",
            semibold: "6",
            "demi-bold": "6",
            demibold: "6",
            bold: "7",
            "extra-bold": "8",
            extrabold: "8",
            "ultra-bold": "8",
            ultrabold: "8",
            black: "9",
            heavy: "9",
            l: "3",
            r: "4",
            b: "7"
        }
          , G = {
            i: "i",
            italic: "i",
            n: "n",
            normal: "n"
        }
          , X = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
        function Y(e, t) {
            this.c = e,
            this.a = t
        }
        var K = {
            Arimo: !0,
            Cousine: !0,
            Tinos: !0
        };
        function Q(e, t) {
            this.c = e,
            this.a = t
        }
        function J(e, t) {
            this.c = e,
            this.f = t,
            this.a = []
        }
        Y.prototype.load = function(e) {
            var t = new m
              , n = this.c
              , r = new function(e, t) {
                this.c = e || "https://fonts.googleapis.com/css",
                this.a = [],
                this.f = [],
                this.g = t || ""
            }
            (this.a.api,this.a.text)
              , i = this.a.families;
            !function(e, t) {
                for (var n = t.length, r = 0; r < n; r++) {
                    var i = t[r].split(":");
                    3 == i.length && e.f.push(i.pop());
                    var o = "";
                    2 == i.length && "" != i[1] && (o = ":"),
                    e.a.push(i.join(o))
                }
            }(r, i);
            var o = new function(e) {
                this.f = e,
                this.a = [],
                this.c = {}
            }
            (i);
            !function(e) {
                for (var t = e.f.length, n = 0; n < t; n++) {
                    var r = e.f[n].split(":")
                      , i = r[0].replace(/\+/g, " ")
                      , o = ["n4"];
                    if (2 <= r.length) {
                        var a;
                        if (a = [],
                        s = r[1])
                            for (var s, c = (s = s.split(",")).length, l = 0; l < c; l++) {
                                var u;
                                if ((u = s[l]).match(/^[\w-]+$/))
                                    if (null == (d = X.exec(u.toLowerCase())))
                                        u = "";
                                    else {
                                        if (u = null == (u = d[2]) || "" == u ? "n" : G[u],
                                        null == (d = d[1]) || "" == d)
                                            d = "4";
                                        else
                                            var d = W[d] || (isNaN(d) ? "4" : d.substr(0, 1));
                                        u = [u, d].join("")
                                    }
                                else
                                    u = "";
                                u && a.push(u)
                            }
                        0 < a.length && (o = a),
                        3 == r.length && (a = [],
                        0 < (r = (r = r[2]) ? r.split(",") : a).length && (r = H[r[0]]) && (e.c[i] = r))
                    }
                    for (e.c[i] || (r = H[i]) && (e.c[i] = r),
                    r = 0; r < o.length; r += 1)
                        e.a.push(new x(i,o[r]))
                }
            }(o),
            p(n, function(e) {
                if (0 == e.a.length)
                    throw Error("No fonts to load!");
                if (-1 != e.c.indexOf("kit="))
                    return e.c;
                for (var t = e.a.length, n = [], r = 0; r < t; r++)
                    n.push(e.a[r].replace(/ /g, "+"));
                return t = e.c + "?family=" + n.join("%7C"),
                0 < e.f.length && (t += "&subset=" + e.f.join(",")),
                0 < e.g.length && (t += "&text=" + encodeURIComponent(e.g)),
                t
            }(r), v(t)),
            y(t, function() {
                e(o.a, o.c, K)
            })
        }
        ,
        Q.prototype.load = function(e) {
            var t = this.a.id
              , n = this.c.o;
            t ? g(this.c, (this.a.api || "https://use.typekit.net") + "/" + t + ".js", function(t) {
                if (t)
                    e([]);
                else if (n.Typekit && n.Typekit.config && n.Typekit.config.fn) {
                    t = n.Typekit.config.fn;
                    for (var r = [], i = 0; i < t.length; i += 2)
                        for (var o = t[i], a = t[i + 1], s = 0; s < a.length; s++)
                            r.push(new x(o,a[s]));
                    try {
                        n.Typekit.load({
                            events: !1,
                            classes: !1,
                            async: !0
                        })
                    } catch (e) {}
                    e(r)
                }
            }, 2e3) : e([])
        }
        ,
        J.prototype.load = function(e) {
            var t = this.f.id
              , n = this.c.o
              , r = this;
            t ? (n.__webfontfontdeckmodule__ || (n.__webfontfontdeckmodule__ = {}),
            n.__webfontfontdeckmodule__[t] = function(t, n) {
                for (var i = 0, o = n.fonts.length; i < o; ++i) {
                    var a = n.fonts[i];
                    r.a.push(new x(a.name,k("font-weight:" + a.weight + ";font-style:" + a.style)))
                }
                e(r.a)
            }
            ,
            g(this.c, (this.f.api || "https://f.fontdeck.com/s/css/js/") + function(e) {
                return e.o.location.hostname || e.a.location.hostname
            }(this.c) + "/" + t + ".js", function(t) {
                t && e([])
            })) : e([])
        }
        ;
        var Z = new U(window);
        Z.a.c.custom = function(e, t) {
            return new z(t,e)
        }
        ,
        Z.a.c.fontdeck = function(e, t) {
            return new J(t,e)
        }
        ,
        Z.a.c.monotype = function(e, t) {
            return new V(t,e)
        }
        ,
        Z.a.c.typekit = function(e, t) {
            return new Q(t,e)
        }
        ,
        Z.a.c.google = function(e, t) {
            return new Y(t,e)
        }
        ;
        var ee = {
            load: a(Z.load, Z)
        };
        void 0 === (r = function() {
            return ee
        }
        .call(t, n, t, e)) || (e.exports = r)
    }()
}
]);
