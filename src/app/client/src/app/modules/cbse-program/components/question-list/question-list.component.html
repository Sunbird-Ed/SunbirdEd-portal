<div class="ui twelve column grid p-0 m-0">
  <div class="three wide column p-0 pr-16">
    <div class="ui questionsMenu">
      <button *ngIf="role.currentRole != 'REVIEWER'" [disabled]="questionMetaData && questionMetaData.mode === 'create'"
        (click)="createNewQuestion()" appTelemetryInteract
        [telemetryInteractEdata]="{id:'create_btn',type:'click',pageid:'questionlist',extra:{type:'reference',category:selectedAttributes.questionType.toUpperCase(),topic:selectedAttributes.topic}}"
        class="sb-btn sb-btn-primary sb-btn-normal width-100">Create</button>
      <div class="ui vertical segments" style="max-height:50vh;overflow-y:auto;" [hidden]="showDelete">
        <div class="questionTab ui center tertiary header aligned segment p-8"
          [class.tertiary]="selectedQuestionId === question.identifier"
          (click)="handleQuestionTabChange(question.identifier)" *ngFor="let question of questionList; let i = index"
          appTelemetryInteract
          [telemetryInteractEdata]="{id:'question_tab',type:'click',pageid:'questionlist',extra:{type:'reference',identifier:question.identifier}}">
          <div class="item d-flex flex-ai-center">
            <ng-container *ngIf="role.currentRole === 'PUBLISHER' else nonPublisher">
              <div class="sb-checkbox sb-checkbox-primary">
                <input [(ngModel)]="question.isSelected" (change)="checkIfAllSelected();" type="checkbox">
                <label for="check1" class="mb-0"> Question {{i + 1}}</label>
              </div>
            </ng-container>
            <ng-template #nonPublisher>
              <div>
                <label for="check1" class="mb-0 fs-0-92 font-weight-normal"> Question {{i + 1}}</label>
              </div>
            </ng-template>
            <!-- <i class="trash alternate outline icon ml-auto d-flex flex-ai-center"></i> -->
            <span class="sb-status-label sb-bg-warning sb-shape-circle ml-auto"
              *ngIf="question.status === 'Draft' || question.status === 'Review'"></span>
            <span class="sb-status-label sb-bg-success sb-shape-circle ml-auto"
              *ngIf="question.status === 'Live'"></span>
            <span class="sb-status-label sb-bg-error sb-shape-circle ml-auto"
              *ngIf="question.status === 'Reject'"></span>
          </div>
        </div>
      </div>
      <div class="" style="position:relative;width:100%;min-height:25vh;margin-top: 30%;" *ngIf="showDelete">
        <div class="sb-loader" style="position: absolute;
        left: 0px;
        right: 0px;
        width: 40px;
        margin: 0 auto;
        height: 40px;"></div>
        <div style="color: black;font-size: 1em;margin-left: 25%;margin-top: 50%">Refreshing question list</div>
    </div>
      <div class="d-flex flex-ai-center" *ngIf="role.currentRole === 'PUBLISHER'">
        <div class="sb-checkbox sb-checkbox-primary">
          <input type="checkbox" [(ngModel)]="selectedAll" appTelemetryInteract [telemetryInteractEdata]="{id:'select_all_questions',type:'click',pageid:'questionlist'}"
          (change)="selectAll();">
          <label for="check1">Select All</label>
        </div>
        <button class="sb-btn sb-btn-primary sb-btn-normal ml-auto"
        appTelemetryInteract [telemetryInteractEdata]="{id:'publich_questions',type:'click',pageid:'questionlist'}"
        (click)="publishQuestions()">Publish Questions</button>
      </div>

    </div>
  </div>

  <div class="nine wide column bg-white p-0">
    <div *ngIf="!questionList.length && questionMetaData?.mode !== 'create' && role.currentRole === 'CONTRIBUTOR'"
      class="ui segment">No Question - Click
      Create</div>
    <div *ngIf="!questionList.length && role.currentRole === 'REVIEWER'" class="ui segment">No Questions for Review
    </div>
    <div *ngIf="(questionList.length || questionMetaData?.mode === 'create')&& refresh && !showLoader">
      <div *ngIf="selectedAttributes.questionType === 'mcq'">
        <app-mcq-creation [selectedAttributes]="selectedAttributes" [questionMetaData]="questionMetaData" [role]="role"
          (questionStatus)="questionStatusHandler($event)"></app-mcq-creation>
      </div>
      <div *ngIf="selectedAttributes.questionType !== 'mcq'" class="ui segment">
        <app-question-creation [selectedAttributes]="selectedAttributes" [questionMetaData]="questionMetaData"
          [role]="role" (questionStatus)="questionStatusHandler($event)" (discard)="discardEvent($event)" >
        </app-question-creation>
      </div>
    </div>
    <app-loader *ngIf='showLoader'></app-loader>
  </div>
</div>