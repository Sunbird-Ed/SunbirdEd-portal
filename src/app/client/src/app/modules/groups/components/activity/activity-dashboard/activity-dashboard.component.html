<app-back-button></app-back-button>
<div class="ui container py-16" *ngIf="showLoader">
  <app-loader [data]='loaderMessage'></app-loader>
</div>
<div *ngIf="!showLoader" [appTelemetryImpression]="telemetryImpression">
  <div class="content-header">
    <div class="ui container py-16">
      <div class="content-header__content">
        <div class="d-flex flex-basis-1 mr-32 min-w-0">
          <div class="content-header__img mr-8">
            <img [src]="activity?.appIcon || './assets/images/book.png'" alt="" /></div>
          <div class="d-flex flex-dc">
            <div class="content-header__title font-weight-bold ellipsis text-left">{{activity?.name | uppercase}}</div>
            <div class="d-flex flex-ai-center content-header__info mt-4">
              <span>{{activity?.subject?.join(', ')}}</span>
              <span class="dot-divider" *ngIf="activity?.subject?.length"></span>
              <span>{{enrolmentCount}}/{{membersCount}}&nbsp;{{resourceService?.frmelmnts?.lbl?.started}}</span>
            </div>
          </div>
        </div>
        <div class="d-flex flex-ai-end flex-w-wrap content-header__buttons hide">
          <button class="sb-btn sb-btn-outline-secondary sb-btn-normal mr-8"></button>
          <div class="kabab-menu"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="ui container mt-24">
    <div class="status-container sb-bg-color-white flex-dc d-flex p-8 py-16 br-4" style="width:40%;">
      <div class="mr-8 mb-8 fxsmall text-right">{{ resourceService?.frmelmnts?.lbl?.LastUpdated }}: {{memberListUpdatedOn | date:'MMM d, y, h:mm a'}}</div>

      <div class="px-8">
        <div class="sb-search-box no-btn mb-16">
          <div class="input-div relative">
            <i class="search icon" aria-hidden="true"></i>
            <input class="sb-search-input" type="text" #searchInputBox (input)="search(searchInputBox.value)"
              [placeholder]="resourceService?.frmelmnts?.lbl?.searchForGroupMember" />
          </div>
          <button class="sb-btn sb-btn-normal" type="button">{{ resourceService?.frmelmnts?.lbl?.search }}</button>
        </div>
      </div>
      <div class="d-flex flex-dc">
        <div *ngFor="let member of memberListToShow" class="relative">
          <sb-member-card [title]="member?.title" [identifier]="member?.identifier" [config]="memberCardConfig"
            [progressDisplay]="member?.progress" [indexOfMember]="member?.indexOfMember" [initial]="member?.initial">
          </sb-member-card>
        </div>
      </div>


      <div class="member-no-result p-24" *ngIf="showSearchResults && !memberListToShow?.length" >
        <div class="d-flex flex-dc flex-jc-center flex-ai-center text-center">
          <img width="197" src="./assets/images/add-member.png" alt="">
          <div class="mt-16 no-result-text">
            {{ resourceService?.frmelmnts?.lbl?.NoSerchGroupMemberResults }}
          </div>
          <div class="my-8 no-result-desc hide">
            <div>{{ resourceService?.frmelmnts?.lbl?.checkYourSpelling }}</div>
            <div>{{ resourceService?.frmelmnts?.lbl?.similarButDiffName }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>