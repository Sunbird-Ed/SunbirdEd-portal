<div class="courseStructureHeader mt-8">
  <div class="ui active inverted dimmer" *ngIf="showCopyLoader">
    <div class="ui text centered inline loader mt-40">{{resourceService.frmelmnts.lbl.copycontent}}</div>
  </div>
  <div class="ui container">
    <div class="ui padded grid">
      <div class="row">
        <div class="twelve wide column px-0">
          <div class="d-flex flex-jc-space-between flex-ai-end flex-w-wrap">
            <div class="sb-pageSection">
              <div class="sb-pageSection-header sb-pageSection-header-compact">
                <h1 class="sb-pageSection-title">{{courseHierarchy.name}}</h1>
              </div>
              <div class="sb-pageSection-content d-flex flex-ai-center flex-w-wrap">
                <sui-rating 
                  *ngIf="courseStatus !== 'Unlisted'"
                  class="ui star rating mr-16" 
                  [isReadonly]="true" 
                  [ngModel]="courseHierarchy.me_averageRating || 0" [maximum]="5"
                ></sui-rating>
                <a (click)="onShareLink();sharelinkModal=true;" class="sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn mr-16">
                  <i class="blue share alternate icon"></i>
                  {{resourceService?.frmelmnts?.lbl?.share}}
                </a>
                <span 
                  *ngIf="permissionService.permissionAvailable && courseStatus !== 'Unlisted'" 
                  appPermission appTelemetryInteract 
                  [telemetryInteractObject]="courseInteractObject" 
                  [telemetryInteractEdata]="{id:'copyContent' , type: 'click' , pageid:'course-consumption'}" 
                  [permission]="['CONTENT_CREATOR', 'CONTENT_REVIEWER']" 
                  (click)="copyContent(courseHierarchy)" 
                  class="d-inline-block"
                  title="{{resourceService?.frmelmnts?.lbl?.copy}}">
                  <a class="sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn">
                    <i class="blue clone outline icon"></i>
                    {{resourceService?.frmelmnts?.lbl?.copy}}
                  </a>
                </span>
                <h6 class="ui small negative message" *ngIf="courseHierarchy.status === 'Flagged'">{{resourceService?.messages?.imsg?.m0001}}</h6>
              </div>
            </div>
            <div class="ml-auto text-right mt-8">
              <button 
                appTelemetryInteract [telemetryInteractObject]="courseInteractObject" [telemetryInteractEdata]="{id:'viewCourseDashboard' , type: 'click' , pageid:'course-consumption'}" 
                class="sb-btn sb-btn-secondary sb-btn-normal" (click)="showDashboard()"
                *ngIf="permissionService.permissionAvailable && !enrolledCourse" appPermission [permission]="dashboardPermission">
                  {{resourceService?.frmelmnts?.btn?.viewCourseStatsDashboard}}
              </button>
              <!-- <button class="sb-btn sb-btn-normal sb-btn-tertiary">
                  Close Course Dashboard
              </button> -->
              <div *ngIf="enrolledCourse">
                <p class="mb-8">
                  {{resourceService?.messages?.stmsg?.m0108}} {{ progress }}%
                </p>
                <button appTelemetryInteract [telemetryInteractEdata]="resumeIntractEdata" [telemetryInteractObject]="courseInteractObject"
                  class="sb-btn sb-btn-primary sb-btn-normal" [disabled]="showResumeCourse"
                  (click)="resumeCourse(true)">
                  {{resourceService?.frmelmnts?.btn?.resumecourse}}
                  <i class="caret right icon"></i>
                </button>
              </div>
            </div>
            <!-- course ended Error message starts -->
            <!-- <h6 class="ui small negative message mt-0 mb-15 ml-15" *ngIf="courseEndedErrorMessage">{{resourceService?.messages?.imsg?.m0043}}</h6> -->
            <!-- course ended Error message ends -->
          </div>
          <div class="ui divider" *ngIf="!enrolledCourse"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="enrolledCourse">
  <div class="ui container">
    <div class="ui stackable padded grid" *ngIf="getBatchStatus() && batchEndDate">
      <div class="twelve wide column p-0 py-16">
        <div class="ui info message compact">
          <div class="header">
            {{resourceService?.frmelmnts?.lbl?.expiredBatchWarning | interpolate:'{EndDate}':batchEndDate}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="twelve wide column p-0 py-16">
    <sui-progress class="ui tiny progress blue status" [ngClass]="{'expired':getBatchStatus()}" [value]="progress" [maximum]="100"></sui-progress>
  </div>
</div>
<app-share-link [shareLink]="shareLink" [telemetryShareData]="telemetryShareData" *ngIf="sharelinkModal" (close)="sharelinkModal = false">
</app-share-link>
<!-- 
<div class="sb-table-responsive-div">

  <div class="sb-course-progress-status d-flex flex-w-wrap px-16 py-8 flex-ai-center">
    <span class="sb-course-progress-name mr-16">Start Date: 12/06/19</span>
    <span class="sb-course-progress-name mr-16">End Date: 12/06/19</span>
    <span class="sb-course-progress-name mr-16">Participants: 89</span>
    <span class="sb-course-progress-name mr-16">Completed: 20</span>
    <span class="sb-course-progress-name mr-16">Certificate Issued: 20</span>
  </div>
  <div class="sb-table-container">
    <div class="sb-table-search-header">
      <div class="sb-search-box small no-btn">
        <div class="input-div relative">
          <i class="search icon"></i>
          <input class="sb-search-input" type="text" placeholder="Search..." />
          <i class="close icon"></i>
          <div class="sb-loader"></div>
        </div>
        <button class="sb-btn sb-btn-normal">Search</button>
      </div>
      <button class="sb-btn sb-btn-xs sb-btn-link sb-btn-link-primary sb-left-icon-btn ml-auto mr-8"><i class="download icon"></i>Score Card</button>
      <button class="sb-btn sb-btn-xs sb-btn-link sb-btn-link-primary sb-left-icon-btn"><i class="download icon"></i>Progress Report</button>
    </div>
    <table class="sb-table sb-table-striped sb-table-sortable sb-table-fixed">
      <thead class="sb-table-header sb-table-thead-gray">
        <tr>
          <th class="sb-sort-icon">External ID</th>
          <th class="sb-sort-icon">User Name</th>
          <th class="sb-sort-icon">Organisation Name</th>
          <th class="sb-sort-icon">Enrolled On</th>
          <th class="sb-sort-icon">Progress</th>
          <th class="sb-sort-icon">Certificate Status</th>
        </tr>
      </thead>
      <tbody class="sb-table-body">
        <tr>
          <td data-label="Name">177402120</td>
          <td data-label="Age">Course User 100</td>
          <td data-label="Age">Sunbird QA Tenant</td>
          <td data-label="Age">30/07/19</td>
          <td data-label="Age">100%</td>
          <td data-label="Job"><span class="sb-label sb-label-table sb-label-success-0">Issued</span></td>
        </tr>
        <tr>
            <td data-label="Name">177402120</td>
            <td data-label="Age">Course User 100</td>
            <td data-label="Age">Sunbird QA Tenant</td>
            <td data-label="Age">30/07/19</td>
            <td data-label="Age">100%</td>
            <td data-label="Job">N/A</td>
        </tr>
        <tr>
            <td data-label="Name">177402120</td>
            <td data-label="Age">Course User 100</td>
            <td data-label="Age">Sunbird QA Tenant</td>
            <td data-label="Age">30/07/19</td>
            <td data-label="Age">100%</td>
            <td data-label="Job"><span class="sb-label sb-label-table sb-label-success-0">Issued</span></td>
        </tr>
        <tr>
            <td data-label="Name">177402120</td>
            <td data-label="Age">Course User 100</td>
            <td data-label="Age">Sunbird QA Tenant</td>
            <td data-label="Age">30/07/19</td>
            <td data-label="Age">100%</td>
            <td data-label="Job">N/A</td>
        </tr>
        <tr>
            <td data-label="Name">177402120</td>
            <td data-label="Age">Course User 100</td>
            <td data-label="Age">Sunbird QA Tenant</td>
            <td data-label="Age">30/07/19</td>
            <td data-label="Age">100%</td>
            <td data-label="Job"><span class="sb-label sb-label-table sb-label-success-0">Issued</span></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

  <div class="sb-pagination-container flex-jc-flex-end">
      <div class="sb-pagination">
      <a class="sb-item">First</a>
      <a class="sb-item">Previous</a>
      <a class="sb-item sb-item-active">1</a>
      <a class="sb-item">...</a>
      <a class="sb-item">10</a>
      <a class="sb-item">11</a>
      <a class="sb-item">12</a>
      <a class="sb-item">Next</a>
      <a class="sb-item">Last</a>
      </div>
  </div> -->