<div class="d-flex flex-jc-flex-end">
  <button class="sb-btn sb-btn-normal sb-btn-primary" (click)="addInstances()">
    {{ resourceService.frmelmnts.btn.add | translate }}
    {{ question.instanceIdentifier }}
  </button>
</div>

<div class="ui card student-card " *ngFor="let instance of question?.value; let i = index">
  <div class="content">
    <div (click)="viewInstance(i)">
      <span
        [ngClass]="{ _validQuestion: question?.completedInstance?.includes(i) }"
      >
        {{ question?.instanceIdentifier }} {{ i + 1 }}</span
      >
      <!-- <span class="modified" *ngIf="getLastModified(instance)"
      >Last Modified {{ "todo" }}</span
    > -->
      <!-- todo -->
    </div>
    <div>
      <button
        class="sb-btn sb-btn-normal sb-btn-outline-primary"
        type="button"
        (click)="deleteInstanceAlert(i)"
      >
        {{ resourceService.frmelmnts.btn.delete | translate }}
      </button>
    </div>
  </div>

  <sui-modal
    [mustScroll]="true"
    [isClosable]="true"
    [transitionDuration]="0"
    [size]="'normal'"
    class="sb-modal"
    appBodyScroll
    (dismissed)="showBadgeAssingModel = false"
    *ngIf="showBadgeAssingModel"
    #modal
  >
    <!--Header-->
    <div class="sb-modal-header">
      {{ context?.heading }}
    </div>
    <!--/Header-->

    <!--Content-->
    <div class="sb-modal-content">
      <question-generic-inputs
        [questions]="context.questions"
        [questionnaireForm]="matrixForm"
      ></question-generic-inputs>

      <!-- {{ matrixForm.value | json }} -->
    </div>
    <!--/Content-->

    <!--Actions-->
    <div class="sb-modal-actions">
      <button
        class="sb-btn sb-btn-normal sb-btn-primary"
        type="button"
        (click)="matrixSubmit()"
      >
        {{ resourceService?.frmelmnts?.btn?.submit | translate }}
      </button>
      <button
        class="sb-btn sb-btn-normal sb-btn-outline-primary"
        type="button"
        (click)="showBadgeAssingModel = false"
      >
        {{ resourceService.frmelmnts.btn.cancel | translate }}
      </button>
    </div>
    <!--/Actions-->
  </sui-modal>
</div>
