<sui-modal
  [mustScroll]="true" 
  [isClosable]="true"
  [transitionDuration]="0"
  [size]="'normal'"
  class="sb-modal"
  appBodyScroll
  [appTelemetryImpression]="telemetryImpression" 
  (dismissed)="redirect()" 
  #modal>

    <!--Header-->
    <div class="sb-modal-header">
      {{resourceService.frmelmnts?.lbl?.setRole}}
    </div>
    <!--/Header-->

    <!--Content-->
    <div class="sb-modal-content">
        <div appTelemetryInteract [telemetryInteractEdata]="organizationIntractEdata" [telemetryInteractObject]="{id:userId,type:'user',ver:'1.0'}"
            class="ui selection dropdown ml-10" suiDropdown *ngIf="userDetails && userDetails.organisations.length > 0">
            <i class="dropdown icon"></i>
            <div>{{selectedOrgName || userDetails.organisations[0].orgName || selectedOrgId}}</div>
            <div class="menu" suiDropdownMenu [menuAutoSelectFirst]="true">
                <div class="item" [ngClass]="{'active': selectedOrgId === org.organisationId }" *ngFor="let org of userDetails.organisations"
                    (click)="selectedOrgName = org.orgName; selectedOrgUserRoles=org.roles; selectedOrgId=org.organisationId">{{org.orgName || org.organisationId}}</div>
            </div>
        </div>
        <div class="ui form mt-40" *ngIf="selectedOrgUserRoles">
            <ul class="selectOrgRoles">
                <li class="orgRolesListView" *ngFor="let role of allRoles">
                    <div class="ui checkbox">
                        <input appTelemetryInteract [telemetryInteractEdata]="roleIntractEdata" [telemetryInteractObject]="{id:userId,type:'user',ver:'1.0'}"
                            type="checkbox" value='{{role.role}}' (click)="editRoles(role.role, selectedOrgUserRoles, $event)"
                            [checked]="selectedOrgUserRoles.includes(role.role)">
                        <label>{{role.roleName || role.role}}</label>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!--/Content-->

    <!--Actions-->
    <div class="sb-modal-actions">
      <button 
        appTelemetryInteract 
        [telemetryInteractEdata]="updateIntractEdata" 
        [telemetryInteractObject]="{id:userId,type:'user',ver:'1.0'}"
        [disabled]="!selectedOrgUserRoles" 
        class="sb-btn sb-btn-normal sb-btn-primary" 
        type="submit" 
        (click)="updateRoles(selectedOrgUserRoles); modal.deny();"
      >
        {{resourceService.frmelmnts?.btn?.update}}
      </button>
    </div>
    <!--/Actions-->

</sui-modal>