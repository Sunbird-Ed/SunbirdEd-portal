<app-modal-wrapper
  [config]="{disableClose: (tncUrl && !reportViewerTncVersion) ? false : true, size: 'large', panelClass: ['overflow-visible', 'material-modal']}"
  (dismiss)="(tncUrl && !reportViewerTncVersion) ? onClose() : ''">
  <ng-template sbModalContent let-data>
    <div class="sb-mat__modal sb-mat__modal--large sb-modal-termscondition">

      <!--Header-->
      <div mat-dialog-title class="mb-0" role="heading" aria-level="1">
        <div class="title">
          {{resourceService?.frmelmnts?.lbl?.termsAndCond}}&lrm;
        </div>
        <button aria-label="close dialog" mat-dialog-close class="close-btn"
          *ngIf="(tncUrl && !reportViewerTncVersion) ? true : false">
        </button>
      </div>
      <!--/Header-->

      <!--Content-->
      <div class="sb-mat__modal__content">
        <div class="d-flex flex-jc-center mb-10 terms-modal-logo">
          <img class="image centered" alt={{tenantName}} height="45" src="{{logo}}">
        </div>
        <div class="fs-1 font-weight-bold d-flex flex-jc-center mb-16">
          {{resourceService?.frmelmnts?.lbl?.termsAndCond}}&lrm;</div>
        <app-loader *ngIf="showLoader" [data]='loaderMessage'></app-loader>
        <form class="ui form d-flex flex-jc-center terms-and-cond-form">
          <iframe id="serviceFrameSend" [src]="tncLatestVersionUrl"
            title="{{resourceService?.frmelmnts?.lbl?.termsAndCondAgree}}"
            attr.aria-label="{{resourceService?.frmelmnts?.lbl?.termsAndCondAgree}}" width="100%" height="200px"
            class="toc-page" frameborder="0" (load)="showLoader = false"></iframe>
        </form>
        <label *ngIf="!tncUrl || showAcceptTnc" class="d-flex flex-jc-center flex-ai-center mt-16 mb-0">
          <input type="checkbox" role="checkbox" [(ngModel)]="tncChecked" value="true" tabindex="0"
            (click)="onClickCheckbox(tncChecked)" class="mr-10 cursor-pointer"><span>
            {{resourceService?.frmelmnts?.lbl?.termsAndCondAgree}}</span>
        </label>
      </div>

      <!--/Content-->

      <!--Actions-->
      <div class="sb-mat__modal__actions">
        <button class="sb-btn sb-btn-normal sb-btn-primary" [ngClass]="tncChecked ? '' : 'sb-btn-disabled'"
          [disabled]="!disableContinueBtn" (click)="onSubmitTnc(data?.id)" tabindex="0"
          *ngIf="!tncUrl || showAcceptTnc">
          {{resourceService?.frmelmnts?.lbl?.continue}}
        </button>
      </div>
      <!--/Actions-->

    </div>
  </ng-template>
</app-modal-wrapper>
