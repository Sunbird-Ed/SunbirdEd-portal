<div class="ui container mt-24" [appTelemetryImpression]="telemetryImpression" id="content-player">
  <div class="ui stackable grid" *ngIf="showPlayer && contentData && !loadLandscapePlayer ">

      <div class="twelve wide column" *ngIf="(popupControlService.checkPopupStatus | async) else loading">

        <!--Content Title-->
        <div class="sb-pageSection">
          <div class="sb-pageSection-header">

            <!--Title-->
            <h1 class="sb-pageSection-title m-0 mr-8" *ngIf="contentData.name">
              {{contentData.name}}
            </h1>
            <!--/Title-->
            <!-- Print Button for printable contents-->
            <span class="d-inline-block" *ngIf="contentData.itemSetPreviewUrl">
              <a appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractEdata]= "printPdfInteractEdata" class="cursor-pointer btn-bg p-8 d-flex font-weight-bold" (click)="printPdf(contentData.itemSetPreviewUrl)">
                  <img src="assets/images/print.svg" width="16" /> <span>&nbsp;&nbsp;{{resourceService.frmelmnts.btn.print}}</span>
              </a>
            </span>
            <!-- /Print Button for printable contents-->
            <div class="ml-auto d-flex flex-ai-center">
              <div *ngIf="isOffline" class="mr-16">
                  <app-content-download [contentData]="contentData"></app-content-download>
            </div>
              <!--Close Button-->
              <!-- <button appTelemetryInteract [telemetryInteractCdata]="telemetryCdata"
                [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractEdata]="closePlayerInteractEdata"
                (click)="close()" class="sb-btn sb-btn-normal sb-btn-error">
                {{resourceService.frmelmnts.btn.close}}
                <i class="ui remove icon"></i>
              </button> -->
                <!--/Close Button-->
            </div>
          </div>
        </div>
        <!--/Content Title-->

        <!--Badges-->
        <app-content-badge [data]="badgeData" *ngIf="showPlayer" ></app-content-badge>
        <!--/Badges-->

        <!--Warning message for external content-->
        <div class="ui warning message" *ngIf="showExtContentMsg">
          {{resourceService.messages.imsg.m0036}}
        </div>
        <!--/Warning message for external content-->

        <!--Player-->
        <div data-ratio="16:9" class="player-thumbnail" appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractEdata]="loadPlayerInteractEdata"
        [ngStyle]="{'background': 'url(' + overlayImagePath + ') center/cover no-repeat '}" *ngIf="playerThumbnail" id="contentPlayer" (click)="enablePlayer(false)">
        <img class="play-icon" src="assets/images/play_circle.svg">
      </div>
      <div id="playerFullscreen" *ngIf="!playerThumbnail" > 
          <img appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractEdata]="closeButtonInteractEdata" *ngIf="showCloseButton" (click)="closeFullscreen()" class="close-button" src="assets/images/close-Black.svg" alt="">
          <app-player (showRatingEvent)="showRatingModal()" class="content-player" [playerOption]="playerOption"  [playerConfig]="playerConfig"></app-player>
      </div>
      <!-- / Player-->

        <!--Meta Data of content-->
        <div class="ui stackable grid">
            <div class="eight wide column">
                <app-content-player-metadata [contentData]="contentData"></app-content-player-metadata>
            </div>
            <div class="four wide column">
            </div>
        </div>
        <!--/Meta Data of content-->
        
      </div>
      <ng-template #loading>
        <app-loader></app-loader>
      </ng-template>
  </div>

  <div class="ui stackable grid" *ngIf="loadLandscapePlayer">
    <div class="twelve wide column" >
        <div *ngIf="(popupControlService.checkPopupStatus | async) else loading">
            <div class="player-fullscreen" id="playerFullscreen"> 
              <img appTelemetryInteract [telemetryInteractObject]="telemetryInteractObject" [telemetryInteractEdata]="closeButtonInteractEdata" *ngIf="showCloseButton" (click)="closeFullscreen()" class="close-button" src="assets//images/close-Black.svg" alt="">
              <app-player (showRatingEvent)="showRatingModal()" class="content-player content-player-landscape" [playerOption]="playerOption"  [playerConfig]="playerConfig"></app-player>
            </div>
            <ng-template #loading>
              <app-loader></app-loader>
            </ng-template>
        </div>
    </div>
  </div> 
</div>

<sui-modal 
  [isClosable]="true" 
  [transitionDuration]="0" 
  [size]="'small'" 
  class="sb-modal sb-error"
  appBodyScroll 
  (dismissed)="close()" 
  #modal 
  *ngIf="showError">

  <!--Header-->
  <div class="sb-modal-header">
    {{errorMessage}}
  </div>
  <!--/Header-->
  
  <!--Content-->
  <div class="sb-modal-content">
    <p>{{errorMessage}}</p>
  </div>
  <!--/Content-->

  <!--Actions-->
  <div class="sb-modal-actions">
    <button class="sb-btn sb-btn-normal sb-btn-error" (click)="tryAgain()">{{resourceService.frmelmnts.btn.tryagain}}</button>
    <button class="sb-btn sb-btn-normal sb-btn-outline-error" (click)="close()">{{resourceService.frmelmnts.btn.close}}</button>
  </div>
  <!--/Actions-->
</sui-modal>

<app-content-rating #modal *ngIf="contentRatingModal && playerConfig" [contentData]="playerConfig.metadata"></app-content-rating>
