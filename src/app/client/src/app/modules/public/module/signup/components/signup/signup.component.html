<sui-modal [isClosable]="false" class="fullpage" [size]="'fullscreen'" [isClosable]="'false'" #modal
  [mustScroll]="'true'">
  <div class="signup-background">
    <div class="ui raised shadow container segment">
      <div class="d-flex flex-jc-center pt-16 mb-30">
        <img class="image centered" alt={{tenantName}} height="56" src="{{logo}}">
      </div>
      <div class="width-300 mx-auto">
        <div *ngIf="showSignUpForm" [appTelemetryStart]="telemetryStart">
          <!-- <div *ngIf="telemetryImpression" [appTelemetryImpression]="telemetryImpression" class="fs-1 font-weight-bold mb-16 text-center">{{resourceService.frmelmnts.lbl.signUp}}</div> -->
          <div *ngIf="telemetryImpression" [appTelemetryImpression]="telemetryImpression"
            class="sb-account-header-text  text-center">
            {{resourceService.frmelmnts.lbl.registerOn | interpolate:'{instance}': instance}}</div>
          <div class="text-center mt-16 grey-text">
            {{resourceService.frmelmnts.lbl.provideDetails | interpolate:'{instance}': instance}}</div>
          <form class="ui form borderd" [formGroup]="signUpForm" autocomplete="off" id="signUpForm">
            
            <div class="required field mb-16 mt-32">
                <label class="pt-0 mb-8 sb-color-error fxsmall"
                *ngIf="signUpForm.controls.name.touched && signUpForm.controls['name'].errors && signUpForm.controls['name'].errors.required">{{resourceService.frmelmnts.lbl.fnameLname}}</label>
              <label class="pt-0 mb-8 sb-color-error fxsmall"
                *ngIf="signUpForm.controls.name.touched && signUpForm.controls['name'].errors && signUpForm.controls['name'].errors.pattern">{{resourceService.frmelmnts.lbl.enterValidName}}</label>
              <label class="mb-8 font-weight-bold"
                *ngIf="!(signUpForm.controls.name.touched && signUpForm.controls['name'].errors)">{{resourceService.frmelmnts.lbl.fullName}}</label>
              <input
                [ngClass]="{'orange-border': signUpForm.controls.name.touched && signUpForm.controls['name'].errors}"
                formControlName="name"  class="sb-form-control" type="text" name="name"
                placeholder="{{resourceService.frmelmnts.lbl.enterfullName}}">
            </div>
            <div class="required field mb-16"><label class="pt-0 font-weight-bold"
                *ngIf="!(signUpForm.controls.phone.touched && signUpForm.controls['phone'].errors) && !(signUpForm.controls.email.touched && signUpForm.controls['email'].errors) && !showUniqueError">{{resourceService.frmelmnts.lbl.phoneOrEmail}}</label>
            </div>
            <label class="pt-0 mb-8 sb-color-error fxsmall"
              *ngIf="signUpForm.controls.phone.touched && signUpForm.controls['phone'].errors">{{resourceService.frmelmnts.lbl.validPhone}}</label>
            <label class="pt-0 mb-8 sb-color-error fxsmall"
              *ngIf="signUpForm.controls.email.touched && signUpForm.controls['email'].errors">{{resourceService.frmelmnts.lbl.validEmail}}</label>
            <label class="pt-0 mb-8 sb-color-error fxsmall"
              *ngIf="showUniqueError && !(signUpForm.controls.phone.touched && signUpForm.controls['phone'].errors) && !(signUpForm.controls.email.touched && signUpForm.controls['email'].errors)">{{showUniqueError}}</label>
            <div class="inline fields mt-10 mb-8" id="Mandatory">
              <div class="field">
                <div class="ui radio checkbox" (click)="showContact='phone'">
                  <input type="radio" class="sb-form-control" checked="checked" value="phone" formControlName="contactType" role="phone"
                    id="phoneNumber" aria-labelledby="Mandatory">
                  <label for="phoneNumber" class="pl-20 ">{{resourceService.frmelmnts.lbl.phoneNumber}}</label>
                </div>
              </div>
              <div class="field">
                <div class="ui radio checkbox" (click)="showContact='email'">
                  <input type="radio" formControlName="contactType" value="email" role="email" id="email"
                    aria-labelledby="Mandatory">
                  <label for="email" class="pl-20">{{resourceService.frmelmnts.lbl.email}}</label>
                </div>
              </div>
            </div>
            <div class="field" *ngIf="showContact === 'email'">
              <input type="email" class="sb-form-control"
                [ngClass]="{'orange-border': signUpForm.controls.email.touched && signUpForm.controls['email'].errors}"
                formControlName="email" name="email" placeholder="{{resourceService.frmelmnts.lbl.email}}">
            </div>
            <div class="field" *ngIf="showContact === 'phone'">
              <div class="ui left icon input">
                <input class="sb-form-control"
                  [ngClass]="{'orange-border': signUpForm.controls.phone.touched && signUpForm.controls['phone'].errors}"
                  formControlName="phone" type="number" name="phone"
                  placeholder="{{resourceService.frmelmnts.lbl.tenDigitPhone}}">
                <i class=" icon">+91-</i>
              </div>
            </div>
            <label class="pt-0 mb-8 sb-color-error fxsmall"
              *ngIf="signUpForm.controls.password.touched && signUpForm.controls['password'].errors">{{resourceService.frmelmnts.lbl.validPassword}}</label>
            <div class="required field mb-16">
              <label class="mb-8 font-weight-bold"
                *ngIf="!(signUpForm.controls.password.touched && signUpForm.controls['password'].errors)">{{resourceService.frmelmnts.lbl.password}}</label>
              <div class="ui icon input">
                <input class="sb-form-control"
                  [ngClass]="{'orange-border': signUpForm.controls.password.touched && signUpForm.controls['password'].errors}"
                  [type]="showPassword ? 'text' : 'password'" formControlName="password" name="password"
                  placeholder="{{resourceService.frmelmnts.lbl.EnterPassword}}">
                <i class="icon large sb-icon-preview link opacity-1" (click)="displayPassword()"></i>
              </div>
            </div>
            <label class="pt-0 mb-8 sb-color-error fxsmall"
              *ngIf="signUpForm.controls.confirmPassword.touched && signUpForm.controls['confirmPassword'].errors">{{resourceService.frmelmnts.lbl.errorConfirmPassword}}</label>
            <div class="required field mb-16">
              <label class="mb-8 font-weight-bold"
                *ngIf="!(signUpForm.controls.confirmPassword.touched && signUpForm.controls['confirmPassword'].errors)">{{resourceService.frmelmnts.lbl.confirmPassword}}</label>
              <input class="sb-form-control "
                [ngClass]="{'orange-border': signUpForm.controls.confirmPassword.touched && signUpForm.controls['confirmPassword'].errors}"
                formControlName="confirmPassword" type="password" name="confirmPassword"
                placeholder="{{resourceService.frmelmnts.lbl.reEnterPassword}}">
            </div>
            <div class="sb-requirement-field mb-8 font-weight-bold">
                {{resourceService.frmelmnts.lbl.fieldsmarked}}<span class="sb-error">*</span>{{resourceService.frmelmnts.lbl.mandatory  }}
            </div>
            <!-- Google invisible recaptcha -->
            <re-captcha #captchaRef="reCaptcha" (resolved)="resolved($event)" siteKey="{{googleCaptchaSiteKey}}"
              size="invisible"></re-captcha>
          </form>

          <button appTelemetryInteract [telemetryInteractEdata]="submitInteractEdata"
            [telemetryInteractCdata]="telemetryCdata"
            [ngClass]="{'sb-btn-gray disabled':disableSubmitBtn, 'sb-btn-primary':!disableSubmitBtn}" class="width-300 mt-10 sb-btn sb-btn-normal button"
            tabindex="0" (click)="captchaRef.execute();">{{resourceService.frmelmnts.lbl.register}}</button>
          <a (click)="captchaRef.reset()" id="resetGoogleCaptcha"></a>
        </div>
        <div class="mt-32" *ngIf="!showSignUpForm">
          <div class="sb-account-header-text  text-center">
            {{resourceService.frmelmnts.lbl.loginto | interpolate:'{instance}': instance}}</div>
          <app-otp [signUpdata]="signUpForm" (redirectToParent)="showParentForm($event)"></app-otp>
        </div>
      </div>
    </div>
  </div>
</sui-modal>
