<!-- Admin role page -->
<div class="relative9 sbt-inside-page-container">
    <div class="sbt-header-menu-bar">
      <div class="ui container d-flex flex-ai-center">
        <button class="sb-btn sb-btn-normal sb-btn-link sb-btn-link-primary sb-left-icon-btn sb-btn-round" *ngIf="showingResults" type="button" (click)="goBack()">
          <i class="icon-svg icon-svg--xxs icon-back mr-4">
            <svg class="icon icon-svg--primary">
              <use xlink:href="assets/images/sprite.svg#arrow-long-left"></use>
            </svg></i>
        </button>
        <h4 class="text-capitalize" *ngIf="!showingResults">Add user roles</h4>
        <div class="add-adminrole__header my-16 ml-16 d-flex" *ngIf="showingResults">Showing results for <b>"{{userObj.userName}}"</b></div>
      </div>
    </div>
  
    <div class="ui container">
        <div *ngIf="!showingResults">
            <div class="ui stackable grid sb-admin-search-container">
                <div class="six wide column">
                <div class="sb-search-box no-btn mb-16">
                    <div class="input-div relative">
                    <input class="sb-search-input" id="search-within-group" type="text" placeholder="Search user by DIKSHA ID" 
                    (keyup.enter)="onEnter(key)" [(ngModel)]="key">
                    <i aria-hidden="true" class="search icon" (click)="onEnter(key)"></i>
                    </div>
                </div>
                </div>
            </div>
        
            <div class="no-result-container d-flex flex-dc flex-jc-center p-24 sb-bg-color-white">
                <div class="d-flex flex-dc flex-jc-center flex-ai-center" *ngIf="showNoResult">
                <div>
                    <img height="125px" width="150px" src="./assets/images/erroricon.png">
                </div>
                <div class="my-8 text-center no-result-text">No User found</div>
                </div>
            </div>
        </div>
  
    <div class="add-adminrole" *ngIf="showingResults">
        <div class="add-adminrole__content">
          <div class="user-details mb-16">
            <div class="user-img ml-16">
                <ngx-avatar class="my-avatar" [style]="customStyle" [size]="80" initialsSize="1" [textSizeRatio]="2" name="{{userObj.firstName}} ">
                </ngx-avatar>
            </div>
            <div class="user-metadata ml-32">
              <div class="user-name text-left">{{userObj.firstName}} {{userObj.lastName}}</div>
              <div class="user-info">
                <div class="user-id">Diksha ID: {{userObj.userName}}</div>
                <!-- <div class="dot-separator"></div>
                <div class="user-state">Telengana</div>
                <div class="dot-separator"></div>
                <div class="user-state">Hyderabad</div> -->
              </div>
            </div>
          </div>
          <div class="btn-container ml-24 d-flex">
            <button class="sb-btn sb-btn-primary sb-btn-normal sb-left-icon-btn" (click)="enableAssignRole()">+ ADD NEW ROLE</button>
          </div>
          <div class="user-workexp-container" *ngIf="!showCards"></div>
          <div class="user-workexp-container" *ngIf="showCards">
              <div class="user-workexp-card" *ngFor="let item of userRole">
                <div class="user-workexp">
                  <div class="user-workexp__header">
                    <div class="user-workexp__name mr-auto">{{item.roleName}}</div>
                    <div class="user-workexp__btn"><button
                        class="sb-btn sb-btn-xs sb-btn-link-primary sb-left-icon-btn cursor-pointer" (click)="enableAssignRole()"><i
                          class="icon-svg icon-svg--xxs icon-back mr-4"><svg class="icon icon-svg--primary">
                            <use xlink:href="assets/images/sprite.svg#edit"></use>
                          </svg></i><span>Edit</span> </button></div>
                  </div>
                  <div class="user-workexp__metadata">
                    <div class="worked-from">{{item.orgName}}</div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div> 
    </div>
</div>
  <!-- Admin role page end -->

  <sui-modal
  [mustScroll]="true" 
  [isClosable]="true"
  [transitionDuration]="0"
  [size]="'normal'"
  class="sb-modal"
  appBodyScroll
  (dismissed)="dismissRoleAssign()" 
  #modal
  *ngIf="showAssignRole"
>
  <!--Header-->
  <div class="sb-modal-header" *ngIf="userDetails">
    
  </div>
  <!--/Header-->

   <!--Content-->
  <div class="sb-modal-content" *ngIf="showMainLoader">
    <div class="ui grid">
      <div class="twelve wide column">
        <app-loader></app-loader>
      </div>
    </div>
  </div>
  <div class="sb-modal-content o-y-visible" *ngIf="!showMainLoader">
    <div class="ui grid">
      <div class="ten wide column mb-30">
        <span class="ui header">Add new role</span>
      </div>
    </div>
    <form class="ui form" [formGroup]="userDetailsForm">
      <div class="field">
        <label>{{resourceService.frmelmnts?.lbl?.role | translate}}</label>
      </div>
      <div class="field">
        <sui-multi-select [isSearchable]="false" class="selection" [(ngModel)]="role" (selectedOptionsChange)="enableSubmitBtn = true;" formControlName="role" [options]="allRoles" labelField="roleName"
          valueField="role" name="role" placeholder="{{resourceService?.frmelmnts?.btn?.selrole | translate}}" #allroles>
          <sui-select-option *ngFor="let role of allroles.filteredOptions" [value]="role"></sui-select-option>
        </sui-multi-select>
        </div>
        <div class="field">
          <label>{{resourceService.frmelmnts?.lbl?.orgname | translate}}</label>
        </div>
        <div class="field">
        <sui-multi-select [isSearchable]="false" class="selection" [(ngModel)]="orgName" (selectedOptionsChange)="enableSubmitBtn = true;" formControlName="orgName" [options]="orgList" labelField="orgName"
          valueField="orgId" name="orgName" placeholder="{{resourceService?.frmelmnts?.lbl?.dashboardselectorg | translate}}" #allorgName>
          <sui-select-option *ngFor="let org of allorgName.filteredOptions" [value]="org"></sui-select-option>
        </sui-multi-select>
      </div>
    </form>
  </div>
  <!--/Content-->
  
  <!--Actions-->
  <div class="sb-modal-actions">
    <button [disabled]="!enableSubmitBtn"
      appTelemetryInteract 
      [telemetryInteractObject]="telemetryInteractObject" 
      [telemetryInteractEdata]="submitInteractEdata" 
      (click)="onSubmitForm()" tabindex="0"
      class="sb-btn sb-btn-normal"
    >
      {{resourceService.frmelmnts?.btn?.cancel | translate}}
    </button>
    <button [disabled]="!enableSubmitBtn"
      appTelemetryInteract 
      [telemetryInteractObject]="telemetryInteractObject" 
      [telemetryInteractEdata]="submitInteractEdata" 
      (click)="onSubmitForm()" tabindex="0"
      class="sb-btn sb-btn-normal sb-btn-primary"
    >
      {{resourceService.frmelmnts?.btn?.save | translate}}
    </button>
  </div>
  <!--/Actions-->

</sui-modal>
  