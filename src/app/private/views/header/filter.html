<div>
    <div class="ui divider header-search-filters-divider"></div>
    <div class="filtercolumn ui grid">
        <div class="one wide column">
        </div>
        <div class=" ten wide column ">
            <div apply-script class="ui accordion" id='content-search-filter-accordion'>
                <div class="ui twelve column grid">
                    <div class="eleven wide column">
                        <div class="twelve wide column title">
                            <div class="ui grid">
                                <div class="ten wide column">
                                    <i alt="{{$root.frmelmnts.alt.filter}}" class="icon filter"></i> <span class="ShowFilterTitle" >{{$root.frmelmnts.lbl.filters}}</span>
                                    <i id='filterIcon' class="dropdown icon"></i>
                                </div>
                            </div>
                        </div>

                        <div class="twelve wide column content">
                            <div class="twelve wide column content margin-bottom-15">
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedBoard.length > 0'>
                                    {{$root.frmelmnts.prmpt.curriculum}}:
                                    <a class="ui label margin-top--5" ng-repeat="board in $root.search.selectedBoard" ng-init="$last && $root.expandFilters()">
                                        {{board}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedBoard',board)"></i>
                                    </a>
                                </span>
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedContentType.length > 0'>
                                    {{$root.frmelmnts.prmpt.contenttypes}}:
                                    <a class="ui label margin-top--5" ng-repeat="contenttype in $root.search.selectedContentType" ng-init="$last && $root.expandFilters()">
                                        {{$root.search.getSelectedContentTypeValue($root.search.contentTypes, contenttype)}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedContentType',contenttype)"></i>
                                    </a>
                                </span>
                                <!-- grades -->
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedGrades.length > 0'>
                                    {{$root.frmelmnts.prmpt.grades}}:
                                    <a class="ui label margin-top--5" ng-repeat="grade in $root.search.selectedGrades" ng-init="$last && $root.expandFilters()">
                                        {{grade}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedGrades',grade)"></i>
                                    </a>
                                </span>
                                <span class="padded chip" ng-if='$root.search.selectedLanguage.length > 0'>
                                    {{$root.frmelmnts.prmpt.medium}}:
                                    <a class="ui label margin-top--5" ng-repeat="language in $root.search.selectedLanguage" ng-init="$last && $root.expandFilters()">
                                        {{language}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedLanguage',language)"></i>
                                    </a>
                                </span>
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedSubject.length > 0'>
                                    {{$root.frmelmnts.prmpt.subject}}:
                                    <a class="ui label margin-top--5" ng-repeat="subject in $root.search.selectedSubject" ng-init="$last && $root.expandFilters()">
                                        {{subject}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedSubject',subject)"></i>
                                    </a>
                                </span>
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedConcepts.length > 0'>
                                    {{$root.frmelmnts.prmpt.concepts}}:
                                    <a class="ui label margin-top--5" ng-repeat="concept in $root.search.selectedConcepts" ng-init="$last && $root.expandFilters()">
                                        {{concept.name}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedConcepts',concept.identifier)"></i>
                                    </a>
                                </span>
                                <span class="padded chip margin-top--5" ng-if='$root.search.selectedOrgType.length > 0'>
                                    {{$root.frmelmnts.prmpt.orgtype}}:
                                    <a class="ui label margin-top--5" ng-repeat="orgType in $root.search.selectedOrgType" ng-init="$last && $root.expandFilters()">
                                        {{getOrgName(orgType)}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedOrgType',orgType)"></i>
                                    </a>
                                </span>
                                <span class="padded chip margin-top--5" ng-if='$root.search.userRoles && $root.search.selectedRoles.length > 0'>
                                    {{$root.frmelmnts.prmpt.roles}}:
                                    <a class="ui label margin-top--5" ng-repeat="role in $root.search.selectedRoles" ng-init="$last && $root.expandFilters()">
                                        {{getRoleName(role)}}
                                        <i class="delete icon" ng-click="$root.search.removeFilterSelection('selectedRoles',role)"></i>
                                    </a>
                                </span>


                            </div>
                            <div class="filtercolmntext ui grid">
                                <div class="one wide column filter-text">
                                    <span class="ShowFilterSubTitle">{{$root.frmelmnts.lbl.filterby}}</span>
                                </div>
                                <!-- grades for user search -->
                                <div class="two wide column" ng-show="$root.search.selectedSearchKey === 'Users'">
                                    <div id="" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedGrades.length > 0 ">{{$root.search.selectedGrades.length+' '+$root.frmelmnts.prmpt.grades}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedGrades.length === 0 ">{{$root.frmelmnts.prmpt.grades}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedGrades',grade,$event)" ng-repeat="grade in $root.search.grades " class="item dropdown-item"
                                                 ng-class="{'active':($root.search.selectedGrades.indexOf(grade)>=0)}" data-value="{{grade}}">{{grade}}</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- boards -->
                                <div class="two wide column"ng-if="$root.search.selectedSearchKey !== 'Users' && $root.search.selectedSearchKey !== 'Organisations'">
                                    <div id="filterBoard" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedBoard.length > 0 ">{{$root.search.selectedBoard.length+' '+$root.frmelmnts.prmpt.curriculum}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedBoard.length === 0 ">{{$root.frmelmnts.prmpt.curriculum}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedBoard',board,$event)" ng-repeat="board in $root.search.boards | orderBy:'toString()'" class="item dropdown-item" ng-class="{'active':($root.search.selectedBoard.indexOf(board)>=0)}" data-value="{{board}}">{{board}}</div>
                                        </div>
                                    </div>
                                </div>
                                <div class='two wide column' ng-if="$root.search.selectedSearchKey === 'Library'">
                                    <div apply-script id="filterContent" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <input type='hidden' ng-value='{{}}' />
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedContentType.length > 0 ">{{$root.search.selectedContentType.length+' '+$root.frmelmnts.prmpt.contenttypes}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedContentType.length == 0 ">{{$root.frmelmnts.prmpt.contenttypes}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedContentType',contentType.key,$event,'Content Type')" ng-repeat="contentType in $root.search.contentTypes  | orderBy:'toString()'" class="item dropdown-item" ng-class="{'active':($root.search.selectedContentType.indexOf(contentType.key)>=0)}" data-value="{{contentType.key}}">{{contentType.value}}</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- language -->
                                <div class="two wide column" ng-if="$root.search.selectedSearchKey !== 'Organisations'">
                                    <div  apply-script  id="filterLang" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <input type='hidden' ng-value='{{}}' />
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedLanguage.length > 0 ">{{$root.search.selectedLanguage.length+' '+$root.frmelmnts.prmpt.medium}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedLanguage.length == 0 ">{{$root.frmelmnts.prmpt.medium}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedLanguage',language,$event)" ng-repeat="language in $root.search.languages  | orderBy:'toString()'" class="item dropdown-item" ng-class="{'active':($root.search.selectedLanguage.indexOf(language)>=0)}" data-value="{{language}}">{{language}}</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- subjects -->
                                <div class="two wide column" ng-if="$root.search.selectedSearchKey !== 'Organisations'">
                                    <div apply-script id="filterSub" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedSubject.length > 0 ">{{$root.search.selectedSubject.length+' '+$root.frmelmnts.prmpt.subject}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedSubject.length == 0 ">{{$root.frmelmnts.prmpt.subject}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedSubject',subject,$event)" ng-repeat="subject in $root.search.subjects  | orderBy:'toString()'" class="item dropdown-item" ng-class="{'active':($root.search.selectedSubject.indexOf(subject)>=0)}" data-value="{{subject}}">{{subject}}</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- roles -->
                                <div class="two wide column" ng-if="$root.search.selectedSearchKey === 'Users'" ng-init="$root.search.getUserRoles()">
                                    <div ng-if="$root.search.userRoles"  apply-script  id="filterLang" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <input type='hidden' ng-value='{{}}' />
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedRoles.length > 0 ">{{$root.search.selectedRoles.length+' '+$root.frmelmnts.prmpt.roles}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedRoles.length == 0 ">{{$root.frmelmnts.prmpt.roles}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedRoles',role.role,$event)" ng-repeat="role in $root.search.userRoles" class="item dropdown-item" ng-class="{'active':($root.search.selectedRoles.indexOf(role.role)>=0)}" data-value="{{role.role}}">{{role.roleName}}</div>
                                        </div>
                                    </div>
                                </div>

                                 <!-- location -->
                                <div class="two wide column" ng-if="$root.search.selectedSearchKey === 'Users'">
                                    <div class="ui input profileLocationFilter">
                                        <input type="text" class="filterLocationInput" placeholder="{{$root.frmelmnts.prmpt.userlocation}}" ng-model="$root.search.selectedLocation" />
                                    </div>
                                </div>


                                <div class="two wide column"  ng-if="$root.search.selectedSearchKey !== 'Users' && $root.concepts && $root.search.selectedSearchKey !== 'Organisations'">
                                    <div class="field">
                                        <form class="conceptSelector ui form ">
                                            <concept-picker  is-search-page="true"  selected-concepts="$root.search.selectedConcepts"></concept-picker>
                                        </form>
                                    </div>
                                </div>
                                <!-- org type -->

                                <div class="two wide column" ng-if="$root.search.selectedSearchKey === 'Organisations'">
                                    <div apply-script id="orgTypeFilter" ng-if=" $root.search.orgTypes" class="ui filtersearch ui multiple selection dropdown-items course-search-filter dropdown">
                                        <input type='hidden' ng-value='{{}}' />
                                        <i class="dropdown icon"></i>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedOrgType.length > 0 ">{{$root.search.selectedOrgType.length+' '+$root.frmelmnts.prmpt.orgtype}}</div>
                                        <div class="filter-sel-text" ng-if="$root.search.selectedOrgType.length == 0 ">{{$root.frmelmnts.prmpt.orgtype}}</div>
                                        <div class="menu">
                                            <div ng-click="$root.search.selectFilter('selectedOrgType',orgType.id,$event)"
                                                 ng-repeat="orgType in $root.search.orgTypes  "
                                                 class="item dropdown-item"
                                                 ng-class="{'active':($root.search.selectedOrgType.indexOf(orgType)>=0)}"
                                                 data-value="{{orgType.id}}">{{orgType.name}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- buttons -->
                                <div class="three wide column filter-button">
                                    <a class="searchfilterbutton ui blue tiny  button" ng-click="$root.search.applyFilter()">{{$root.frmelmnts.btn.apply}}</a>
                                    <a class="searchfilterbutton ui primary tiny basic button" ng-click="$root.search.resetFilter()">{{$root.frmelmnts.btn.reset}}</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="one wide column">
                        <div class="field" ng-if="$root.search.selectedSearchKey !== 'Users'&& $root.search.selectedSearchKey !== 'Organisations'">
                            <div class="content dropdown-content">
                                <span class="ShowFilterSubTitle">{{$root.frmelmnts.lbl.sort}}&nbsp;</span>
                                <div apply-script class="ui inline dropdown search-dropdown" id="multi-select-sort">
                                    <div class="text"></div>
                                    <i  class="dropdown icon"></i>
                                    <select ng-options="sortingOption.field as sortingOption.name for sortingOption in $root.search.sortingOptions" ng-model="$root.search.sortByOption" ng-change="$root.search.applySorting()">
                                        <option value=""></option>
                                    </select>
                                </div>

                                <i alt="{{$root.frmelmnts.alt.sortby}}" class="link" ng-if="!!$root.search.sortByOption && $root.search.sortByOption.length > 0" ng-class="{'sort content ascending icon':($root.search.sortIcon===true),'sort content descending icon':($root.search.sortIcon===false)}" ng-click="$root.search.sortIcon=!$root.search.sortIcon;$root.search.applySorting()"></i>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>
</div>
