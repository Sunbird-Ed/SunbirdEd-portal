  <div class="ui modal large" ng-init="createAnn.initializeModal();" id="createAnnouncementModal">
    <i class="close icon"></i>
      <div class=" ui segment margin-top-10">
        <div class=" margin-bottom-15">
            <div class="ui grid">
                <div class="ten wide column">
                  <span class="ui header">
                    <span class="ui" ng-show="createAnn.showStepOne">
                         <span class="text announcementHeadingSection">Create New Announcement</span><br/>
                        <span class="createAnnHeaderDesc">
                            Fill in all the required fields to create the createAnn.
                        </span>
                    </span>

                    <span class="ui" ng-show="createAnn.showStepTwo">
                         <span class="text announcementHeadingSection"><i class="long arrow left icon"></i>Select Announcement Recipients</span><br/>
                        <span class="createAnnHeaderDesc">
                            Select groups who should receive the announcement
                        </span>
                    </span>
                    <span ng-show="createAnn.showStepThree">
                         <span class="text announcementHeadingSection"><i class="long arrow left icon"></i>Confirm Announcement Recipients</span><br/>
                        <span class="createAnnHeaderDesc">
                            Review and confirm your announcement recipients
                        </span>
                    </span>
                    <span ng-show="createAnn.showStepFour">
                         <span class="text announcementHeadingSection"><i class="long arrow left icon"></i>Preview Announcement</span><br/>
                        <span class="createAnnHeaderDesc">
                            This is how your announcement will look
                        </span>
                    </span>
                  </span>
                </div>
                <div class="two wide column">
                    <div class="createAnnStepsIndicator">
                      <h6 class="createAnnMargin5 createAnnGrayShade">STEP</h6>
                      &nbsp<span id="announcementSteps createAnnMargin4">{{createAnn.stepNumber}}</span><span class="createAnnGrayShade"> / 4</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="content">
          <form class="ui form announcementForm" ng-init="createAnn.data = {}" name="announcementForm" >
            <div class="ui grid" ng-show="createAnn.showStepOne">
              <div class="eight wide column">
                <div class="field createAnnFormScroller">
                  <div class="padding-right-25">
                    <div class="field required">
                      <label>TITLE</label>
                      <div class="field form-group" ng-required="true">
                        <input type="text" name="title" id="announcementTitle"
                          ng-pattern="/^[ A-Za-z0-9_~`!$%*()=?/><.,|@./&+-]*$/"
                          placeholder="Please enter relevant title for this announcement (Max: 100 chars)"
                          ng-model="createAnn.data.title" ng-maxlength="100" ng-change="createAnn.detectChange()">
                          <section ng-if="createAnn.data.title.length" class="float-ContentRight">{{createAnn.data.title.length}} / 100</section>
                          <p ng-show="announcementForm.title.$error.maxlength" class="createAnnErrorMsg">Title is too long</p>
                          <p ng-show="announcementForm.title.$error.pattern" class="createAnnErrorMsg">Title cannot contain the following characters '^#'</p>
                      </div>
                    </div>
                    <div class="field required">
                        <label>FROM</label>
                        <select name="board" class="ui fluid dropdown" id="orgDropdown" ng-options=" board for board in createAnn.org" ng-model="createAnn.data.from" ng-change="createAnn.detectDropdownChange(createAnn.data.from)">
                            <option value="">Select organization/department that has sent the announcement</option>
                        </select>
                    </div>
                    <div class="field required">
                        <label>ANNOUNCEMENT TYPE</label>
                        <select name="medium" class="ui fluid dropdown" id="announcementType" ng-options=" audience for audience in createAnn.announcementType" ng-model="createAnn.data.announcementType" ng-change="createAnn.detectDropdownChange(createAnn.data.announcementType)">
                            <option value="">Announcement type</option>
                        </select>
                    </div>
                    <div class="field">
                        <label>
                            DESCRIPTION (OPTIONAL)
                        </label>
                        <div class="field">
                            <input type="text" name="description" placeholder="Please enter description for this announcement (Max: 1200 chars)" ng-model="createAnn.data.description" ng-maxlength="1200" ng-change="createAnn.detectChange()">
                            <section ng-if="createAnn.data.description.length" class="float-ContentRight">{{createAnn.data.description.length}} / 1200</section>
                            <p class="createAnnErrorMsg"
                              ng-show='announcementForm.description.$error.maxlength'>Description is too long.
                            </p>
                        </div>
                    </div>

                    <div class="field form-group" ng-if="showUrlField">
                        <label>URL / WEB LINK</label>
                        <div class="field"  data-ng-repeat="weblink in repeatableWebLinks">
                          <div class="ui action input">
                            <input type="url" ng-model="createAnn.data.link[$index]"
                              name="link_{{$index}}" placeholder="Enter web url">
                            <i class="trash icon" ng-click="removeChoice(element)" value="Delete"></i>
                          </div>
                          <section ng-show="announcementForm['link_' + $index].$error.url"
                          class="createAnnErrorMsg">Not a valid URL</section>
                        </div>
                    </div>

                    <div class="field">
                      <span ng-click="addNewChoice()">
                        <i class="plus icon createAnnBlueClass cursor-pointer"></i>
                        <span ng-if="!showUrlField">
                          <span class="cursor-pointer createAnnBlueClass">Add URL/web link</span><span> (For example, you can link a Google Form)</span>
                        </span>
                        <span ng-if="showUrlField">
                          <span class="cursor-pointer createAnnBlueClass">Add Another URL/web link</span>
                        </span>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="four wide column createAnnAttchementHolder"
                ng-init="createAnn.initializeFileUploader()">
                <div class="field">
                  <label>UPLOAD ATTACHMENT</label>
                  <div fine-uploader></div>
                </div>
              </div>
            </div>
            <div ng-show="createAnn.showStepTwo">
              <div class="ui info message">
                <i class="close icon"></i>
                <div class="header">
                  Announcement Recipients coming soon...
                </div>
                <ul class="list">
                  <li>Recipients 1</li>
                  <li>Recipients 2</li>
                  <li>Recipients 3</li>
                  <li>Recipients 4</li>
                </ul>
              </div>
            </div>
            <div ng-show="createAnn.showStepThree" class="ui list ui grid">
              <div class="eight wide column">
                <div class="ui message">
                  <i class="close icon"></i>
                  <span class="createAnnSelectedRecepient">Recipients 1</span>
                </div>
                <div class="ui message fon">
                  <i class="close icon"></i>
                  <span class="createAnnSelectedRecepient">Recipients 2</span>
                </div>
                <div class="ui message">
                  <i class="close icon"></i>
                  <span class="createAnnSelectedRecepient">Recipients 3</span>
                </div>
              </div>
            </div>
            <div ng-show="createAnn.showStepFour" class="ui grid">
              <div class="box width-100 eight wide column" style="margin-left: 17px;">
                <announcement-details-directive announcement-details="createAnn.previewData"></announcement-details-directive>
              </div>
            </div>
          </form>
        </div>
      </div>
    <div class="actions">
      <button class="ui primary basic button announcementButton createAnnBackBtnWidth float-ContentLeft"
        id="annBackBtn"
        ng-if="!createAnn.showStepOne"
        ng-click="createAnn.previousStep($event.target);"
        data-current-state="{{createAnn.stepNumber}}">
        <span class="announcementButtonText">BACK</span>
      </button>
      <div class="ui primary button {{createAnn.desableBtns}}" ng-if="createAnn.showStepTwo" ng-click="createAnn.confirmRecipients();">CONFIRM RECIPIENTS</div>
      <div class="ui primary button {{createAnn.desableBtn}}" ng-if="createAnn.showStepThree" ng-click="createAnn.previewAnn();">PREVIEW ANNOUNCEMENT</div>
      <div class="ui primary button {{createAnn.desableBtn}}" ng-if="createAnn.showStepFour" ng-click="createAnn.saveAnnouncement();">SEND ANNOUNCEMENT</div>
      <div ng-if="createAnn.showStepOne" class="ui primary button {{createAnn.desableBtn}}"
       ng-click="createAnn.selectRecipients();">SELECT RECIPIENTS</div>
    </div>
  </div>

  <!-- Announcement created success modal -->
  <div class="ui modal small" id="announcementSuccessModal">
    <i class="close icon"></i>
      <div class=" ui segment margin-top-10">
        <div class="content">
          <div class="ui grid">
            <div class="ui centered grid">
              <div class="row">
                <i class="checkmark icon"></i>
              </div>
              <div class="row">
                <span class="dashBoardSectionHeading">Announcement sent!</span>
              </div>
              <div class="">
                <span class="createAnnGrayShade line-height-20">Your announcement has been sent to all your recipients. View all your announcements from the Announcement Dashboard </span>
              </div>
            </div><br/>
            <div class="row ui two column centered grid margin-top-20 actions">
              <button class="ui primary basic button announcementButton btn-width-34">
                <span class="announcementButtonText">GOT IT</span>
              </button>
            </div>
          </div>
        </div>
      </div>
  </div>