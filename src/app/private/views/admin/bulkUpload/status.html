<div class="ui large modal" id="statusBulkUpload" sb-permissions permission-only="SYSTEM_ADMINISTRATION,ORG_ADMIN" ng-if="admin.showStatusModal">
    <div class="header">
        <div class="ui grid">
            <div class="eleven wide column">
                <span class="ui header">{{$root.frmelmnts.lbl.chkuploadsts}}</span>
            </div>
            <div class="one wide column actions">
                <h5 class="ui basic icon circular button deny" ng-click="$root.generateInteractEvent('profile','','closeUploadStatus','1.0','closeUploadStatus','profile-upload-status')">
                    <i class="ui remove icon"></i>
                </h5>
            </div>
        </div>
    </div>
    <div class="content">
        <div ng-if="admin.loader.showLoader">
            <app-loader data="{{admin.loader}}"></app-loader>
        </div>
        <form class="ui form" id="statusForm" ng-if="!admin.loader.showLoader && !admin.bulkUploadStatus.processId">
            <h4>{{$root.frmelmnts.instn.t0011}}</h4>
            <div class="ui grid">
                <div class="six wide column">
                    <div class="field">
                        <label>{{$root.frmelmnts.lbl.processid}}</label>
                        <input type="text" placeholder="Process ID" ng-model="admin.processID">
                    </div>
                </div>
                <div class="three wide column">
                </div>
            </div>
        </form>
        <div ng-if="admin.bulkUploadStatus.processId">
            <div class="ui label">
                <h5>{{$root.frmelmnts.lbl.processid}}: {{admin.bulkUploadStatus.processId}}</h5>
            </div>
            <div ng-repeat="status  in ['success', 'failure']">
                <div class="margin-top-40 overflowContentHorizontal" ng-if="admin.bulkUploadStatus[status].length">
                    <h5 ng-if="status === 'success'">{{$root.frmelmnts.lbl.successres}}</h5>
                    <h5 ng-if="status === 'failure'">{{$root.frmelmnts.lbl.failres}}</h5>
                    <table class="ui celled padded table">
                        <thead ng-if="admin.bulkUploadStatus.objectType === 'user'">
                            <tr>
                                <th>{{$root.frmelmnts.lbl.firstName}}</th>
                                <th>{{$root.frmelmnts.lbl.lastName}}</th>
                                <th>{{$root.frmelmnts.lbl.userID}}</th>
                                <th>{{$root.frmelmnts.lbl.rootOrg}}</th>
                                <th>{{$root.frmelmnts.lbl.regOrg}}</th>
                                <th>{{$root.frmelmnts.lbl.countryCode}}</th>
                                <th>{{$root.frmelmnts.lbl.phone}}</th>
                                <th>{{$root.frmelmnts.lbl.email}}</th>
                                <th>{{$root.frmelmnts.lbl.password}}</th>
                                <th>{{$root.frmelmnts.lbl.provider}}</th>
                                <th>{{$root.frmelmnts.lbl.phoneVerfied}}</th>
                                <th>{{$root.frmelmnts.lbl.emailVerfied}}</th>
                                <th>{{$root.frmelmnts.lbl.roles}}</th>
                                <th>{{$root.frmelmnts.lbl.position}}</th>
                                <th>{{$root.frmelmnts.lbl.grade}}</th>
                                <th>{{$root.frmelmnts.lbl.location}}</th>
                                <th>{{$root.frmelmnts.lbl.dob}}</th>
                                <th>{{$root.frmelmnts.lbl.lang}}</th>
                                <th>{{$root.frmelmnts.lbl.subject}}</th>
                                <th ng-if="status === 'failure'">{{$root.frmelmnts.lbl.errorMessage}}</th>
                            </tr>
                        </thead>
                        <thead ng-if="admin.bulkUploadStatus.objectType === 'organisation'">
                            <tr>
                                <th>{{$root.frmelmnts.lbl.orgId}}</th>
                                <th>{{$root.frmelmnts.lbl.orgName}}</th>
                                <th>{{$root.frmelmnts.lbl.isRootOrg}}</th>
                                <th>{{$root.frmelmnts.lbl.channel}}</th>
                                <th>{{$root.frmelmnts.lbl.externalId}}</th>
                                <th>{{$root.frmelmnts.lbl.provider}}</th>
                                <th>{{$root.frmelmnts.lbl.description}}</th>
                                <th>{{$root.frmelmnts.lbl.homeUrl }}</th>
                                <th>{{$root.frmelmnts.lbl.orgCode }}</th>
                                <th>{{$root.frmelmnts.lbl.orgType}}</th>
                                <th>{{$root.frmelmnts.lbl.preferredLanguage}}</th>
                                <th>{{$root.frmelmnts.lbl.theme}}</th>
                                <th ng-if="status === 'failure'">{{$root.frmelmnts.lbl.errorMessage}}</th>
                            </tr>
                        </thead>
                        <tbody ng-if="admin.bulkUploadStatus.objectType === 'user'">
                            <tr ng-class="status === 'success' ? 'positive' : 'error'" ng-repeat="row in admin.bulkUploadStatus[status]">
                                <td>{{ row.firstName || "empty"}}</td>
                                <td>{{ row.lastName || "empty"}}</td>
                                <td>{{ row.userId || ""}}</td>
                                <td>{{ row.rootOrgId || ""}}</td>
                                <td>{{ row.regOrgId || ""}}</td>
                                <td>{{ row.countryCode || ""}}</td>
                                <td>{{ row.phone || "empty"}}</td>
                                <td>{{ row.email || "empty"}}</td>
                                <td>{{ row.password || "empty"}}</td>
                                <td>{{ row.provider || "empty"}}</td>
                                <td>{{ row.phoneVerified || "empty"}}</td>
                                <td>{{ row.emailVerified || "empty"}}</td>
                                <td>{{ row.roles || "empty"}}</td>
                                <td>{{ row.position || "empty"}}</td>
                                <td>{{ row.grade || "empty"}}</td>
                                <td>{{ row.location || "empty"}}</td>
                                <td>{{ row.dob || "empty"}}</td>
                                <td>{{ row.language || "empty"}}</td>
                                <td>{{ row.subject || "empty"}}</td>
                                <td ng-if="status === 'failure'">{{ row.err_msg || "empty"}}</td>
                        </tbody>
                        <tbody ng-if="admin.bulkUploadStatus.objectType === 'organisation'">
                            <tr ng-class="status === 'success' ? 'positive' : 'error'" ng-repeat="row in admin.bulkUploadStatus[status]">
                                <td>{{ row.id || "empty"}}</td>
                                <td>{{ row.orgName || "empty"}}</td>
                                <td>{{ row.isRootOrg || "empty"}}</td>
                                <td>{{ row.channel || ""}}</td>
                                <td>{{ row.externalId || ""}}</td>
                                <td>{{ row.provider || ""}}</td>
                                <td>{{ row.description || ""}}</td>
                                <td>{{ row.homeUrl || "empty"}}</td>
                                <td>{{ row.orgCode || "empty"}}</td>
                                <td>{{ row.orgType || "empty"}}</td>
                                <td>{{ row.preferredLanguage || "empty"}}</td>
                                <td>{{ row.theme || "empty"}}</td>
                                <td ng-if="status === 'failure'">{{ row.err_msg || "empty"}}</td>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <div class="ui grid">
            <div class="twelve wide column" ng-if="!admin.bulkUploadStatus.processId">
                <button ng-disabled="!admin.processID" sb-permissions permission-only="SYSTEM_ADMINISTRATION,ORG_ADMIN" class="ui primary left floated button"
                    ng-click="admin.getBulkUloadStatus(admin.processID); $root.generateInteractEvent('profile','','uploadStatus','1.0','uploadStatus','profile-upload-status')">
                    {{$root.frmelmnts.btn.chksts}}</button>
            </div>
        </div>
    </div>
</div>