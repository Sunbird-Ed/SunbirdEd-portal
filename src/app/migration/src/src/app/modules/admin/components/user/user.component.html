<sui-modal [isClosable]="true" [size]="'large'" (dismissed)="redirect()" #modal>
  <div class="header">
    <div class="ui grid">
      <div class="eleven wide column">
        <span class="ui header">{{resourceService?.frmelmnts?.instn?.t0016}}</span>
      </div>
    </div>
  </div>
  <div class="content">
    <div *ngIf="showLoader">
      <app-loader></app-loader>
    </div>
    <form *ngIf="!processId && !showLoader" class="ui form" id="bulkUsers" [formGroup]="uploadUserForm">
      <div class="ui grid" *ngIf="!processId">
        <div class="six wide column">
          <div class="required field">
            <label>{{resourceService?.frmelmnts?.lbl?.provider}}</label>
            <input class="form-control" formControlName="provider" type="text" placeholder="Provider" autofocus>
          </div>
        </div>
        <div class="six wide column">
          <div class="required field">
            <label>{{resourceService?.frmelmnts?.lbl?.extlid}}</label>
            <input class="form-control" formControlName="externalId" type="text" placeholder="External Id">
          </div>
        </div>
      </div>
      <div *ngIf="!processId" class="ui horizontal divider margin-top-40">
        Or
      </div>
      <div class="ui grid" *ngIf="!processId">
        <div class="six wide column">
          <div class="one field">
            <div class=" required field">
              <label>{{resourceService?.frmelmnts?.lbl?.orgid}}</label>
              <input class="form-control" formControlName="organisationId" type="text" placeholder="OrgId">
            </div>
          </div>
        </div>
      </div>

    </form>
    <div class="ui negative message" *ngIf="bulkUploadError">
      <i class="close icon" (click)="closeBulkUploadError()"></i>
      <p>{{bulkUploadErrorMessage}}</p>
    </div>
    <h5 *ngIf="fileName">
      <i class="file outline icon"></i>{{resourceService?.frmelmnts?.lbl?.upldfile}}: {{fileName}}
    </h5>
    <!-- show progress -->
    <div *ngIf="processId">
      <h5>{{resourceService?.frmelmnts?.lbl?.processid}}: {{processId}}</h5>
      <p>{{resourceService?.frmelmnts?.instn?.t0012}}</p>
    </div>
    <div *ngIf="!processId && !showLoader" class="ui horizontal divider margin-top-40">

    </div>
    <div *ngIf="!processId && !showLoader" class="ui info message">
      <!-- <i class="close icon"></i> -->
      <div class="header">
        {{resourceService?.frmelmnts?.scttl?.instructions}}
      </div>
      <ol class="ui list">
        <li>{{resourceService?.frmelmnts?.instn?.t0013}}</li>
        <li>{{resourceService?.frmelmnts?.instn?.t0001}}</li>
        <li>{{resourceService?.frmelmnts?.instn?.t0033}}
          <ol>
            <li>{{resourceService?.frmelmnts?.instn?.t0034}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0035}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0036}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0037}}</li>
          </ol>
        </li>
        <li>{{resourceService?.frmelmnts?.instn?.t0038}}
          <ol>
            <li>{{resourceService?.frmelmnts?.instn?.t0039}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0040}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0041}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0042}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0043}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0044}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0045}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0046}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0047}}</li>
            <li>{{resourceService?.frmelmnts?.instn?.t0048}}</li>
          </ol>
        </li>
      </ol>
    </div>
  </div>
  <div class="actions">
    <div class="ui grid">
      <div class="four wide column">
        <button class="ui left floated button" (click)="downloadSample()">{{resourceService?.frmelmnts?.btn?.smplcsv}}</button>
      </div>
      <div class="four wide column">
      </div>
      <div class="four wide column">
        <div>
          <button [disabled]="processId" class="ui primary right floated button" (click)="openImageBrowser(inputbtn)">
            {{resourceService?.frmelmnts?.btn?.uploadusrscsv}}
          </button>
        </div>
        <input #inputbtn type="file" style='display:none' accept=".csv" class="content-input ui small" id="uploadUsrsCSV" (change)="uploadUser($event.target.files)" required=""
        />
      </div>
    </div>
  </div>
</sui-modal>